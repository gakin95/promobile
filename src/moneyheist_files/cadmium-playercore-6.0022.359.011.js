j4tt.E38=function(Q38){return{T8D:function(){var r38,e38=arguments;switch(Q38){case 0:r38=e38[0]-e38[1];break;case 1:r38=e38[0]/-e38[1];break;}return r38;},R8D:function(T38){Q38=T38;}};}();j4tt.n8W=function (){return typeof j4tt.v8W.T8D==='function'?j4tt.v8W.T8D.apply(j4tt.v8W,arguments):j4tt.v8W.T8D;};j4tt.G19=function(M19){return{T8D:function(){var s19,J19=arguments;switch(M19){case 0:s19=(J19[0]-J19[1])*J19[2];break;}return s19;},R8D:function(T19){M19=T19;}};}();j4tt.N41=function (){return typeof j4tt.H41.T8D==='function'?j4tt.H41.T8D.apply(j4tt.H41,arguments):j4tt.H41.T8D;};j4tt.N4Y=function (){return typeof j4tt.l4Y.R8D==='function'?j4tt.l4Y.R8D.apply(j4tt.l4Y,arguments):j4tt.l4Y.R8D;};j4tt.w1t=function (){return typeof j4tt.A3t.R8D==='function'?j4tt.A3t.R8D.apply(j4tt.A3t,arguments):j4tt.A3t.R8D;};j4tt.A0I=function (){return typeof j4tt.g0I.T8D==='function'?j4tt.g0I.T8D.apply(j4tt.g0I,arguments):j4tt.g0I.T8D;};j4tt.j0I=function (){return typeof j4tt.g0I.T8D==='function'?j4tt.g0I.T8D.apply(j4tt.g0I,arguments):j4tt.g0I.T8D;};j4tt.B19=function (){return typeof j4tt.G19.R8D==='function'?j4tt.G19.R8D.apply(j4tt.G19,arguments):j4tt.G19.R8D;};j4tt.a91=function(S91){return{T8D:function(){var F91,s91=arguments;switch(S91){case 1:F91=void s91[0]!==s91[1];break;case 0:F91=s91[1]+s91[0];break;case 2:F91=s91[0]-s91[1];break;}return F91;},R8D:function(O91){S91=O91;}};}();j4tt.r41=function (){return typeof j4tt.H41.T8D==='function'?j4tt.H41.T8D.apply(j4tt.H41,arguments):j4tt.H41.T8D;};j4tt.j1t=function (){return typeof j4tt.A3t.R8D==='function'?j4tt.A3t.R8D.apply(j4tt.A3t,arguments):j4tt.A3t.R8D;};j4tt.A3t=function(D3t){return{T8D:function(){var O3t,S3t=arguments;switch(D3t){case 0:O3t=S3t[0]+S3t[1];break;case 1:O3t=S3t[1]*S3t[0]/S3t[2];break;}return O3t;},R8D:function(b3t){D3t=b3t;}};}();j4tt.v8W=function(N8W){return{T8D:function(){var z8W,J8W=arguments;switch(N8W){case 0:z8W=J8W[0]-J8W[1]+-J8W[2];break;}return z8W;},R8D:function(S8W){N8W=S8W;}};}();j4tt.b2o=function (){return typeof j4tt.L2o.R8D==='function'?j4tt.L2o.R8D.apply(j4tt.L2o,arguments):j4tt.L2o.R8D;};j4tt.q3W=function (){return typeof j4tt.i3W.R8D==='function'?j4tt.i3W.R8D.apply(j4tt.i3W,arguments):j4tt.i3W.R8D;};j4tt.M4Y=function (){return typeof j4tt.l4Y.T8D==='function'?j4tt.l4Y.T8D.apply(j4tt.l4Y,arguments):j4tt.l4Y.T8D;};j4tt.s41=function (){return typeof j4tt.H41.R8D==='function'?j4tt.H41.R8D.apply(j4tt.H41,arguments):j4tt.H41.R8D;};j4tt.k8V=function(e8V){return{T8D:function(){var i8V,Y8V=arguments;switch(e8V){case 2:i8V=Y8V[1]+Y8V[0];break;case 1:i8V=Y8V[1]-Y8V[0];break;case 0:i8V=Y8V[1]*Y8V[3]-Y8V[0]+-Y8V[2]+Y8V[4];break;}return i8V;},R8D:function(v8V){e8V=v8V;}};}();j4tt.z50=function (){return typeof j4tt.r50.T8D==='function'?j4tt.r50.T8D.apply(j4tt.r50,arguments):j4tt.r50.T8D;};j4tt.l4Y=function(T4Y){return{T8D:function(){var e4Y,v4Y=arguments;switch(T4Y){case 0:e4Y=v4Y[0]/v4Y[1];break;case 4:e4Y=v4Y[1]*v4Y[2]/v4Y[3]|v4Y[0];break;case 3:e4Y=v4Y[0]-v4Y[1];break;case 1:e4Y=v4Y[2]+v4Y[0]/v4Y[1]*v4Y[3];break;case 2:e4Y=(v4Y[2]/v4Y[3]|v4Y[0])*v4Y[1];break;case 5:e4Y=v4Y[1]/v4Y[0]|v4Y[2];break;}return e4Y;},R8D:function(f4Y){T4Y=f4Y;}};}();j4tt.d91=function (){return typeof j4tt.a91.R8D==='function'?j4tt.a91.R8D.apply(j4tt.a91,arguments):j4tt.a91.R8D;};j4tt.g0I=function(h0I){return{T8D:function(){var I0I,J0I=arguments;switch(h0I){case 0:I0I=J0I[0]-J0I[1];break;case 1:I0I=J0I[2]*(J0I[0]-J0I[3]+J0I[1])-J0I[4];break;}return I0I;},R8D:function(Z0I){h0I=Z0I;}};}();j4tt.m19=function (){return typeof j4tt.G19.T8D==='function'?j4tt.G19.T8D.apply(j4tt.G19,arguments):j4tt.G19.T8D;};j4tt.I8D=function (){return typeof j4tt.s8D.R8D==='function'?j4tt.s8D.R8D.apply(j4tt.s8D,arguments):j4tt.s8D.R8D;};j4tt.x6z=function (){return typeof j4tt.X6z.T8D==='function'?j4tt.X6z.T8D.apply(j4tt.X6z,arguments):j4tt.X6z.T8D;};j4tt.N2o=function (){return typeof j4tt.L2o.R8D==='function'?j4tt.L2o.R8D.apply(j4tt.L2o,arguments):j4tt.L2o.R8D;};j4tt.t8V=function (){return typeof j4tt.k8V.T8D==='function'?j4tt.k8V.T8D.apply(j4tt.k8V,arguments):j4tt.k8V.T8D;};j4tt.C50=function (){return typeof j4tt.r50.R8D==='function'?j4tt.r50.R8D.apply(j4tt.r50,arguments):j4tt.r50.R8D;};j4tt.y38=function (){return typeof j4tt.E38.R8D==='function'?j4tt.E38.R8D.apply(j4tt.E38,arguments):j4tt.E38.R8D;};j4tt.O0I=function (){return typeof j4tt.g0I.R8D==='function'?j4tt.g0I.R8D.apply(j4tt.g0I,arguments):j4tt.g0I.R8D;};j4tt.g19=function (){return typeof j4tt.G19.R8D==='function'?j4tt.G19.R8D.apply(j4tt.G19,arguments):j4tt.G19.R8D;};j4tt.P1L=function (){return typeof j4tt.v8W.R8D==='function'?j4tt.v8W.R8D.apply(j4tt.v8W,arguments):j4tt.v8W.R8D;};j4tt.u4Y=function (){return typeof j4tt.l4Y.R8D==='function'?j4tt.l4Y.R8D.apply(j4tt.l4Y,arguments):j4tt.l4Y.R8D;};j4tt.L91=function (){return typeof j4tt.a91.R8D==='function'?j4tt.a91.R8D.apply(j4tt.a91,arguments):j4tt.a91.R8D;};j4tt.H41=function(R41){return{T8D:function(){var X41,C41=arguments;switch(R41){case 0:X41=-C41[2]-C41[0]+C41[1];break;case 1:X41=C41[2]*C41[3]*C41[0]-C41[1]+C41[4];break;}return X41;},R8D:function(b41){R41=b41;}};}();j4tt.y1Z=function(r1Z){return{T8D:function(){var G1Z,f1Z=arguments;switch(r1Z){case 1:G1Z=f1Z[0]-f1Z[1];break;case 2:G1Z=(f1Z[1]/f1Z[2]+f1Z[3])*f1Z[0]-f1Z[4];break;case 0:G1Z=f1Z[0]*(f1Z[1]-f1Z[4])*f1Z[3]+f1Z[2];break;}return G1Z;},R8D:function(g1Z){r1Z=g1Z;}};}();j4tt.L8V=function (){return typeof j4tt.k8V.R8D==='function'?j4tt.k8V.R8D.apply(j4tt.k8V,arguments):j4tt.k8V.R8D;};j4tt.r1L=function (){return typeof j4tt.v8W.T8D==='function'?j4tt.v8W.T8D.apply(j4tt.v8W,arguments):j4tt.v8W.T8D;};j4tt.I3W=function (){return typeof j4tt.i3W.T8D==='function'?j4tt.i3W.T8D.apply(j4tt.i3W,arguments):j4tt.i3W.T8D;};j4tt.X6z=function(Q5z){return{T8D:function(){var n5z,y5z=arguments;switch(Q5z){case 2:n5z=y5z[3]+y5z[2]+y5z[0]+y5z[4]+y5z[1];break;case 0:n5z=y5z[2]+y5z[0]+y5z[1];break;case 1:n5z=y5z[0]+y5z[1];break;}return n5z;},R8D:function(V5z){Q5z=V5z;}};}();j4tt.E41=function (){return typeof j4tt.H41.R8D==='function'?j4tt.H41.R8D.apply(j4tt.H41,arguments):j4tt.H41.R8D;};j4tt.c50=function (){return typeof j4tt.r50.R8D==='function'?j4tt.r50.R8D.apply(j4tt.r50,arguments):j4tt.r50.R8D;};j4tt.g6z=function (){return typeof j4tt.X6z.T8D==='function'?j4tt.X6z.T8D.apply(j4tt.X6z,arguments):j4tt.X6z.T8D;};j4tt.z1t=function (){return typeof j4tt.A3t.T8D==='function'?j4tt.A3t.T8D.apply(j4tt.A3t,arguments):j4tt.A3t.T8D;};j4tt.z91=function (){return typeof j4tt.a91.T8D==='function'?j4tt.a91.T8D.apply(j4tt.a91,arguments):j4tt.a91.T8D;};j4tt.w3W=function (){return typeof j4tt.i3W.T8D==='function'?j4tt.i3W.T8D.apply(j4tt.i3W,arguments):j4tt.i3W.T8D;};j4tt.l1Z=function (){return typeof j4tt.y1Z.T8D==='function'?j4tt.y1Z.T8D.apply(j4tt.y1Z,arguments):j4tt.y1Z.T8D;};j4tt.c19=function (){return typeof j4tt.G19.T8D==='function'?j4tt.G19.T8D.apply(j4tt.G19,arguments):j4tt.G19.T8D;};j4tt.R3W=function (){return typeof j4tt.i3W.R8D==='function'?j4tt.i3W.R8D.apply(j4tt.i3W,arguments):j4tt.i3W.R8D;};j4tt.G3t=function (){return typeof j4tt.A3t.T8D==='function'?j4tt.A3t.T8D.apply(j4tt.A3t,arguments):j4tt.A3t.T8D;};j4tt.b38=function (){return typeof j4tt.E38.T8D==='function'?j4tt.E38.T8D.apply(j4tt.E38,arguments):j4tt.E38.T8D;};j4tt.s8D=function(f8D){return{T8D:function(){var E8D,N8D=arguments;switch(f8D){case 0:E8D=N8D[1]+N8D[0];break;case 2:E8D=N8D[2]+N8D[0]-N8D[1];break;case 3:E8D=N8D[1]===N8D[0];break;case 1:E8D=N8D[0]-N8D[1];break;}return E8D;},R8D:function(c8D){f8D=c8D;}};}();j4tt.i50=function (){return typeof j4tt.r50.T8D==='function'?j4tt.r50.T8D.apply(j4tt.r50,arguments):j4tt.r50.T8D;};j4tt.N91=function (){return typeof j4tt.a91.T8D==='function'?j4tt.a91.T8D.apply(j4tt.a91,arguments):j4tt.a91.T8D;};function j4tt(){}j4tt.t38=function (){return typeof j4tt.E38.R8D==='function'?j4tt.E38.R8D.apply(j4tt.E38,arguments):j4tt.E38.R8D;};j4tt.g8V=function (){return typeof j4tt.k8V.R8D==='function'?j4tt.k8V.R8D.apply(j4tt.k8V,arguments):j4tt.k8V.R8D;};j4tt.i1L=function (){return typeof j4tt.v8W.R8D==='function'?j4tt.v8W.R8D.apply(j4tt.v8W,arguments):j4tt.v8W.R8D;};j4tt.j6z=function (){return typeof j4tt.X6z.R8D==='function'?j4tt.X6z.R8D.apply(j4tt.X6z,arguments):j4tt.X6z.R8D;};j4tt.e1Z=function (){return typeof j4tt.y1Z.T8D==='function'?j4tt.y1Z.T8D.apply(j4tt.y1Z,arguments):j4tt.y1Z.T8D;};j4tt.B8V=function (){return typeof j4tt.k8V.T8D==='function'?j4tt.k8V.T8D.apply(j4tt.k8V,arguments):j4tt.k8V.T8D;};j4tt.n8D=function (){return typeof j4tt.s8D.R8D==='function'?j4tt.s8D.R8D.apply(j4tt.s8D,arguments):j4tt.s8D.R8D;};j4tt.m1Z=function (){return typeof j4tt.y1Z.R8D==='function'?j4tt.y1Z.R8D.apply(j4tt.y1Z,arguments):j4tt.y1Z.R8D;};j4tt.e0I=function (){return typeof j4tt.g0I.R8D==='function'?j4tt.g0I.R8D.apply(j4tt.g0I,arguments):j4tt.g0I.R8D;};j4tt.i3W=function(t3W){return{T8D:function(){var j3W,U3W=arguments;switch(t3W){case 1:j3W=U3W[0]>=U3W[1];break;case 2:j3W=U3W[0]<U3W[1];break;case 0:j3W=U3W[1]<=U3W[0];break;case 3:j3W=U3W[1]+U3W[0];break;}return j3W;},R8D:function(X3W){t3W=X3W;}};}();j4tt.r50=function(T50){return{T8D:function(){var X50,s50=arguments;switch(T50){case 0:X50=s50[0]-s50[1];break;}return X50;},R8D:function(G50){T50=G50;}};}();j4tt.v6z=function (){return typeof j4tt.X6z.R8D==='function'?j4tt.X6z.R8D.apply(j4tt.X6z,arguments):j4tt.X6z.R8D;};j4tt.j8D=function (){return typeof j4tt.s8D.T8D==='function'?j4tt.s8D.T8D.apply(j4tt.s8D,arguments):j4tt.s8D.T8D;};j4tt.S2o=function (){return typeof j4tt.L2o.T8D==='function'?j4tt.L2o.T8D.apply(j4tt.L2o,arguments):j4tt.L2o.T8D;};j4tt.r2o=function (){return typeof j4tt.L2o.T8D==='function'?j4tt.L2o.T8D.apply(j4tt.L2o,arguments):j4tt.L2o.T8D;};j4tt.L2o=function(t6o){return{T8D:function(){var n2o,O2o=arguments;switch(t6o){case 0:n2o=O2o[1]+O2o[0];break;}return n2o;},R8D:function(E2o){t6o=E2o;}};}();j4tt.H4Y=function (){return typeof j4tt.l4Y.T8D==='function'?j4tt.l4Y.T8D.apply(j4tt.l4Y,arguments):j4tt.l4Y.T8D;};j4tt.q1Z=function (){return typeof j4tt.y1Z.R8D==='function'?j4tt.y1Z.R8D.apply(j4tt.y1Z,arguments):j4tt.y1Z.R8D;};j4tt.b8D=function (){return typeof j4tt.s8D.T8D==='function'?j4tt.s8D.T8D.apply(j4tt.s8D,arguments):j4tt.s8D.T8D;};j4tt.w38=function (){return typeof j4tt.E38.T8D==='function'?j4tt.E38.T8D.apply(j4tt.E38,arguments):j4tt.E38.T8D;};(function(){(function(M,la){var vb,Eb,Ra,uc,pa,va,cb,Ed,Fd,La,Ma,Ob,Gd,vc,Hd,Id,Uc,l,na,hc,Jd,Vc,G,P,ha,xb,lb,Xa,ea,db,Qa,Qb,Ha,Da,Ja,fb,wc,yb,sb,tb,xc,Wc,Kd,Hb,Ib,Rb,Xc,Xb,zb,yc,Nb,Yc,Ld,Yb,Zc,$c,ad,bd,Ab,cd,dd,ed,$b,Bb,Cb,ac,zc,Ac,Bc,kb,Oe,Pa,Pb,Md,Cc,ob,Nd,Pe,ub,Od,Pd,Dc,Qd,Qe,gc,Rd,Ne,Re,fd,Ec,Se,Te,Bd,Ue,Cd,Sd,mb,ic,Td,jc,Ud,pb,Vd,gd,Wd,id,Fc,Xd,We,Dd,Gc,Tc,Yd,Ve,Zd,jd,$d,ae,be,kd,Mb,de,ce,Xe,kc,ee,md,lc,fe,ld,ge,he,nd,je,ke,Jc,Ub,bc,Vb,le,me,ne,oe,pe,qe,Kc,Ye,re,se,pd,te,jb,Sb,Zb,Tb,Kb,Db,Hc,eb,Gb,ie,mc,Wb,ue,Ze,nc,ve,$e,cc,we,Lc,qd,oc,rd,xe,pc,ye,ze,Ae,af,qc,Be,bf,cf,Ce,od,Ic,De,Me,Ee,df,ff,ef,dc,tc,gf,Ad,hf,Fe;function Va(h,l){if(!l||"utf-8"===l)return Nc(h);throw Error("unsupported encoding");}function Ta(h,l){if(!l||"utf-8"===l)return Oc(h);throw Error("unsupported encoding");}function Nc(h){for(var l=0,n,Na=h.length,G="";l<Na;){n=h[l++];if(n&128)if(192===(n&224))n=((n&31)<<6)+(h[l++]&63);else if(224===(n&240))n=((n&15)<<12)+((h[l++]&63)<<6)+(h[l++]&63);else throw Error("unsupported character");G+=String.fromCharCode(n);}return G;}function Oc(h){var l,n,Na,G,r;l=h.length;n=0;G=0;for(Na=l;Na--;)r=h.charCodeAt(Na),128>r?n++:n=2048>r?n+2:n+3;n=new Uint8Array(n);for(Na=0;Na<l;Na++)r=h.charCodeAt(Na),128>r?n[G++]=r:(2048>r?n[G++]=192|r>>>6:(n[G++]=224|r>>>12,n[G++]=128|r>>>6&63),n[G++]=128|r&63);return n;}function bb(h,n){if(h===n)return!0;if(!h||!n||h.length!=n.length)return!1;for(var l=0;l<h.length;++l)if(h[l]!=n[l])return!1;return!0;}function hb(h){var r;if(!(h&&h.constructor==Uint8Array||Array.isArray(h)))throw new TypeError("Cannot compute the hash code of "+h);for(var n=1,l=0;l<h.length;++l){r=h[l];if("number"!==typeof r)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+r);n=31*n+r&4294967295;}return n;}function vd(h,n){var Aa;if(h===n)return!0;if(!h||!n)return!1;n instanceof Array||(n=[n]);for(var l=0;l<n.length;++l){for(var r=n[l],G=!1,Lb=0;Lb<h.length;++Lb){Aa=h[Lb];if(r.equals&&"function"===typeof r.equals&&r.equals(Aa)||r==Aa){G=!0;break;}}if(!G)return!1;}return!0;}function wd(h,n){return vd(h,n)&&(h.length==n.length||vd(n,h));}function n(h,n,l){var r,G;l&&(r=l);if("object"!==typeof h||"function"!==typeof h.result||"function"!==typeof h.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{G=n.call(r,h);G!==la&&h.result(G);}catch(Pc){try{h.error(Pc);}catch(Aa){}}}function r(h,l,r){if("object"!==typeof h||"function"!==typeof h.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");n(h,l,r);}function h(h,n,l){1E5>h&&(h=1E5+h);Object.defineProperties(this,{internalCode:{value:h,writable:!1,configurable:!1},responseCode:{value:n,writable:!1,configurable:!1},message:{value:l,writable:!1,configurable:!1}});}function Qc(h){switch(h){case Pa.PSK:case Pa.MGK:return!0;default:return!1;}}function xd(h){switch(h){case Pa.PSK:case Pa.MGK:case Pa.X509:case Pa.RSA:case Pa.NPTICKET:case Pa.ECC:return!0;default:return!1;}}function Je(h){return h.toJSON();}function yd(n,l){tc?l.result(tc):Promise.resolve().then(function(){return Ja.getKeyByName(n);})["catch"](function(){return Ja.generateKey({name:n},!1,["wrapKey","unwrapKey"]);}).then(function(h){tc=h;l.result(tc);})["catch"](function(n){l.error(new G(h.INTERNAL_EXCEPTION,"Unable to get system key"));});}function zd(h,n){var l,r,G;l=n.masterToken;r=n.userIdToken;G=n.serviceTokens;return{NccpMethod:h.method,UserId:h.userId,UT:r&&r.serialNumber,MT:l&&l.serialNumber+":"+l.sequenceNumber,STCount:G&&G.length};}function Ke(h){return h.uniqueKey();}function Le(r,M,rb,Na,sc){var Ia;function Lb(h,L){h.errorCode===l.ENTITY_REAUTH||h.errorCode===l.ENTITYDATA_REAUTH?(Na.clearCryptoContexts(),Ua()):h.errorCode!==l.USER_REAUTH&&h.errorCode!==l.USERDATA_REAUTH||Aa(L);}function Aa(h){if(h=Na.getUserIdToken(h))Na.removeUserIdToken(h),Ua();}function Y(h,L,H){var w;w=[];(function E(){h.read(-1,L,{result:function(h){n(H,function(){var v,F,J,H,L;if(h)w.push(h),E();else switch(w.length){case 0:return new Uint8Array(0);case 1:return w[0];default:H=w.length,L=0;for(F=v=0;F<H;F++)v+=w[F].length;v=new Uint8Array(v);for(F=0;F<H;F++)J=w[F],v.set(J,L),L+=J.length;return v;}});},timeout:function(){H.timeout();},error:function(h){H.error(h);}});}());}function Ua(){Na.getStoreState({result:function(h){for(var L=Ia.slice(),H=0;H<L.length;H++)L[H]({storeState:h});},timeout:function(){r.error("Timeout getting store state",""+e);},error:function(h){r.error("Error getting store state",""+h);}});}Ia=[];this.addEventHandler=function(h,L){switch(h){case"shouldpersist":Ia.push(L);}};this.send=function(n){return new Promise(function(L,H){var w,x,E;w=n.timeout;x=new Ad(r,rb,n,Na.getKeyRequestData());E=new Bd(n.url);r.trace("Sending MSL request");M.request(rb,x,E,w,{result:function(x){var v;x&&x.getMessageHeader();r.trace("Received MSL response",{Method:n.method});if(x){n.allowTokenRefresh&&Ua();v=x.getErrorHeader();v?(Lb(v,n.userId),H({success:!1,error:v})):Y(x,w,{result:function(h){L({success:!0,body:Va(h)});},timeout:function(){H({success:!1,subCode:sc.MSL_READ_TIMEOUT});},error:function(h){H({success:!1,error:h});}});}else H({success:!1,error:new G(h.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){H({success:!1,subCode:sc.MSL_REQUEST_TIMEOUT});},error:function(h){H({success:!1,error:h});}});});};this.hasUserIdToken=function(h){return!!Na.getUserIdToken(h);};this.getUserIdTokenKeys=function(){return Na.getUserIdTokenKeys();};this.removeUserIdToken=Aa;this.clearUserIdTokens=function(){Na.clearUserIdTokens();Ua();};this.isErrorReauth=function(h){return h&&h.errorCode==l.USERDATA_REAUTH;};this.isErrorHeader=function(h){return h instanceof Mb;};this.getErrorCode=function(h){return h&&h.errorCode;};this.getStateForMdx=function(h){var L,H;L=Na.getMasterToken();h=Na.getUserIdToken(h);H=Na.getCryptoContext(L);return{masterToken:L,userIdToken:h,cryptoContext:H};};this.buildPlayDataRequest=function(h,L){var H;H=new Cd();M.request(rb,new Ad(r,rb,h),H,h.timeout,{result:function(){L.result(H.getRequest());},error:function(){L.result(H.getRequest());},timeout:function(){L.timeout();}});};this.rekeyUserIdToken=function(h,L){Na.rekeyUserIdToken(h,L);Ua();};this.getServiceTokens=function(h){var L;L=Na.getMasterToken();(h=Na.getUserIdToken(h))&&!h.isBoundTo(L)&&(h=la);return Na.getServiceTokens(L,h);};this.removeServiceToken=function(h){var L;L=Na.getMasterToken();Na.getServiceTokens(L).find(function(H){return H.name===h;})&&(Na.removeServiceTokens(h,L),Ua());};}function Rc(n,l,r,Na,M,P){function Aa(l){var Y;return Promise.resolve().then(function(){Y=n.authenticationKeyNames[l];if(!Y)throw new G(h.KEY_IMPORT_ERROR,"Invalid config keyName "+l);return Ja.getKeyByName(Y);}).then(function(n){return new Promise(function(l,L){Xb(n,{result:l,error:function(){L(new G(h.KEY_IMPORT_ERROR,"Unable to create "+Y+" CipherKey"));}});});})["catch"](function(n){throw new G(h.KEY_IMPORT_ERROR,"Unable to import "+Y,n);});}return Promise.resolve().then(function(){if(!Ja.getKeyByName)throw new G(h.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([Aa("e"),Aa("h"),Aa("w")]);}).then(function(h){var Y,Ia,Ka;Y={};Y[l]=new r(n.esn,h[0],h[1],h[2]);h=new Na(n.esn);Ia=new Me();Ia=[new M(Ia)];Ka=new P(l);return{entityAuthFactories:Y,entityAuthData:h,keyExchangeFactories:Ia,keyRequestData:Ka};});}function Sc(n,l,r){var rb;function Na(){return Promise.resolve().then(function(){return Ja.generateKey(l,!1,["wrapKey","unwrapKey"]);}).then(function(h){return M(h.publicKey,h.privateKey);});}function M(n,l){return Promise.all([new Promise(function(l,Y){Nb(n,{result:l,error:function(n){Y(new G(h.INTERNAL_EXCEPTION,"Unable to create keyx public key",n));}});}),new Promise(function(n,Y){Yb(l,{result:n,error:function(n){Y(new G(h.INTERNAL_EXCEPTION,"Unable to create keyx private key",n));}});})]).then(function(h){h=new Tc("rsaKeypairId",r,h[0],h[1]);rb&&(h.storeData={keyxPublicKey:n,keyxPrivateKey:l});return h;});}rb=!n.systemKeyWrapFormat;return Promise.resolve().then(function(){var h,l;h=n.storeState;l=h&&h.keyxPublicKey;h=h&&h.keyxPrivateKey;return rb&&l&&h?M(l,h):Na();}).then(function(h){var l,Ua,Ia;l={};l[Pa.NONE]=new Ne();Ua=new gc(n.esn);Ia=[new Dd()];return{entityAuthFactories:l,entityAuthData:Ua,keyExchangeFactories:Ia,keyRequestData:h,createKeyRequestData:rb?Na:la};});}Eb=M.nfCrypto||M.msCrypto||M.webkitCrypto||M.crypto;Ra=Eb&&(Eb.webkitSubtle||Eb.subtle);uc=M.nfCryptokeys||M.msCryptokeys||M.webkitCryptokeys||M.cryptokeys;(function(h){var n,l;n=function(){function h(h,l){h instanceof n?(this.abv=h.abv,this.position=h.position):(this.abv=h,this.position=l||0);}h.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(h){this.abv[this.position++]=h;},peekByte:function(h){return this.abv[h];},copyBytes:function(h,l,n){var Y;Y=new Uint8Array(this.abv.buffer,this.position,n);h=new Uint8Array(h.buffer,l,n);Y.set(h);this.position+=n;},seek:function(h){this.position=h;},skip:function(h){this.position+=h;},getPosition:function(){return this.position;},setPosition:function(h){this.position=h;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return h;}();l={};(function(){var J,v,F,Ba,aa,za,xa,Z,qa;function h(z,v){var w;v.writeByte(z.tagClass<<6|z.constructed<<5|z.tag);w=z.payloadLen;if(128>w)v.writeByte(w);else{for(var F=w,x=0;F;)++x,F>>=8;v.writeByte(128|x);for(F=0;F<x;++F)v.writeByte(w>>8*(x-F-1)&255);}if(z.child)for(z.tag==J.BIT_STRING&&v.writeByte(0),w=z._child;w;){if(!h(w,v))return!1;w=w.next;}else switch(z.tag){case J.INTEGER:z.backingStore[z.dataIdx]>>7&&v.writeByte(0);v.copyBytes(z.backingStore,z.dataIdx,z.dataLen);break;case J.BIT_STRING:v.writeByte(0);v.copyBytes(z.backingStore,z.dataIdx,z.dataLen);break;case J.OCTET_STRING:v.copyBytes(z.backingStore,z.dataIdx,z.dataLen);break;case J.OBJECT_IDENTIFIER:v.copyBytes(z.backingStore,z.dataIdx,z.dataLen);}return!0;}function r(h){var z,v;z=h.readByte();v=z&127;if(v==z)return v;if(3<v||0===v)return-1;for(var w=z=0;w<v;++w)z=z<<8|h.readByte();return z;}function G(h,w,F){var z,x,H,X,E,ja,L;z=h.backingStore;x=new n(z,w);w+=F;F=h;if(8<aa++)return la;for(;x.getPosition()<w;){x.getPosition();E=x.readByte();if(31==(E&31)){for(X=0;E&128;)X<<=8,X|=E&127;E=X;}H=E;X=H&31;if(0>X||30<X)return la;E=r(x);if(0>E||E>x.getRemaining())return la;F.constructed=H&32;F.tagClass=(H&192)>>6;F.tag=X;F.dataLen=E;F.dataIdx=x.getPosition();X=x;ja=H;H=E;if(ja&32)X=!0;else if(ja<J.BIT_STRING||ja>J.OCTET_STRING)X=!1;else{L=new n(X);ja==J.BIT_STRING&&L.skip(1);L.readByte()>>6&1?X=!1:(ja=r(L),X=L.getPosition()-X.getPosition()+ja==H);}X&&(X=x.getPosition(),H=E,F.tag==J.BIT_STRING&&(F.dataIdx++,F.dataLen--,X++,H--),F.child=new v(z,F),G(F.child,X,H));F.tag==J.INTEGER&&(X=x.getPosition(),0==x.peekByte(X)&&x.peekByte(X+1)>>7&&(F.dataIdx++,F.dataLen--));x.skip(E);x.getPosition()<w&&(F.next=new v(z,F.parent),F=F.next);}aa--;return h;}function M(h,v,w){if(9!=w)return!1;for(w=0;9>w;++w)if(h[v++]!=za[w])return!1;return!0;}function Y(h){var v;if(!(h&&h.child&&h.child.next&&h.child.child&&h.child.next.child))return!1;v=h.child.child;return M(v.backingStore,v.dataIdx,v.dataLen)&&2==h.nChildren&&2==h.child.nChildren&&2==h.child.next.child.nChildren?!0:!1;}function Ua(h){var v;if(!(h&&h.child&&h.child.next&&h.child.next.child&&h.child.next.next&&h.child.next.next.child))return!1;v=h.child.next.child;return M(v.backingStore,v.dataIdx,v.dataLen)&&3==h.nChildren&&2==h.child.next.nChildren&&9==h.child.next.next.child.nChildren?!0:!1;}function Ia(h){var v,z;v=F.createSequenceNode();z=new Ba(v);z.addChild(F.createSequenceNode());z.addChild(F.createOidNode(za));z.addSibling(F.createNullNode());z.addToParent(v,F.createBitStringNode(null));z.addChild(F.createSequenceNode());z.addChild(F.createIntegerNode(h.n));z.addSibling(F.createIntegerNode(h.e));return v;}function Ka(h){var v;h=h.child.next.child.child;v=h.data;h=h.next;return new xa(v,h.data,null,null);}function L(h){var v,z;v=F.createSequenceNode();z=new Ba(v);z.addChild(F.createIntegerNode(new Uint8Array([0])));z.addSibling(F.createSequenceNode());z.addChild(F.createOidNode(za));z.addSibling(F.createNullNode());z.addToParent(v,F.createOctetStringNode(null));z.addChild(F.createSequenceNode());z.addChild(F.createIntegerNode(new Uint8Array([0])));z.addSibling(F.createIntegerNode(h.n));z.addSibling(F.createIntegerNode(h.e));z.addSibling(F.createIntegerNode(h.d));z.addSibling(F.createIntegerNode(h.p));z.addSibling(F.createIntegerNode(h.q));z.addSibling(F.createIntegerNode(h.dp));z.addSibling(F.createIntegerNode(h.dq));z.addSibling(F.createIntegerNode(h.qi));return v;}function H(h){var v;v=[];h=h.child.next.next.child.child.next;for(var z=0;8>z;z++)v.push(h.data),h=h.next;return new Z(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7]);}function w(h,v,w,F){if(!(h instanceof xa||h instanceof Z))return la;if(w)for(var z=0;z<w.length;++z)if(-1==qa.indexOf(w[z]))return la;v={kty:"RSA",alg:v,key_ops:w||[],ext:F==la?!1:F,n:pa(h.n,!0),e:pa(h.e,!0)};h instanceof Z&&(v.d=pa(h.d,!0),v.p=pa(h.p,!0),v.q=pa(h.q,!0),v.dp=pa(h.dp,!0),v.dq=pa(h.dq,!0),v.qi=pa(h.qi,!0));return v;}function x(h){var v,w,z,F,x,H,J,E,aa,L;if(!h.kty||"RSA"!=h.kty||!h.n||!h.e)return la;v="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(h.alg&&-1==v.indexOf(h.alg))return la;v=[];h.use?"enc"==h.use?v=["encrypt","decrypt","wrap","unwrap"]:"sig"==h.use&&(v=["sign","verify"]):v=h.key_ops;w=h.ext;z=va(h.n,!0);F=va(h.e,!0);if(h.d){x=va(h.d,!0);H=va(h.p,!0);J=va(h.q,!0);E=va(h.dp,!0);aa=va(h.dq,!0);L=va(h.qi,!0);return new Z(z,F,x,H,J,E,aa,L,h.alg,v,w);}return new xa(z,F,w,v);}function E(h,v,w,F){this.der=h;this.type=v;this.keyOps=w;this.extractable=F;}J={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};v=function(h,v,w,F,x,H){this._data=h;this._parent=v||la;this._constructed=w||!1;this._tagClass=0;this._tag=F||0;this._dataIdx=x||0;this._dataLen=H||0;};v.prototype={_child:la,_next:la,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(h){this._constructed=0!=h?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(h){this._tagClass=h;},get tag(){return this._tag;},set tag(h){this._tag=h;},get dataIdx(){return this._dataIdx;},set dataIdx(h){this._dataIdx=h;},get dataLen(){return this._dataLen;},set dataLen(h){this._dataLen=h;},get child(){return this._child;},set child(h){this._child=h;this._child.parent=this;},get next(){return this._next;},set next(h){this._next=h;},get parent(){return this._parent;},set parent(h){this._parent=h;},get payloadLen(){var h;h=0;if(this._child){for(var v=this._child;v;)h+=v.length,v=v.next;this._tag==J.BIT_STRING&&h++;}else switch(this._tag){case J.INTEGER:h=this._dataLen;this._data[this._dataIdx]>>7&&h++;break;case J.BIT_STRING:h=this._dataLen+1;break;case J.OCTET_STRING:h=this._dataLen;break;case J.NULL:h=0;break;case J.OBJECT_IDENTIFIER:M(this._data,this._dataIdx,this._dataLen)&&(h=9);}return h;},get length(){var h,v;h=this.payloadLen;if(127<h)for(v=h;v;)v>>=8,++h;return h+2;},get der(){var v,w;v=this.length;if(!v)return la;v=new Uint8Array(v);w=new n(v);return h(this,w)?v:la;},get nChildren(){for(var h=0,v=this._child;v;)h++,v=v.next;return h;}};F={createSequenceNode:function(){return new v(null,null,!0,J.SEQUENCE,null,null);},createOidNode:function(h){return new v(h,null,!1,J.OBJECT_IDENTIFIER,0,h?h.length:0);},createNullNode:function(){return new v(null,null,!1,J.NULL,null,null);},createBitStringNode:function(h){return new v(h,null,!1,J.BIT_STRING,0,h?h.length:0);},createIntegerNode:function(h){return new v(h,null,!1,J.INTEGER,0,h?h.length:0);},createOctetStringNode:function(h){return new v(h,null,!1,J.OCTET_STRING,0,h?h.length:0);}};Ba=function(h){this._currentNode=this._rootNode=h;};Ba.prototype={addChild:function(h){this.addTo(this._currentNode,h);},addSibling:function(h){this.addTo(this._currentNode.parent,h);},addTo:function(h,v){this._currentNode=v;this._currentNode.parent=h;if(h.child){for(var w=h.child;w.next;)w=w.next;w.next=v;}else h.child=v;},addToParent:function(h,v){this.findNode(h)&&this.addTo(h,v);},findNode:function(h){for(var v=this._currentNode;v;){if(h==v)return!0;v=v.parent;}return!1;}};aa=0;za=new Uint8Array([42,134,72,134,247,13,1,1,1]);xa=function(h,v,w,F){this.n=h;this.e=v;this.ext=w;this.keyOps=F;};Z=function(h,v,w,F,x,H,J,E,ja,aa,L){this.n=h;this.e=v;this.d=w;this.p=F;this.q=x;this.dp=H;this.dq=J;this.qi=E;this.alg=ja;this.keyOps=aa;this.ext=L;};qa="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");E.prototype.getDer=function(){return this.der;};E.prototype.getType=function(){return this.type;};E.prototype.getKeyOps=function(){return this.keyOps;};E.prototype.getExtractable=function(){return this.extractable;};l.parse=function(h){aa=0;return G(new v(h),0,h.length);};l.show=function(h,v){};l.isRsaSpki=Y;l.isRsaPkcs8=Ua;l.NodeFactory=F;l.Builder=Ba;l.tagVal=J;l.RsaPublicKey=xa;l.RsaPrivateKey=Z;l.buildRsaSpki=Ia;l.parseRsaSpki=function(h){h=l.parse(h);return Y?Ka(h):la;};l.buildRsaPkcs8=L;l.parseRsaPkcs8=function(h){h=l.parse(h);return Ua(h)?H(h):la;};l.buildRsaJwk=w;l.parseRsaJwk=x;l.RsaDer=E;l.rsaDerToJwk=function(h,v,F,x){h=l.parse(h);if(!h)return la;if(Y(h))h=Ka(h);else if(Ua(h))h=H(h);else return la;return w(h,v,F,x);};l.jwkToRsaDer=function(h){var v,w;h=x(h);if(!h)return la;if(h instanceof xa)v="spki",w=Ia(h).der;else if(h instanceof Z)v="pkcs8",w=L(h).der;else return la;return new E(w,v,h.keyOps,h.ext);};l.webCryptoAlgorithmToJwkAlg=function(h){return"RSAES-PKCS1-v1_5"==h.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==h.name?"SHA-256"==h.hash.name?"RS256":"SHA-384"==h.hash.name?"RS384":"SHA-512"==h.hash.name?"RS512":la:la;};l.webCryptoUsageToJwkKeyOps=function(h){return h.map(function(h){return"wrapKey"==h?"wrap":"unwrapKey"==h?"unwrap":h;});};}());h.ASN1=l;}(M));(function(){for(var h={},l={},n={"=":0,".":0},r={"=":0,".":0},G=/\s+/g,M=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,Aa=64;Aa--;)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]]=262144*Aa,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]]=4096*Aa,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]]=64*Aa,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]]=Aa;for(Aa=64;Aa--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa];)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa]]=262144*Aa,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa]]=4096*Aa,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa]]=64*Aa,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa]]=Aa;pa=function(h,l){for(var n="",Y=0,L=h.length,H=L-2,w,x=l?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=l?"":"=";Y<H;)w=65536*h[Y++]+256*h[Y++]+h[Y++],n+=x[w>>>18]+x[w>>>12&63]+x[w>>>6&63]+x[w&63];Y==H?(w=65536*h[Y++]+256*h[Y++],n+=x[w>>>18]+x[w>>>12&63]+x[w>>>6&63]+E):Y==L-1&&(w=65536*h[Y++],n+=x[w>>>18]+x[w>>>12&63]+E+E);return n;};va=function(Y,Ua){var Ia;Y=Y.replace(G,"");if(Ua){Ia=Y.length%4;if(Ia)for(var Ia=4-Ia,Ka=0;Ka<Ia;++Ka)Y+="=";}Ia=Y.length;if(0!=Ia%4||!M.test(Y))throw Error("bad base64: "+Y);for(var L=Ia/4*3-("="==Y[Ia-1]?1:0)-("="==Y[Ia-2]?1:0),H=new Uint8Array(L),w=0,x=0;w<Ia;)Ka=h[Y[w++]]+l[Y[w++]]+n[Y[w++]]+r[Y[w++]],H[x++]=Ka>>>16,x<L&&(H[x++]=Ka>>>8&255,x<L&&(H[x++]=Ka&255));return H;};}());cb={};(function(){var M,Aa,Y,Ia;function h(l){if(!(this instanceof h))return new h(l);for(var L=0,H=Aa.length;L<H;L++)this[Aa[L]]="";this.bufferCheckPosition=cb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=l||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Y.BEGIN;this.stack=new M();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;n(this,"onready");}function n(h,L,H){if(h[L])h[L](H);}function l(h,L){var H,w;H=h.opt;w=h.textNode;H.trim&&(w=w.trim());H.normalize&&(w=w.replace(/\s+/g," "));h.textNode=w;h.textNode&&n(h,L?L:"onvalue",h.textNode);h.textNode="";}function r(h,L){l(h);L+="\nLine: "+h.line+"\nColumn: "+h.column+"\nChar: "+h.c;L=Error(L);h.error=L;n(h,"onerror",L);return h;}function G(Ka){Ka.state!==Y.VALUE&&r(Ka,"Unexpected end");l(Ka);Ka.c="";Ka.closed=!0;n(Ka,"onend");h.call(Ka,Ka.opt);return Ka;}M=Array;cb.parser=function(n){return new h(n);};cb.CParser=h;cb.MAX_BUFFER_LENGTH=65536;cb.DEBUG=!1;cb.INFO=!1;cb.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");Aa=["textNode","numberNode"];cb.EVENTS.filter(function(h){return"error"!==h&&"end"!==h;});Y=0;cb.STATE={BEGIN:Y++,VALUE:Y++,OPEN_OBJECT:Y++,CLOSE_OBJECT:Y++,OPEN_ARRAY:Y++,CLOSE_ARRAY:Y++,TEXT_ESCAPE:Y++,STRING:Y++,BACKSLASH:Y++,END:Y++,OPEN_KEY:Y++,CLOSE_KEY:Y++,TRUE:Y++,TRUE2:Y++,TRUE3:Y++,FALSE:Y++,FALSE2:Y++,FALSE3:Y++,FALSE4:Y++,NULL:Y++,NULL2:Y++,NULL3:Y++,NUMBER_DECIMAL_POINT:Y++,NUMBER_DIGIT:Y++};for(var Ua in cb.STATE)cb.STATE[cb.STATE[Ua]]=Ua;Y=cb.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(h){return h.__proto__;});Ia=/[\\"\n]/g;h.prototype={end:function(){G(this);},write:function(h){var w,x,E;if(this.error)throw this.error;if(this.closed)return r(this,"Cannot write after close. Assign an onready handler.");if(null===h)return G(this);for(var L=h[0],H;L;){H=L;this.c=L=h.charAt(this.index++);H!==L?this.p=H:H=this.p;if(!L)break;this.position++;"\n"===L?(this.line++,this.column=0):this.column++;switch(this.state){case Y.BEGIN:"{"===L?this.state=Y.OPEN_OBJECT:"["===L?this.state=Y.OPEN_ARRAY:"\r"!==L&&"\n"!==L&&" "!==L&&"\t"!==L&&r(this,"Non-whitespace before {[.");continue;case Y.OPEN_KEY:case Y.OPEN_OBJECT:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;if(this.state===Y.OPEN_KEY)this.stack.push(Y.CLOSE_KEY);else if("}"===L){n(this,"onopenobject");n(this,"oncloseobject");this.state=this.stack.pop()||Y.VALUE;continue;}else this.stack.push(Y.CLOSE_OBJECT);'"'===L?this.state=Y.STRING:r(this,'Malformed object key should start with "');continue;case Y.CLOSE_KEY:case Y.CLOSE_OBJECT:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;":"===L?(this.state===Y.CLOSE_OBJECT?(this.stack.push(Y.CLOSE_OBJECT),l(this,"onopenobject")):l(this,"onkey"),this.state=Y.VALUE):"}"===L?(l(this),n(this,"oncloseobject",void 0),this.state=this.stack.pop()||Y.VALUE):","===L?(this.state===Y.CLOSE_OBJECT&&this.stack.push(Y.CLOSE_OBJECT),l(this),this.state=Y.OPEN_KEY):r(this,"Bad object");continue;case Y.OPEN_ARRAY:case Y.VALUE:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;if(this.state===Y.OPEN_ARRAY)if(n(this,"onopenarray"),this.state=Y.VALUE,"]"===L){n(this,"onclosearray");this.state=this.stack.pop()||Y.VALUE;continue;}else this.stack.push(Y.CLOSE_ARRAY);'"'===L?this.state=Y.STRING:"{"===L?this.state=Y.OPEN_OBJECT:"["===L?this.state=Y.OPEN_ARRAY:"t"===L?this.state=Y.TRUE:"f"===L?this.state=Y.FALSE:"n"===L?this.state=Y.NULL:"-"===L?this.numberNode+=L:"0"===L?(this.numberNode+=L,this.state=Y.NUMBER_DIGIT):-1!=="123456789".indexOf(L)?(this.numberNode+=L,this.state=Y.NUMBER_DIGIT):r(this,"Bad value");continue;case Y.CLOSE_ARRAY:if(","===L)this.stack.push(Y.CLOSE_ARRAY),l(this,"onvalue"),this.state=Y.VALUE;else if("]"===L)l(this),n(this,"onclosearray",void 0),this.state=this.stack.pop()||Y.VALUE;else if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;else r(this,"Bad array");continue;case Y.STRING:H=this.index-1;w=this.slashed,x=this.unicodeI;a:for(;;){if(cb.DEBUG)for(;0<x;)if(this.unicodeS+=L,L=h.charAt(this.index++),4===x?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),x=0,H=this.index-1):x++,!L)break a;if('"'===L&&!w){this.state=this.stack.pop()||Y.VALUE;(this.textNode+=h.substring(H,this.index-1))||n(this,"onvalue","");break;}if("\\"===L&&!w&&(w=!0,this.textNode+=h.substring(H,this.index-1),L=h.charAt(this.index++),!L))break;if(w)if(w=!1,"n"===L?this.textNode+="\n":"r"===L?this.textNode+="\r":"t"===L?this.textNode+="\t":"f"===L?this.textNode+="\f":"b"===L?this.textNode+="\b":"u"===L?(x=1,this.unicodeS=""):this.textNode+=L,L=h.charAt(this.index++),H=this.index-1,L)continue;else break;Ia.lastIndex=this.index;E=Ia.exec(h);if(null===E){this.index=h.length+1;this.textNode+=h.substring(H,this.index-1);break;}this.index=E.index+1;L=h.charAt(E.index);if(!L){this.textNode+=h.substring(H,this.index-1);break;}}this.slashed=w;this.unicodeI=x;continue;case Y.TRUE:if(""===L)continue;"r"===L?this.state=Y.TRUE2:r(this,"Invalid true started with t"+L);continue;case Y.TRUE2:if(""===L)continue;"u"===L?this.state=Y.TRUE3:r(this,"Invalid true started with tr"+L);continue;case Y.TRUE3:if(""===L)continue;"e"===L?(n(this,"onvalue",!0),this.state=this.stack.pop()||Y.VALUE):r(this,"Invalid true started with tru"+L);continue;case Y.FALSE:if(""===L)continue;"a"===L?this.state=Y.FALSE2:r(this,"Invalid false started with f"+L);continue;case Y.FALSE2:if(""===L)continue;"l"===L?this.state=Y.FALSE3:r(this,"Invalid false started with fa"+L);continue;case Y.FALSE3:if(""===L)continue;"s"===L?this.state=Y.FALSE4:r(this,"Invalid false started with fal"+L);continue;case Y.FALSE4:if(""===L)continue;"e"===L?(n(this,"onvalue",!1),this.state=this.stack.pop()||Y.VALUE):r(this,"Invalid false started with fals"+L);continue;case Y.NULL:if(""===L)continue;"u"===L?this.state=Y.NULL2:r(this,"Invalid null started with n"+L);continue;case Y.NULL2:if(""===L)continue;"l"===L?this.state=Y.NULL3:r(this,"Invalid null started with nu"+L);continue;case Y.NULL3:if(""===L)continue;"l"===L?(n(this,"onvalue",null),this.state=this.stack.pop()||Y.VALUE):r(this,"Invalid null started with nul"+L);continue;case Y.NUMBER_DECIMAL_POINT:"."===L?(this.numberNode+=L,this.state=Y.NUMBER_DIGIT):r(this,"Leading zero not followed by .");continue;case Y.NUMBER_DIGIT:-1!=="0123456789".indexOf(L)?this.numberNode+=L:"."===L?(-1!==this.numberNode.indexOf(".")&&r(this,"Invalid number has two dots"),this.numberNode+=L):"e"===L||"E"===L?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||r(this,"Invalid number has two exponential"),this.numberNode+=L):"+"===L||"-"===L?("e"!==H&&"E"!==H&&r(this,"Invalid symbol in number"),this.numberNode+=L):(this.numberNode&&n(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||Y.VALUE);continue;default:r(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){h=Math.max(cb.MAX_BUFFER_LENGTH,10);H=L=0;for(w=Aa.length;H<w;H++){x=this[Aa[H]].length;if(x>h)switch(Aa[H]){case"text":break;default:r(this,"Max buffer length exceeded: "+Aa[H]);}L=Math.max(L,x);}this.bufferCheckPosition=cb.MAX_BUFFER_LENGTH-L+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var r;function h(h,n){n||(n=h.length);return h.reduce(function(h,l,Y){return Y<n?h+String.fromCharCode(l):h;},"");}for(var n={},l=0;256>l;++l){r=h([l]);n[r]=l;}for(var G=Object.keys(n).length,M=[],l=0;256>l;++l)M[l]=[l];Ed=function(l,Y){var v,F;function r(h,v){var F;for(;0<v;){if(x>=w.length)return!1;if(v>E){F=h;F=F>>>v-E;w[x]|=F&255;v-=E;E=8;++x;}else v<=E&&(F=h,F<<=E-v,F&=255,F>>>=8-E,w[x]|=F&255,E-=v,v=0,0==E&&(E=8,++x));}return!0;}for(var Ia in n)Y[Ia]=n[Ia];for(var Ka=G,L=[],H=8,w=new Uint8Array(l.length),x=0,E=8,J=0;J<l.length;++J){v=l[J];L.push(v);Ia=h(L);F=Y[Ia];if(!F){L=h(L,L.length-1);if(!r(Y[L],H))return null;0!=Ka>>H&&++H;Y[Ia]=Ka++;L=[v];}}return 0<L.length&&(Ia=h(L),F=Y[Ia],!r(F,H))?null:w.subarray(0,8>E?x+1:x);};Fd=function(h){var J,v,E,r;for(var l=M.slice(),n=0,r=0,Ka=8,L=new Uint8Array(Math.ceil(1.5*h.length)),H=0,w,x=[];n<h.length&&!(8*(h.length-n)-r<Ka);){for(var E=w=0;E<Ka;){J=Math.min(Ka-E,8-r);v=h[n];v=v<<r;v=v&255;v=v>>>8-J;E=E+J;r=r+J;8==r&&(r=0,++n);w|=(v&255)<<Ka-E;}E=l[w];0==x.length?++Ka:(E?x.push(E[0]):x.push(x[0]),l[l.length]=x,x=[],l.length==1<<Ka&&++Ka,E||(E=l[w]));w=H+E.length;w>=L.length&&(J=new Uint8Array(Math.ceil(1.5*w)),J.set(L),L=J);L.set(E,H);H=w;x=x.concat(E);}return L.subarray(0,H);};}());(function(){var h,n,r;La="utf-8";Ma=9007199254740992;h=Ob={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Ob);Gd=function(n){for(var l=[h.GZIP,h.LZW],r=0;r<l.length&&0<n.length;++r)for(var G=l[r],Y=0;Y<n.length;++Y)if(n[Y]==G)return G;return null;};n=vc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(vc);Hd=function(h){return n.AES_CBC_PKCS5Padding==h?n.AES_CBC_PKCS5Padding:n.RSA_ECB_PKCS1Padding==h?n.RSA_ECB_PKCS1Padding:n[h];};r=Id={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Id);Uc=function(h){return r[h];};l={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(l);}());na={isObjectLiteral:function(h){return null!==h&&"object"===typeof h&&h.constructor===Object;},extendDeep:function(){var h,n,l,r,G,M,Aa,Y;h=arguments[0];n=1;l=arguments.length;r=!1;"boolean"===typeof h&&(r=h,h=arguments[1],n=2);for(;n<l;n++)if(null!=(G=arguments[n]))for(M in G)r&&M in h||(Y=G[M],h!==Y&&Y!==la&&(Aa=h[M],h[M]=null!==Aa&&null!==Y&&"object"===typeof Aa&&"object"===typeof Y?na.extendDeep(r,{},Aa,Y):Y));return h;}};(function(){var Aa,Y;function h(h,n){return function(){var l,L;l=h.base;h.base=n;L=h.apply(this,arguments);h.base=l;return L;};}function n(n,l,r){var L,H,w,x;r=r||Y;x=!!r.extendAll;for(L in l)H=l.__lookupGetter__(L),w=l.__lookupSetter__(L),H||w?(H&&n.__defineGetter__(L,H),w&&n.__defineSetter__(L,w)):(H=l[L],w=n[L],"function"===typeof H&&"function"===typeof w&&H!==w?(H.base!==Function.prototype.base&&(H=h(H,w)),H.base=w):(x||r[L])&&na.isObjectLiteral(H)&&na.isObjectLiteral(w)&&(H=na.extendDeep({},w,H)),n[L]=H);}function l(){var h,n;h=Array.prototype.slice;n=h.call(arguments,1);return this.extend({init:function L(){var H;H=h.call(arguments,0);L.base.apply(this,n.concat(H));}});}function r(h,l){var Y;Y=new this(Aa);n(Y,h,l);return M(Y);}function G(h,l){n(this.prototype,h,l);return this;}function M(h){var n;n=function(){var h;h=this.init;h&&arguments[0]!==Aa&&h.apply(this,arguments);};h&&(n.prototype=h);n.prototype.constructor=n;n.extend=r;n.bind=l;n.mixin=G;return n;}Aa={};Y={actions:!0};Function.prototype.base=function(){};na.Class={create:M,mixin:n,extend:function(h,n){var l;l=M();l.prototype=new h();return l.extend(n);}};na.mixin=function(){na.log&&na.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){var Aa,Y,Ua;function h(h,n){return function(){var l,H;l=h.base;h.base=n;H=h.apply(this,arguments);h.base=l;return H;};}function n(n,l,L){var H,w,x,E;L=L||Y;E=!!L.extendAll;for(H in l)w=l.__lookupGetter__(H),x=l.__lookupSetter__(H),w||x?(w&&n.__defineGetter__(H,w),x&&n.__defineSetter__(H,x)):(w=l[H],x=n[H],"function"===typeof w&&"function"===typeof x&&w!==x?(w.base!==Ua&&(w=h(w,x)),w.base=x):(E||L[H])&&na.isObjectLiteral(w)&&na.isObjectLiteral(x)&&(w=na.extendDeep({},x,w)),n[H]=w);}function l(){var h,n;h=Array.prototype.slice;n=h.call(arguments,1);return this.extend({init:function H(){var w;w=h.call(arguments,0);H.base.apply(this,n.concat(w));}});}function r(h,l){var L;L=new this(Aa);n(L,h,l);return M(L);}function G(h,l){n(this.prototype,h,l);return this;}function M(h){var n;n=function(){var h;h=this.init;h&&arguments[0]!==Aa&&h.apply(this,arguments);};h&&(n.prototype=h);n.prototype.constructor=n;n.extend=r;n.bind=l;n.mixin=G;return n;}Aa={};Y={actions:!0};Ua=function(){};Function.prototype.base=Ua;na.Class={create:M,mixin:n,extend:function(h,n){var l;l=M();l.prototype=new h();return l.extend(n);}};na.mixin=function(){na.log&&na.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){function h(h){return h==Ma?1:h+1;}function n(n){if(0===Object.keys(n._waiters).length)return 0;for(var l=h(n._nextWaiter);!n._waiters[l];)l=h(l);return l;}hc=na.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var l;if(this._waiters[h]){l=this._waiters[h];delete this._waiters[h];h==this._nextWaiter&&(this._nextWaiter=n(this));l.call(this,la);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(l,G){var M,P;M=this;P=h(this._lastWaiter);this._lastWaiter=P;r(G,function(){var h,Y;if(0<this._queue.length){h=this._queue.shift();setTimeout(function(){G.result(h);},0);}else{-1!=l&&(Y=setTimeout(function(){delete M._waiters[P];P==M._nextWaiter&&(M._nextWaiter=n(M));G.timeout();},l));this._waiters[P]=function(h){clearTimeout(Y);setTimeout(function(){G.result(h);},0);};this._nextWaiter||(this._nextWaiter=P);}},M);return P;},add:function(h){var l;if(this._nextWaiter){l=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=n(this);l.call(this,h);}else this._queue.push(h);}});}());(function(){var h;h=0-Ma;Jd=na.Class.create({nextBoolean:function(){var h;h=new Uint8Array(1);Eb.getRandomValues(h);return h[0]&1?!0:!1;},nextInt:function(h){var n;if(null!==h&&h!==la){if("number"!==typeof h)throw new TypeError("n must be of type number");if(1>h)throw new RangeError("n must be greater than zero");--h;n=new Uint8Array(4);Eb.getRandomValues(n);return Math.floor(((n[3]&127)<<24|n[2]<<16|n[1]<<8|n[0])/2147483648*(h-0+1)+0);}h=new Uint8Array(4);Eb.getRandomValues(h);n=(h[3]&127)<<24|h[2]<<16|h[1]<<8|h[0];return h[3]&128?-n:n;},nextLong:function(){var l,n;for(var n=h;n==h;){n=new Uint8Array(7);Eb.getRandomValues(n);l=16777216*((n[6]&31)<<24|n[5]<<16|n[4]<<8|n[3])+(n[2]<<16|n[1]<<8|n[0]);n=n[6]&128?-l-1:l;}return n;},nextBytes:function(h){Eb.getRandomValues(h);}});}());(function(){function h(h){return h==Ma?1:h+1;}function n(n){if(0===Object.keys(n._waitingReaders).length)return 0;for(var l=h(n._nextReader);!n._waitingReaders[l];)l=h(l);return l;}function l(n){if(0===Object.keys(n._waitingWriters).length)return 0;for(var l=h(n._nextWriter);!n._waitingWriters[l];)l=h(l);return l;}Vc=na.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var r;if(this._waitingReaders[h]){r=this._waitingReaders[h];delete this._waitingReaders[h];h==this._nextReader&&(this._nextReader=n(this));r.call(this,!0);}this._waitingWriters[h]&&(r=this._waitingWriters[h],delete this._waitingWriters[h],h==this._nextWriter&&(this._nextWriter=l(this)),r.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(l,G){var M,P;M=this;P=h(this._lastNumber);this._lastNumber=P;r(G,function(){var h;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[P]=!0,P;-1!=l&&(h=setTimeout(function(){delete M._waitingReaders[P];P==M._nextReader&&(M._nextReader=n(M));G.timeout();},l));this._waitingReaders[P]=function(n){clearTimeout(h);n?setTimeout(function(){G.result(la);},0):(M._readers[P]=!0,setTimeout(function(){G.result(P);},0));};this._nextReader||(this._nextReader=P);},M);return P;},writeLock:function(n,G){var M,P;M=this;P=h(this._lastNumber);this._lastNumber=P;r(G,function(){var h;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=P;-1!=n&&(h=setTimeout(function(){delete M._waitingWriters[P];P==M._nextWriter&&(M._nextWriter=l(M));G.timeout();},n));this._waitingWriters[P]=function(n){clearTimeout(h);n?setTimeout(function(){G.result(la);},0):(M._writer=P,setTimeout(function(){G.result(P);},0));};this._nextWriter||(this._nextWriter=P);},M);return P;},unlock:function(n){if(n==this._writer)this._writer=null;else{if(!this._readers[n])throw new ea("There is no reader or writer with ticket number "+n+".");delete this._readers[n];}if(this._nextWriter)0<Object.keys(this._readers).length||(n=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=l(this),n.call(this,!1));else{for(var r=this._nextReader;0<Object.keys(this._waitingReaders).length;r=h(r))this._waitingReaders[r]&&(n=this._waitingReaders[r],delete this._waitingReaders[r],n.call(this,!1));this._nextReader=0;}}});}());na.Class.mixin(h,{JSON_PARSE_ERROR:new h(0,l.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new h(1,l.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new h(2,l.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new h(3,l.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new h(4,l.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new h(5,l.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new h(6,l.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new h(7,l.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new h(8,l.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new h(9,l.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new h(10,l.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new h(11,l.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new h(12,l.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new h(13,l.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new h(14,l.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new h(15,l.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new h(16,l.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new h(17,l.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new h(18,l.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new h(19,l.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new h(20,l.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new h(21,l.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new h(22,l.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new h(23,l.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new h(24,l.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new h(25,l.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new h(26,l.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new h(27,l.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new h(28,l.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new h(29,l.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new h(30,l.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new h(31,l.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new h(32,l.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new h(33,l.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new h(34,l.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new h(35,l.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new h(36,l.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new h(37,l.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new h(38,l.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new h(39,l.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new h(40,l.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new h(41,l.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new h(42,l.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new h(43,l.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new h(44,l.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new h(45,l.FAIL,"Error exporting key."),DIGEST_ERROR:new h(46,l.FAIL,"Error in digest."),UNSUPPORTED_KEY:new h(47,l.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new h(48,l.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new h(49,l.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new h(50,l.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new h(51,l.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new h(52,l.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new h(53,l.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new h(54,l.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new h(55,l.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new h(56,l.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new h(57,l.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new h(58,l.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new h(59,l.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new h(60,l.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new h(61,l.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new h(62,l.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new h(1E3,l.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new h(1001,l.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new h(1002,l.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new h(1003,l.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(1004,l.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(1005,l.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new h(1006,l.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new h(1007,l.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new h(1008,l.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new h(1009,l.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new h(1010,l.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new h(1011,l.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new h(1012,l.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new h(1013,l.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new h(1014,l.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new h(2E3,l.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new h(2001,l.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new h(2002,l.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new h(2003,l.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new h(2004,l.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new h(2005,l.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2006,l.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2007,l.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new h(2008,l.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new h(2009,l.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new h(2010,l.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new h(2011,l.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new h(2012,l.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new h(2013,l.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new h(2014,l.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new h(2015,l.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new h(2016,l.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new h(2017,l.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new h(2018,l.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new h(2019,l.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new h(2020,l.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new h(3E3,l.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new h(3001,l.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new h(3002,l.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new h(3003,l.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new h(3004,l.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3005,l.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3006,l.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new h(3007,l.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new h(3008,l.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new h(3009,l.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new h(4E3,l.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new h(4001,l.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new h(4002,l.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new h(4003,l.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new h(4004,l.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new h(4005,l.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new h(4006,l.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new h(4007,l.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new h(4008,l.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new h(4009,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new h(4010,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new h(4011,l.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new h(4012,l.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new h(4013,l.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new h(4014,l.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new h(4015,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new h(4016,l.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new h(4017,l.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new h(4018,l.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new h(4019,l.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new h(4020,l.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new h(4021,l.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new h(4022,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new h(4023,l.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new h(4024,l.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new h(4025,l.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new h(4026,l.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new h(5E3,l.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new h(5001,l.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new h(5002,l.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new h(5003,l.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new h(5004,l.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new h(5005,l.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new h(5006,l.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new h(5007,l.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new h(5008,l.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new h(5009,l.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new h(5010,l.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new h(5011,l.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new h(5012,l.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new h(5013,l.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new h(5014,l.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new h(5015,l.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new h(5016,l.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new h(5017,l.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new h(5018,l.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new h(5019,l.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new h(5020,l.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new h(5021,l.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new h(5022,l.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new h(5023,l.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new h(5024,l.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new h(5025,l.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new h(5026,l.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new h(5027,l.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new h(5028,l.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new h(5029,l.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new h(5030,l.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new h(5031,l.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new h(5032,l.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new h(5033,l.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new h(5034,l.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new h(5035,l.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new h(5036,l.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new h(5037,l.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new h(5038,l.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new h(5039,l.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new h(5040,l.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new h(6E3,l.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new h(6001,l.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new h(6002,l.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new h(6003,l.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new h(6004,l.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new h(6005,l.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new h(6006,l.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new h(6007,l.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new h(6008,l.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new h(6009,l.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new h(6010,l.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new h(6011,l.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new h(6012,l.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new h(6013,l.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new h(6014,l.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new h(6015,l.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new h(6016,l.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new h(6017,l.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new h(6018,l.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(6019,l.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new h(6020,l.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new h(6021,l.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new h(6022,l.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new h(6023,l.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new h(6024,l.FAIL,"Invalid header data."),PAYLOAD_INVALID:new h(6025,l.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new h(6026,l.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new h(6027,l.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new h(6028,l.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new h(6029,l.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new h(6030,l.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new h(6031,l.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new h(6032,l.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new h(6033,l.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new h(6034,l.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new h(6035,l.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new h(6036,l.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new h(6037,l.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new h(7E3,l.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new h(7001,l.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new h(7002,l.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new h(7003,l.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new h(7004,l.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new h(7005,l.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new h(7006,l.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new h(7007,l.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new h(7008,l.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new h(7009,l.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new h(7010,l.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new h(7011,l.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new h(7012,l.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new h(7013,l.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new h(7014,l.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new h(7015,l.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new h(7016,l.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new h(8E3,l.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new h(8001,l.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new h(8002,l.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new h(8003,l.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new h(8004,l.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new h(8005,l.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new h(8006,l.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new h(8007,l.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new h(8008,l.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new h(8009,l.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new h(8010,l.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new h(8011,l.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new h(8012,l.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new h(9E3,l.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new h(9001,l.FAIL,"Error communicating with MSL entity."),NONE:new h(9999,l.FAIL,"Special unit test error.")});Object.freeze(h);(function(){G=na.Class.create(Error());G.mixin({init:function(h,n,l){var M,P,ea;function r(){return P?P:this.cause&&this.cause instanceof G?this.cause.messageId:la;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);M=h.message;n&&(M+=" ["+n+"]");ea=this.stack;Object.defineProperties(this,{message:{value:M,writable:!1,configurable:!0},error:{value:h,writable:!1,configurable:!0},cause:{value:l,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:r,set:function(h){if(0>h||h>Ma)throw new RangeError("Message ID "+h+" is outside the valid range.");r()||(P=h);},configurable:!0},stack:{get:function(){var h;h=this.toString();ea&&(h+="\n"+ea);l&&l.stack&&(h+="\nCaused by "+l.stack);return h;},configurable:!0}});},setEntity:function(h){!h||this.masterToken||this.entityAuthenticationData||(h instanceof jb?this.masterToken=h:h instanceof Pb&&(this.entityAuthenticationData=h));return this;},setUser:function(h){!h||this.userIdToken||this.userAuthenticationData||(h instanceof Zb?this.userIdToken=h:h instanceof Gb&&(this.userAuthenticationData=h));return this;},setMessageId:function(h){this.messageId=h;return this;},toString:function(){return this.name+": "+this.message;}});}());P=G.extend({init:function Lb(h,n,l){Lb.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ha=G.extend({init:function rb(h,n,l){rb.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});xb=G.extend({init:function Na(h,n,l){Na.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){lb=na.Class.create(Error());lb.mixin({init:function(h,n,l){var r;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);r=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},requestCause:{value:l,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();r&&(h+="\n"+r);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Xa=na.Class.create(Error());Xa.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){ea=na.Class.create(Error());ea.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){db=na.Class.create(Error());db.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Qa=G.extend({init:function sc(h,n,l){sc.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Qb=G.extend({init:function Pc(h,n){Pc.base.call(this,h);Object.defineProperties(this,{masterToken:{value:n,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ha=G.extend({init:function Aa(h,n,l){Aa.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Da=G.extend({init:function Y(h,n,l){Y.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var L;function h(h){return"undefined"===typeof h?!1:h;}function n(h){return h&&h.length?(fb===L.V2014_02&&(h=h.map(function(h){return"wrap"==h?"wrapKey":"unwrap"==h?"unwrapKey":h;})),h):fb===L.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function l(h,w,n,l,J){return Promise.resolve().then(function(){return Ra.importKey(h,w,n,l,J);})["catch"](function(v){var F;if("spki"!==h&&"pkcs8"!==h)throw v;v=ASN1.webCryptoAlgorithmToJwkAlg(n);F=ASN1.webCryptoUsageToJwkKeyOps(J);v=ASN1.rsaDerToJwk(w,v,F,l);if(!v)throw Error("Could not make valid JWK from DER input");v=JSON.stringify(v);return Ra.importKey("jwk",Oc(v),n,l,J);});}function r(h,w){return Promise.resolve().then(function(){return Ra.exportKey(h,w);})["catch"](function(n){if("spki"!==h&&"pkcs8"!==h)throw n;return Ra.exportKey("jwk",w).then(function(h){h=JSON.parse(Nc(new Uint8Array(h)));h=ASN1.jwkToRsaDer(h);if(!h)throw Error("Could not make valid DER from JWK input");return h.getDer().buffer;});});}L=wc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(wc);fb=L.LATEST;Ja={encrypt:function(h,w,n){switch(fb){case L.LEGACY:return new Promise(function(x,l){var v;v=Ra.encrypt(h,w,n);v.oncomplete=function(h){x(h.target.result);};v.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Ra.encrypt(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(h,w,n){switch(fb){case L.LEGACY:return new Promise(function(x,l){var v;v=Ra.decrypt(h,w,n);v.oncomplete=function(h){x(h.target.result);};v.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Ra.decrypt(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(h,w,n){switch(fb){case L.LEGACY:return new Promise(function(x,l){var v;v=Ra.sign(h,w,n);v.oncomplete=function(h){x(h.target.result);};v.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Ra.sign(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(h,w,n,l){switch(fb){case L.LEGACY:return new Promise(function(x,v){var F;F=Ra.verify(h,w,n,l);F.oncomplete=function(h){x(h.target.result);};F.onerror=function(h){v(h);};});case L.V2014_01:case L.V2014_02:return Ra.verify(h,w,n,l);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(h,w){switch(fb){case L.LEGACY:return new Promise(function(n,l){var x;x=Ra.digest(h,w);x.oncomplete=function(h){n(h.target.result);};x.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Ra.digest(h,w).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(l,w,x){var H,J;H=h(w);J=n(x);switch(fb){case L.LEGACY:return new Promise(function(h,w){var v;v=Ra.generateKey(l,H,J);v.oncomplete=function(v){h(v.target.result);};v.onerror=function(h){w(h);};});case L.V2014_01:case L.V2014_02:return Ra.generateKey(l,H,J);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(l,w,x,E,J){var v,F;v=h(E);F=n(J);switch(fb){case L.LEGACY:return new Promise(function(h,n){var J;J=Ra.deriveKey(l,w,x,v,F);J.oncomplete=function(v){h(v.target.result);};J.onerror=function(h){n(h);};});case L.V2014_01:case L.V2014_02:return Ra.deriveKey(l,w,x,v,F);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(H,w,x,E,J){var v,F;v=h(E);F=n(J);switch(fb){case L.LEGACY:return new Promise(function(h,n){var l;l=Ra.importKey(H,w,x,v,F);l.oncomplete=function(v){h(v.target.result);};l.onerror=function(h){n(h);};});case L.V2014_01:case L.V2014_02:return l(H,w,x,v,F);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(h,w){switch(fb){case L.LEGACY:return new Promise(function(n,l){var x;x=Ra.exportKey(h,w);x.oncomplete=function(h){n(h.target.result);};x.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return r(h,w).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(h,w,n,l){switch(fb){case L.LEGACY:return new Promise(function(h,v){var F;F=Ra.wrapKey(w,n,l);F.oncomplete=function(v){h(v.target.result);};F.onerror=function(h){v(h);};});case L.V2014_01:case L.V2014_02:return Ra.wrapKey(h,w,n,l).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(l,w,x,E,J,v,F){switch(fb){case L.LEGACY:return new Promise(function(h,v){var n;n=Ra.unwrapKey(w,J,x);n.oncomplete=function(v){h(v.target.result);};n.onerror=function(h){v(h);};});case L.V2014_01:case L.V2014_02:return Ra.unwrapKey(l,w,x,E,J,h(v),n(F));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};uc&&uc.getKeyByName&&(Ja.getKeyByName=function(h){switch(fb){case L.LEGACY:return new Promise(function(w,n){var x;x=uc.getKeyByName(h);x.oncomplete=function(h){w(h.target.result);};x.onerror=function(h){n(h);};});case L.V2014_01:case L.V2014_02:return uc.getKeyByName(h);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});M.netflix=M.netflix||{};M.netflix.crypto=Ja;}());yb={name:"AES-KW"};sb={name:"AES-CBC"};tb={name:"HMAC",hash:{name:"SHA-256"}};xc={name:"RSA-OAEP",hash:{name:"SHA-1"}};Wc={name:"RSAES-PKCS1-v1_5"};Kd={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Hb=["encrypt","decrypt"];Ib=["wrap","unwrap"];Rb=["sign","verify"];(function(){Xc=na.Class.create({init:function(l,r,G){var L;function Y(h){n(r,function(){var w;w=h?pa(h):la;Object.defineProperties(L,{rawKey:{value:l,writable:!1,configurable:!1},keyData:{value:h,writable:!1,configurable:!1},keyDataB64:{value:w,writable:!1,configurable:!1}});return this;},L);}L=this;n(r,function(){if(!l||"object"!=typeof l)throw new P(h.INVALID_SYMMETRIC_KEY);!G&&l.extractable?Ja.exportKey("raw",l).then(function(h){Y(new Uint8Array(h));},function(n){r.error(new P(h.KEY_EXPORT_ERROR,"raw"));}):Y(G);},L);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Xb=function(h,n){new Xc(h,n);};zb=function(l,r,G,M){n(M,function(){try{l="string"==typeof l?va(l):l;}catch(L){throw new P(h.INVALID_SYMMETRIC_KEY,"keydata "+l,L);}Ja.importKey("raw",l,r,!0,G).then(function(h){new Xc(h,M,l);},function(n){M.error(new P(h.INVALID_SYMMETRIC_KEY));});});};}());(function(){yc=na.Class.create({init:function(l,r,G){var L;function Y(h){n(r,function(){Object.defineProperties(L,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},L);}L=this;n(r,function(){if(!l||"object"!=typeof l||"public"!=l.type)throw new TypeError("Only original public crypto keys are supported.");!G&&l.extractable?Ja.exportKey("spki",l).then(function(h){Y(new Uint8Array(h));},function(n){r.error(new P(h.KEY_EXPORT_ERROR,"spki"));}):Y(G);});},getEncoded:function(){return this.encoded;}});Nb=function(h,n){new yc(h,n);};Yc=function(l,r,G,M){n(M,function(){try{l="string"==typeof l?va(l):l;}catch(L){throw new P(h.INVALID_PUBLIC_KEY,"spki "+l,L);}Ja.importKey("spki",l,r,!0,G).then(function(h){new yc(h,M,l);},function(n){M.error(new P(h.INVALID_PUBLIC_KEY));});});};}());(function(){Ld=na.Class.create({init:function(l,r,G){var L;function Y(h){n(r,function(){Object.defineProperties(L,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},L);}L=this;n(r,function(){if(!l||"object"!=typeof l||"private"!=l.type)throw new TypeError("Only original private crypto keys are supported.");!G&&l.extractable?Ja.exportKey("pkcs8",l).then(function(h){Y(new Uint8Array(h));},function(n){r.error(new P(h.KEY_EXPORT_ERROR,"pkcs8"));}):Y(G);});},getEncoded:function(){return this.encoded;}});Yb=function(h,n){new Ld(h,n);};}());(function(){var l;l=bd={V1:1,V2:2};Zc=na.Class.create({init:function(h,r,G,L){n(L,function(){var n,w,x,E;n=l.V1;w=h;x=null;for(E in vc)if(vc[E]==h){n=l.V2;w=null;x=h;break;}Object.defineProperties(this,{version:{value:n,writable:!1,enumerable:!1,configurable:!1},keyId:{value:w,writable:!1,configurable:!1},cipherSpec:{value:x,writable:!1,configurable:!1},iv:{value:r,writable:!1,configurable:!1},ciphertext:{value:G,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var h;h={};switch(this.version){case l.V1:h.keyid=this.keyId;this.iv&&(h.iv=pa(this.iv));h.ciphertext=pa(this.ciphertext);h.sha256="AA==";break;case l.V2:h.version=this.version;h.cipherspec=this.cipherSpec;this.iv&&(h.iv=pa(this.iv));h.ciphertext=pa(this.ciphertext);break;default:throw new ea("Ciphertext envelope version "+this.version+" encoding unsupported.");}return h;}});$c=function(h,n,l,L){new Zc(h,n,l,L);};ad=function(r,G,Y){n(Y,function(){var n,H,w,x,E,J,v;n=r.keyid;H=r.cipherspec;w=r.iv;x=r.ciphertext;E=r.sha256;if(!G)if((G=r.version)&&"number"===typeof G&&G===G){J=!1;for(v in l)if(l[v]==G){J=!0;break;}if(!J)throw new P(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));}else G=l.V1;switch(G){case l.V1:if("string"!==typeof n||w&&"string"!==typeof w||"string"!==typeof x||"string"!==typeof E)throw new ha(h.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(r));break;case l.V2:v=r.version;if(v!=l.V2)throw new P(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));if("string"!==typeof H||w&&"string"!==typeof w||"string"!==typeof x)throw new ha(h.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(r));H=Hd(H);if(!H)throw new P(h.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(r));n=H;break;default:throw new P(h.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));}try{w&&(w=va(w));x=va(x);}catch(F){throw new P(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(r),F);}new Zc(n,w,x,Y);});};}());(function(){var l;l=ed={V1:1,V2:2};Ab=na.Class.create({init:function(h,n,r){var L;switch(h){case l.V1:L=r;break;case l.V2:L={};L.version=h;L.algorithm=n;L.signature=pa(r);L=Ta(JSON.stringify(L),La);break;default:throw new ea("Signature envelope version "+h+" encoding unsupported.");}Object.defineProperties(this,{version:{value:h,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:n,writable:!1,configurable:!1},signature:{value:r,writable:!1,configurable:!1},bytes:{value:L,writable:!1,configurable:!1}});}});cd=function(){var h,r,G,L;2==arguments.length?(h=l.V1,r=arguments[0],G=null,L=arguments[1]):3==arguments.length&&(h=l.V2,G=arguments[0],r=arguments[1],L=arguments[2]);n(L,function(){return new Ab(h,G,r);});};dd=function(r,G,Y){n(Y,function(){var n,H,w,x,E,J,v;if(G)switch(G){case l.V1:return new Ab(l.V1,null,r);case l.V2:try{n=Va(r,La);H=JSON.parse(n);w=parseInt(H.version);x=H.algorithm;E=H.signature;if(!w||"number"!==typeof w||w!=w||"string"!==typeof x||"string"!==typeof E)throw new ha(h.JSON_PARSE_ERROR,"signature envelope "+pa(r));if(l.V2!=w)throw new P(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+pa(r));J=Uc(x);if(!J)throw new P(h.UNIDENTIFIED_ALGORITHM,"signature envelope "+pa(r));v=va(E);if(!v)throw new P(h.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(r));return new Ab(l.V2,J,v);}catch(F){if(F instanceof SyntaxError)throw new ha(h.JSON_PARSE_ERROR,"signature envelope "+pa(r),F);throw F;}default:throw new P(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+pa(r));}try{n=Va(r,La);H=JSON.parse(n);}catch(F){H=null;}if(H&&H.version){if(n=H.version,"number"!==typeof n||n!==n)n=l.V1;}else n=l.V1;switch(n){case l.V1:return new Ab(n,null,r);case l.V2:J=H.algorithm;E=H.signature;if("string"!==typeof J||"string"!==typeof E)return new Ab(l.V1,null,r);J=Uc(J);if(!J)return new Ab(l.V1,null,r);try{v=va(E);}catch(F){return new Ab(l.V1,null,r);}return new Ab(n,J,v);default:throw new P(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+r);}});};}());$b=na.Class.create({encrypt:function(h,n){},decrypt:function(h,n){},wrap:function(h,n){},unwrap:function(h,n,l,r){},sign:function(h,n){},verify:function(h,n,l){}});(function(){var l;l=Cb={RSA_OAEP:xc.name,A128KW:yb.name};vb="A128GCM";Bb=na.Class.create({init:function(h,n,r,L,H){switch(n){case l.RSA_OAEP:H=H&&(H.rawKey||H);L=L&&(L.rawKey||L);break;case l.A128KW:H=L=L&&(L.rawKey||L);break;default:throw new ea("Unsupported algorithm: "+n);}Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_algo:{value:n,writable:!1,enumerable:!1,configurable:!1},_enc:{value:r,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:H,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:L,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,l){l.error(new P(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,l){l.error(new P(h.DECRYPT_NOT_SUPPORTED));},wrap:function(l,r){n(r,function(){Ja.wrapKey("jwe+jwk",l.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(h){r.result(h);},function(n){r.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,r,G,L){function H(l){n(L,function(){switch(l.type){case"secret":Xb(l,L);break;case"public":Nb(l,L);break;case"private":Yb(l,L);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(L,function(){Ja.unwrapKey("jwe+jwk",l,this._unwrapKey,this._unwrapKey.algorithm,r,!1,G).then(function(h){H(h);},function(){L.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(n,l){l.error(new P(h.SIGN_NOT_SUPPORTED));},verify:function(n,l,r){r.error(new P(h.VERIFY_NOT_SUPPORTED));}});}());ac=$b.extend({encrypt:function(h,n){n.result(h);},decrypt:function(h,n){n.result(h);},wrap:function(h,n){n.result(h);},unwrap:function(h,n,l,r){r.result(h);},sign:function(h,n){n.result(new Uint8Array(0));},verify:function(h,n,l){l.result(!0);}});(function(){var l;l=Ac={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};zc=$b.extend({init:function Ia(h,n,H,w,x){Ia.base.call(this);H&&(H=H.rawKey);w&&(w=w.rawKey);Object.defineProperties(this,{id:{value:n,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:H,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:w,writable:!1,enumerable:!1,configurable:!1},transform:{value:x==l.ENCRYPT_DECRYPT_PKCS1?Wc:x==l.ENCRYPT_DECRYPT_OAEP?xc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:x==l.WRAP_UNWRAP_PKCS1?Wc:x==l.WRAP_UNWRAP_OAEP?xc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:x==l.SIGN_VERIFY?Kd:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,r){var L;L=this;n(r,function(){if("nullOp"==this.transform)return l;if(!this.publicKey)throw new P(h.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==l.length)return l;Ja.encrypt(L.transform,L.publicKey,l).then(function(n){$c(L.id,null,n,{result:function(n){var l;try{l=JSON.stringify(n);r.result(Ta(l,La));}catch(E){r.error(new P(h.ENCRYPT_ERROR,null,E));}},error:function(n){n instanceof G||(n=new P(h.ENCRYPT_ERROR,null,n));r.error(n);}});},function(n){r.error(new P(h.ENCRYPT_ERROR));});},this);},decrypt:function(l,r){var L;L=this;n(r,function(){var n,w;if("nullOp"==this.transform)return l;if(!this.privateKey)throw new P(h.DECRYPT_NOT_SUPPORTED,"no private key");if(0==l.length)return l;try{w=Va(l,La);n=JSON.parse(w);}catch(x){if(x instanceof SyntaxError)throw new P(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,x);throw new P(h.DECRYPT_ERROR,null,x);}ad(n,bd.V1,{result:function(n){var l;try{if(n.keyId!=L.id)throw new P(h.ENVELOPE_KEY_ID_MISMATCH);l=r.result;Ja.decrypt(L.transform,L.privateKey,n.ciphertext).then(l,function(n){r.error(new P(h.DECRYPT_ERROR));});}catch(J){J instanceof G?r.error(J):r.error(new P(h.DECRYPT_ERROR,null,J));}},error:function(n){n instanceof ha&&(n=new P(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof G||(n=new P(h.DECRYPT_ERROR,null,n));r.error(n);}});},this);},wrap:function(l,r){n(r,function(){var n;if("nullOp"==this.wrapTransform||!this.publicKey)throw new P(h.WRAP_NOT_SUPPORTED,"no public key");n=r.result;Ja.wrapKey("jwk",l.rawKey,this.publicKey,this.wrapTransform).then(n,function(n){r.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,r,L,H){function w(l){n(H,function(){switch(l.type){case"secret":Xb(l,H);break;case"public":Nb(l,H);break;case"private":Yb(l,H);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(H,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new P(h.UNWRAP_NOT_SUPPORTED,"no private key");Ja.unwrapKey("jwk",l,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},r,!1,L).then(w,function(n){H.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(l,r){n(r,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new P(h.SIGN_NOT_SUPPORTED,"no private key");Ja.sign(this.algo,this.privateKey,l).then(function(h){cd(h,{result:function(h){r.result(h.bytes);},error:r.error});},function(n){r.error(new P(h.SIGNATURE_ERROR));});},this);},verify:function(l,r,L){var H;H=this;n(L,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new P(h.VERIFY_NOT_SUPPORTED,"no public key");dd(r,ed.V1,{result:function(w){n(L,function(){var n;n=L.result;Ja.verify(this.algo,this.publicKey,w.signature,l).then(n,function(n){L.error(new P(h.SIGNATURE_ERROR));});},H);},error:L.error});},this);}});}());(function(){Bc=$b.extend({init:function Ua(h,n,l,H,w){Ua.base.call(this);l=l&&l.rawKey;H=H&&H.rawKey;w=w&&w.rawKey;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},id:{value:n,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:l,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:H,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:w,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,r){var M;M=this;n(r,function(){var n;if(!this.encryptionKey)throw new P(h.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;n=new Uint8Array(16);this.ctx.getRandom().nextBytes(n);Ja.encrypt({name:sb.name,iv:n},M.encryptionKey,l).then(function(l){l=new Uint8Array(l);$c(M.id,n,l,{result:function(n){var l;try{l=JSON.stringify(n);r.result(Ta(l,La));}catch(E){r.error(new P(h.ENCRYPT_ERROR,null,E));}},error:function(n){n instanceof G||(n=new P(h.ENCRYPT_ERROR,null,n));r.error(n);}});},function(n){r.error(new P(h.ENCRYPT_ERROR));});},this);},decrypt:function(l,r){var M;M=this;n(r,function(){var n,H;if(!this.encryptionKey)throw new P(h.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;try{H=Va(l,La);n=JSON.parse(H);}catch(w){if(w instanceof SyntaxError)throw new P(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,w);throw new P(h.DECRYPT_ERROR,null,w);}ad(n,bd.V1,{result:function(n){try{if(n.keyId!=M.id)throw new P(h.ENVELOPE_KEY_ID_MISMATCH);Ja.decrypt({name:sb.name,iv:n.iv},M.encryptionKey,n.ciphertext).then(function(h){h=new Uint8Array(h);r.result(h);},function(){r.error(new P(h.DECRYPT_ERROR));});}catch(x){x instanceof G?r.error(x):r.error(new P(h.DECRYPT_ERROR,null,x));}},error:function(n){n instanceof ha&&(n=new P(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof G||(n=new P(h.DECRYPT_ERROR,null,n));r.error(n);}});},this);},wrap:function(l,r){n(r,function(){if(!this.wrapKey)throw new P(h.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ja.wrapKey("raw",l.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(h){r.result(h);},function(n){r.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,r,G,L){function H(l){n(L,function(){switch(l.type){case"secret":Xb(l,L);break;case"public":Nb(l,L);break;case"private":Yb(l,L);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(L,function(){if(!this.wrapKey)throw new P(h.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ja.unwrapKey("raw",l,this.wrapKey,this.wrapKey.algorithm,r,!1,G).then(function(h){H(h);},function(n){L.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(l,r){var G;G=this;n(r,function(){if(!this.hmacKey)throw new P(h.SIGN_NOT_SUPPORTED,"no HMAC key.");Ja.sign(tb,this.hmacKey,l).then(function(h){n(r,function(){var n;n=new Uint8Array(h);cd(n,{result:function(h){r.result(h.bytes);},error:r.error});},G);},function(){r.error(new P(h.HMAC_ERROR));});},this);},verify:function(l,r,G){var L;L=this;n(G,function(){if(!this.hmacKey)throw new P(h.VERIFY_NOT_SUPPORTED,"no HMAC key.");dd(r,ed.V1,{result:function(H){n(G,function(){Ja.verify(tb,this.hmacKey,H.signature,l).then(function(h){G.result(h);},function(n){G.error(new P(h.HMAC_ERROR));});},L);},error:G.error});},this);}});}());kb=Bc.extend({init:function Ua(n,l,r,H,w){if(r||H||w)Ua.base.call(this,n,r+"_"+l.sequenceNumber,H,w,null);else{if(!l.isDecrypted())throw new Qb(h.MASTERTOKEN_UNTRUSTED,l);Ua.base.call(this,n,l.identity+"_"+l.sequenceNumber,l.encryptionKey,l.hmacKey,null);}}});Oe=$b.extend({encrypt:function(h,n){n.result(h);},decrypt:function(h,n){n.result(h);},wrap:function(h,n){n.error(new ea("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(h,n,l,r){r.error(new ea("Unwrap is unsupported by the MSL token crypto context."));},sign:function(h,n){n.result(new Uint8Array(0));},verify:function(h,n,l){l.result(!1);}});Pa={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Pa);(function(){Pb=na.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(h){return this===h?!0:h instanceof Pb?this.scheme==h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});Md=function(n,l){var r,L,H;r=l.scheme;L=l.authdata;if(!r||!L)throw new ha(h.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(l));if(!Pa[r])throw new xb(h.UNIDENTIFIED_ENTITYAUTH_SCHEME,r);H=n.getEntityAuthenticationFactory(r);if(!H)throw new xb(h.ENTITYAUTH_FACTORY_NOT_FOUND,r);return H.createData(n,L);};}());Cc=na.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,n){},getCryptoContext:function(h,n){}});(function(){ob=Pb.extend({init:function Ia(h){Ia.base.call(this,Pa.MGK);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function Ka(h){return this===h?!0:h instanceof ob?Ka.base.call(this,this,h)&&this.identity==h.identity:!1;}});Nd=function(n){var l;l=n.identity;if(!l)throw new ha(h.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(n));return new ob(l);};}());Pe=Cc.extend({init:function Ia(h){Ia.base.call(this,Pa.MGK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Nd(n);},getCryptoContext:function(n,l){if(!(l instanceof ob))throw new ea("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.identity!=this.localIdentity)throw new xb(h.ENTITY_NOT_FOUND,"mgk "+l.identity).setEntity(l);return new ac();}});(function(){ub=Pb.extend({init:function Ka(h){Ka.base.call(this,Pa.PSK);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function L(h){return this===h?!0:h instanceof ub?L.base.call(this,this,h)&&this.identity==h.identity:!1;}});Od=function(n){var l;l=n.identity;if(!l)throw new ha(h.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(n));return new ub(l);};}());Pd=Cc.extend({init:function Ka(h){Ka.base.call(this,Pa.PSK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Od(n);},getCryptoContext:function(n,l){if(!(l instanceof ub))throw new ea("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.getIdentity()!=this.localIdentity)throw new xb(h.ENTITY_NOT_FOUND,"psk "+l.identity).setEntity(l);return new ac();}});(function(){Dc=Pb.extend({init:function L(h,n){L.base.call(this,Pa.RSA);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1},publicKeyId:{value:n,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;h.pubkeyid=this.publicKeyId;return h;},equals:function H(h){return this===h?!0:h instanceof Dc?H.base.call(this,this,h)&&this.identity==h.identity&&this.publicKeyId==h.publicKeyId:!1;}});Qd=function(n){var l,x;l=n.identity;x=n.pubkeyid;if(!l||"string"!==typeof l||!x||"string"!==typeof x)throw new ha(h.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(n));return new Dc(l,x);};}());Qe=Cc.extend({init:function L(h){L.base.call(this,Pa.RSA);Object.defineProperties(this,{store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Qd(n);},getCryptoContext:function(n,l){var w,x,E;if(!(l instanceof Dc))throw new ea("Incorrect authentication data type "+l+".");w=l.identity;x=l.publicKeyId;E=this.store.getPublicKey(x);if(!E)throw new xb(h.RSA_PUBLICKEY_NOT_FOUND,x).setEntity(l);return new zc(n,w,null,E,Ac.SIGN_VERIFY);}});(function(){gc=Pb.extend({init:function H(h){H.base.call(this,Pa.NONE);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function w(h){return this===h?!0:h instanceof gc?w.base.call(this,this,h)&&this.identity==h.identity:!1;}});Rd=function(n){var l;l=n.identity;if(!l)throw new ha(h.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(n));return new gc(l);};}());Ne=Cc.extend({init:function H(){H.base.call(this,Pa.NONE);},createData:function(h,n){return Rd(n);},getCryptoContext:function(h,n){if(!(n instanceof gc))throw new ea("Incorrect authentication data type "+JSON.stringify(n)+".");return new ac();}});Re=na.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(h,n){if(!(n instanceof yc))throw new ea("Incorrect key data type "+n+".");this.rsaKeys[h]=n;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(h){delete this.rsaKeys[h];},getPublicKey:function(h){return this.rsaKeys[h];}});fd=na.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,n,l){}});Ec=na.Class.create({abort:function(){},close:function(h,n){},write:function(h,n,l,E,J){},flush:function(h,n){}});Se=na.Class.create({init:function(h){Object.defineProperties(this,{_data:{value:h,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Xa("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(h,n,l){r(l,function(){var n;if(this._closed)throw new Xa("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==h&&(h=this._data.length-this._currentPosition);n=this._data.subarray(this._currentPosition,this._currentPosition+h);this._currentPosition+=n.length;return n;},this);}});Te=na.Class.create({init:function(){var h;h={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},abort:function(){},close:function(h,n){this._closed=!0;n.result(!0);},write:function(h,n,l,E,J){r(J,function(){var v;if(this._closed)throw new Xa("Stream is already closed.");if(0>n)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(n+l>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");v=h.subarray(n,l);this._buffered.push(v);return v.length;},this);},flush:function(h,n){var l,w;for(;0<this._buffered.length;){l=this._buffered.shift();if(this._result){w=new Uint8Array(this._result.length+l.length);w.set(this._result);w.set(l,this._result.length);this._result=w;}else this._result=new Uint8Array(l);}n.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Ue=na.Class.create({getResponse:function(h,n,l){}});(function(){var h,n;h=Ec.extend({init:function(h,n){var l;l={_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Te(),writable:!1,enumerable:!1,configurable:!1},_response:{value:la,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:la,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new hc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(h){this._timeout=h;},getResponse:function(h,n){var l;l=this;this._responseQueue.poll(h,{result:function(h){r(n,function(){h&&this._responseQueue.add(h);return h;},l);},timeout:function(){r(n,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();n.timeout();},l);},error:function(h){r(n,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw h;},l);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(h,n){var l;l=this;r(n,function(){var h;if(this._response)return!0;h=this._buffer.toByteArray();0<h.length&&(this._abortToken=this._httpLocation.getResponse({body:h},this._timeout,{result:function(h){l._response={response:h};l._responseQueue.add(l._response);},timeout:function(){l._response={isTimeout:!0};l._responseQueue.add(l._response);},error:function(h){l._response={isError:!0,error:h};l._responseQueue.add(l._response);}}));return!0;},this);},write:function(h,n,l,v,F){r(F,function(){if(this._response)throw new Xa("HttpOutputStream already closed.");this._buffer.write(h,n,l,v,F);},this);},flush:function(h,n){r(n,function(){if(this._response)return!0;this._buffer.flush(h,n);},this);}});n=fd.extend({init:function(h){Object.defineProperties(this,{_out:{value:h,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:la,writable:!0,enumerable:!1,configurable:!1},_exception:{value:la,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:la,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(h,n,l){var F;function v(v){r(l,function(){if(!v)return new Uint8Array(0);this._out.getResponse(n,{result:function(v){r(l,function(){var w;if(v.isTimeout)this._timedout=!0,l.timeout();else{if(v.isError)throw this._exception=v.error||new Xa("Unknown HTTP exception."),this._exception;if(!v.response)throw this._exception=new Xa("Missing HTTP response."),this._exception;v.response.json!==la&&(this._json=v.response.json,this.getJSON=function(){return F._json;});w=v.response.content||Oc("string"===typeof v.response.body?v.response.body:JSON.stringify(this._json));this._buffer=new Se(w);this._buffer.read(h,n,l);}},F);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},F);}F=this;r(l,function(){if(this._exception)throw this._exception;if(this._timedout)l.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(h,n,l):this._out.close(n,{result:function(h){v(h);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});}},F);}});Bd=na.Class.create({init:function(h,n){Object.defineProperties(this,{_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(h){this._timeout=h;},openConnection:function(){var l;l=new h(this._httpLocation,this._timeout);return{input:new n(l),output:l};}});}());(function(){var h,n;h=Ec.extend({init:function(){var h;h={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setTimeout:function(){},getResponse:function(h,n){n.result({success:!1,content:null,errorHttpCode:la,errorSubCode:la});},abort:function(){},close:function(h,n){n.result(!0);},write:function(h,n,l,v,F){var w,x;try{if(0>n)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(n+l>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=h.subarray(n,l);x=new Uint8Array(this._buffer.length+w.length);x.set(this._buffer);x.set(w,this._buffer.length);this._buffer=x;F.result(w.length);}catch(za){F.error(za);}},flush:function(h,n){n.result(!0);},request:function(){return this._buffer;}});n=fd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,n,l){l.result(new Uint8Array(16));}});Cd=na.Class.create({init:function(){var l;l={output:{value:new h(),writable:!1,enumerable:!1,configurable:!1},input:{value:new n(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Nc(this.output.request());}});}());Sd=function(h,n,l){function w(h){var n,l;h=new Ve(Va(h,"utf-8"));n=[];for(l=h.nextValue();l!==la;)n.push(l),l=h.nextValue();return n;}(function(h,n,F){h.read(-1,n,{result:function(h){h&&h.length?F(null,h):F(null,null);},timeout:function(){l.timeout();},error:function(h){F(h,null);}});}(h,n,function(n,v){n?l.error(n):v?h.getJSON!==la&&"function"===typeof h.getJSON?l.result(h.getJSON()):l.result(w(v)):l.result(null);}));};mb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(mb);(function(){ic=na.Class.create({init:function(h){Object.defineProperties(this,{keyExchangeScheme:{value:h,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this===h?!0:h instanceof ic?this.keyExchangeScheme==h.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Td=function(l,w,x){n(x,function(){var n,r,v;n=w.scheme;r=w.keydata;if(!n||!r||"object"!==typeof r)throw new ha(h.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(w));if(!mb[n])throw new Qa(h.UNIDENTIFIED_KEYX_SCHEME,n);v=l.getKeyExchangeFactory(n);if(!v)throw new Qa(h.KEYX_FACTORY_NOT_FOUND,n);v.createRequestData(l,r,x);});};}());(function(){jc=na.Class.create({init:function(h,n){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},keyExchangeScheme:{value:n,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.mastertoken=this.masterToken;h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this===h?!0:h instanceof jc?this.masterToken.equals(h.masterToken)&&this.keyExchangeScheme==h.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});Ud=function(l,w,x){n(x,function(){var r,J,v;r=w.mastertoken;J=w.scheme;v=w.keydata;if(!J||!r||"object"!==typeof r||!v||"object"!==typeof v)throw new ha(h.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(w));if(!mb[J])throw new Qa(h.UNIDENTIFIED_KEYX_SCHEME,J);Sb(l,r,{result:function(F){n(x,function(){var n;n=l.getKeyExchangeFactory(J);if(!n)throw new Qa(h.KEYX_FACTORY_NOT_FOUND,J);return n.createResponseData(l,F,v);});},error:function(h){x.error(h);}});});};}());(function(){var l;l=na.Class.create({init:function(h,n){Object.defineProperties(this,{keyResponseData:{value:h,writable:!1,configurable:!1},cryptoContext:{value:n,writable:!1,configurable:!1}});}});pb=na.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createRequestData:function(h,n,l){},createResponseData:function(h,n,l){},generateResponse:function(h,n,l,r){},getCryptoContext:function(h,n,l,r,v){},generateSessionKeys:function(l,x){n(x,function(){var n,w;n=new Uint8Array(16);w=new Uint8Array(32);l.getRandom().nextBytes(n);l.getRandom().nextBytes(w);zb(n,sb,Hb,{result:function(n){zb(w,tb,Rb,{result:function(h){x.result({encryptionKey:n,hmacKey:h});},error:function(n){x.error(new P(h.SESSION_KEY_CREATION_FAILURE,null,n));}});},error:function(n){x.error(new P(h.SESSION_KEY_CREATION_FAILURE,null,n));}});});},importSessionKeys:function(h,n,l){zb(h,sb,Hb,{result:function(h){zb(n,tb,Rb,{result:function(n){l.result({encryptionKey:h,hmacKey:n});},error:function(h){l.error(h);}});},error:function(h){l.error(h);}});}});pb.KeyExchangeData=l;}());(function(){var w,x,r;function l(l,v,F,x,r){n(r,function(){var aa,J;switch(v){case w.PSK:aa=new ub(x),J=l.getEntityAuthenticationFactory(Pa.PSK);if(!J)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,v);aa=J.getCryptoContext(l,aa);return new Bb(l,Cb.A128KW,vb,la);case w.MGK:aa=new ob(x);J=l.getEntityAuthenticationFactory(Pa.MGK);if(!J)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,v);aa=J.getCryptoContext(l,aa);return new Bb(l,Cb.A128KW,vb,la);case w.WRAP:aa=l.getMslCryptoContext();aa.unwrap(F,yb,Ib,{result:function(h){n(r,function(){return new Bb(l,Cb.A128KW,vb,h);});},error:r.error});break;default:throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,v);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};x=gd=ic.extend({init:function v(h,n){v.base.call(this,mb.JWE_LADDER);switch(h){case w.WRAP:if(!n)throw new ea("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata&&(h.wrapdata=pa(this.wrapdata));return h;},equals:function F(h){return h===this?!0:h instanceof gd?F.base.call(this,h)&&this.mechanism==h.mechanism&&bb(this.wrapdata,h.wrapdata):!1;},uniqueKey:function Ba(){var h;h=Ba.base.call(this)+":"+this.mechanism;this.wrapdata&&(h+=":"+hb(this.wrapdata));return h;}});r=Wd=jc.extend({init:function aa(h,n,l,w,z){aa.base.call(this,h,mb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:z,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=pa(this.wrapKey);h.wrapdata=pa(this.wrapdata);h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function za(h){return this===h?!0:h instanceof Wd?za.base.call(this,h)&&bb(this.wrapKey,h.wrapKey)&&bb(this.wrapdata,h.wrapdata)&&bb(this.encryptionKey,h.encryptionKey)&&bb(this.hmacKey,h.hmacKey):!1;},uniqueKey:function xa(){return xa.base.call(this)+":"+hb(this.wrapKey)+":"+hb(this.wrapdata)+":"+hb(this.encryptionKey)+":"+hb(this.hmacKey);}});Vd=pb.extend({init:function Z(h){Z.base.call(this,mb.JWE_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,r,z){n(z,function(){var n,l,z;n=r.mechanism;l=r.wrapdata;if(!n||n==w.WRAP&&(!l||"string"!==typeof l))throw new ha(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!w[n])throw new Qa(h.UNIDENTIFIED_KEYX_MECHANISM,n);switch(n){case w.WRAP:try{z=va(l);}catch(da){throw new Qa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());}if(null==z||0==z.length)throw new Qa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());break;default:z=null;}return new x(n,z);});},createResponseData:function(n,l,w){var z,x,Z,E,qa,H,G;n=w.wrapkey;z=w.wrapdata;x=w.encryptionkey;Z=w.hmackey;if(!(n&&"string"===typeof n&&z&&"string"===typeof z&&x&&"string"===typeof x&&Z)||"string"!==typeof Z)throw new ha(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{E=va(n);qa=va(z);}catch(ja){throw new P(h.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),ja);}try{H=va(x);}catch(ja){throw new P(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),ja);}try{G=va(Z);}catch(ja){throw new P(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),ja);}return new r(l,E,qa,H,G);},generateResponse:function(w,E,z,X){var Oa,ta;function Z(h,l,z){Oa.generateSessionKeys(w,{result:function(w){n(X,function(){qa(h,l,z,w.encryptionKey,w.hmacKey);},Oa);},error:function(h){n(X,function(){h instanceof G&&h.setEntity(ta);throw h;});}});}function qa(h,z,x,r,Z){n(X,function(){l(w,E.mechanism,E.wrapdata,h,{result:function(h){h.wrap(z,{result:function(g){H(z,x,r,Z,g);},error:function(g){n(X,function(){g instanceof G&&g.setEntity(ta);throw g;});}});},error:function(h){n(X,function(){h instanceof G&&h.setEntity(ta);throw h;});}});},Oa);}function H(h,l,z,x,r){n(X,function(){var ja;ja=new Bb(w,Cb.A128KW,vb,h);ja.wrap(z,{result:function(g){ja.wrap(x,{result:function(d){ua(l,r,z,g,x,d);},error:function(d){n(X,function(){d instanceof G&&d.setEntity(ta);throw d;});}});},error:function(g){n(X,function(){g instanceof G&&g.setEntity(ta);throw g;});}});},Oa);}function ua(h,l,x,Z,E,qa){n(X,function(){var g;g=w.getTokenFactory();ta?g.renewMasterToken(w,ta,x,E,{result:function(d){n(X,function(){var a,c;a=new kb(w,d);c=new r(d,l,h,Z,qa);return new pb.KeyExchangeData(c,a,X);},Oa);},error:function(d){n(X,function(){d instanceof G&&d.setEntity(ta);throw d;});}}):g.createMasterToken(w,z,x,E,{result:function(d){n(X,function(){var a,c;a=new kb(w,d);c=new r(d,l,h,Z,qa);return new pb.KeyExchangeData(c,a,X);},Oa);},error:X.error});},Oa);}Oa=this;n(X,function(){var l,r;if(!(E instanceof x))throw new ea("Key request data "+JSON.stringify(E)+" was not created by this factory.");l=z;if(z instanceof jb){if(!z.isVerified())throw new Qb(h.MASTERTOKEN_UNTRUSTED,z);ta=z;l=z.identity;}r=new Uint8Array(16);w.getRandom().nextBytes(r);zb(r,yb,Ib,{result:function(h){n(X,function(){w.getMslCryptoContext().wrap(h,{result:function(n){Z(l,h,n);},error:function(h){n(X,function(){h instanceof G&&h.setEntity(ta);throw h;},Oa);}});},Oa);},error:function(l){n(X,function(){throw new P(h.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(ta);},Oa);}});},Oa);},getCryptoContext:function(l,E,z,X,ya){var qa;function Z(h,w,z,x,r){n(ya,function(){var ja;ja=new Bb(l,Cb.A128KW,vb,r);ja.unwrap(w.encryptionKey,sb,Hb,{result:function(r){ja.unwrap(w.hmacKey,tb,Rb,{result:function(h){n(ya,function(){this.repository.addCryptoContext(w.wrapdata,ja);this.repository.removeCryptoContext(z);return new kb(l,w.masterToken,x,r,h);},qa);},error:function(l){n(ya,function(){l instanceof G&&l.setEntity(h);throw l;});}});},error:function(l){n(ya,function(){l instanceof G&&l.setEntity(h);throw l;});}});},qa);}qa=this;n(ya,function(){var X,ga;if(!(E instanceof x))throw new ea("Key request data "+JSON.stringify(E)+" was not created by this factory.");if(!(z instanceof r))throw new ea("Key response data "+JSON.stringify(z)+" was not created by this factory.");X=E.mechanism;ga=E.wrapdata;l.getEntityAuthenticationData(null,{result:function(x){n(ya,function(){var r,E,qa;r=x.getIdentity();switch(X){case w.PSK:E=new ub(r);qa=l.getEntityAuthenticationFactory(Pa.PSK);if(!qa)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,X).setEntity(x);E=qa.getCryptoContext(l,E);E=new Bb(l,Cb.A128KW,vb,la);break;case w.MGK:E=new ob(r);qa=l.getEntityAuthenticationFactory(Pa.MGK);if(!qa)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,X).setEntity(x);E=qa.getCryptoContext(l,E);E=new Bb(l,Cb.A128KW,vb,E.wrapKey);break;case w.WRAP:E=this.repository.getCryptoContext(ga);if(!E)throw new Qa(h.KEYX_WRAPPING_KEY_MISSING,pa(ga)).setEntity(x);break;default:throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,X).setEntity(x);}E.unwrap(z.wrapKey,yb,Ib,{result:function(h){Z(x,z,ga,r,h);},error:function(h){n(ya,function(){h instanceof G&&h.setEntity(x);throw h;});}});},qa);},error:ya.error});},qa);}});}());(function(){var w,x,r,J;function l(l,F,x,r,E){n(E,function(){var v,aa;switch(F){case w.PSK:v=new ub(r),aa=l.getEntityAuthenticationFactory(Pa.PSK);if(!aa)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,F);v=aa.getCryptoContext(l,v);return new J(la);case w.MGK:v=new ob(r);aa=l.getEntityAuthenticationFactory(Pa.MGK);if(!aa)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,F);v=aa.getCryptoContext(l,v);return new J(la);case w.WRAP:v=l.getMslCryptoContext();v.unwrap(x,yb,Ib,{result:function(h){n(E,function(){return new J(h);});},error:E.error});break;default:throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,F);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};x=Fc=ic.extend({init:function F(h,n){F.base.call(this,mb.JWK_LADDER);switch(h){case w.WRAP:if(!n)throw new ea("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata&&(h.wrapdata=pa(this.wrapdata));return h;},equals:function Ba(h){return h===this?!0:h instanceof Fc?Ba.base.call(this,h)&&this.mechanism==h.mechanism&&bb(this.wrapdata,h.wrapdata):!1;},uniqueKey:function aa(){var h;h=aa.base.call(this)+":"+this.mechanism;this.wrapdata&&(h+=":"+hb(this.wrapdata));return h;}});r=Xd=jc.extend({init:function za(h,n,l,w,x){za.base.call(this,h,mb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:x,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=pa(this.wrapKey);h.wrapdata=pa(this.wrapdata);h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function xa(h){return this===h?!0:h instanceof Xd?xa.base.call(this,h)&&bb(this.wrapKey,h.wrapKey)&&bb(this.wrapdata,h.wrapdata)&&bb(this.encryptionKey,h.encryptionKey)&&bb(this.hmacKey,h.hmacKey):!1;},uniqueKey:function Z(){return Z.base.call(this)+":"+hb(this.wrapKey)+":"+hb(this.wrapdata)+":"+hb(this.encryptionKey)+":"+hb(this.hmacKey);}});J=$b.extend({init:function(h){h&&h.rawKey&&(h=h.rawKey);Object.defineProperties(this,{_wrapKey:{value:h,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,l){l.error(new P(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,l){l.error(new P(h.DECRYPT_NOT_SUPPORTED));},wrap:function(l,w){n(w,function(){Ja.wrapKey("jwk",l.rawKey,this._wrapKey,yb).then(function(h){w.result(h);},function(n){w.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,w,x,r){function z(l){n(r,function(){switch(l.type){case"secret":Xb(l,r);break;case"public":Nb(l,r);break;case"private":Yb(l,r);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(r,function(){Ja.unwrapKey("jwk",l,this._wrapKey,yb,w,!1,x).then(function(h){z(h);},function(n){r.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(n,l){l.error(new P(h.SIGN_NOT_SUPPORTED));},verify:function(n,l,w){w.error(new P(h.VERIFY_NOT_SUPPORTED));}});id=pb.extend({init:function qa(h){qa.base.call(this,mb.JWK_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,r,J){n(J,function(){var n,l,z;n=r.mechanism;l=r.wrapdata;if(!n||n==w.WRAP&&(!l||"string"!==typeof l))throw new ha(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!w[n])throw new Qa(h.UNIDENTIFIED_KEYX_MECHANISM,n);switch(n){case w.WRAP:try{z=va(l);}catch(ua){throw new Qa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());}if(null==z||0==z.length)throw new Qa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());break;default:z=null;}return new x(n,z);});},createResponseData:function(n,l,w){var x,z,J,E,X,qa,ja;n=w.wrapkey;x=w.wrapdata;z=w.encryptionkey;J=w.hmackey;if(!(n&&"string"===typeof n&&x&&"string"===typeof x&&z&&"string"===typeof z&&J)||"string"!==typeof J)throw new ha(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{E=va(n);X=va(x);}catch(wb){throw new P(h.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),wb);}try{qa=va(z);}catch(wb){throw new P(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),wb);}try{ja=va(J);}catch(wb){throw new P(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),wb);}return new r(l,E,X,qa,ja);},generateResponse:function(w,z,E,H){var ta,ja;function X(h,l,x){ta.generateSessionKeys(w,{result:function(w){n(H,function(){qa(h,l,x,w.encryptionKey,w.hmacKey);},ta);},error:function(h){n(H,function(){h instanceof G&&h.setEntity(ja);throw h;});}});}function qa(h,x,r,E,J){n(H,function(){l(w,z.mechanism,z.wrapdata,h,{result:function(g){g.wrap(x,{result:function(d){ya(x,r,E,J,d);},error:function(d){n(H,function(){d instanceof G&&d.setEntity(ja);throw d;});}});},error:function(g){n(H,function(){g instanceof G&&g.setEntity(ja);throw g;});}});},ta);}function ya(h,l,w,x,r){n(H,function(){var g;g=new J(h);g.wrap(w,{result:function(d){g.wrap(x,{result:function(a){Oa(l,r,w,d,x,a);},error:function(a){n(H,function(){a instanceof G&&a.setEntity(ja);throw a;});}});},error:function(d){n(H,function(){d instanceof G&&d.setEntity(ja);throw d;});}});},ta);}function Oa(h,l,x,z,J,g){n(H,function(){var d;d=w.getTokenFactory();ja?d.renewMasterToken(w,ja,x,J,{result:function(a){n(H,function(){var c,f;c=new kb(w,a);f=new r(a,l,h,z,g);return new pb.KeyExchangeData(f,c,H);},ta);},error:function(a){n(H,function(){a instanceof G&&a.setEntity(ja);throw a;});}}):d.createMasterToken(w,E,x,J,{result:function(a){n(H,function(){var c,f;c=new kb(w,a);f=new r(a,l,h,z,g);return new pb.KeyExchangeData(f,c,H);},ta);},error:H.error});},ta);}ta=this;n(H,function(){var l,r;if(!(z instanceof x))throw new ea("Key request data "+JSON.stringify(z)+" was not created by this factory.");l=E;if(E instanceof jb){if(!E.isVerified())throw new Qb(h.MASTERTOKEN_UNTRUSTED,E);ja=E;l=E.identity;}r=new Uint8Array(16);w.getRandom().nextBytes(r);zb(r,yb,Ib,{result:function(h){n(H,function(){w.getMslCryptoContext().wrap(h,{result:function(n){X(l,h,n);},error:function(h){n(H,function(){h instanceof G&&h.setEntity(ja);throw h;},ta);}});},ta);},error:function(l){n(H,function(){throw new P(h.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(ja);},ta);}});},ta);},getCryptoContext:function(l,z,E,H,ga){var qa;function X(h,w,x,r,z){n(ga,function(){var ja;ja=new J(z);ja.unwrap(w.encryptionKey,sb,Hb,{result:function(z){ja.unwrap(w.hmacKey,tb,Rb,{result:function(h){n(ga,function(){this.repository.addCryptoContext(w.wrapdata,ja);this.repository.removeCryptoContext(x);return new kb(l,w.masterToken,r,z,h);},qa);},error:function(l){n(ga,function(){l instanceof G&&l.setEntity(h);throw l;});}});},error:function(l){n(ga,function(){l instanceof G&&l.setEntity(h);throw l;});}});},qa);}qa=this;n(ga,function(){var H,ya;if(!(z instanceof x))throw new ea("Key request data "+JSON.stringify(z)+" was not created by this factory.");if(!(E instanceof r))throw new ea("Key response data "+JSON.stringify(E)+" was not created by this factory.");H=z.mechanism;ya=z.wrapdata;l.getEntityAuthenticationData(null,{result:function(x){n(ga,function(){var r,z,ja;r=x.getIdentity();switch(H){case w.PSK:z=new ub(r);ja=l.getEntityAuthenticationFactory(Pa.PSK);if(!ja)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(x);z=ja.getCryptoContext(l,z);z=new J(z.wrapKey);break;case w.MGK:z=new ob(r);ja=l.getEntityAuthenticationFactory(Pa.MGK);if(!ja)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(x);z=ja.getCryptoContext(l,z);z=new J(z.wrapKey);break;case w.WRAP:z=this.repository.getCryptoContext(ya);if(!z)throw new Qa(h.KEYX_WRAPPING_KEY_MISSING,pa(ya)).setEntity(x);break;default:throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(x);}z.unwrap(E.wrapKey,yb,Ib,{result:function(h){X(x,E,ya,r,h);},error:function(h){n(ga,function(){h instanceof G&&h.setEntity(x);throw h;});}});},qa);},error:ga.error});},qa);}});}());We=na.Class.create({addCryptoContext:function(h,l){},getCryptoContext:function(h){},removeCryptoContext:function(h){}});(function(){var w,x,r,J;function l(l,n,x,r,E){switch(x){case w.JWE_RSA:case w.JWEJS_RSA:return new Bb(l,Cb.RSA_OAEP,vb,r,E);case w.JWK_RSA:return new zc(l,n,r,E,Ac.WRAP_UNWRAP_OAEP);case w.JWK_RSAES:return new zc(l,n,r,E,Ac.WRAP_UNWRAP_PKCS1);default:throw new P(h.UNSUPPORTED_KEYX_MECHANISM,x);}}w=Gc={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};x=Tc=ic.extend({init:function F(h,l,n,w){F.base.call(this,mb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:h,writable:!1,configurable:!1},mechanism:{value:l,writable:!1,configurable:!1},publicKey:{value:n,writable:!1,configurable:!1},privateKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.mechanism=this.mechanism;h.publickey=pa(this.publicKey.getEncoded());return h;},equals:function Ba(h){var l;if(h===this)return!0;if(!(h instanceof Tc))return!1;l=this.privateKey===h.privateKey||this.privateKey&&h.privateKey&&bb(this.privateKey.getEncoded(),h.privateKey.getEncoded());return Ba.base.call(this,h)&&this.keyPairId==h.keyPairId&&this.mechanism==h.mechanism&&bb(this.publicKey.getEncoded(),h.publicKey.getEncoded())&&l;},uniqueKey:function aa(){var h,l;h=this.publicKey.getEncoded();l=this.privateKey&&this.privateKey.getEncoded();h=aa.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+hb(h);l&&(h+=":"+hb(l));return h;}});r=function(l,r){n(r,function(){var n,E,J,z;n=l.keypairid;E=l.mechanism;J=l.publickey;if(!n||"string"!==typeof n||!E||!J||"string"!==typeof J)throw new ha(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(l));if(!w[E])throw new Qa(h.UNIDENTIFIED_KEYX_MECHANISM,E);try{z=va(J);switch(E){case w.JWE_RSA:case w.JWEJS_RSA:case w.JWK_RSA:Yc(z,xc,Ib,{result:function(h){r.result(new x(n,E,h,null));},error:function(h){r.error(h);}});break;case w.JWK_RSAES:Yc(z,Wc,Ib,{result:function(h){r.result(new x(n,E,h,null));},error:function(h){r.error(h);}});break;default:throw new P(h.UNSUPPORTED_KEYX_MECHANISM,E);}}catch(X){if(!(X instanceof G))throw new P(h.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(l),X);throw X;}});};J=Yd=jc.extend({init:function za(h,l,n,w){za.base.call(this,h,mb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:l,writable:!1,configurable:!1},encryptionKey:{value:n,writable:!1,configurable:!1},hmacKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function xa(h){return this===h?!0:h instanceof Yd?xa.base.call(this,h)&&this.keyPairId==h.keyPairId&&bb(this.encryptionKey,h.encryptionKey)&&bb(this.hmacKey,h.hmacKey):!1;},uniqueKey:function Z(){return Z.base.call(this)+":"+this.keyPairId+":"+hb(this.encryptionKey)+":"+hb(this.hmacKey);}});Dd=pb.extend({init:function qa(){qa.base.call(this,mb.ASYMMETRIC_WRAPPED);},createRequestData:function(h,l,n){r(l,n);},createResponseData:function(l,n,w){var x,r,z,E;l=w.keypairid;x=w.encryptionkey;r=w.hmackey;if(!l||"string"!==typeof l||!x||"string"!==typeof x||!r||"string"!==typeof r)throw new ha(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{z=va(x);}catch(Oa){throw new P(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),Oa);}try{E=va(r);}catch(Oa){throw new P(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),Oa);}return new J(n,l,z,E);},generateResponse:function(h,w,r,E){var X;function z(x,z){n(E,function(){var ja;ja=l(h,w.keyPairId,w.mechanism,null,w.publicKey);ja.wrap(x,{result:function(h){n(E,function(){ja.wrap(z,{result:function(l){H(x,h,z,l);},error:function(h){n(E,function(){h instanceof G&&r instanceof jb&&h.setEntity(r);throw h;},X);}});},X);},error:function(h){n(E,function(){h instanceof G&&r instanceof jb&&h.setEntity(r);throw h;},X);}});},X);}function H(l,x,z,H){n(E,function(){var ja;ja=h.getTokenFactory();r instanceof jb?ja.renewMasterToken(h,r,l,z,{result:function(l){n(E,function(){var n,r;n=new kb(h,l);r=new J(l,w.keyPairId,x,H);return new pb.KeyExchangeData(r,n,E);},X);},error:function(h){n(E,function(){h instanceof G&&h.setEntity(r);throw h;},X);}}):ja.createMasterToken(h,r,l,z,{result:function(l){n(E,function(){var n,r;n=new kb(h,l);r=new J(l,w.keyPairId,x,H);return new pb.KeyExchangeData(r,n,E);},X);},error:E.error});},X);}X=this;n(E,function(){if(!(w instanceof x))throw new ea("Key request data "+JSON.stringify(w)+" was not created by this factory.");this.generateSessionKeys(h,{result:function(h){z(h.encryptionKey,h.hmacKey);},error:function(h){n(E,function(){h instanceof G&&r instanceof jb&&h.setEntity(r);throw h;},X);}});},X);},getCryptoContext:function(w,r,E,H,ga){var z;z=this;n(ga,function(){var X,qa,da;if(!(r instanceof x))throw new ea("Key request data "+JSON.stringify(r)+" was not created by this factory.");if(!(E instanceof J))throw new ea("Key response data "+JSON.stringify(E)+" was not created by this factory.");X=r.keyPairId;qa=E.keyPairId;if(X!=qa)throw new Qa(h.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+X+"; response "+qa).setEntity(H);qa=r.privateKey;if(!qa)throw new Qa(h.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(H);da=l(w,X,r.mechanism,qa,null);da.unwrap(E.encryptionKey,sb,Hb,{result:function(h){da.unwrap(E.hmacKey,tb,Rb,{result:function(l){w.getEntityAuthenticationData(null,{result:function(r){n(ga,function(){var n;n=r.getIdentity();return new kb(w,E.masterToken,n,h,l);},z);},error:function(h){n(ga,function(){h instanceof G&&h.setEntity(H);throw h;},z);}});},error:function(h){n(ga,function(){h instanceof G&&h.setEntity(H);throw h;},z);}});},error:function(h){n(ga,function(){h instanceof G&&h.setEntity(H);throw h;},z);}});},z);}});}());Ve=na.Class.create({init:function(h){var l,n,r,J,v,F,H,aa;l=cb.parser();n=[];r=[];H=0;aa=!1;l.onerror=function(h){aa||(aa=!0,l.end());};l.onopenobject=function(h){var l;if(J)J[F]={},r.push(J),J=J[F];else if(v){l={};r.push(v);v.push(l);J=l;v=la;}else J={};F=h;};l.oncloseobject=function(){var h;h=r.pop();h?"object"===typeof h?J=h:(J=la,v=h):(n.push(J),H=l.index,J=la);};l.onopenarray=function(){var h;if(J)J[F]=[],r.push(J),v=J[F],J=la;else if(v){h=[];r.push(v);v.push(h);v=h;}else v=[];};l.onclosearray=function(){var h;h=r.pop();h?"object"===typeof h?(J=h,v=la):v=h:(n.push(v),H=l.index,v=la);};l.onkey=function(h){F=h;};l.onvalue=function(h){J?J[F]=h:v?v.push(h):(n.push(h),H=l.index);};l.write(h).close();Object.defineProperties(this,{_values:{value:n,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:H,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?la:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var l,w,r,E,J;l=jd="entityauthdata";w=$d="mastertoken";r=ae="headerdata";E=be="errordata";J=kd="signature";Zd=function(v,F,x,aa){n(aa,function(){var n,H,Z,qa,z,X;n=F[l];H=F[w];Z=F[J];if(n&&"object"!==typeof n||H&&"object"!==typeof H||"string"!==typeof Z)throw new ha(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(F));try{qa=va(Z);}catch(ya){throw new Ha(h.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(F),ya);}z=null;n&&(z=Md(v,n));X=F[r];if(X!=la&&null!=X){if("string"!==typeof X)throw new ha(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(F));H?Sb(v,H,{result:function(h){ld(v,X,z,h,qa,x,aa);},error:function(h){aa.error(h);}}):ld(v,X,z,null,qa,x,aa);}else if(n=F[E],n!=la&&null!=n){if("string"!==typeof n)throw new ha(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(F));ce(v,n,z,qa,aa);}else throw new ha(h.JSON_PARSE_ERROR,JSON.stringify(F));});};}());(function(){function r(h,l){this.errordata=h;this.signature=l;}Mb=na.Class.create({init:function(l,r,E,J,v,F,H,aa,za,xa){var w;w=this;n(xa,function(){var x,z;0>F&&(F=-1);if(0>J||J>Ma)throw new ea("Message ID "+J+" is out of range.");if(!r)throw new Ha(h.MESSAGE_ENTITY_NOT_FOUND);if(za)return Object.defineProperties(this,{entityAuthenticationData:{value:r,writable:!1,configurable:!1},recipient:{value:E,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:F,writable:!1,configurable:!1},errorMessage:{value:H,writable:!1,configurable:!1},userMessage:{value:aa,writable:!1,configurable:!1},errordata:{value:za.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:za.signature,writable:!1,enumerable:!1,configurable:!1}}),this;x={};E&&(x.recipient=E);x.messageid=J;x.errorcode=v;0<F&&(x.internalcode=F);H&&(x.errormsg=H);aa&&(x.usermsg=aa);try{z=l.getEntityAuthenticationFactory(r.scheme).getCryptoContext(l,r);}catch(X){throw X instanceof G&&(X.setEntity(r),X.setMessageId(J)),X;}x=Ta(JSON.stringify(x),La);z.encrypt(x,{result:function(h){n(xa,function(){z.sign(h,{result:function(l){n(xa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:r,writable:!1,configurable:!1},recipient:{value:E,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:F,writable:!1,configurable:!1},errorMessage:{value:H,writable:!1,configurable:!1},userMessage:{value:aa,writable:!1,configurable:!1},errordata:{value:h,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){n(xa,function(){h instanceof G&&(h.setEntity(r),h.setMessageId(J));throw h;},w);}});},w);},error:function(h){n(xa,function(){h instanceof G&&(h.setEntity(r),h.setMessageId(J));throw h;},w);}});},w);},toJSON:function(){var h;h={};h[jd]=this.entityAuthenticationData;h[be]=pa(this.errordata);h[kd]=pa(this.signature);return h;}});de=function(h,l,n,r,v,F,H,aa,za){new Mb(h,l,n,r,v,F,H,aa,null,za);};ce=function(w,x,E,J,v){n(v,function(){var F,H,aa;if(!E)throw new Ha(h.MESSAGE_ENTITY_NOT_FOUND);try{H=E.scheme;aa=w.getEntityAuthenticationFactory(H);if(!aa)throw new xb(h.ENTITYAUTH_FACTORY_NOT_FOUND,H);F=aa.getCryptoContext(w,E);}catch(za){throw za instanceof G&&za.setEntity(E),za;}try{x=va(x);}catch(za){throw new Ha(h.HEADER_DATA_INVALID,x,za).setEntity(E);}if(!x||0==x.length)throw new Ha(h.HEADER_DATA_MISSING,x).setEntity(E);F.verify(x,J,{result:function(H){n(v,function(){if(!H)throw new P(h.MESSAGE_VERIFICATION_FAILED).setEntity(E);F.decrypt(x,{result:function(F){n(v,function(){var n,H,z,aa,za,ga,da,Ba;n=Va(F,La);try{H=JSON.parse(n);}catch(ta){if(ta instanceof SyntaxError)throw new ha(h.JSON_PARSE_ERROR,"errordata "+n,ta).setEntity(E);throw ta;}z=H.recipient!==la?H.recipient:null;aa=parseInt(H.messageid);za=parseInt(H.errorcode);ga=parseInt(H.internalcode);da=H.errormsg;Ba=H.usermsg;if(z&&"string"!==typeof z||!aa||aa!=aa||!za||za!=za||H.internalcode&&ga!=ga||da&&"string"!==typeof da||Ba&&"string"!==typeof Ba)throw new ha(h.JSON_PARSE_ERROR,"errordata "+n).setEntity(E);if(0>aa||aa>Ma)throw new Ha(h.MESSAGE_ID_OUT_OF_RANGE,"errordata "+n).setEntity(E);H=!1;for(var G in l)if(l[G]==za){H=!0;break;}H||(za=l.FAIL);if(ga){if(0>ga)throw new Ha(h.INTERNAL_CODE_NEGATIVE,"errordata "+n).setEntity(E).setMessageId(aa);}else ga=-1;n=new r(x,J);new Mb(w,E,z,aa,za,ga,da,Ba,n,v);});},error:function(h){n(v,function(){h instanceof G&&h.setEntity(E);throw h;});}});});},error:function(h){n(v,function(){h instanceof G&&h.setEntity(E);throw h;});}});});};}());Xe=na.Class.create({getUserMessage:function(h,l){}});(function(){md=function(h,l){var n,w;if(!h||!l)return null;n=h.compressionAlgorithms.filter(function(h){for(var n=0;n<l.compressionAlgorithms.length;++n)if(h==l.compressionAlgorithms[n])return!0;return!1;});w=h.languages.filter(function(h){for(var n=0;n<l.languages.length;++n)if(h==l.languages[n])return!0;return!1;});return new kc(n,w);};kc=na.Class.create({init:function(h,l){h||(h=[]);l||(l=[]);h.sort();Object.defineProperties(this,{compressionAlgorithms:{value:h,writable:!1,enumerable:!0,configurable:!1},languages:{value:l,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var h;h={};h.compressionalgos=this.compressionAlgorithms;h.languages=this.languages;return h;},equals:function(h){return this===h?!0:h instanceof kc?wd(this.compressionAlgorithms,h.compressionAlgorithms)&&wd(this.languages,h.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});ee=function(l){var n,r,J;n=l.compressionalgos;r=l.languages;if(n&&!(n instanceof Array)||r&&!(r instanceof Array))throw new ha(h.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(l));l=[];for(var E=0;n&&E<n.length;++E){J=n[E];Ob[J]&&l.push(J);}return new kc(l,r);};}());(function(){var xa,Z;function l(h,l,n,v,w){this.customer=h;this.sender=l;this.messageCryptoContext=n;this.headerdata=v;this.signature=w;}function w(h,l,n,v,w,r,F,x,E,ja,J,aa,H,Z,za,g,d,a,c,f){return{cryptoContext:{value:l,writable:!1,configurable:!1},customer:{value:n,writable:!1,configurable:!1},entityAuthenticationData:{value:v,writable:!1,configurable:!1},masterToken:{value:w,writable:!1,configurable:!1},sender:{value:r,writable:!1,configurable:!1},messageId:{value:F,writable:!1,configurable:!1},nonReplayableId:{value:g,writable:!1,configurable:!1},keyRequestData:{value:x,writable:!1,configurable:!1},keyResponseData:{value:E,writable:!1,configurable:!1},userAuthenticationData:{value:ja,writable:!1,configurable:!1},userIdToken:{value:J,writable:!1,configurable:!1},serviceTokens:{value:aa,writable:!1,configurable:!1},peerMasterToken:{value:H,writable:!1,configurable:!1},peerUserIdToken:{value:Z,writable:!1,configurable:!1},peerServiceTokens:{value:za,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:d,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:c,writable:!1,enumerable:!1,configurable:!1},signature:{value:f,writable:!1,enumerable:!1,configurable:!1}};}function r(l,n,v){var w;if(v){if(n=l.getMslStore().getCryptoContext(v))return n;if(!v.isVerified()||!v.isDecrypted())throw new Qb(h.MASTERTOKEN_UNTRUSTED,v);return new kb(l,v);}v=n.scheme;w=l.getEntityAuthenticationFactory(v);if(!w)throw new xb(h.ENTITYAUTH_FACTORY_NOT_FOUND,v);return w.getCryptoContext(l,n);}function E(l,v,w,r,F){n(F,function(){v.verify(w,r,{result:function(l){n(F,function(){if(!l)throw new P(h.MESSAGE_VERIFICATION_FAILED);v.decrypt(w,{result:function(h){n(F,function(){return Va(h,La);});},error:function(h){F.error(h);}});});},error:function(h){F.error(h);}});});}function J(h,l,v){n(v,function(){if(l)Ud(h,l,v);else return null;});}function v(h,l,v,w){n(w,function(){if(l)Tb(h,l,v,w);else return null;});}function F(h,l,v,w){n(w,function(){if(v)ie(h,l,v,w);else return null;});}function Ba(l,v,w,r,F,x,E){var J;function z(v,E,aa){var ja,H;if(E>=v.length){ja=[];for(H in J)ja.push(J[H]);aa.result(ja);}else{ja=v[E];if("object"!==typeof ja)throw new ha(h.JSON_PARSE_ERROR,"headerdata "+x);Hc(l,ja,w,r,F,{result:function(h){n(aa,function(){J[h.uniqueKey()]=h;z(v,E+1,aa);});},error:function(h){aa.error(h);}});}}J={};n(E,function(){if(v){if(!(v instanceof Array))throw new ha(h.JSON_PARSE_ERROR,"headerdata "+x);z(v,0,E);}else return[];});}function aa(l,v,w,r,F,x){function z(l,v,w){n(w,function(){var n;n=v.peermastertoken;if(n&&"object"!==typeof n)throw new ha(h.JSON_PARSE_ERROR,"headerdata "+F);if(!n)return null;Sb(l,n,w);});}function E(l,v,w,r){n(r,function(){var n;n=v.peeruseridtoken;if(n&&"object"!==typeof n)throw new ha(h.JSON_PARSE_ERROR,"headerdata "+F);if(!n)return null;Tb(l,n,w,r);});}n(x,function(){if(!l.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};z(l,v,{result:function(h){n(x,function(){var z;z=w?w.masterToken:h;E(l,v,z,{result:function(w){n(x,function(){Ba(l,v.peerservicetokens,z,w,r,F,{result:function(l){n(x,function(){return{peerMasterToken:h,peerUserIdToken:w,peerServiceTokens:l};});},error:function(h){n(x,function(){h instanceof G&&(h.setEntity(z),h.setUser(w));throw h;});}});});},error:function(h){n(x,function(){h instanceof G&&h.setEntity(z);throw h;});}});});},error:x.error});});}function za(l,v,w,r){var x;function F(h,v){n(r,function(){if(v>=h.length)return x;Td(l,h[v],{result:function(l){n(r,function(){x.push(l);F(h,v+1);});},error:function(h){r.error(h);}});});}x=[];n(r,function(){var l;l=v.keyrequestdata;if(!l)return x;if(!(l instanceof Array))throw new ha(h.JSON_PARSE_ERROR,"headerdata "+w);F(l,0);});}xa=ge=na.Class.create({init:function(h,l,n,v,w,r,F,x,E){Object.defineProperties(this,{messageId:{value:h,writable:!1,configurable:!1},nonReplayableId:{value:l,writable:!1,configurable:!1},renewable:{value:n,writable:!1,configurable:!1},capabilities:{value:v,writable:!1,configurable:!1},keyRequestData:{value:w,writable:!1,configurable:!1},keyResponseData:{value:r,writable:!1,configurable:!1},userAuthData:{value:F,writable:!1,configurable:!1},userIdToken:{value:x,writable:!1,configurable:!1},serviceTokens:{value:E,writable:!1,configurable:!1}});}});Z=he=na.Class.create({init:function(h,l,n){Object.defineProperties(this,{peerMasterToken:{value:h,writable:!1,configurable:!1},peerUserIdToken:{value:l,writable:!1,configurable:!1},peerServiceTokens:{value:n,writable:!1,configurable:!1}});}});lc=na.Class.create({init:function(h,l,v,F,x,E,J){var aa;function z(z){n(J,function(){var ja,H,Z,ra,ga,g,d,a,c,f,m,q,b,k,p,t,u;l=v?null:l;ja=F.nonReplayableId;H=F.renewable;Z=F.capabilities;ra=F.messageId;ga=F.keyRequestData?F.keyRequestData:[];g=F.keyResponseData;d=F.userAuthData;a=F.userIdToken;c=F.serviceTokens?F.serviceTokens:[];h.isPeerToPeer()?(f=x.peerMasterToken,m=x.peerUserIdToken,q=x.peerServiceTokens?x.peerServiceTokens:[]):(m=f=null,q=[]);if(0>ra||ra>Ma)throw new ea("Message ID "+ra+" is out of range.");if(!l&&!v)throw new ea("Message entity authentication data or master token must be provided.");g?h.isPeerToPeer()?(b=v,k=g.masterToken):(b=g.masterToken,k=f):(b=v,k=f);if(a&&(!b||!a.isBoundTo(b)))throw new ea("User ID token must be bound to a master token.");if(m&&(!k||!m.isBoundTo(k)))throw new ea("Peer user ID token must be bound to a peer master token.");c.forEach(function(f){if(f.isMasterTokenBound()&&(!b||!f.isBoundTo(b)))throw new ea("Master token bound service tokens must be bound to the provided master token.");if(f.isUserIdTokenBound()&&(!a||!f.isBoundTo(a)))throw new ea("User ID token bound service tokens must be bound to the provided user ID token.");},this);q.forEach(function(a){if(a.isMasterTokenBound()&&(!k||!a.isBoundTo(k)))throw new ea("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!m||!a.isBoundTo(m)))throw new ea("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(E){p=E.customer;t=E.messageCryptoContext;u=w(h,t,p,l,v,z,ra,ga,g,d,a,c,f,m,q,ja,H,Z,E.headerdata,E.signature);Object.defineProperties(this,u);return this;}p=a?a.customer:null;u={};z&&(u.sender=z);u.messageid=ra;"number"===typeof ja&&(u.nonreplayableid=ja);u.renewable=H;Z&&(u.capabilities=Z);0<ga.length&&(u.keyrequestdata=ga);g&&(u.keyresponsedata=g);d&&(u.userauthdata=d);a&&(u.useridtoken=a);0<c.length&&(u.servicetokens=c);f&&(u.peermastertoken=f);m&&(u.peeruseridtoken=m);0<q.length&&(u.peerservicetokens=q);try{t=r(h,l,v);}catch(y){throw y instanceof G&&(y.setEntity(v),y.setEntity(l),y.setUser(a),y.setUser(d),y.setMessageId(ra)),y;}u=Ta(JSON.stringify(u),La);t.encrypt(u,{result:function(b){n(J,function(){t.sign(b,{result:function(k){n(J,function(){var u;u=w(h,t,p,l,v,z,ra,ga,g,d,a,c,f,m,q,ja,H,Z,b,k);Object.defineProperties(this,u);return this;},aa);},error:function(b){n(J,function(){b instanceof G&&(b.setEntity(v),b.setEntity(l),b.setUser(a),b.setUser(d),b.setMessageId(ra));throw b;},aa);}});},aa);},error:function(b){n(J,function(){b instanceof G&&(b.setEntity(v),b.setEntity(l),b.setUser(a),b.setUser(d),b.setMessageId(ra));throw b;},aa);}});},aa);}aa=this;n(J,function(){E?z(E.sender):v?h.getEntityAuthenticationData(null,{result:function(h){h=h.getIdentity();z(h);},error:J.error}):z(null);},aa);},isEncrypting:function(){return this.masterToken||Qc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var h;h={};this.masterToken?h[$d]=this.masterToken:h[jd]=this.entityAuthenticationData;h[ae]=pa(this.headerdata);h[kd]=pa(this.signature);return h;}});fe=function(h,l,n,v,w,F){new lc(h,l,n,v,w,null,F);};ld=function(w,x,H,ya,ga,da,ua){n(ua,function(){var z,X;H=ya?null:H;if(!H&&!ya)throw new Ha(h.MESSAGE_ENTITY_NOT_FOUND);z=x;try{x=va(z);}catch(ja){throw new Ha(h.HEADER_DATA_INVALID,z,ja);}if(!x||0==x.length)throw new Ha(h.HEADER_DATA_MISSING,z);try{X=r(w,H,ya);}catch(ja){throw ja instanceof G&&(ja.setEntity(ya),ja.setEntity(H)),ja;}E(w,X,x,ga,{result:function(r){n(ua,function(){var z,E,ja,ra,qa;try{z=JSON.parse(r);}catch(g){if(g instanceof SyntaxError)throw new ha(h.JSON_PARSE_ERROR,"headerdata "+r,g).setEntity(ya).setEntity(H);throw g;}E=parseInt(z.messageid);if(!E||E!=E)throw new ha(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(ya).setEntity(H);if(0>E||E>Ma)throw new Ha(h.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+r).setEntity(ya).setEntity(H);ja=ya?z.sender:null;if(ya&&(!ja||"string"!==typeof ja))throw new ha(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(ya).setEntity(H).setMessageId(E);ra=z.keyresponsedata;if(ra&&"object"!==typeof ra)throw new ha(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(ya).setEntity(H).setMessageId(E);qa=ua;ua={result:function(g){qa.result(g);},error:function(g){g instanceof G&&(g.setEntity(ya),g.setEntity(H),g.setMessageId(E));qa.error(g);}};J(w,ra,{result:function(g){n(ua,function(){var d,a;d=!w.isPeerToPeer()&&g?g.masterToken:ya;a=z.useridtoken;if(a&&"object"!==typeof a)throw new ha(h.JSON_PARSE_ERROR,"headerdata "+r);v(w,a,d,{result:function(a){n(ua,function(){var f;f=z.userauthdata;if(f&&"object"!==typeof f)throw new ha(h.JSON_PARSE_ERROR,"headerdata "+r);F(w,d,f,{result:function(f){n(ua,function(){var c,b,k;if(f){b=f.scheme;k=w.getUserAuthenticationFactory(b);if(!k)throw new Da(h.USERAUTH_FACTORY_NOT_FOUND,b).setUser(a).setUser(f);b=ya?ya.identity:H.getIdentity();c=k.authenticate(w,b,f,a);}else c=a?a.customer:null;Ba(w,z.servicetokens,d,a,da,r,{result:function(b){n(ua,function(){var k,p,m,d;k=z.nonreplayableid!==la?parseInt(z.nonreplayableid):null;p=z.renewable;if(k!=k||"boolean"!==typeof p)throw new ha(h.JSON_PARSE_ERROR,"headerdata "+r);if(0>k||k>Ma)throw new Ha(h.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+r);m=null;d=z.capabilities;if(d){if("object"!==typeof d)throw new ha(h.JSON_PARSE_ERROR,"headerdata "+r);m=ee(d);}za(w,z,r,{result:function(t){aa(w,z,g,da,r,{result:function(d){n(ua,function(){var q,u,y,D;q=d.peerMasterToken;u=d.peerUserIdToken;y=d.peerServiceTokens;D=new xa(E,k,p,m,t,g,f,a,b);q=new Z(q,u,y);u=new l(c,ja,X,x,ga);new lc(w,H,ya,D,q,u,ua);});},error:ua.error});},error:function(b){n(ua,function(){b instanceof G&&(b.setUser(a),b.setUser(f));throw b;});}});});},error:function(b){n(ua,function(){b instanceof G&&(b.setEntity(d),b.setUser(a),b.setUser(f));throw b;});}});});},error:ua.error});});},error:ua.error});});},error:ua.error});});},error:ua.error});});};}());(function(){function l(h,l){this.payload=h;this.signature=l;}nd=na.Class.create({init:function(h,l,r,J,v,F,H,aa){var w;w=this;n(aa,function(){var x,E;if(0>h||h>Ma)throw new ea("Sequence number "+h+" is outside the valid range.");if(0>l||l>Ma)throw new ea("Message ID "+l+" is outside the valid range.");if(H)return Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:H.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:H.signature,writable:!1,enumerable:!1,configurable:!1}}),this;J?(x=od(J,v),x||(J=null,x=v)):(J=null,x=v);E={};E.sequencenumber=h;E.messageid=l;r&&(E.endofmsg=r);J&&(E.compressionalgo=J);E.data=pa(x);x=Ta(JSON.stringify(E),La);F.encrypt(x,{result:function(x){n(aa,function(){F.sign(x,{result:function(F){n(aa,function(){Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:x,writable:!1,enumerable:!1,configurable:!1},signature:{value:F,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){aa.error(h);}});},w);},error:function(h){aa.error(h);}});},w);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var h;h={};h.payload=pa(this.payload);h.signature=pa(this.signature);return h;}});je=function(h,l,n,r,v,F,H){new nd(h,l,n,r,v,F,null,H);};ke=function(w,r,E){n(E,function(){var x,v,F,H;x=w.payload;v=w.signature;if(!x||"string"!==typeof x||"string"!==typeof v)throw new ha(h.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(w));try{F=va(x);}catch(aa){throw new Ha(h.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(w),aa);}try{H=va(v);}catch(aa){throw new Ha(h.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(w),aa);}r.verify(F,H,{result:function(v){n(E,function(){if(!v)throw new P(h.PAYLOAD_VERIFICATION_FAILED);r.decrypt(F,{result:function(v){n(E,function(){var n,w,x,z,J,aa,ga;n=Va(v,La);try{w=JSON.parse(n);}catch(da){if(da instanceof SyntaxError)throw new ha(h.JSON_PARSE_ERROR,"payload chunk payload "+n,da);throw da;}x=parseInt(w.sequencenumber);z=parseInt(w.messageid);J=w.endofmsg;aa=w.compressionalgo;w=w.data;if(!x||x!=x||!z||z!=z||J&&"boolean"!==typeof J||aa&&"string"!==typeof aa||"string"!==typeof w)throw new ha(h.JSON_PARSE_ERROR,"payload chunk payload "+n);if(0>x||x>Ma)throw new G(h.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+n);if(0>z||z>Ma)throw new G(h.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+n);J||(J=!1);if(aa&&!Ob[aa])throw new Ha(h.UNIDENTIFIED_COMPRESSION,aa);try{ga=va(w);}catch(da){throw new Ha(h.PAYLOAD_DATA_CORRUPT,w,da);}if(ga&&0!=ga.length)n=aa?Ic(aa,ga):ga;else{if(0<w.length)throw new Ha(h.PAYLOAD_DATA_CORRUPT,w);if(J)n=new Uint8Array(0);else throw new Ha(h.PAYLOAD_DATA_MISSING,w);}ga=new l(F,H);new nd(x,z,J,aa,n,r,ga,E);});},error:function(h){E.error(h);}});});},error:function(h){E.error(h);}});});};}());(function(){var E,J;function l(l,w,r,x,E){var F,J,z,aa,H;function v(){n(E,function(){var r,x;J>=w.length&&(J=0,++F);if(F>=z.length){if(aa)throw aa;throw new Qa(h.KEYX_FACTORY_NOT_FOUND,JSON.stringify(w));}r=z[F];x=w[J];r.scheme!=x.keyExchangeScheme?(++J,v()):r.generateResponse(l,x,H,{result:function(h){E.result(h);},error:function(h){n(E,function(){if(!(h instanceof G))throw h;aa=h;++J;v();});}});});}F=0;J=0;z=l.getKeyExchangeFactories();H=r?r:x;v();}function w(h,w,r,x,E){n(E,function(){var v;v=w.keyRequestData;if(w.isRenewable()&&0<v.length)x?x.isRenewable()||x.isExpired()?l(h,v,x,null,E):h.getTokenFactory().isNewestMasterToken(h,x,{result:function(w){n(E,function(){if(w)return null;l(h,v,x,null,E);});},error:E.error}):l(h,v,null,r.getIdentity(),E);else return null;});}function r(l,w,r,x){n(x,function(){var n,v,F,E;n=w.userIdToken;v=w.userAuthenticationData;F=w.messageId;if(n&&n.isVerified()){if(n.isRenewable()&&w.isRenewable()||n.isExpired()||!n.isBoundTo(r)){v=l.getTokenFactory();v.renewUserIdToken(l,n,r,x);return;}}else if(w.isRenewable()&&r&&v){n=w.customer;if(!n){n=v.scheme;E=l.getUserAuthenticationFactory(n);if(!E)throw new Da(h.USERAUTH_FACTORY_NOT_FOUND,n).setEntity(r).setUser(v).setMessageId(F);n=E.authenticate(l,r.identity,v,null);}v=l.getTokenFactory();v.createUserIdToken(l,n,r,x);return;}return n;});}E=new Uint8Array(0);J=Ub=function(h){if(0>h||h>Ma)throw new ea("Message ID "+h+" is outside the valid range.");return h==Ma?0:h+1;};bc=function(h){if(0>h||h>Ma)throw new ea("Message ID "+h+" is outside the valid range.");return 0==h?Ma:h-1;};Vb=function(h,l,w,r,x){n(x,function(){var v;if(r==la||null==r){v=h.getRandom();do r=v.nextLong();while(0>r||r>Ma);}else if(0>r||r>Ma)throw new ea("Message ID "+r+" is outside the valid range.");h.getEntityAuthenticationData(null,{result:function(v){n(x,function(){var n;n=h.getMessageCapabilities();return new Jc(h,r,n,v,l,w,null,null,null,null,null);});},error:function(h){x.error(h);}});});};le=function(h,l,x){n(x,function(){var F,E,H,Ba,z,X;function v(h){n(x,function(){h instanceof G&&(h.setEntity(F),h.setEntity(E),h.setUser(H),h.setUser(Ba),h.setMessageId(z));throw h;});}F=l.masterToken;E=l.entityAuthenticationData;H=l.userIdToken;Ba=l.userAuthenticationData;z=l.messageId;X=J(z);w(h,l,E,F,{result:function(w){n(x,function(){var E;E=w?w.keyResponseData.masterToken:E=F;h.getEntityAuthenticationData(null,{result:function(z){n(x,function(){r(h,l,E,{result:function(v){n(x,function(){var n,r,x;H=v;n=md(l.messageCapabilities,h.getMessageCapabilities());r=l.keyResponseData;x=l.serviceTokens;return h.isPeerToPeer()?new Jc(h,X,n,z,r?r.masterToken:l.peerMasterToken,l.peerUserIdToken,l.peerServiceTokens,F,H,x,w):new Jc(h,X,n,z,r?r.masterToken:F,H,x,null,null,null,w);});},error:v});});},error:v});});},error:v});});};me=function(h,l,w,r,x){n(x,function(){h.getEntityAuthenticationData(null,{result:function(v){n(x,function(){var n,F;if(l!=la&&null!=l)n=J(l);else{F=h.getRandom();do n=F.nextInt();while(0>n||n>Ma);}de(h,v,n,w.responseCode,w.internalCode,w.message,r,x);});},error:function(h){x.error(h);}});});};Jc=na.Class.create({init:function(h,l,n,w,r,x,E,J,z,H,G){var v,F,aa,Z,X;if(!h.isPeerToPeer()&&(J||z))throw new ea("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");v=G&&!h.isPeerToPeer()?G.keyResponseData.masterToken:r;F={};h.getMslStore().getServiceTokens(v,x).forEach(function(h){F[h.name]=h;},this);E&&E.forEach(function(h){F[h.name]=h;},this);X={};h.isPeerToPeer()&&(aa=J,Z=z,E=G?G.keyResponseData.masterToken:J,h.getMslStore().getServiceTokens(E,z).forEach(function(h){X[h.name]=h;},this),H&&H.forEach(function(h){X[h.name]=h;},this));Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:w,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:r,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:l,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:n,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:G,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:x,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:F,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:aa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Z,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:X,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||Qc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Qc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||xd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||xd(this._entityAuthData.scheme);},getHeader:function(l){n(l,function(){var n,v,w,r,x;n=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);r=[];for(x in this._keyRequestData)r.push(this._keyRequestData[x]);if(this._nonReplayable){if(!this._masterToken)throw new Ha(h.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);x=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else x=null;n=new ge(this._messageId,x,this._renewable,this._capabilities,r,n,this._userAuthData,this._userIdToken,v);v=[];for(w in this._peerServiceTokens)v.push(this._peerServiceTokens[w]);w=new he(this._peerMasterToken,this._peerUserIdToken,v);fe(this._ctx,this._entityAuthData,this._masterToken,n,w,l);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(h){this._nonReplayable=h;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(h){this._renewable=h;return this;},setAuthTokens:function(h,l){var n,v,w;if(l&&!l.isBoundTo(h))throw new ea("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new ea("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{n=this._ctx.getMslStore().getServiceTokens(h,l);}catch(xa){if(xa instanceof G)throw new ea("Invalid master token and user ID token combination despite checking above.",xa);throw xa;}v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);v.forEach(function(n){(n.isUserIdTokenBound()&&!n.isBoundTo(l)||n.isMasterTokenBound()&&!n.isBoundTo(h))&&delete this._serviceTokens[n.name];},this);n.forEach(function(h){this._serviceTokens[h.name]=h;},this);this._masterToken=h;this._userIdToken=l;},setUserAuthenticationData:function(h){this._userAuthData=h;return this;},setCustomer:function(h,l){var v;v=this;n(l,function(){var w;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new ea("User ID token or peer user ID token already exists for the remote user.");w=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!w)throw new ea("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,h,w,{result:function(h){n(l,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=h:(this._userIdToken=h,this._userAuthData=null);return!0;},v);},error:function(h){l.error(h);}});},v);},addKeyRequestData:function(h){this._keyRequestData[h.uniqueKey()]=h;return this;},removeKeyRequestData:function(h){delete this._keyRequestData[h.uniqueKey()];return this;},addServiceToken:function(l){var n;n=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(l.isMasterTokenBound()&&!l.isBoundTo(n))throw new Ha(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(n)).setEntity(n);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._userIdToken))throw new Ha(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(n).setUser(this._userIdToken);this._serviceTokens[l.name]=l;return this;},addServiceTokenIfAbsent:function(h){this._serviceTokens[h.name]||this.addServiceToken(h);return this;},excludeServiceToken:function(h){delete this._serviceTokens[h];return this;},deleteServiceToken:function(h,l){var v;v=this;n(l,function(){var w,r;w=this._serviceTokens[h];if(!w)return this;r=w.isMasterTokenBound()?this._masterToken:null;w=w.isUserIdTokenBound()?this._userIdToken:null;Db(this._ctx,h,E,r,w,!1,null,new ac(),{result:function(h){n(l,function(){return this.addServiceToken(h);},v);},error:function(h){h instanceof G&&(h=new ea("Failed to create and add empty service token to message.",h));l.error(h);}});},v);},getServiceTokens:function(){var h,l;h=[];for(l in this._serviceTokens)h.push(this._serviceTokens[l]);return h;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(l,n){var v;if(!this._ctx.isPeerToPeer())throw new ea("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(n&&!l)throw new ea("Peer master token cannot be null when setting peer user ID token.");if(n&&!n.isBoundTo(l))throw new Ha(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+n+"; mt "+l).setEntity(l).setUser(n);try{v=this._ctx.getMslStore().getServiceTokens(l,n);}catch(aa){if(aa instanceof G)throw new ea("Invalid peer master token and user ID token combination despite proper check.",aa);throw aa;}Object.keys(this._peerServiceTokens).forEach(function(h){var v;v=this._peerServiceTokens[h];v.isUserIdTokenBound()&&!v.isBoundTo(n)?delete this._peerServiceTokens[h]:v.isMasterTokenBound()&&!v.isBoundTo(l)&&delete this._peerServiceTokens[h];},this);v.forEach(function(h){var l;l=h.name;this._peerServiceTokens[l]||(this._peerServiceTokens[l]=h);},this);this._peerUserIdToken=n;this._peerMasterToken=l;return this;},addPeerServiceToken:function(l){if(!this._ctx.isPeerToPeer())throw new ea("Cannot set peer service tokens when not in peer-to-peer mode.");if(l.isMasterTokenBound()&&!l.isBoundTo(this._peerMasterToken))throw new Ha(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._peerUserIdToken))throw new Ha(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this._peerServiceTokens[l.name]=l;return this;},addPeerServiceTokenIfAbsent:function(h){this._peerServiceTokens[h.name]||this.addPeerServiceToken(h);return this;},excludePeerServiceToken:function(h){delete this._peerServiceTokens[h];return this;},deletePeerServiceToken:function(h,l){var v;v=this;n(l,function(){var w,r;w=this._peerServiceTokens[h];if(!w)return this;r=w.isMasterTokenBound()?this._peerMasterToken:null;w=w.isUserIdTokenBound()?this._peerUserIdToken:null;Db(this._ctx,h,E,r,w,!1,null,new ac(),{result:function(h){n(l,function(){return this.addPeerServiceToken(h);},v);},error:function(h){h instanceof G&&(h=new ea("Failed to create and add empty peer service token to message.",h));l.error(h);}});},v);},getPeerServiceTokens:function(){var h,l;h=[];for(l in this._peerServiceTokens)h.push(this._peerServiceTokens[l]);return h;}});}());(function(){function h(h,l){return l[h]?l[h]:l[""];}function l(h){var l;l=h.builder.getKeyExchangeData();return l&&!h.ctx.isPeerToPeer()?l.keyResponseData.masterToken:h.builder.getMasterToken();}ne=na.Class.create({init:function(h,l,n){h={ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:l.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:n,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},isPrimaryMasterTokenAvailable:function(){return l(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(h){try{return this.builder.addServiceToken(h),!0;}catch(E){if(E instanceof Ha)return!1;throw E;}},addPeerServiceToken:function(h){try{return this.builder.addPeerServiceToken(h),!0;}catch(E){if(E instanceof Ha)return!1;throw E;}},addUnboundPrimaryServiceToken:function(l,w,r,v,F){var x;x=this;n(F,function(){var E;E=h(l,this.cryptoContexts);if(!E)return!1;Db(this.ctx,l,w,null,null,r,v,E,{result:function(h){n(F,function(){try{this.builder.addServiceToken(h);}catch(xa){if(xa instanceof Ha)throw new ea("Service token bound to incorrect authentication tokens despite being unbound.",xa);throw xa;}return!0;},x);},error:function(h){F.error(h);}});},x);},addUnboundPeerServiceToken:function(l,w,r,v,F){var x;x=this;n(F,function(){var E;E=h(l,this.cryptoContexts);if(!E)return!1;Db(this.ctx,l,w,null,null,r,v,E,{result:function(h){n(F,function(){try{this.builder.addPeerServiceToken(h);}catch(xa){if(xa instanceof Ha)throw new ea("Service token bound to incorrect authentication tokens despite being unbound.",xa);throw xa;}return!0;},x);},error:function(h){F.error(h);}});},x);},addMasterBoundPrimaryServiceToken:function(w,r,J,v,F){var x;x=this;n(F,function(){var E,H;E=l(this);if(!E)return!1;H=h(w,this.cryptoContexts);if(!H)return!1;Db(this.ctx,w,r,E,null,J,v,H,{result:function(h){n(F,function(){try{this.builder.addServiceToken(h);}catch(Z){if(Z instanceof Ha)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token.",Z);throw Z;}return!0;},x);},error:function(h){F.error(h);}});},x);},addMasterBoundPeerServiceToken:function(l,w,r,v,F){var x;x=this;n(F,function(){var E,J;E=this.builder.getPeerMasterToken();if(!E)return!1;J=h(l,this.cryptoContexts);if(!J)return!1;Db(this.ctx,l,w,E,null,r,v,J,{result:function(h){n(F,function(){try{this.builder.addPeerServiceToken(h);}catch(Z){if(Z instanceof Ha)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token.",Z);throw Z;}return!0;},x);},error:function(h){F.error(h);}});},x);},addUserBoundPrimaryServiceToken:function(w,r,J,v,F){var x;x=this;n(F,function(){var E,H,G;E=l(this);if(!E)return!1;H=this.builder.getUserIdToken();if(!H)return!1;G=h(w,this.cryptoContexts);if(!G)return!1;Db(this.ctx,w,r,E,H,J,v,G,{result:function(h){n(F,function(){try{this.builder.addServiceToken(h);}catch(qa){if(qa instanceof Ha)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",qa);throw qa;}return!0;},x);},error:function(h){F.error(h);}});},x);},addUserBoundPeerServiceToken:function(l,w,r,v,F){var x;x=this;n(F,function(){var E,J,H;E=this.builder.getPeerMasterToken();if(!E)return!1;J=this.builder.getPeerUserIdToken();if(!J)return!1;H=h(l,this.cryptoContexts);if(!H)return!1;Db(this.ctx,l,w,E,J,r,v,H,{result:function(h){n(F,function(){try{this.builder.addPeerServiceToken(h);}catch(qa){if(qa instanceof Ha)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",qa);throw qa;}return!0;},x);},error:function(h){F.error(h);}});},x);},excludePrimaryServiceToken:function(h){for(var l=this.builder.getServiceTokens(),n=0;n<l.length;++n)if(l[n].name==h)return this.builder.excludeServiceToken(h),!0;return!1;},excludePeerServiceToken:function(h){for(var l=this.builder.getPeerServiceTokens(),n=0;n<l.length;++n)if(l[n].name==h)return this.builder.excludePeerServiceToken(h),!0;return!1;},deletePrimaryServiceToken:function(h,l){n(l,function(){for(var n=this.builder.getServiceTokens(),v=0;v<n.length;++v)if(n[v].name==h){this.builder.deleteServiceToken(h,{result:function(){l.result(!0);},error:function(h){l.error(h);}});return;}return!1;},this);},deletePeerServiceToken:function(h,l){n(l,function(){for(var n=this.builder.getPeerServiceTokens(),v=0;v<n.length;++v)if(n[v].name==h){this.builder.deletePeerServiceToken(h,{result:function(){l.result(!0);},error:function(h){l.error(h);}});return;}return!1;},this);}});}());(function(){function l(l,r,E,J){n(J,function(){var w,x,H,za,M,Z;function v(){n(J,function(){var r;if(Z>=E.length){if(M)throw M;throw new Qa(h.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(E));}r=E[Z];H!=r.keyExchangeScheme?(++Z,v()):za.getCryptoContext(l,r,x,w,{result:J.result,error:function(h){n(J,function(){if(!(h instanceof G))throw h;M=h;++Z;v();});}});});}w=r.masterToken;x=r.keyResponseData;if(!x)return null;H=x.keyExchangeScheme;za=l.getKeyExchangeFactory(H);if(!za)throw new Qa(h.KEYX_FACTORY_NOT_FOUND,H);Z=0;v();});}oe=fd.extend({init:function(n,x,E,J,v,F,H){var w;w=this;r(H,function(){var X;function r(){w._ready=!0;w._readyQueue.add(!0);}function H(h,l){var n;try{n=l.masterToken;h.getTokenFactory().isMasterTokenRevoked(h,n,{result:function(v){v?(w._errored=new Qb(v,n).setUser(l.userIdToken).setUser(l.userAuthenticationData).setMessageId(l.messageId),r()):Z(h,l);},error:function(h){h instanceof G&&(h.setEntity(l.masterToken),h.setUser(l.userIdToken),h.setUser(l.userAuthenticationData),h.setMessageId(l.messageId));w._errored=h;r();}});}catch(ua){ua instanceof G&&(ua.setEntity(l.masterToken),ua.setUser(l.userIdToken),ua.setUser(l.userAuthenticationData),ua.setMessageId(l.messageId));w._errored=ua;r();}}function Z(h,l){var n,v;try{n=l.masterToken;v=l.userIdToken;v?h.getTokenFactory().isUserIdTokenRevoked(h,n,v,{result:function(x){x?(w._errored=new MslUserIdTokenException(x,v).setEntity(n).setUser(v).setMessageId(l.messageId),r()):aa(h,l);},error:function(h){h instanceof G&&(h.setEntity(l.masterToken),h.setUser(l.userIdToken),h.setUser(l.userAuthenticationData),h.setMessageId(l.messageId));w._errored=h;r();}}):aa(h,l);}catch(Oa){Oa instanceof G&&(Oa.setEntity(l.masterToken),Oa.setUser(l.userIdToken),Oa.setUser(l.userAuthenticationData),Oa.setMessageId(l.messageId));w._errored=Oa;r();}}function aa(l,n){var v;try{v=n.masterToken;v.isExpired()?n.isRenewable()&&0!=n.keyRequestData.length?l.getTokenFactory().isMasterTokenRenewable(l,v,{result:function(h){h?(w._errored=new Ha(h,"Master token is expired and not renewable.").setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):z(l,n);},error:function(h){h instanceof G&&(h.setEntity(n.masterToken),h.setUser(n.userIdToken),h.setUser(n.userAuthenticationData),h.setMessageId(n.messageId));w._errored=h;r();}}):(w._errored=new Ha(h.MESSAGE_EXPIRED,JSON.stringify(n)).setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):z(l,n);}catch(ua){ua instanceof G&&(ua.setEntity(n.masterToken),ua.setUser(n.userIdToken),ua.setUser(n.userAuthenticationData),ua.setMessageId(n.messageId));w._errored=ua;r();}}function z(l,n){var v,x;try{v=n.masterToken;x=n.nonReplayableId;"number"===typeof x?v?l.getTokenFactory().acceptNonReplayableId(l,v,x,{result:function(l){l||(w._errored=new Ha(h.MESSAGE_REPLAYED,JSON.stringify(n)).setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId));r();},error:function(h){h instanceof G&&(h.setEntity(v),h.setUser(n.userIdToken),h.setUser(n.userAuthenticationData),h.setMessageId(n.messageId));w._errored=h;r();}}):(w._errored=new Ha(h.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(n)).setEntity(n.entityAuthenticationData).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):r();}catch(Oa){Oa instanceof G&&(Oa.setEntity(n.masterToken),Oa.setEntity(n.entityAuthenticationData),Oa.setUser(n.userIdToken),Oa.setUser(n.userAuthenticationData),Oa.setMessageId(n.messageId));w._errored=Oa;r();}}X={_source:{value:x,writable:!1,enumerable:!1,configurable:!1},_parser:{value:la,writable:!0,enumerable:!1,configurable:!1},_charset:{value:E,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:F,writable:!1,enumerable:!1,configurable:!1},_header:{value:la,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:la,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:la,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,X);Sd(w._source,F,{result:function(x){w._json=x;w._jsonIndex=0;null===w._json?(w._errored=new ha(h.MESSAGE_DATA_MISSING),r()):Zd(n,w._json[w._jsonIndex++],v,{result:function(h){var v;w._header=h;if(w._header instanceof Mb)w._keyxCryptoContext=null,w._cryptoContext=null,r();else{v=w._header;l(n,v,J,{result:function(h){var l;try{w._keyxCryptoContext=h;n.isPeerToPeer()||!w._keyxCryptoContext?w._cryptoContext=v.cryptoContext:w._cryptoContext=w._keyxCryptoContext;try{l=v.masterToken;l&&(n.isPeerToPeer()||l.isVerified())?H(n,v):z(n,v);}catch(ta){ta instanceof G&&(ta.setEntity(v.masterToken),ta.setUser(v.userIdToken),ta.setUser(v.userAuthenticationData),ta.setMessageId(v.messageId));w._errored=ta;r();}}catch(ta){ta instanceof G&&(ta.setEntity(v.masterToken),ta.setEntity(v.entityAuthenticationData),ta.setUser(v.userIdToken),ta.setUser(v.userAuthenticationData),ta.setMessageId(v.messageId));w._errored=ta;r();}},error:function(h){h instanceof G&&(h.setEntity(v.masterToken),h.setEntity(v.entityAuthenticationData),h.setUser(v.userIdToken),h.setUser(v.userAuthenticationData),h.setMessageId(v.messageId));w._errored=h;r();}});}},error:function(h){w._errored=h;r();}});},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});return this;},w);},nextData:function(l,n){var w;w=this;r(n,function(){var v;function l(h){r(h,function(){var n;if(this._jsonIndex<this._json.length)return n=this._json[this._jsonIndex++];Sd(this._source,this._timeout,{result:function(n){n&&n.length&&0<n.length?(n.forEach(function(h){this._json.push(h);}),l(h)):(this._eom=!0,h.result(null));},timeout:function(){h.timeout();},error:function(l){h.error(l);}});},w);}v=this.getMessageHeader();if(!v)throw new ea("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;l({result:function(l){r(n,function(){if(!l)return null;if("object"!==typeof l)throw new ha(h.MESSAGE_FORMAT_ERROR);ke(l,this._cryptoContext,{result:function(l){r(n,function(){var n,w,r,x;n=v.masterToken;w=v.entityAuthenticationData;r=v.userIdToken;x=v.getUserAuthenticationData;if(l.messageId!=v.messageId)throw new Ha(h.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+l.messageId+" header mid "+v.messageId).setEntity(n).setEntity(w).setUser(r).setUser(x);if(l.sequenceNumber!=this._payloadSequenceNumber)throw new Ha(h.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+l.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(n).setEntity(w).setUser(r).setUser(x);++this._payloadSequenceNumber;l.isEndOfMessage()&&(this._eom=!0);n=l.data;this._payloads.push(n);this._payloadIndex=-1;return n;},w);},error:function(l){l instanceof SyntaxError&&(l=new ha(h.JSON_PARSE_ERROR,"payloadchunk",l));n.error(l);}});},w);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},w);},isReady:function(h,l){var w;function n(){r(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;return!0;}},w);}w=this;r(l,function(){this._ready?n():this._readyQueue.poll(h,{result:function(h){r(l,function(){if(h===la)return!1;n();},w);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},w);},getMessageHeader:function(){return this._header instanceof lc?this._header:null;},getErrorHeader:function(){return this._header instanceof Mb?this._header:null;},getIdentity:function(){var h,l;h=this.getMessageHeader();if(h){l=h.masterToken;return l?l.identity:h.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var h;h=this.getMessageHeader();return h?h.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(h){this._closeSource=h;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(h,l,n){var v;function w(){r(n,function(){var x,E,H,J;function w(n){r(n,function(){var x,F,Z;if(E&&J>=E.length)return E.subarray(0,J);x=-1;if(this._currentPayload){F=this._currentPayload.length-this._payloadOffset;if(!E){Z=F;if(-1!=this._payloadIndex)for(var aa=this._payloadIndex;aa<this._payloads.length;++aa)Z+=this._payloads[aa].length;0<Z&&(E=new Uint8Array(Z));}F=Math.min(F,E?E.length-J:0);0<F&&(x=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+F),E.set(x,H),x=F,H+=F,this._payloadOffset+=F);}-1!=x?(J+=x,w(n)):this.nextData(l,{result:function(l){r(n,function(){if(this._aborted)return E?E.subarray(0,J):new Uint8Array(0);this._currentPayload=l;this._payloadOffset=0;if(this._currentPayload)w(n);else return 0==J&&0!=h?null:E?E.subarray(0,J):new Uint8Array(0);},v);},timeout:function(){n.timeout(E?E.subarray(0,J):new Uint8Array(0));},error:function(h){r(n,function(){h instanceof G&&(h=new Xa("Error reading the payload chunk.",h));if(0<J)return v._readException=h,E.subarray(0,J);throw h;},v);}});},v);}if(this._aborted)return new Uint8Array(0);if(this._timedout)n.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){x=this._readException;this._readException=null;throw x;}E=-1!=h?new Uint8Array(h):la;H=0;J=0;w(n);}},v);}v=this;r(n,function(){if(-1>h)throw new RangeError("read requested with illegal length "+h);this._ready?w():this._readyQueue.poll(l,{result:function(h){h===la?n.result(!1):w();},timeout:function(){n.timeout(new Uint8Array(0));},error:function(h){n.error(h);}});},v);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});pe=function(h,l,n,r,v,F,H){new oe(h,l,n,r,v,F,H);};}());(function(){qe=Ec.extend({init:function(h,l,n,E,J,v,F){var w;w=this;r(F,function(){var x,F,H;function r(){w._ready=!0;w._readyQueue.add(!0);}x=md(h.getMessageCapabilities(),E.messageCapabilities);F=null;x&&(F=Gd(x.compressionAlgorithms));x={_destination:{value:l,writable:!1,enumerable:!1,configurable:!1},_charset:{value:n,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:x,writable:!1,enumerable:!1,configurable:!1},_header:{value:E,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:F,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:J,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,x);H=Ta(JSON.stringify(E),n);l.write(H,0,H.length,v,{result:function(h){try{w._aborted?r():h<H.length?(w._timedout=!0,r()):l.flush(v,{result:function(h){w._aborted||(w._timedout=!h);r();},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});}catch(z){w._errored=z;r();}},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});return this;},w);},setCompressionAlgorithm:function(h,l,n){var x;function w(){x.flush(l,{result:function(l){r(n,function(){if(!l)throw new Xa("flush() aborted");this._compressionAlgo=h;return!0;},x);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});}x=this;r(n,function(){if(!this.getMessageHeader())throw new ea("Cannot write payload data for an error message.");if(this._compressionAlgo==h)return!0;if(h){if(!this._capabilities)return!1;for(var l=this._capabilities.compressionAlgorithms,n=0;n<l.length;++n)if(l[n]==h){w();return;}return!1;}w();},x);},getMessageHeader:function(){return this._header instanceof lc?this._header:null;},getErrorMessage:function(){return this._header instanceof Mb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(h,l){var n;n=this;r(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(h,{result:function(h){r(l,function(){h&&(this._currentPayload=null);return h;},n);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});}},n);},flush:function(h,l){var w;function n(){r(l,function(){var n,v,M;if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;n=this.getMessageHeader();if(!n)return!0;v=0;this._currentPayload&&this._currentPayload.forEach(function(h){v+=h.length;});for(var x=new Uint8Array(v),E=0,H=0;this._currentPayload&&H<this._currentPayload.length;++H){M=this._currentPayload[H];x.set(M,E);E+=M.length;}je(this._payloadSequenceNumber,n.messageId,this._closed,this._compressionAlgo,x,this._cryptoContext,{result:function(n){r(l,function(){var v;this._payloads.push(n);v=Ta(JSON.stringify(n),this._charset);this._destination.write(v,0,v.length,h,{result:function(v){r(l,function(){if(this._aborted)return!1;v<n.length?l.timeout():this._destination.flush(h,{result:function(h){r(l,function(){if(this._aborted)return!1;if(h)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;l.timeout();},w);},timeout:function(){l.timeout();},error:function(h){h instanceof G&&(h=new Xa("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});},w);},timeout:function(h){l.timeout();},error:function(h){h instanceof G&&(h=new Xa("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});},w);},error:function(h){h instanceof G&&(h=new Xa("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});}},w);}w=this;r(l,function(){this._ready?n():this._readyQueue.poll(h,{result:function(h){h===la?l.result(!1):n();},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},w);},write:function(h,l,n,E,J){r(J,function(){var v;if(this._aborted)return!1;if(this._timedout)J.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Xa("Message output stream already closed.");if(0>l)throw new RangeError("Offset cannot be negative.");if(0>n)throw new RangeError("Length cannot be negative.");if(l+n>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new ea("Cannot write payload data for an error message.");v=h.subarray(l,l+n);this._currentPayload.push(v);return v.length;}},this);}});Kc=function(h,l,n,r,J,v,F){new qe(h,l,n,r,J,v,F);};}());Ye=na.Class.create({sentHeader:function(h){},receivedHeader:function(h){}});Object.freeze({USERDATA_REAUTH:l.USERDATA_REAUTH,SSOTOKEN_REJECTED:l.SSOTOKEN_REJECTED});re=na.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(h,l,n,r){},getCustomer:function(){},getKeyRequestData:function(h){},updateServiceTokens:function(h,l,n){},write:function(h,l,n){},getDebugContext:function(){}});na.Class.create({getInputStream:function(h){},getOutputStream:function(h){}});(function(){var M,aa,za,xa,Z,qa,z,X,ya,ga,da,ua;function H(h){return function(){h.abort();};}function w(h,l){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},ticket:{value:l,writable:!1,configurable:!1}});}function x(h,l){Object.defineProperties(this,{builder:{value:h,writable:!1,configurable:!1},msgCtx:{value:l,writable:!1,configurable:!1}});}function E(h,l,n){Object.defineProperties(this,{requestHeader:{value:h,writable:!1,configurable:!1},payloads:{value:l,writable:!1,configurable:!1},handshake:{value:n,writable:!1,configurable:!1}});}function J(h,l){Object.defineProperties(this,{requestHeader:{value:l.requestHeader,writable:!1,configurable:!1},payloads:{value:l.payloads,writable:!1,configurable:!1},handshake:{value:l.handshake,writable:!1,configurable:!1},response:{value:h,writable:!1,configurable:!1}});}function v(h){for(;h;){if(h instanceof db)return!0;h=h instanceof G?h.cause:la;}return!1;}function F(h,l,n,v,w,x,F,E,g){me(l,v,w,x,{result:function(d){n&&n.sentHeader(d);Kc(l,F,La,d,null,null,E,{result:function(a){h.setAbort(function(){a.abort();});a.close(E,{result:function(a){r(g,function(){if(!a)throw new db("sendError aborted.");return a;});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){},error:function(a){g.error(a);}});},error:function(d){g.error(d);}});}M=Ec.extend({close:function(h,l){l.result(!0);},write:function(h,l,v,w,r){n(r,function(){return Math.min(h.length-l,v);});},flush:function(h,l){l.result(!0);}});aa=Xe.extend({getUserMessage:function(h,l){return null;}});za=re.extend({init:function(h){Object.defineProperties(this,{_appCtx:{value:h,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(h,l,n,v){this._appCtx.getUserAuthData(h,l,n,v);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(h){this._appCtx.getKeyRequestData(h);},updateServiceTokens:function(h,l,n){this._appCtx.updateServiceTokens(h,l,n);},write:function(h,l,n){this._appCtx.write(h,l,n);},getDebugContext:function(){return this._appCtx.getDebugContext();}});xa=za.extend({init:function ta(h,l){ta.base.call(this,l);Object.defineProperties(this,{_payloads:{value:h,writable:!1,enumerable:!1,configurable:!1}});},write:function(h,l,n){var w;function v(x,F){var g;if(x==w._payloads.length)n.result(!0);else{g=w._payloads[x];h.setCompressionAlgorithm(g.compressionAlgo,l,{result:function(d){h.write(g.data,0,g.data.length,l,{result:function(a){r(n,function(){g.isEndOfMessage()?v(x+1,F):h.flush(l,{result:function(a){n.result(a);},timeout:function(){n.timeout();},error:function(a){n.error(a);}});},w);},timeout:function(a){n.timeout(a);},error:function(a){n.error(a);}});},timeout:function(){},error:function(d){n.error(d);}});}}w=this;v(0);}});Z=za.extend({init:function ja(h){ja.base.call(this,h);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(h,l,n){n.result(!0);}});qa={};da=na.Class.create({init:function(h){h||(h=new aa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:h,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(h){this._filterFactory=h;},getNewestMasterToken:function(h,l,n,v){var x;x=this;r(v,function(){var F,g,d,a,c;F=l.getMslStore();g=F.getMasterToken();if(!g)return null;d=g.uniqueKey();a=this._masterTokenLocks[d];a||(a=new Vc(),this._masterTokenLocks[d]=a);c=a.readLock(n,{result:function(f){r(v,function(){var c;if(f===la)throw new db("getNewestMasterToken aborted.");c=F.getMasterToken();if(g.equals(c))return new w(g,f);a.unlock(f);a.writeLock(n,{result:function(f){r(v,function(){if(f===la)throw new db("getNewestMasterToken aborted.");delete this._masterTokenLocks[d];a.unlock(f);return this.getNewestMasterToken(h,l,n,v);},x);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},x);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});h.setAbort(function(){c&&(a.cancel(c),c=la);});},x);},deleteMasterToken:function(h,l){var n;if(l){n=this;setTimeout(function(){var v,w;v=l.uniqueKey();w=n._masterTokenLocks[v];w||(w=new Vc(),n._masterTokenLocks[v]=w);w.writeLock(-1,{result:function(r){h.getMslStore().removeCryptoContext(l);delete n._masterTokenLocks[v];w.unlock(r);},timeout:function(){throw new ea("Unexpected timeout received.");},error:function(h){throw h;}});},0);}},releaseMasterToken:function(h){var l;if(h&&h.masterToken){l=h.masterToken.uniqueKey();l=this._masterTokenLocks[l];if(!l)throw new ea("Master token read/write lock does not exist when it should.");l.unlock(h.ticket);}},updateOutgoingCryptoContexts:function(h,l,n){var v;v=h.getMslStore();!h.isPeerToPeer()&&n&&(v.setCryptoContext(n.keyResponseData.masterToken,n.cryptoContext),this.deleteMasterToken(h,l.masterToken));},updateIncomingCryptoContexts:function(h,l,n){var v,w;v=n.getMessageHeader();if(v){w=h.getMslStore();if(v=v.keyResponseData)w.setCryptoContext(v.masterToken,n.getKeyExchangeCryptoContext()),this.deleteMasterToken(h,l.masterToken);}},storeServiceTokens:function(h,l,n,v){var g,d;h=h.getMslStore();for(var w=[],r=0;r<v.length;++r){g=v[r];if(!g.isBoundTo(l)||!l.isVerified()){d=g.data;d&&0==d.length?h.removeServiceTokens(g.name,g.isMasterTokenBound()?l:null,g.isUserIdTokenBound()?n:null):w.push(g);}}0<w.length&&h.addServiceTokens(w);},buildRequest:function(h,l,v,w,r){var x;x=this;this.getNewestMasterToken(h,l,w,{result:function(g){n(r,function(){var d,a,c;d=g&&g.masterToken;if(d){a=v.getUserId();c=l.getMslStore();a=(a=a?c.getUserIdToken(a):null)&&a.isBoundTo(d)?a:null;}else a=null;Vb(l,d,a,null,{result:function(a){n(r,function(){a.setNonReplayable(v.isNonReplayable());return{builder:a,tokenTicket:g};});},error:function(a){n(r,function(){this.releaseMasterToken(g);a instanceof G&&(a=new ea("User ID token not bound to master token despite internal check.",a));throw a;},x);}});},x);},timeout:function(){r.timeout();},error:function(g){r.error(g);}});},buildResponse:function(h,l,n,v,w,x){var g;g=this;le(l,v,{result:function(d){r(x,function(){d.setNonReplayable(n.isNonReplayable());if(!l.isPeerToPeer()&&!v.keyResponseData)return{builder:d,tokenTicket:null};this.getNewestMasterToken(h,l,w,{result:function(a){r(x,function(){var c,f,m;c=a&&a.masterToken;if(c){f=n.getUserId();m=l.getMslStore();f=(f=f?m.getUserIdToken(f):null)&&f.isBoundTo(c)?f:null;}else f=null;d.setAuthTokens(c,f);return{builder:d,tokenTicket:a};},g);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},g);},error:function(d){x.error(d);}});},buildErrorResponse:function(h,n,v,w,F,E,g){var c;function d(a,m){r(g,function(){var f,b;f=Ub(F.messageId);b=new xa(m,v);Vb(n,null,null,f,{result:function(f){r(g,function(){n.isPeerToPeer()&&f.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);f.setNonReplayable(b.isNonReplayable());return{errorResult:new x(f,b),tokenTicket:null};},c);},error:function(a){g.error(a);}});},c);}function a(a,m){c.getNewestMasterToken(h,n,E,{result:function(f){r(g,function(){var b,k,p;b=f&&f.masterToken;k=Ub(F.messageId);p=new xa(m,v);Vb(n,b,null,k,{result:function(b){r(g,function(){n.isPeerToPeer()&&b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(p.isNonReplayable());return{errorResult:new x(b,p),tokenTicket:f};},c);},error:function(a){g.error(a);}});},c);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}c=this;r(g,function(){var f,m,q,b;f=w.requestHeader;m=w.payloads;q=F.errorCode;switch(q){case l.ENTITYDATA_REAUTH:case l.ENTITY_REAUTH:n.getEntityAuthenticationData(q,{result:function(a){r(g,function(){if(!a)return null;d(f,m);},c);},error:function(a){g.error(a);}});break;case l.USERDATA_REAUTH:case l.SSOTOKEN_REJECTED:v.getUserAuthData(q,!1,!0,{result:function(b){r(g,function(){if(!b)return null;a(f,m);},c);},error:function(a){g.error(a);}});break;case l.USER_REAUTH:a(f,m);break;case l.KEYX_REQUIRED:q=Ub(F.messageId),b=new xa(m,v);Vb(n,null,null,q,{result:function(a){r(g,function(){n.isPeerToPeer()&&a.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return{errorResult:new x(a,b),tokenTicket:null};},c);},error:function(a){g.error(a);}});break;case l.EXPIRED:this.getNewestMasterToken(h,n,E,{result:function(a){r(g,function(){var b,k,d,q;b=a&&a.masterToken;k=f.userIdToken;d=Ub(F.messageId);q=new xa(m,v);Vb(n,b,k,d,{result:function(k){r(g,function(){n.isPeerToPeer()&&k.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);f.masterToken.equals(b)&&k.setRenewable(!0);k.setNonReplayable(q.isNonReplayable());return{errorResult:new x(k,q),tokenTicket:a};},c);},error:function(a){g.error(a);}},c);},c);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});break;case l.REPLAYED:this.getNewestMasterToken(h,n,E,{result:function(a){r(g,function(){var b,k,d,q;b=a&&a.masterToken;k=f.userIdToken;d=Ub(F.messageId);q=new xa(m,v);Vb(n,b,k,d,{result:function(k){r(g,function(){n.isPeerToPeer()&&k.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);f.masterToken.equals(b)?(k.setRenewable(!0),k.setNonReplayable(!1)):k.setNonReplayable(q.isNonReplayable());return{errorResult:new x(k,q),tokenTicket:a};},c);},error:function(a){g.error(a);}});},c);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});break;default:return null;}},c);},cleanupContext:function(h,n,v){switch(v.errorCode){case l.ENTITY_REAUTH:this.deleteMasterToken(h,n.masterToken);break;case l.USER_REAUTH:v=n.userIdToken,n.masterToken&&v&&h.getMslStore().removeUserIdToken(v);}},send:function(h,l,n,v,w,x,g){var q;function d(b,f,c){r(g,function(){var k;k=w.getPeerUserIdToken();!l.isPeerToPeer()&&!f||l.isPeerToPeer()&&!k?(k=n.getCustomer())?w.setCustomer(k,{result:function(k){r(g,function(){f=w.getUserIdToken();a(b,f,c);},q);},error:function(a){g.error(a);}}):a(b,f,c):a(b,f,c);},q);}function a(a,f,p){r(g,function(){var b,k;b=!p&&(!n.isEncrypted()||w.willEncryptPayloads())&&(!n.isIntegrityProtected()||w.willIntegrityProtectPayloads())&&(!n.isNonReplayable()||w.isNonReplayable()&&a);b||w.setNonReplayable(!1);k=[];w.isRenewable()&&(!a||a.isRenewable()||n.isNonReplayable())?n.getKeyRequestData({result:function(p){r(g,function(){var t;for(var m=0;m<p.length;++m){t=p[m];k.push(t);w.addKeyRequestData(t);}c(a,f,b,k);},q);},error:function(a){g.error(a);}}):c(a,f,b,k);},q);}function c(a,c,p,m){r(g,function(){var b;b=new ne(l,n,w);n.updateServiceTokens(b,!p,{result:function(b){w.getHeader({result:function(b){r(g,function(){var k,m;k=n.getDebugContext();k&&k.sentHeader(b);k=w.getKeyExchangeData();this.updateOutgoingCryptoContexts(l,b,k);this.storeServiceTokens(l,a,c,b.serviceTokens);k=!l.isPeerToPeer()&&k?k.cryptoContext:b.cryptoContext;if(h.isAborted())throw new db("send aborted.");m=null!=this._filterFactory?this._filterFactory.getOutputStream(v):v;Kc(l,m,La,b,k,x,{result:function(a){h.setAbort(function(){a.abort();});f(a,b,p);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},error:function(a){g.error(a);}});},q);}function f(a,f,c){var b,k;if(c)n.write(a,x,{result:function(b){r(g,function(){if(h.isAborted())throw new db("MessageOutputStream write aborted.");m(a,f,c);},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});else{b=new M();k=new ac();Kc(l,b,La,f,k,x,{result:function(b){n.write(b,x,{result:function(k){r(g,function(){if(h.isAborted())throw new db("MessageOutputStream proxy write aborted.");b.close(x,{result:function(k){r(g,function(){var p;if(!k)throw new db("MessageOutputStream proxy close aborted.");p=b.getPayloads();m(a,f,c,p);},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}}function m(a,f,c,m){a.close(x,{result:function(b){r(g,function(){if(!b)throw new db("MessageOutputStream close aborted.");m||(m=a.getPayloads());return new E(f,m,!c);},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}q=this;r(g,function(){var a,f,c,m;a=w.getMasterToken();f=w.getUserIdToken();c=!1;if(n.getUserId()){m=!f;n.getUserAuthData(null,w.isRenewable(),m,{result:function(b){r(g,function(){b&&(w.willEncryptHeader()&&w.willIntegrityProtectHeader()?w.setUserAuthenticationData(b):c=!0);d(a,f,c);},q);},error:function(a){g.error(a);}});}else d(a,f,c);},q);},receive:function(n,v,w,x,F,E,g){var d;d=this;r(g,function(){var a,c,f;if(n.isAborted())throw new db("receive aborted.");a=[];F&&(a=F.keyRequestData.filter(function(){return!0;}));c=w.getCryptoContexts();f=this._filterFactory?this._filterFactory.getInputStream(x):x;pe(v,f,La,a,c,E,{result:function(a){n.setAbort(function(){a.abort();});a.isReady(E,{result:function(f){r(g,function(){var b,c,p,m;if(!f)throw new db("MessageInputStream aborted.");b=a.getMessageHeader();c=a.getErrorHeader();p=w.getDebugContext();p&&p.receivedHeader(b?b:c);if(F&&(p=c?c.errorCode:null,b||p!=l.FAIL&&p!=l.TRANSIENT_FAILURE&&p!=l.ENTITY_REAUTH&&p!=l.ENTITYDATA_REAUTH)){p=b?b.messageId:c.messageId;m=Ub(F.messageId);if(p!=m)throw new Ha(h.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+m+"; received "+p);}v.getEntityAuthenticationData(null,{result:function(f){r(g,function(){var k,p,m,t;k=f.getIdentity();if(b){p=b.entityAuthenticationData;m=b.masterToken;p=m?b.sender:p.getIdentity();if(m&&m.isDecrypted()&&m.identity!=p||k==p)throw new Ha(h.UNEXPECTED_MESSAGE_SENDER,p);F&&this.updateIncomingCryptoContexts(v,F,a);k=b.keyResponseData;v.isPeerToPeer()?(k=k?k.masterToken:b.peerMasterToken,m=b.peerUserIdToken,p=b.peerServiceTokens):(k=k?k.masterToken:b.masterToken,m=b.userIdToken,p=b.serviceTokens);t=w.getUserId();t&&m&&!m.isVerified()&&v.getMslStore().addUserIdToken(t,m);this.storeServiceTokens(v,k,m,p);}else if(p=c.entityAuthenticationData.getIdentity(),k==p)throw new Ha(h.UNEXPECTED_MESSAGE_SENDER,p);return a;},d);},error:g.error});},d);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},d);},sendReceive:function(h,l,n,v,w,x,g,d,a){var f;function c(c,q){r(a,function(){x.setRenewable(q);this.send(h,l,n,w,x,g,{result:function(b){r(a,function(){var k;k=b.requestHeader.keyRequestData;d||b.handshake||!k.isEmpty()?this.receive(h,l,n,v,b.requestHeader,g,{result:function(k){r(a,function(){q&&this.releaseRenewalLock(l,c,k);return new J(k,b);},f);},timeout:function(){r(a,function(){q&&this.releaseRenewalLock(l,c,null);a.timeout();},f);},error:function(b){r(a,function(){q&&this.releaseRenewalLock(l,c,null);throw b;},f);}}):r(a,function(){q&&this.releaseRenewalLock(l,c,null);return new J(null,b);},f);},f);},timeout:function(){r(a,function(){q&&this.releaseRenewalLock(l,c,null);a.timeout();},f);},error:function(b){r(a,function(){q&&this.releaseRenewalLock(l,c,null);throw b;},f);}});},f);}f=this;r(a,function(){var f;f=new hc();this.acquireRenewalLock(h,l,n,f,x,g,{result:function(a){c(f,a);},timeout:function(){a.timeout();},error:function(f){f instanceof db?a.result(null):a.error(f);}});},f);},acquireRenewalLock:function(h,l,n,v,w,x,g){var c;function d(f,m,q){r(g,function(){var p,t;if(h.isAborted())throw new db("acquireRenewalLock aborted.");for(var b=null,k=0;k<this._renewingContexts.length;++k){p=this._renewingContexts[k];if(p.ctx===l){b=p.queue;break;}}if(!b)return this._renewingContexts.push({ctx:l,queue:v}),!0;t=b.poll(x,{result:function(k){r(g,function(){var c;if(k===la)throw new db("acquireRenewalLock aborted.");b.add(k);if(k===qa||k.isExpired())d(k,m,q);else{if(q&&!m||m&&!m.isBoundTo(k)){c=l.getMslStore().getUserIdToken(q);m=c&&c.isBoundTo(k)?c:null;}w.setAuthTokens(k,m);w.isRenewable()&&k.equals(f)?d(k,m,q):n.isRequestingTokens()&&!m?d(k,m,q):a(k,m);}},c);},timeout:function(){},error:function(a){}});h.setAbort(function(){t&&(b.cancel(t),t=la);});},c);}function a(a,m){r(g,function(){var c;if(h.isAborted())throw new db("acquireRenewalLock aborted.");if(!a||a.isRenewable()||!m&&n.getUserId()||m&&m.isRenewable()){for(var f=null,b=0;b<this._renewingContexts.length;++b){c=this._renewingContexts[b];if(c.ctx===l){f=c.queue;break;}}if(!f)return this._renewingContexts.push({ctx:l,queue:v}),!0;}return!1;},c);}c=this;r(g,function(){var f,c,q;f=w.getMasterToken();c=w.getUserIdToken();q=n.getUserId();n.isEncrypted()&&!w.willEncryptPayloads()||n.isIntegrityProtected()&&!w.willIntegrityProtectPayloads()||w.isRenewable()||!f&&n.isNonReplayable()||f&&f.isExpired()||!(c||!q||w.willEncryptHeader()&&w.willIntegrityProtectHeader())||n.isRequestingTokens()&&(!f||q&&!c)?d(f,c,q):a(f,c);},c);},releaseRenewalLock:function(h,l,n){var g;for(var v,w,r=0;r<this._renewingContexts.length;++r){g=this._renewingContexts[r];if(g.ctx===h){v=r;w=g.queue;break;}}if(w!==l)throw new ea("Attempt to release renewal lock that is not owned by this queue.");n?(n=n.messageHeader)?(w=n.keyResponseData)?l.add(w.masterToken):(h=h.isPeerToPeer()?n.peerMasterToken:n.masterToken)?l.add(h):l.add(qa):l.add(qa):l.add(qa);this._renewingContexts.splice(v,1);}});se=na.Class.create({init:function(){var h;h={_impl:{value:new da(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setFilterFactory:function(h){this._impl.setFilterFactory(h);},shutdown:function(){this._shutdown=!0;},receive:function(h,l,n,v,w,r){var g;if(this._shutdown)throw new G("MslControl is shutdown.");g=new z(this._impl,h,l,n,v,w);setTimeout(function(){g.call(r);},0);return H(g);},respond:function(h,l,n,v,w,r,g){var d;if(this._shutdown)throw new G("MslControl is shutdown.");d=new X(this._impl,h,l,n,v,w,r);setTimeout(function(){d.call(g);},0);return H(d);},error:function(h,l,n,v,w,r,g){var d;if(this._shutdown)throw new G("MslControl is shutdown.");d=new ya(this._impl,h,l,n,v,w,r);setTimeout(function(){d.call(g);},0);return H(d);},request:function(h,l){var n,v,w,r,g,d;if(this._shutdown)throw new G("MslControl is shutdown.");if(5==arguments.length){if(n=arguments[2],w=v=null,r=arguments[3],g=arguments[4],h.isPeerToPeer()){g.error(new ea("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(n=null,v=arguments[2],w=arguments[3],r=arguments[4],g=arguments[5],!h.isPeerToPeer())){g.error(new ea("This method cannot be used in trusted network mode."));return;}d=new ga(this._impl,h,l,n,v,w,null,0,r);setTimeout(function(){d.call(g);},0);return H(d);}});z=na.Class.create({init:function(h,l,n,v,w,r){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:r,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(l){var E;function n(n){r(l,function(){var g;g=n.messageHeader;if(!g)return n;this.setAbort(function(){n.abort();});n.mark(Number.MAX_VALUE);n.read(1,E._timeout,{result:function(d){r(l,function(){if(d&&0==d.length)return null;if(d)return n.reset(),n;w(n);},E);},timeout:function(){l.timeout();},error:function(d){r(l,function(){var a,c,f;if(v(d))return null;a=g?g.messageId:null;d instanceof Xa?(c=h.MSL_COMMS_FAILURE,f=d):(c=h.INTERNAL_EXCEPTION,f=new ea("Error peeking into the message payloads."));F(this,this._ctx,this._msgCtx.getDebugContext(),a,c,null,this._output,this._timeout,{result:function(a){l.error(f);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new lb("Error peeking into the message payloads.",a,d);},E);}});},E);}});},E);}function w(n){r(l,function(){n.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,n.messageHeader,this._timeout,{result:function(g){r(l,function(){var d,a,c,f,m;d=g.builder;a=g.tokenTicket;c=n.messageHeader;f=new Z(this._msgCtx);if(!this._ctx.isPeerToPeer()||c.isEncrypting()||c.keyResponseData)x(c,d,f,a);else{m=new ga(this._ctrl,this._ctx,f,null,this._input,this._output,g,1,this._timeout);this.setAbort(function(){m.abort();});m.call(l);}},E);},timeout:function(){l.timeout();},error:function(g){r(l,function(){var d,a,c,f;if(v(g))return null;g instanceof G?(d=g.messageId,a=g.error,c=n.messageHeader.messageCapabilities,c=this._ctrl.messageRegistry.getUserMessage(a,c?c.languages:null),f=g):(d=requestHeader?requestHeader.messageId:null,a=h.INTERNAL_EXCEPTION,c=null,f=new ea("Error creating an automatic handshake response.",g));F(this,this._ctx,this._msgCtx.getDebugContext(),d,a,c,this._output,this._timeout,{result:function(a){l.error(f);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new lb("Error creating an automatic handshake response.",a,g);},E);}});},E);}});},E);}function x(n,g,d,a){r(l,function(){g.setRenewable(!1);this._ctrl.send(this._ctx,d,this._output,g,this._timeout,{result:function(c){r(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);return null;},E);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);l.timeout();},E);},error:function(c){r(l,function(){var f,m,d,b;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);if(v(c))return null;c instanceof G?(f=c.messageId,m=c.error,d=n?n.messageCapabilities:null,d=this._ctrl.messageRegistry.getUserMessage(m,d?d.languages:null),b=c):c instanceof Xa?(f=n?n.messageId:null,m=h.MSL_COMMS_FAILURE,d=null,b=c):(f=n?n.messageId:null,m=h.INTERNAL_EXCEPTION,d=null,b=new ea("Error sending an automatic handshake response.",c));F(this,this._ctx,this._msgCtx.getDebugContext(),f,m,d,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new lb("Error sending an automatic handshake response.",a,c);},E);}});},E);}});},E);}E=this;r(l,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(h){n(h);},timeout:function(){l.timeout();},error:function(n){r(l,function(){var g,d,a,c;if(v(n))return null;n instanceof G?(g=n.messageId,d=n.error,a=this._ctrl.messageRegistry.getUserMessage(d,null),c=n):(g=null,d=h.INTERNAL_EXCEPTION,a=null,c=new ea("Error receiving the message header.",n));F(this,this._ctx,this._msgCtx.getDebugContext(),g,d,a,this._output,this._timeout,{result:function(a){l.error(c);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new lb("Error receiving the message header.",a,n);},E);}});},E);}});},E);}});X=na.Class.create({init:function(h,l,n,v,w,r,g){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},trustedNetworkExecute:function(l,n,w){var x;x=this;r(w,function(){var E,z;if(12<n+1)return!1;if(E=this._msgCtx.isIntegrityProtected()&&!l.willIntegrityProtectHeader()?h.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!l.willEncryptPayloads()?h.RESPONSE_REQUIRES_ENCRYPTION:null){z=bc(l.getMessageId());F(this,this._ctx,this._msgCtx.getDebugContext(),z,E,null,this._output,this._timeout,{result:function(g){w.result(!1);},timeout:function(){w.timeout();},error:function(g){r(w,function(){if(v(g))return!1;throw new lb("Response requires encryption or integrity protection but cannot be protected: "+E,g,null);},x);}});}else!this._msgCtx.getCustomer()||l.getMasterToken()||l.getKeyExchangeData()?(l.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,l,this._timeout,{result:function(g){w.result(!0);},timeout:function(){w.timeout();},error:function(g){w.error(g);}})):(z=bc(l.getMessageId()),F(this,this._ctx,this._msgCtx.getDebugContext(),z,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(g){w.result(!1);},timeout:function(){w.timeout();},error:function(g){r(w,function(){if(v(g))return!1;throw new lb("Response wishes to attach a user ID token but there is no master token.",g,null);},x);}}));},x);},peerToPeerExecute:function(l,n,w,x){var z;function E(g){r(x,function(){var d;d=g.response;d.close();d=d.getErrorHeader();this._ctrl.cleanupContext(this._ctx,g.requestHeader,d);this._ctrl.buildErrorResponse(this,this._ctx,l,g,d,{result:function(a){r(x,function(){var c,f;if(!a)return!1;c=a.errorResult;f=a.tokenTicket;this.peerToPeerExecute(c.msgCtx,c.builder,w,{result:function(a){r(x,function(){this._ctrl.releaseMasterToken(f);return a;},z);},timeout:function(){r(x,function(){this._ctrl.releaseMasterToken(f);x.timeout();},z);},error:function(a){r(x,function(){this._ctrl.releaseMasterToken(f);throw a;},z);}});},z);}});},z);}z=this;r(x,function(){var g;if(12<w+2)return!1;if(null!=l.getCustomer()&&null==n.getPeerMasterToken()&&null==n.getKeyExchangeData()){g=bc(n.getMessageId());F(this,this._ctx,l.getDebugContext(),g,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(d){x.result(!1);},timeout:function(){x.timeout();},error:function(d){r(x,function(){if(v(d))return!1;throw new lb("Response wishes to attach a user ID token but there is no master token.",d,null);},z);}});}else this._ctrl.sendReceive(this._ctx,l,this._input,this._output,n,this._timeout,!1,{result:function(d){r(x,function(){var f,m,q;function a(){f.read(32768,z._timeout,{result:function(b){r(x,function(){b?a():c();},z);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}function c(){r(x,function(){var a;a=new xa(d.payloads,l);this._ctrl.buildResponse(this,this._ctx,a,m,this._timeout,{result:function(b){r(x,function(){var f;f=b.tokenTicket;this.peerToPeerExecute(a,b.builder,w,{result:function(a){r(x,function(){this._ctrl.releaseMasterToken(f);return a;},z);},timeout:function(){r(x,function(){this._ctrl.releaseMasterToken(f);x.timeout();},z);},error:function(a){r(x,function(){this._ctrl.releaseMasterToken(f);throw a;},z);}});},z);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},z);}f=d.response;w+=2;if(!f)return!0;m=f.getMessageHeader();if(m){q=d.payloads;q=0<q.length&&0<q[0].data.length;if(d.handshake&&q)a();else return!0;}else E(d);},z);},timeout:function(){x.timeout();},error:function(d){x.error(d);}});},z);},call:function(l){var n;n=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(w){r(l,function(){var x,E;x=w.builder;E=w.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,x,3,{result:function(h){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(E);return h;},n);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(E);l.timeout();},n);},error:function(w){r(l,function(){var g,d,a,c;this._ctx.isPeerToPeer()&&this.releaseMasterToken(E);if(v(w))return!1;g=bc(x.getMessageId());w instanceof G?(d=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(d,a?a.languages:null),c=w):w instanceof Xa?(d=h.MSL_COMMS_FAILURE,a=null,c=w):(d=h.INTERNAL_EXCEPTION,a=null,c=new ea("Error sending the response.",w));F(this,this._ctx,this._msgCtx.getDebugContext(),g,d,a,this._output,this._timeout,{result:function(a){l.error(c);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return!1;throw new lb("Error sending the response.",a,null);},n);}});},n);}}):this.trustedNetworkExecute(x,3,{result:function(h){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(E);return h;},n);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(E);l.timeout();},n);},error:function(w){r(l,function(){var g,d,a,c;this._ctx.isPeerToPeer()&&this.releaseMasterToken(E);if(v(w))return!1;g=bc(x.getMessageId());w instanceof G?(d=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(d,a?a.languages:null),c=w):w instanceof Xa?(d=h.MSL_COMMS_FAILURE,a=null,c=w):(d=h.INTERNAL_EXCEPTION,a=null,c=new ea("Error sending the response.",w));F(this,this._ctx,this._msgCtx.getDebugContext(),g,d,a,this._output,this._timeout,{result:function(a){l.error(c);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return!1;throw new lb("Error sending the response.",a,null);},n);}});},n);}});},n);},timeout:function(){l.timeout();},error:function(w){r(l,function(){var x,E,z,g;if(v(w))return!1;w instanceof G?(x=w.messageId,E=w.error,z=this._request.messageCapabilities,z=this._ctrl.messageRegistry.getUserMessage(E,z?z.languages:null),g=w):(x=null,E=h.INTERNAL_EXCEPTION,z=null,g=new ea("Error building the response.",w));F(this,this._ctx,this._msgCtx.getDebugContext(),x,E,z,this._output,this._timeout,{result:function(d){l.error(g);},timeout:function(){l.timeout();},error:function(d){r(l,function(){if(v(d))return null;throw new lb("Error building the response.",d,w);},n);}});},n);}});}});ya=na.Class.create({init:function(h,l,n,w,v,r,g){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_appError:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(l){var n;n=this;r(l,function(){var w,x;if(this._appError==ENTITY_REJECTED)w=this._request.masterToken?h.MASTERTOKEN_REJECTED_BY_APP:h.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)w=this._request.userIdToken?h.USERIDTOKEN_REJECTED_BY_APP:h.USER_REJECTED_BY_APP;else throw new ea("Unhandled application error "+this._appError+".");x=this._request.messageCapabilities;x=this._ctrl.messageRegistry.getUserMessage(w,x?x.languages:null);F(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,w,x,this._output,this._timeout,{result:function(h){l.result(h);},timeout:l.timeout,error:function(h){r(l,function(){if(v(h))return!1;if(h instanceof G)throw h;throw new ea("Error building the error response.",h);},n);}});},n);}});ua={result:function(){},timeout:function(){},error:function(){}};ga=na.Class.create({init:function(h,l,n,w,v,r,g,d,a){var c;g?(c=g.builder,g=g.tokenTicket):g=c=null;Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:w,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!0,enumerable:!1,configurable:!1},_output:{value:r,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:c,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:g,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},execute:function(h,l,n,w,v){var d;function x(a){function c(f){r(v,function(){var c;c=a.response;return f?f:c;},d);}r(v,function(){var f,m;f=a.response;f.close();m=f.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,m);this._ctrl.buildErrorResponse(this,this._ctx,h,a,m,n,{result:function(a){r(v,function(){var b,k,p,m;if(!a)return f;b=a.errorResult;k=a.tokenTicket;p=b.builder;b=b.msgCtx;if(this._ctx.isPeerToPeer())this.execute(b,p,this._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);c(a);},d);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(k);v.timeout();},d);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);v.error(a);},d);}});else{this._openedStreams&&(this._input.close(),this._output.close(n,ua));m=new ga(this._ctrl,this._ctx,b,this._remoteEntity,null,null,{builder:p,tokenTicket:k},w,this._timeout);this.setAbort(function(){m.abort();});m.call({result:function(a){c(a);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},d);}function g(a){r(v,function(){var m,q,b,k,p;function c(){m.read(32768,d._timeout,{result:function(a){a?c():f();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function f(){r(v,function(){var b;b=new xa(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,q,n,{result:function(a){r(v,function(){var f;f=a.tokenTicket;this.execute(b,a.builder,this._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(f);return a;},d);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(f);v.timeout();},d);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(f);throw a;},d);}});},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},d);}m=a.response;q=m.getMessageHeader();b=a.payloads;b=0<b.length&&0<b[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake||!b)return m;this._openedStreams&&(this._input.close(),this._output.close(n,ua));k=new xa(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,q,n,{result:function(a){r(v,function(){var b;b=new ga(this._ctrl,this._ctx,k,this._remoteEntity,null,null,a,w,this._timeout);this.setAbort(function(){b.abort();});b.call(v);},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}else if(a.handshake&&b)c();else if(0<q.keyRequestData.length){p=new Z(h);this._ctrl.buildResponse(this,this._ctx,p,q,n,{result:function(a){r(v,function(){var b,f;b=a.builder;f=a.tokenTicket;m.mark();m.read(1,this._timeout,{result:function(a){r(v,function(){function c(){m.read(32768,d._timeout,{result:function(a){a?c():k();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function k(){d.execute(p,b,d._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(f);return a;},d);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(f);v.timeout();},d);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(f);throw a;},d);}});}if(a)if(m.reset(),12>=w+1)b.setRenewable(!1),this._ctrl.send(this,this._ctx,p,this._output,b,this._timeout,{result:function(a){r(v,function(){this.releaseMasterToken(f);return m;},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});else return this.releaseMasterToken(f),m;else c();},d);},timeout:function(){r(v,function(){this.releaseMasterToken(f);v.timeout();},d);},error:function(a){r(v,function(){this.releaseMasterToken(f);throw a;},d);}});},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},d);}d=this;r(v,function(){if(12<w+2)return null;this._ctrl.sendReceive(this,this._ctx,h,this._input,this._output,l,n,!0,{result:function(a){r(v,function(){var c;if(!a)return null;c=a.response;w+=2;c.getMessageHeader()?g(a):x(a);},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},d);},call:function(h){var n;function l(l,w,x){r(h,function(){this.execute(this._msgCtx,l,x,this._msgCount,{result:function(g){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&this._output.close(x,ua);g&&g.closeSource(this._openedStreams);return g;},n);},timeout:function(){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(x,ua),this._input.close());h.timeout();},n);},error:function(g){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(x,ua),this._input.close());if(v(g))return null;throw g;},n);}});},n);}n=this;r(h,function(){var w,x,F;w=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);x=Date.now();F=this._remoteEntity.openConnection();this._output=F.output;this._input=F.input;-1!=w&&(w=this._timeout-(Date.now()-x));this._openedStreams=!0;}catch(g){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,ua);this._input&&this._input.close();if(v(g))return null;throw g;}this._builder?l(this._builder,this._tokenTicket,w):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(g){r(h,function(){l(g.builder,g.tokenTicket,w);},n);},timeout:function(){r(h,function(){this._openedStreams&&(this._output.close(this._timeout,ua),this._input.close());h.timeout();},n);},error:function(g){r(h,function(){this._openedStreams&&(this._output.close(this._timeout,ua),this._input.close());if(v(g))return null;throw g;},n);}});},n);}});}());(function(){pd=na.Class.create({init:function(h){Object.defineProperties(this,{id:{value:h,writable:!1,configurable:!1}});},toJSON:function(){var h;h={};h.id=this.id;return h;},equals:function(h){return this===h?!0:h instanceof pd?this.id==h.id:!1;},uniqueKey:function(){return this.id;}});te=function(l){var n;n=l.id;if(!n)throw new ha(h.JSON_PARSE_ERROR,JSON.stringify(l));return new pd(n);};}());na.Class.create({isNewestMasterToken:function(h,l,n){},isMasterTokenRevoked:function(h,l){},acceptNonReplayableId:function(h,l,n,r){},createMasterToken:function(h,l,n,r,J){},isMasterTokenRenewable:function(h,l,n){},renewMasterToken:function(h,l,n,r,J){},isUserIdTokenRevoked:function(h,l,n,r){},createUserIdToken:function(h,l,n,r){},renewUserIdToken:function(h,l,n,r){}});(function(){function l(h,l,n,r){this.sessiondata=h;this.tokendata=l;this.signature=n;this.verified=r;}jb=na.Class.create({init:function(h,l,r,J,v,F,H,G,M,xa,Z){var w;w=this;n(Z,function(){var x,E,aa,ga,da;if(r.getTime()<l.getTime())throw new ea("Cannot construct a master token that expires before its renewal window opens.");if(0>J||J>Ma)throw new ea("Sequence number "+J+" is outside the valid range.");if(0>v||v>Ma)throw new ea("Serial number "+v+" is outside the valid range.");x=Math.floor(l.getTime()/1E3);E=Math.floor(r.getTime()/1E3);if(xa)aa=xa.sessiondata;else{ga={};F&&(ga.issuerdata=F);ga.identity=H;ga.encryptionkey=pa(G.toByteArray());ga.hmackey=pa(M.toByteArray());aa=Ta(JSON.stringify(ga),La);}if(xa)return Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:E,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:J,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},identity:{value:H,writable:!1,configurable:!1},encryptionKey:{value:G,writable:!1,configurable:!1},hmacKey:{value:M,writable:!1,configurable:!1},sessiondata:{value:aa,writable:!1,enumerable:!1,configurable:!1},verified:{value:xa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:xa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:xa.signature,writable:!1,enumerable:!1,configurable:!1}}),this;da=h.getMslCryptoContext();da.encrypt(aa,{result:function(l){n(Z,function(){var r,z;r={};r.renewalwindow=x;r.expiration=E;r.sequencenumber=J;r.serialnumber=v;r.sessiondata=pa(l);z=Ta(JSON.stringify(r),La);da.sign(z,{result:function(l){n(Z,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:E,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:J,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:v,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},identity:{value:H,writable:!1,configurable:!1},encryptionKey:{value:G,writable:!1,configurable:!1},hmacKey:{value:M,writable:!1,configurable:!1},sessiondata:{value:aa,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:z,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){Z.error(h);}});},w);},error:function(h){Z.error(h);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(h){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(h){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(h){var l;if(this.sequenceNumber==h.sequenceNumber)return this.expiration>h.expiration;if(this.sequenceNumber>h.sequenceNumber){l=this.sequenceNumber-Ma+127;return h.sequenceNumber>=l;}l=h.sequenceNumber-Ma+127;return this.sequenceNumber<l;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof jb?this.serialNumber==h.serialNumber&&this.sequenceNumber==h.sequenceNumber&&this.expiration.getTime()==h.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Sb=function(w,r,E){n(E,function(){var x,v,F,H,aa;x=w.getMslCryptoContext();v=r.tokendata;F=r.signature;if("string"!==typeof v||"string"!==typeof F)throw new ha(h.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(r));try{H=va(v);}catch(za){throw new G(h.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(r),za);}if(!H||0==H.length)throw new ha(h.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(r));try{aa=va(F);}catch(za){throw new G(h.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(r),za);}x.verify(H,aa,{result:function(v){n(E,function(){var r,F,J,z,X,M,ga,da,ua,Ba;M=Va(H,La);try{ga=JSON.parse(M);r=parseInt(ga.renewalwindow);F=parseInt(ga.expiration);J=parseInt(ga.sequencenumber);z=parseInt(ga.serialnumber);X=ga.sessiondata;}catch(ta){if(ta instanceof SyntaxError)throw new ha(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+M,ta);throw ta;}if(!r||r!=r||!F||F!=F||"number"!==typeof J||J!=J||"number"!==typeof z||z!=z||"string"!==typeof X)throw new ha(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+M);if(F<r)throw new G(h.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+M);if(0>J||J>Ma)throw new G(h.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+M);if(0>z||z>Ma)throw new G(h.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+M);da=new Date(1E3*r);ua=new Date(1E3*F);try{Ba=va(X);}catch(ta){throw new G(h.MASTERTOKEN_SESSIONDATA_INVALID,X,ta);}if(!Ba||0==Ba.length)throw new G(h.MASTERTOKEN_SESSIONDATA_MISSING,X);v?x.decrypt(Ba,{result:function(r){n(E,function(){var x,F,G,Z,X,ga;X=Va(r,La);try{ga=JSON.parse(X);x=ga.issuerdata;F=ga.identity;G=ga.encryptionkey;Z=ga.hmackey;}catch(g){if(g instanceof SyntaxError)throw new ha(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+X,g);throw g;}if(x&&"object"!==typeof x||!F||"string"!==typeof G||"string"!==typeof Z)throw new ha(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+X);zb(G,sb,Hb,{result:function(g){zb(Z,tb,Rb,{result:function(d){n(E,function(){var a;a=new l(r,H,aa,v);new jb(w,da,ua,J,z,x,F,g,d,a,E);});},error:function(d){E.error(new P(h.MASTERTOKEN_KEY_CREATION_ERROR,d));}});},error:function(g){E.error(new P(h.MASTERTOKEN_KEY_CREATION_ERROR,g));}});});},error:function(h){E.error(h);}}):(r=new l(null,H,aa,v),new jb(w,da,ua,J,z,null,null,null,null,r,E));});},error:function(h){E.error(h);}});});};}());(function(){function l(h,l,n){this.tokendata=h;this.signature=l;this.verified=n;}Zb=na.Class.create({init:function(h,l,r,J,v,F,H,aa,M){var w;w=this;n(M,function(){var x,E,z,X,ya,ga,da;if(r.getTime()<l.getTime())throw new ea("Cannot construct a user ID token that expires before its renewal window opens.");if(!J)throw new ea("Cannot construct a user ID token without a master token.");if(0>v||v>Ma)throw new ea("Serial number "+v+" is outside the valid range.");x=Math.floor(l.getTime()/1E3);E=Math.floor(r.getTime()/1E3);z=J.serialNumber;if(aa){X=aa.tokendata;ya=aa.signature;ga=aa.verified;z=J.serialNumber;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:E,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:z,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},customer:{value:H,writable:!1,configurable:!1},verified:{value:ga,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:X,writable:!1,enumerable:!1,configurable:!1},signature:{value:ya,writable:!1,enumerable:!1,configurable:!1}});return this;}X={};F&&(X.issuerdata=F);X.identity=H;X=Ta(JSON.stringify(X),La);da=h.getMslCryptoContext();da.encrypt(X,{result:function(l){n(M,function(){var r,Z;r={};r.renewalwindow=x;r.expiration=E;r.mtserialnumber=z;r.serialnumber=v;r.userdata=pa(l);Z=Ta(JSON.stringify(r),La);da.sign(Z,{result:function(l){n(M,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:E,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:J.serialNumber,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},customer:{value:H,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Z,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){n(M,function(){h instanceof G&&h.setEntity(J);throw h;},w);}});},w);},error:function(h){n(M,function(){h instanceof G&&h.setEntity(J);throw h;},w);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(h){return h&&h.serialNumber==this.mtSerialNumber;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof Zb?this.serialNumber==h.serialNumber&&this.mtSerialNumber==h.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Tb=function(w,r,E,J){n(J,function(){var v,x,H,aa,M;v=w.getMslCryptoContext();x=r.tokendata;H=r.signature;if("string"!==typeof x||"string"!==typeof H)throw new ha(h.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(r)).setEntity(E);try{aa=va(x);}catch(xa){throw new G(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(r),xa).setEntity(E);}if(!aa||0==aa.length)throw new ha(h.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(r)).setEntity(E);try{M=va(H);}catch(xa){throw new G(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(r),xa).setEntity(E);}v.verify(aa,M,{result:function(r){n(J,function(){var x,F,z,H,ya,ga,da,ua,Ba,za;ga=Va(aa,La);try{da=JSON.parse(ga);x=parseInt(da.renewalwindow);F=parseInt(da.expiration);z=parseInt(da.mtserialnumber);H=parseInt(da.serialnumber);ya=da.userdata;}catch(ja){if(ja instanceof SyntaxError)throw new ha(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+ga,ja).setEntity(E);throw ja;}if(!x||x!=x||!F||F!=F||"number"!==typeof z||z!=z||"number"!==typeof H||H!=H||"string"!==typeof ya)throw new ha(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+ga).setEntity(E);if(F<x)throw new G(h.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+ga).setEntity(E);if(0>z||z>Ma)throw new G(h.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+ga).setEntity(E);if(0>H||H>Ma)throw new G(h.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+ga).setEntity(E);ua=new Date(1E3*x);Ba=new Date(1E3*F);if(!E||z!=E.serialNumber)throw new G(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+z+"; mt "+JSON.stringify(E)).setEntity(E);try{za=va(ya);}catch(ja){throw new G(h.USERIDTOKEN_USERDATA_INVALID,ya,ja).setEntity(E);}if(!za||0==za.length)throw new G(h.USERIDTOKEN_USERDATA_MISSING,ya).setEntity(E);r?v.decrypt(za,{result:function(v){n(J,function(){var n,x,F,z,Z;F=Va(v,La);try{z=JSON.parse(F);n=z.issuerdata;x=z.identity;}catch(g){if(g instanceof SyntaxError)throw new ha(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+F).setEntity(E);throw g;}if(n&&"object"!==typeof n||"object"!==typeof x)throw new ha(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+F).setEntity(E);try{Z=te(x);}catch(g){throw new G(h.USERIDTOKEN_IDENTITY_INVALID,"userdata "+F,g).setEntity(E);}x=new l(aa,M,r);new Zb(w,ua,Ba,E,H,n,Z,x,J);});},error:function(h){n(J,function(){h instanceof G&&h.setEntity(E);throw h;});}}):(x=new l(aa,M,r),new Zb(w,ua,Ba,E,H,null,null,x,J));});},error:function(h){n(J,function(){h instanceof G&&h.setEntity(E);throw h;});}});});};}());(function(){function l(l,n){var w,v,r;w=l.tokendata;if("string"!==typeof w)throw new ha(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));try{v=va(w);}catch(Ba){throw new G(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(l),Ba);}if(!v||0==v.length)throw new ha(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(l));try{r=JSON.parse(Va(v,La)).name;}catch(Ba){if(Ba instanceof SyntaxError)throw new ha(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l),Ba);throw Ba;}if(!r)throw new ha(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));return n[r]?n[r]:n[""];}function w(h,l,n){this.tokendata=h;this.signature=l;this.verified=n;}Kb=na.Class.create({init:function(h,l,w,v,r,H,aa,M,P,Z){var x;x=this;n(Z,function(){var F,E,J,ga,da;if(v&&r&&!r.isBoundTo(v))throw new ea("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");F=v?v.serialNumber:-1;E=r?r.serialNumber:-1;if(P)return da=P.tokendata,Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:F,writable:!1,configurable:!1},uitSerialNumber:{value:E,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},verified:{value:P.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:da,writable:!1,enumerable:!1,configurable:!1},signature:{value:P.signature,writable:!1,enumerable:!1,configurable:!1}}),this;aa?(J=od(aa,w),J.length<w.length||(aa=null,J=w)):(aa=null,J=w);ga={};ga.name=l;-1!=F&&(ga.mtserialnumber=F);-1!=E&&(ga.uitserialnumber=E);ga.encrypted=H;aa&&(ga.compressionalgo=aa);if(H&&0<J.length)M.encrypt(J,{result:function(z){n(Z,function(){var J;ga.servicedata=pa(z);J=Ta(JSON.stringify(ga),La);M.sign(J,{result:function(v){n(Z,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:F,writable:!1,configurable:!1},uitSerialNumber:{value:E,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:J,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},x);},error:function(h){n(Z,function(){h instanceof G&&(h.setEntity(v),h.setUser(r));throw h;});}});},x);},error:function(h){n(Z,function(){h instanceof G&&(h.setEntity(v),h.setUser(r));throw h;});}});else{ga.servicedata=pa(J);da=Ta(JSON.stringify(ga),La);M.sign(da,{result:function(v){n(Z,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:F,writable:!1,configurable:!1},uitSerialNumber:{value:E,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:da,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},x);},error:function(h){n(Z,function(){h instanceof G&&(h.setEntity(v),h.setUser(r));throw h;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(h){return h?h instanceof jb?h.serialNumber==this.mtSerialNumber:h instanceof Zb?h.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof Kb?this.name==h.name&&this.mtSerialNumber==h.mtSerialNumber&&this.uitSerialNumber==h.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});Db=function(h,l,n,v,w,r,H,G,M){new Kb(h,l,n,v,w,r,H,G,null,M);};Hc=function(r,E,J,v,F,H){n(H,function(){var x,M,P,Z,qa,z,X,ya,ga,da,ua,Ba,ta;!F||F instanceof $b||(F=l(E,F));x=E.tokendata;M=E.signature;if("string"!==typeof x||"string"!==typeof M)throw new ha(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(E)).setEntity(J).setEntity(v);try{P=va(x);}catch(ja){throw new G(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(E),ja).setEntity(J).setEntity(v);}if(!P||0==P.length)throw new ha(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(E)).setEntity(J).setEntity(v);try{Z=va(M);}catch(ja){throw new G(h.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(E),ja).setEntity(J).setEntity(v);}ua=Va(P,La);try{Ba=JSON.parse(ua);qa=Ba.name;z=Ba.mtserialnumber?parseInt(Ba.mtserialnumber):-1;X=Ba.uitserialnumber?parseInt(Ba.uitserialnumber):-1;ya=Ba.encrypted;ga=Ba.compressionalgo;da=Ba.servicedata;}catch(ja){if(ja instanceof SyntaxError)throw new ha(h.JSON_PARSE_ERROR,"servicetokendata "+ua,ja).setEntity(J).setEntity(v);throw ja;}if(!qa||"number"!==typeof z||z!=z||"number"!==typeof X||X!=X||"boolean"!==typeof ya||ga&&"string"!==typeof ga||"string"!==typeof da)throw new ha(h.JSON_PARSE_ERROR,"servicetokendata "+ua).setEntity(J).setEntity(v);if(Ba.mtserialnumber&&0>z||z>Ma)throw new G(h.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ua).setEntity(J).setEntity(v);if(Ba.uitserialnumber&&0>X||X>Ma)throw new G(h.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ua).setEntity(J).setEntity(v);if(-1!=z&&(!J||z!=J.serialNumber))throw new G(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+z+"; mt "+J).setEntity(J).setEntity(v);if(-1!=X&&(!v||X!=v.serialNumber))throw new G(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+X+"; uit "+v).setEntity(J).setEntity(v);ya=!0===ya;if(ga){if(!Ob[ga])throw new G(h.UNIDENTIFIED_COMPRESSION,ga);ta=ga;}else ta=null;F?F.verify(P,Z,{result:function(l){n(H,function(){var x,E;if(l){try{x=va(da);}catch(hd){throw new G(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ua,hd).setEntity(J).setEntity(v);}if(!x||0!=da.length&&0==x.length)throw new G(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ua).setEntity(J).setEntity(v);if(ya&&0<x.length)F.decrypt(x,{result:function(h){n(H,function(){var n,x;n=ta?Ic(ta,h):h;x=new w(P,Z,l);new Kb(r,qa,n,-1!=z?J:null,-1!=X?v:null,ya,ta,F,x,H);});},error:function(h){n(H,function(){h instanceof G&&(h.setEntity(J),h.setUser(v));throw h;});}});else{x=ta?Ic(ta,x):x;E=new w(P,Z,l);new Kb(r,qa,x,-1!=z?J:null,-1!=X?v:null,ya,ta,F,E,H);}}else x=""==da?new Uint8Array(0):null,E=new w(P,Z,l),new Kb(r,qa,x,-1!=z?J:null,-1!=X?v:null,ya,ta,F,E,H);});},error:function(h){n(H,function(){h instanceof G&&(h.setEntity(J),h.setUser(v));throw h;});}}):(x=""==da?new Uint8Array(0):null,M=new w(P,Z,!1),new Kb(r,qa,x,-1!=z?J:null,-1!=X?v:null,ya,ta,F,M,H));});};}());eb={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(eb);(function(){Gb=na.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(h){return this===h?!0:h instanceof Gb?this.scheme==h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});ie=function(l,w,r,E){n(E,function(){var n,v,x;n=r.scheme;v=r.authdata;if(!n||!v)throw new ha(h.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(r));if(!eb[n])throw new Da(h.UNIDENTIFIED_USERAUTH_SCHEME,n);x=l.getUserAuthenticationFactory(n);if(!x)throw new Da(h.USERAUTH_FACTORY_NOT_FOUND,n);x.createData(l,w,v,E);});};}());mc=na.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,l,n,r){},authenticate:function(h,l,n,r){}});(function(){Wb=Gb.extend({init:function w(h,l){w.base.call(this,eb.NETFLIXID);Object.defineProperties(this,{netflixId:{value:h,writable:!1,configurable:!1},secureNetflixId:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.netflixid=this.netflixId;this.secureNetflixId&&(h.securenetflixid=this.secureNetflixId);return h;},equals:function x(h){return this===h?!0:h instanceof Wb?x.base.call(this,h)&&this.netflixId==h.netflixId&&this.secureNetflixId==h.secureNetflixId:!1;}});ue=function(l){var n,r;n=l.netflixid;r=l.securenetflixid;if(!n)throw new ha(h.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(l));return new Wb(n,r);};}());Ze=mc.extend({init:function w(){w.base.call(this,eb.NETFLIXID);},createData:function(h,l,r,J){n(J,function(){return ue(r);});},authenticate:function(l,n,r,J){if(!(r instanceof Wb))throw new ea("Incorrect authentication data type "+r+".");l=r.secureNetflixId;if(!r.netflixId||!l)throw new Da(h.NETFLIXID_COOKIES_BLANK).setUser(r);throw new Da(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){nc=Gb.extend({init:function x(h,l){x.base.call(this,eb.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:h,writable:!1,configurable:!1},password:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.email=this.email;h.password=this.password;return h;},equals:function E(h){return this===h?!0:h instanceof nc?E.base.call(this,this,h)&&this.email==h.email&&this.password==h.password:!1;}});ve=function(l){var n,v;n=l.email;v=l.password;if(!n||!v)throw new ha(h.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(l));return new nc(n,v);};}());$e=mc.extend({init:function x(){x.base.call(this,eb.EMAIL_PASSWORD);},createData:function(h,l,r,v){n(v,function(){return ve(r);});},authenticate:function(l,n,r,v){if(!(r instanceof nc))throw new ea("Incorrect authentication data type "+r+".");l=r.password;if(!r.email||!l)throw new Da(h.EMAILPASSWORD_BLANK).setUser(r);throw new Da(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){var v,F,M,aa,za,xa,Z,qa;function l(h,l){return"<"+h+">"+l+"</"+h+">";}function r(h){return h.replace(/[<>&"']/g,function(h){return za[h];});}function J(h){return encodeURIComponent(h).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}v=Lc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};F=na.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});M=qd=F.extend({init:function(l,v,r,x,F,E,J){var Z;function z(x){n(J,function(){var n,z;try{z={};z.useridtoken=l;z.action=v;z.nonce=r;z.pin=pa(x);n=Ta(JSON.stringify(z),La);}catch(Jb){throw new ha(h.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Jb);}F.sign(n,{result:function(h){G(n,h);},error:J.error});},Z);}function G(h,F){n(J,function(){Object.defineProperties(this,{_userIdToken:{value:l,writable:!1,enumerable:!1,configurable:!1},_action:{value:v,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:r,writable:!1,enumerable:!1,configurable:!1},_pin:{value:x,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:h,writable:!1,enumerable:!1,configurable:!1},_signature:{value:F,writable:!1,enumerable:!1,configurable:!1}});return this;},Z);}Z=this;n(J,function(){E?G(E.encoding,E.signature):F.encrypt(Ta(x,La),{result:function(h){z(h);},error:J.error});},Z);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof M?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin&&this._userIdToken.equals(h._userIdToken):!1;}});qd.ACTION="userauth";aa=function(l,v,r,x,F){function E(x){n(F,function(){var E,J,Z,aa,M,X;E=Va(r,La);try{X=JSON.parse(E);J=X.useridtoken;Z=X.action;aa=X.nonce;M=X.pin;}catch(g){if(g instanceof SyntaxError)throw new ha(h.JSON_PARSE_ERROR,"MDX authdata "+E,g);throw g;}if(!(J&&"object"===typeof J&&Z&&"string"===typeof Z&&aa&&"number"===typeof aa&&M)||"string"!==typeof M)throw new ha(h.JSON_PARSE_ERROR,"MDX authdata "+E);Tb(l,J,v,{result:function(g){n(F,function(){if(!g.isDecrypted())throw new Da(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+E);z(x,g,Z,aa,M);});},error:function(g){n(F,function(){if(g instanceof G)throw new Da(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+E,g);throw g;});}});});}function z(h,l,v,E,z){n(F,function(){var J;J=va(z);h.decrypt(J,{result:function(h){n(F,function(){var g;g=Va(h,La);new M(l,v,E,g,null,{encoding:r,signature:x},F);});},error:F.error});});}n(F,function(){var z,J;try{J=l.getMslStore().getCryptoContext(v);z=J?J:new kb(l,v);}catch(wb){if(wb instanceof Qb)throw new Da(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+pa(r));throw wb;}z.verify(r,x,{result:function(l){n(F,function(){if(!l)throw new P(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+pa(r));E(z);});},error:F.error});});};za={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};xa=oc=F.extend({init:function(h,n,v,x){var F,E;F=l("action",r(h));E=l("nonce",n.toString());v=l("pin",v);F=l("registerdata",F+E+v);F=Ta(F,"utf-8");Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:n,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:F,writable:!1,enumerable:!1,configurable:!1},_signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof xa?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin:!1;}});oc.ACTION="regpairrequest";Z=rd=F.extend({init:function(h,v,x,F,E,G){var aa;function z(x){n(G,function(){var n,E,z,aa,g;n=pa(x);E=l("action",r(h));z=l("nonce",v.toString());aa=l("pin",n);E=l("registerdata",E+z+aa);g=Ta(E,"utf-8");n="action="+J(h)+"&nonce="+J(v.toString())+"&pin="+J(n);F.sign(Ta(n,"utf-8"),{result:function(d){Z(g,d);},error:G.error});},aa);}function Z(l,r){n(G,function(){Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:v,writable:!1,enumerable:!1,configurable:!1},_pin:{value:x,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:l,writable:!1,enumerable:!1,configurable:!1},_signature:{value:r,writable:!1,enumerable:!1,configurable:!1}});return this;},aa);}aa=this;n(G,function(){E?Z(E.encoding,E.signature):F.encrypt(Ta(x,"utf-8"),{result:function(h){z(h);},error:G.error});},aa);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof Z?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin:!1;}});rd.ACTION=oc.ACTION;qa=function(l,v,r,x,F){n(F,function(){var E,z,G,aa,M,X,ga;E=l.getMslStore().getCryptoContext(v);z=E?E:new kb(l,v);E=Va(r,"utf-8");G=new DOMParser().parseFromString(E,"application/xml");E=G.getElementsByTagName("action");aa=G.getElementsByTagName("nonce");G=G.getElementsByTagName("pin");M=E&&1==E.length&&E[0].firstChild?E[0].firstChild.nodeValue:null;X=aa&&1==aa.length&&aa[0].firstChild?parseInt(aa[0].firstChild.nodeValue):null;ga=G&&1==G.length&&G[0].firstChild?G[0].firstChild.nodeValue:null;if(!M||!X||!ga)throw new ha(h.XML_PARSE_ERROR,"MDX authdata "+pa(r));E="action="+J(M)+"&nonce="+J(X.toString())+"&pin="+J(ga);z.verify(Ta(E,"utf-8"),x,{result:function(l){n(F,function(){var v;if(!l)throw new P(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+pa(r));v=va(ga);z.decrypt(v,{result:function(g){n(F,function(){var d;d=Va(g,"utf-8");new Z(M,X,d,null,{encoding:r,signature:x},F);});},error:F.error});});},error:F.error});});};cc=Gb.extend({init:function X(h,l,n,r,x,F){var E,J,G,Z,aa,ga;X.base.call(this,eb.MDX);E=null;J=null;G=null;if("string"===typeof n)h=v.MSL_LEGACY,G=n;else if(n instanceof Uint8Array)h=v.NTBA,J=n;else if(n instanceof jb)h=v.MSL,E=n;else throw new TypeError("Controller token "+n+" is not a master token, encrypted CTicket, or MSL token construct.");Z=n=null;aa=null;if(F){ga=F.controllerAuthData;n=ga.getAction();Z=ga.getPin();F=F.userIdToken;ga instanceof M?aa=ga.getUserIdToken().customer:F&&(aa=F.customer);}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},action:{value:n,writable:!1,configurable:!1},targetPin:{value:l,writable:!1,configurable:!1},controllerPin:{value:Z,writable:!1,configurable:!1},customer:{value:aa,writable:!1,configurable:!1},_masterToken:{value:E,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:J,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:G,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:r,writable:!1,enumerable:!1,configurable:!1},_signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var h,l;h={};switch(this.mechanism){case v.MSL:l=JSON.parse(JSON.stringify(this._masterToken));h.mastertoken=l;break;case v.NTBA:l=Va(this._encryptedCTicket,"utf-8");h.cticket=l;break;case v.MSL_LEGACY:h.cticket=this._mslTokens;break;default:throw new ea("Unsupported MDX mechanism.");}h.pin=this.targetPin;h.mdxauthdata=pa(this._controllerEncoding);h.signature=pa(this._signature);return h;},equals:function ya(h){return this===h?!0:h instanceof cc?ya.base.call(this,h)&&(this._masterToken==h._masterToken||this._masterToken&&this._masterToken.equals(h._masterToken))&&(this._encryptedCTicket==h._encryptedCTicket||this._encryptedCTicket&&bb(this._encryptedCTicket,h._encryptedCTicket))&&this._mslTokens==h._mslTokens&&bb(this._controllerEncoding,h._controllerEncoding)&&bb(this._signature,h._signature):!1;}});we=function(l,v,r){function x(x,F,E,J){Sb(l,F,{result:function(F){n(r,function(){if(!F.isDecrypted())throw new Da(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());aa(l,F,E,J,{result:function(h){n(r,function(){var g,d;g=h.getEncoding();d=h.getSignature();return new cc(l,x,F,g,d,{controllerAuthData:h,userIdToken:null});});},error:r.error});});},error:function(l){n(r,function(){if(l instanceof G)throw new Da(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),l);throw l;});}});}function F(l,v,x,F){n(r,function(){throw new Da(h.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function E(x,F,E,J){function Z(g,d){n(d,function(){var a,c;try{a=va(g);}catch(f){throw new Da(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),f);}if(!a||0==a.length)throw new Da(h.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{c=JSON.parse(Va(a,"utf-8"));Sb(l,c,{result:function(a){n(d,function(){if(!a.isDecrypted())throw new Da(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());return a;});},error:function(a){n(d,function(){if(a instanceof G)throw new Da(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),a);throw a;});}});}catch(f){if(f instanceof SyntaxError)throw new ha(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),f);throw f;}});}function aa(g,d,a){n(a,function(){var c,f;try{c=va(g);}catch(m){throw new Da(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),m);}if(!c||0==c.length)throw new Da(h.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{f=JSON.parse(Va(c,"utf-8"));Tb(l,f,d,{result:function(f){n(a,function(){if(!f.isDecrypted())throw new Da(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v));return f;});},error:function(f){n(a,function(){if(f instanceof G)throw new Da(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),f);throw f;});}});}catch(m){if(m instanceof SyntaxError)throw new ha(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),m);throw m;}});}n(r,function(){var g;g=F.split(",");if(3!=g.length||"1"!=g[0])throw new Da(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));Z(g[1],{result:function(d){aa(g[2],d,{result:function(a){qa(l,d,E,J,{result:function(c){n(r,function(){return new cc(l,x,F,E,J,{controllerAuthData:c,userIdToken:a});});},error:function(a){n(r,function(){if(a instanceof Qb)throw new Da(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v),a);throw a;});}});},error:r.error});},error:r.error});});}n(r,function(){var l,n,r,J,G;l=v.pin;n=v.mdxauthdata;r=v.signature;if(!l||"string"!==typeof l||!n||"string"!==typeof n||!r||"string"!==typeof r)throw new ha(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));try{J=va(n);G=va(r);}catch(Jb){throw new Da(h.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(v),Jb);}if(v.mastertoken){n=v.mastertoken;if(!n||"object"!==typeof n)throw new ha(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));x(l,n,J,G);}else if(v.cticket){n=v.cticket;if(!n||"string"!==typeof n)throw new ha(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));-1==n.indexOf(",")?F(l,n,J,G):E(l,n,J,G);}else throw new Da(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));});};}());(function(){var l,n,r;l=qd.ACTION;n=oc.ACTION;r=rd.ACTION;xe=mc.extend({init:function F(){F.base.call(this,eb.MDX);},createData:function(h,l,n,r){we(h,n,r);},authenticate:function(x,E,J,G){if(!(J instanceof cc))throw new ea("Incorrect authentication data type "+J.getClass().getName()+".");x=J.action;switch(J.mechanism){case Lc.MSL:if(l!=x)throw new Da(h.MDX_USERAUTH_ACTION_INVALID).setUser(J);break;case Lc.NTBA:if(n!=x)throw new Da(h.MDX_USERAUTH_ACTION_INVALID).setUser(J);break;case Lc.MSL_LEGACY:if(r!=x)throw new Da(h.MDX_USERAUTH_ACTION_INVALID).setUser(J);}x=J.controllerPin;E=J.targetPin;if(!x||!E)throw new Da(h.MDX_PIN_BLANK).setUser(J);if(x!=E)throw new Da(h.MDX_PIN_MISMATCH).setUser(J);x=J.customer;if(!x)throw new Da(h.MDX_USER_UNKNOWN).setUser(J);if(G&&(G=G.customer,!x.equals(G)))throw new Da(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+x+"; uit customer "+G).setUser(J);return x;}});}());(function(){var l,n,r;l={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};n=ze=na.Class.create({init:function(h,l){Object.defineProperties(this,{email:{value:h,writable:!1,enumerable:!0,configurable:!1},password:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});r=Ae=na.Class.create({init:function(h,l){Object.defineProperties(this,{netflixId:{value:h,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});pc=Gb.extend({init:function F(h,l,x,E){var J,G,z,M;F.base.call(this,eb.SSO);J=null;G=null;z=null;M=null;x instanceof n?(J=x.email,G=x.password):x instanceof r&&(z=x.netflixId,M=x.secureNetflixId);Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},token:{value:l,writable:!1,configurable:!1},email:{value:J,writable:!1,configurable:!1},password:{value:G,writable:!1,configurable:!1},netflixId:{value:z,writable:!1,configurable:!1},secureNetflixId:{value:M,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof E?null:E,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.mechanism=this.mechanism;h.token=pa(this.token);this.email&&this.password?(h.email=this.email,h.password=this.password):this.netflixId&&this.secureNetflixId&&(h.netflixid=this.netflixId,h.securenetflixid=this.secureNetflixId);this.profileGuid&&(h.profileguid=this.profileGuid);return h;},equals:function Ba(h){return this===h?!0:h instanceof pc?Ba.base.call(this,h)&&this.mechanism==h.mechanism&&bb(this.token,h.token)&&this.email==h.email&&this.password==h.password&&this.netflixId==h.netflixId&&this.secureNetflixId==h.secureNetflixId&&this.profileGuid==h.profileGuid:!1;}});ye=function(x){var E,J,G,Z,M,z,X,P,ga;E=x.mechanism;J=x.token;if(!E||!J||"string"!==typeof J)throw new ha(h.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(x));if(!l[E])throw new Da(h.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(x));G=x.email;Z=x.password;M=x.netflixid;z=x.securenetflixid;X=x.profileguid;if(G&&!Z||!G&&Z||M&&!z||!M&&z||G&&M)throw new ha(h.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(x));try{P=va(J);}catch(da){throw new Da(h.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(x),da);}G&&Z?ga=new n(G,Z):M&&z&&(ga=new r(M,z));return new pc(E,P,ga,X);};}());af=mc.extend({init:function E(){E.base.call(this,eb.SSO);},createData:function(h,l,v,r){n(r,function(){return ye(v);});},authenticate:function(l,n,v,r){var F,E;if(!(v instanceof pc))throw new ea("Incorrect authentication data type "+v+".");l=v.token;n=v.email;r=v.password;F=v.netflixId;E=v.secureNetflixId;if(!l||0==l.length)throw new Da(h.SSOTOKEN_BLANK);if(!(null===n&&null===r||n&&r))throw new Da(h.EMAILPASSWORD_BLANK);if(!(null===F&&null===E||F&&E))throw new Da(h.NETFLIXID_COOKIES_BLANK).setUser(v);throw new Da(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(v);}});(function(){qc=Gb.extend({init:function J(h,l){J.base.call(this,eb.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:h,writable:!1,configurable:!1},profileGuid:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));h.profileguid=this.profileGuid;return h;},equals:function v(h){return this==h?!0:h instanceof qc?v.base.call(this,h)&&this.userIdToken.equals(h.userIdToken)&&this.profileGuid==h.profileGuid:!1;}});Be=function(l,r,G,M){n(M,function(){var v,F;if(!r)throw new Da(h.USERAUTH_MASTERTOKEN_MISSING);v=G.useridtoken;F=G.profileguid;if("object"!==typeof v||"string"!==typeof F)throw new ha(h.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(G));Tb(l,v,r,{result:function(l){n(M,function(){if(!l.isDecrypted())throw new Da(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(G));return new qc(l,F);});},error:function(l){M.error(new Da(h.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(G),l));}});});};}());bf=mc.extend({init:function J(h){J.base.call(this,eb.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,l,n,r){Be(h,l,n,r);},authenticate:function(l,n,r,G){if(!(r instanceof qc))throw new ea("Incorrect authentication data type "+r+".");n=r.userIdToken;l=r.profileGuid;if(!l)throw new Da(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(r);n=n.user;if(!n)throw new Da(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(r);l=this._store.switchUsers(n,l);if(!l)throw new Da(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(r);if(G&&(G=G.user,!l.equals(G)))throw new Da(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+l+"; uit user "+G).setUserAuthenticationData(r);return l;}});Object.freeze({ENTITY_REAUTH:l.ENTITY_REAUTH,ENTITYDATA_REAUTH:l.ENTITYDATA_REAUTH});cf=na.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(h,l){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(h){},getUserAuthenticationFactory:function(h){},getTokenFactory:function(){},getKeyExchangeFactory:function(h){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Ce=na.Class.create({setCryptoContext:function(h,l){},getMasterToken:function(){},getNonReplayableId:function(h){},getCryptoContext:function(h){},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,l){},getUserIdToken:function(h){},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(h,l){},removeServiceTokens:function(h,l,n){},clearServiceTokens:function(){}});(function(){var l;l=Ob;od=function(n,r){var v;v={};switch(n){case l.LZW:return Ed(r,v);case l.GZIP:return gzip$compress(r);default:throw new G(h.UNSUPPORTED_COMPRESSION,n);}};Ic=function(n,r,J){switch(n){case l.LZW:return Fd(r);case l.GZIP:return gzip$uncompress(r);default:throw new G(h.UNSUPPORTED_COMPRESSION,n.name());}};}());Ce.extend({setCryptoContext:function(h,l){},getMasterToken:function(){return null;},getNonReplayableId:function(h){return 1;},getCryptoContext:function(h){return null;},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,l){},getUserIdToken:function(h){return null;},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(l,n){if(n){if(!l)throw new G(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!n.isBoundTo(l))throw new G(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+n.mtSerialNumber+"; mt "+l.serialNumber);}return[];},removeServiceTokens:function(l,n,r){if(r&&n&&!r.isBoundTo(n))throw new G(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.masterTokenSerialNumber+"; mt "+n.serialNumber);},clearServiceTokens:function(){}});(function(){De=Ce.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(h,l){var n;if(l){n=h.uniqueKey();this.masterTokens[n]=h;this.cryptoContexts[n]=l;}else this.removeCryptoContext(h);},getMasterToken:function(){var h,l,n;h=null;for(l in this.masterTokens){n=this.masterTokens[l];if(!h||n.isNewerThan(h))h=n;}return h;},getNonReplayableId:function(h){var l;h=h.serialNumber;l=this.nonReplayableIds[h]!==la?this.nonReplayableIds[h]:0;if(0>l||l>Ma)throw new ea("Non-replayable ID "+l+" is outside the valid range.");l=l==Ma?0:l+1;return this.nonReplayableIds[h]=l;},getCryptoContext:function(h){return this.cryptoContexts[h.uniqueKey()];},removeCryptoContext:function(h){var l,n;l=h.uniqueKey();if(this.masterTokens[l]){delete this.masterTokens[l];delete this.cryptoContexts[l];l=h.serialNumber;for(n in this.masterTokens)if(this.masterTokens[n].serialNumber==l)return;delete this.nonReplayableIds[l];Object.keys(this.userIdTokens).forEach(function(l){l=this.userIdTokens[l];l.isBoundTo(h)&&this.removeUserIdToken(l);},this);try{this.removeServiceTokens(null,h,null);}catch(aa){if(aa instanceof G)throw new ea("Unexpected exception while removing master token bound service tokens.",aa);throw aa;}}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(h){for(var l in h)delete h[l];},this);},addUserIdToken:function(l,n){var r,v;r=!1;for(v in this.masterTokens)if(n.isBoundTo(this.masterTokens[v])){r=!0;break;}if(!r)throw new G(h.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+n.mtSerialNumber);this.userIdTokens[l]=n;},getUserIdToken:function(h){return this.userIdTokens[h];},removeUserIdToken:function(h){var l,n,r;l=null;for(n in this.masterTokens){r=this.masterTokens[n];if(h.isBoundTo(r)){l=r;break;}}Object.keys(this.userIdTokens).forEach(function(n){if(this.userIdTokens[n].equals(h)){delete this.userIdTokens[n];try{this.removeServiceTokens(null,l,h);}catch(xa){if(xa instanceof G)throw new ea("Unexpected exception while removing user ID token bound service tokens.",xa);throw xa;}}},this);},clearUserIdTokens:function(){var l;for(var h in this.userIdTokens){l=this.userIdTokens[h];try{this.removeServiceTokens(null,null,l);}catch(Ba){if(Ba instanceof G)throw new ea("Unexpected exception while removing user ID token bound service tokens.",Ba);throw Ba;}delete this.userIdTokens[h];}},addServiceTokens:function(l){l.forEach(function(l){var n,r,v;if(l.isUnbound())this.unboundServiceTokens[l.uniqueKey()]=l;else{if(l.isMasterTokenBound()){n=!1;for(r in this.masterTokens)if(l.isBoundTo(this.masterTokens[r])){n=!0;break;}if(!n)throw new G(h.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+l.mtSerialNumber);}if(l.isUserIdTokenBound()){n=!1;for(v in this.userIdTokens)if(l.isBoundTo(this.userIdTokens[v])){n=!0;break;}if(!n)throw new G(h.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+l.uitSerialNumber);}l.isMasterTokenBound()&&((v=this.mtServiceTokens[l.mtSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.mtServiceTokens[l.mtSerialNumber]=v);l.isUserIdTokenBound()&&((v=this.uitServiceTokens[l.uitSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.uitServiceTokens[l.uitSerialNumber]=v);}},this);},getServiceTokens:function(l,n){var r,v,F,M;if(n){if(!l)throw new G(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!n.isBoundTo(l))throw new G(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+n.mtSerialNumber+"; mt "+l.serialNumber);}r={};for(v in this.unboundServiceTokens){F=this.unboundServiceTokens[v];r[F.uniqueKey()]=F;}if(l&&(F=this.mtServiceTokens[l.serialNumber]))for(v in F){M=F[v];M.isUserIdTokenBound()||(r[v]=M);}if(n&&(F=this.uitServiceTokens[n.serialNumber]))for(v in F)M=F[v],M.isBoundTo(l)&&(r[v]=M);F=[];for(v in r)F.push(r[v]);return F;},removeServiceTokens:function(l,n,r){var F,M,qa;if(r&&n&&!r.isBoundTo(n))throw new G(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.mtSerialNumber+"; mt "+n.serialNumber);if(l&&!n&&!r){Object.keys(this.unboundServiceTokens).forEach(function(h){this.unboundServiceTokens[h].name==l&&delete this.unboundServiceTokens[h];},this);for(var v in this.mtServiceTokens){F=this.mtServiceTokens[v];M=Object.keys(F);M.forEach(function(h){F[h].name==l&&delete F[h];},this);this.mtServiceTokens[v]=F;}for(var Z in this.uitServiceTokens)F=this.uitServiceTokens[Z],v=Object.keys(F),v.forEach(function(h){F[h].name==l&&delete F[h];},this),this.uitServiceTokens[Z]=F;}if(n&&!r){if(F=this.mtServiceTokens[n.serialNumber])M=Object.keys(F),M.forEach(function(h){var n;n=F[h];l&&n.name!=l||delete F[h];},this),this.mtServiceTokens[n.serialNumber]=F;for(Z in this.uitServiceTokens){qa=this.uitServiceTokens[Z];v=Object.keys(qa);v.forEach(function(h){var r;r=qa[h];l&&r.name!=l||r.isBoundTo(n)&&delete qa[h];},this);this.uitServiceTokens[Z]=qa;}}r&&(F=this.uitServiceTokens[r.serialNumber])&&(v=Object.keys(F),v.forEach(function(h){var r;r=F[h];l&&r.name!=l||n&&!r.isBoundTo(n)||delete F[h];},this),this.uitServiceTokens[r.serialNumber]=F);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(h){for(var l in h)delete h[l];},this);}});}());Me=We.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(h,l){var n;if(l&&h&&h.length){n=pa(h);this._contextMap[n]=l;}},getCryptoContext:function(h){return h&&h.length?(h=pa(h),this._contextMap[h]||null):null;},removeCryptoContext:function(h){h&&h.length&&(h=pa(h),delete this._contextMap[h]);}});Ee=Pe.extend({init:function F(h,l,n,r){F.base.call(this,h);Object.defineProperties(this,{_kde:{value:l,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,n){if(!(n instanceof ob))throw new ea("Incorrect authentication data type "+JSON.stringify(n)+".");if(n.identity!=this.localIdentity)throw new xb(h.ENTITY_NOT_FOUND,"mgk "+n.identity);return new Bc(l,this.localIdentity,this._kde,this._kdh,this._kdw);}});df=Pd.extend({init:function Ba(h,l,n,r){Ba.base.call(this,h);Object.defineProperties(this,{_kpe:{value:l,writable:!1,enumerable:!1,configurable:!1},_kph:{value:n,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,n){if(!(n instanceof ub))throw new ea("Incorrect authentication data type "+JSON.stringify(n)+".");if(n.identity!=this.localIdentity)throw new xb(h.ENTITY_NOT_FOUND,"psk "+n.identity);return new Bc(l,this.localIdentity,this._kpe,this._kph,this._kpw);}});ff=De.extend({init:function aa(h,l,n,r,z,G){aa.base.call(this);this._log=h;this._esn=l;this._keyRequestData=n;this._createKeyRequestData=r;this._systemKeyName=z;this._systemKeyWrapFormat=G;},setCryptoContext:function za(h,l,n){var r;r=this;r._log.trace("Adding MasterToken",{SequenceNumber:h.sequenceNumber,SerialNumber:h.serialNumber,Expiration:h.expiration.getTime()});za.base.call(this,h,l);!n&&(h=r._createKeyRequestData)&&(r._log.trace("Generating new keyx request data"),h().then(function(h){r._keyRequestData=h;},function(h){r._log.error("Unable to generate new keyx request data",""+h);}));},addUserIdToken:function xa(h,l){this._log.trace("Adding UserIdToken",{UserId:h,SerialNumber:l.serialNumber,MTSerialNumber:l.mtSerialNumber,Expiration:l.expiration.getTime()});xa.base.call(this,h,l);},addServiceTokens:function Z(h){Z.base.call(this,h.filter(function(h){return!ef[h.name];}));},getUserIdTokenKeys:function(){var h,l;h=[];for(l in this.userIdTokens)h.push(l);return h;},rekeyUserIdToken:function(h,l){this.userIdTokens[h]&&(this.userIdTokens[l]=this.userIdTokens[h],delete this.userIdTokens[h]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(h){var l;l=this;n(h,function(){var r;r=l.getMasterToken();r?l.getKeysForStore(r,{result:function(z){n(h,function(){var h,n,G;h=l.userIdTokens;n=Object.keys(h).map(function(n){var z;z=h[n];return{userId:n,userIdTokenJSON:h[n].toJSON(),serviceTokenJSONList:l.getServiceTokens(r,z).map(Je)};});z.esn=l._esn;z.masterTokenJSON=r.toJSON();z.userList=n;G=l._keyRequestData.storeData;G&&Object.keys(G).forEach(function(h){z[h]=G[h];});return z;});},timeout:h.timeout,error:h.error}):h.result(null);});},getKeysForStore:function(l,r){var z;z=this;n(r,function(){var n;n=z.getCryptoContext(l);n={encryptionKey:n.encryptionKey,hmacKey:n.hmacKey};if(n.encryptionKey&&n.hmacKey)if(z._systemKeyWrapFormat)z.wrapKeysWithSystemKey(n,r);else return n;else throw new G(h.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(l,r){var z;z=this;yd(this._systemKeyName,{result:function(M){n(r,function(){var n,Z,X,P;n=l.encryptionKey;Z=l.hmacKey;X=n[dc];P=Z[dc];if(X&&P)return{wrappedEncryptionKey:X,wrappedHmacKey:P};Promise.resolve().then(function(){return Promise.all([Ja.wrapKey(z._systemKeyWrapFormat,n,M,M.algorithm),Ja.wrapKey(z._systemKeyWrapFormat,Z,M,M.algorithm)]);}).then(function(h){X=pa(h[0]);n[dc]=X;P=pa(h[1]);Z[dc]=P;r.result({wrappedEncryptionKey:X,wrappedHmacKey:P});})["catch"](function(l){r.error(new G(h.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",l));});});},timeout:r.timeout,error:r.error});},unwrapKeysWithSystemKey:function(l,r){var z;z=this;yd(this._systemKeyName,{result:function(M){n(r,function(){var n,Z;n=va(l.wrappedEncryptionKey);Z=va(l.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ja.unwrapKey(z._systemKeyWrapFormat,n,M,M.algorithm,sb,!1,Hb),Ja.unwrapKey(z._systemKeyWrapFormat,Z,M,M.algorithm,tb,!1,Rb)]);}).then(function(h){var n;n=h[0];h=h[1];n[dc]=l.wrappedEncryptionKey;h[dc]=l.wrappedHmacKey;r.result({encryptionKey:n,hmacKey:h});})["catch"](function(l){r.error(new G(h.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",l));});});},timeout:r.timeout,error:r.error});},loadStoreState:function(h,l,n,r){var M,Z;function z(h,r){var z;try{z=n.userList.slice();}catch(wb){}z?function Fb(){var n;n=z.shift();n?Tb(l,n.userIdTokenJSON,h,{result:function(l){try{M.addUserIdToken(n.userId,l);G(h,l,n.serviceTokenJSONList,{result:Fb,timeout:Fb,error:Fb});}catch(Jb){Fb();}},timeout:Fb,error:Fb}):r.result();}():r.result();}function G(h,n,r,z){var G,Z;try{G=r.slice();}catch(ra){}if(G){Z=M.getCryptoContext(h);(function Jb(){var g;g=G.shift();g?Hc(l,g,h,n,Z,{result:function(d){M.addServiceTokens([d]);Jb();},timeout:function(){Jb();},error:function(){Jb();}}):z.result();}());}else z.result();}M=this;Z=M._log;n.esn!=M._esn?(Z.error("Esn mismatch, starting fresh"),r.error()):function(r){var X,ga,P,da;function z(){var n;if(!X&&ga&&P&&da){X=!0;n=new kb(l,ga,h.esn,{rawKey:P},{rawKey:da});M.setCryptoContext(ga,n,!0);r.result(ga);}}function G(h,g){Z.error(h,g&&""+g);X||(X=!0,r.error());}n.masterTokenJSON?(Sb(l,n.masterTokenJSON,{result:function(h){ga=h;z();},timeout:function(){G("Timeout parsing MasterToken");},error:function(h){G("Error parsing MasterToken",h);}}),M._systemKeyWrapFormat?M.unwrapKeysWithSystemKey(n,{result:function(h){P=h.encryptionKey;da=h.hmacKey;z();},timeout:function(){G("Timeout unwrapping keys");},error:function(h){G("Error unwrapping keys",h);}}):Promise.resolve().then(function(){return Ja.encrypt({name:sb.name,iv:new Uint8Array(16)},n.encryptionKey,new Uint8Array(1));}).then(function(h){P=n.encryptionKey;})["catch"](function(h){G("Error loading encryptionKey");}).then(function(){return Ja.sign(tb,n.hmacKey,new Uint8Array(1));}).then(function(h){da=n.hmacKey;z();})["catch"](function(h){G("Error loading hmacKey");})):G("Persisted store is corrupt");}({result:function(h){z(h,r);},timeout:r.timeout,error:r.error});}});ef={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};dc="$netflix$msl$wrapsys";gf=cf.extend({init:function(h,l,n,r,G,M){var z,Z;z=new kc([Ob.LZW]);Z=new Re();Z.addPublicKey(l,n);r[Pa.RSA]=new Qe(Z);l={};l[eb.EMAIL_PASSWORD]=new $e();l[eb.NETFLIXID]=new Ze();l[eb.MDX]=new xe();l[eb.SSO]=new af();l[eb.SWITCH_PROFILE]=new bf();h={_mslCryptoContext:{value:new Oe(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:z,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:G,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:r,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:l,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:M,writable:!1,enumerable:!1,configurable:!1},_store:{value:h,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},getTime:function(){return Date.now();},getRandom:function(){return new Jd();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(h,l){l.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(h){return this._entityAuthFactories[h];},getUserAuthenticationFactory:function(h){return this._userAuthFactories[h];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(h){return this._keyExchangeFactories.filter(function(l){return l.scheme==h;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});Ad=re.extend({init:function(h,l,n,r){this._log=h;this._mslContext=l;this._mslRequest=n;this._keyRequestData=r;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(h,l,r,G){var z,M;z=this._mslRequest;M=this._mslContext;n(G,function(){var l,n;if(h||!z.shouldSendUserAuthData)return null;if(z.token){z.email?l=new ze(z.email,z.password):z.netflixId&&(l=new Ae(z.netflixId,z.secureNetflixId));n="undefined"===typeof z.profileGuid?null:z.profileGuid;return new pc(z.mechanism,Ta(z.token),l,n);}return z.email?new nc(z.email,z.password):z.netflixId?new Wb(z.netflixId,z.secureNetflixId):z.mdxControllerToken?(l=new oc("regpairrequest",z.mdxNonce,z.mdxEncryptedPinB64,z.mdxSignature).getEncoding(),new cc(M,z.mdxPin,z.mdxControllerToken,l,z.mdxSignature)):z.useNetflixUserAuthData?new Wb():z.profileGuid?(l=z.userId,l=M.getMslStore().userIdTokens[l],new qc(l,z.profileGuid)):r&&z.sendUserAuthIfRequired?new Wb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(h){h.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(h,l,n){var r,z,G,M,Z,P;r=this._log;z=(this._mslRequest.serviceTokens||[]).slice();G=this._mslContext;l=G.getMslStore();M=h.builder.getMasterToken();Z=this.getUserId();P=l.getUserIdToken(Z);(function ja(){var l;l=z.shift();if(l)try{l instanceof Kb?(h.addPrimaryServiceToken(l),ja()):Hc(G,l,M,P,null,{result:function(l){try{h.addPrimaryServiceToken(l);}catch(hd){r.warn("Exception adding service token",""+hd);}ja();},timeout:function(){r.warn("Timeout parsing service token");ja();},error:function(h){r.warn("Error parsing service token",""+h);ja();}});}catch(Fb){r.warn("Exception processing service token",""+Fb);ja();}else n.result(!0);}());},write:function(h,l,n){var r;r=Ta(this._mslRequest.body);h.write(r,0,r.length,l,{result:function(z){z!=r.length?n.error(new Xa("Not all data was written to output.")):h.flush(l,{result:function(){n.result(!0);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},getDebugContext:function(){this._dc||(this._dc=new hf(this._log,this._mslRequest));return this._dc;}});hf=Ye.extend({init:function(h,l){this._log=h;this._mslRequest=l;},sentHeader:function(h){this._log.trace("Sent MSL header",zd(this._mslRequest,h),h.serviceTokens&&h.serviceTokens.map(Ke).join("\n"));},receivedHeader:function(h){var l,n;l=zd(this._mslRequest,h);n=h.errorCode;n?this._log.warn("Received MSL error header",l,{errorCode:n,errorMessage:h.errorMessage,internalCode:h.internalCode}):this._log.trace("Received MSL header",l);}});Fe={PSK:function(h){return Rc(h,Pa.PSK,df,ub,id,Fc);},MGK:function(h){return Rc(h,Pa.MGK,Ee,ob,id,Fc);},MGK_WITH_FALLBACK:function(l){var n,r;switch(l.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":n="PSK";break;default:n="MGK";}r=Fe[n];if(!r)throw new G(h.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+n);return r(l);},MGK_JWE:function(h){return Rc(h,Pa.MGK,Ee,ob,Vd,gd);},JWK_RSA:function(h){return Sc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Gc.JWK_RSA);},JWK_RSAES:function(h){return Sc(h,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gc.JWK_RSAES);},JWEJS_RSA:function(h){return Sc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gc.JWEJS_RSA);}};M.netflix=M.netflix||{};M.netflix.msl={createMslClient:function(l,n){var r,M,Z,P,da;r=l.log;da=l.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Ra&&Ra.generateKey&&Ra.importKey&&Ra.unwrapKey))throw new G(h.INTERNAL_EXCEPTION,"No WebCrypto");fb=Ra.generateKey({name:"AES-CBC",length:128},!0,Hb).then?wc.V2014_02:wc.LEGACY;da("mslisik");return Ja.importKey("spki",l.serverIdentityKeyData,Kd,!1,["verify"]);}).then(function(l){return new Promise(function(n,r){Nb(l,{result:n,error:function(){r(new G(h.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(n){M=n;if(n=Fe[l.authenticationType])return da("mslcc"),n(l);throw new G(h.INTERNAL_EXCEPTION,"Invalid authenticationType: "+l.authenticationType);}).then(function(h){var n;Z=new ff(r,l.esn,h.keyRequestData,h.createKeyRequestData,l.authenticationKeyNames.s,l.systemKeyWrapFormat);P=new gf(Z,l.serverIdentityId,M,h.entityAuthFactories,h.entityAuthData,h.keyExchangeFactories);n=l.storeState;if(n)return da("mslss"),r.info("Loading store state"),new Promise(function(h,r){Z.loadStoreState(l,P,n,{result:h,timeout:h,error:h});});r.info("No store state, starting fresh");}).then(function(){var h;h=new se();da("msldone");n.result(new Le(r,h,P,Z,l.ErrorSubCodes));})["catch"](function(h){n.error(h);});},IHttpLocation:Ue,MslIoException:Xa};(function(){var va,ra,Da;function h(){h=function(){};ra.Symbol||(ra.Symbol=l);}function l(g){return"jscomp_symbol_"+(g||"")+Da++;}function n(){var g;h();g=ra.Symbol.iterator;g||(g=ra.Symbol.iterator=ra.Symbol("iterator"));"function"!=typeof Array.prototype[g]&&va(Array.prototype,g,{configurable:!0,writable:!0,value:function(){return r(this);}});n=function(){};}function r(g){var d;d=0;return G(function(){return d<g.length?{done:!1,value:g[d++]}:{done:!0};});}function G(g){n();g={next:g};g[ra.Symbol.iterator]=function(){return this;};return g;}function P(g){var d;n();h();n();d=g[Symbol.iterator];return d?d.call(g):r(g);}function da(g,d){var f;function a(){}a.prototype=d.prototype;g.prototype=new a();g.prototype.constructor=g;for(var c in d)if(Object.defineProperties){f=Object.getOwnPropertyDescriptor(d,c);f&&Object.defineProperty(g,c,f);}else g[c]=d[c];}function ea(g){if(!(g instanceof Array)){g=P(g);for(var d,a=[];!(d=g.next()).done;)a.push(d.value);g=a;}return g;}function ha(g,d){var a,f;if(d){a=ra;g=g.split(".");for(var c=0;c<g.length-1;c++){f=g[c];f in a||(a[f]={});a=a[f];}g=g[g.length-1];c=a[g];d=d(c);d!=c&&null!=d&&va(a,g,{configurable:!0,writable:!0,value:d});}}function la(g,d){return Object.prototype.hasOwnProperty.call(g,d);}function ja(g,d){var a,c;n();g instanceof String&&(g+="");a=0;c={next:function(){var f;if(a<g.length){f=a++;return{value:d(f,g[f]),done:!1};}c.next=function(){return{done:!0,value:void 0};};return c.next();}};c[Symbol.iterator]=function(){return c;};return c;}function na(g,d,a){if(null==g)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return g+"";}function pa(g,d,a){var m;g instanceof String&&(g=String(g));for(var c=g.length,f=0;f<c;f++){m=g[f];if(d.call(a,m,f,g))return{rj:f,z_:m};}return{rj:-1,z_:void 0};}va="function"==typeof Object.defineProperties?Object.defineProperty:function(g,d,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");g!=Array.prototype&&g!=Object.prototype&&(g[d]=a.value);};ra="undefined"!=typeof M&&M===this?this:"undefined"!=typeof global&&null!=global?global:this;Da=0;ha("Object.setPrototypeOf",function(g){return g?g:"object"!=typeof"".__proto__?null:function(d,a){d.__proto__=a;if(d.__proto__!==a)throw new TypeError(d+" is not extensible");return d;};});ha("Object.assign",function(g){return g?g:function(d,a){var f;for(var c=1;c<arguments.length;c++){f=arguments[c];if(f)for(var m in f)la(f,m)&&(d[m]=f[m]);}return d;};});ha("Object.getOwnPropertySymbols",function(g){return g?g:function(){return[];};});ha("Promise",function(g){var c,f;function d(a){var f;this.qO=0;this.Dea=void 0;this.bN=[];f=this.c7();try{a(f.resolve,f.reject);}catch(b){f.reject(b);}}function a(){this.Vv=null;}if(g)return g;a.prototype.Vra=function(a){null==this.Vv&&(this.Vv=[],this.Q4a());this.Vv.push(a);};a.prototype.Q4a=function(){var a;a=this;this.Wra(function(){a.Udb();});};c=ra.setTimeout;a.prototype.Wra=function(a){c(a,0);};a.prototype.Udb=function(){var a,b;for(;this.Vv&&this.Vv.length;){a=this.Vv;this.Vv=[];for(var f=0;f<a.length;++f){b=a[f];delete a[f];try{b();}catch(k){this.T4a(k);}}}this.Vv=null;};a.prototype.T4a=function(a){this.Wra(function(){throw a;});};d.prototype.c7=function(){var f,b;function a(a){return function(c){b||(b=!0,a.call(f,c));};}f=this;b=!1;return{resolve:a(this.gwb),reject:a(this.lea)};};d.prototype.gwb=function(a){var f;if(a===this)this.lea(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof d)this.qyb(a);else{a:switch(typeof a){case"object":f=null!=a;break a;case"function":f=!0;break a;default:f=!1;}f?this.fwb(a):this.Pwa(a);}};d.prototype.fwb=function(a){var f;f=void 0;try{f=a.then;}catch(b){this.lea(b);return;}"function"==typeof f?this.ryb(f,a):this.Pwa(a);};d.prototype.lea=function(a){this.kHa(2,a);};d.prototype.Pwa=function(a){this.kHa(1,a);};d.prototype.kHa=function(a,f){if(0!=this.qO)throw Error("Cannot settle("+a+", "+f|"): Promise already settled in state"+this.qO);this.qO=a;this.Dea=f;this.Vdb();};d.prototype.Vdb=function(){if(null!=this.bN){for(var a=this.bN,f=0;f<a.length;++f)a[f].call(),a[f]=null;this.bN=null;}};f=new a();d.prototype.qyb=function(a){var f;f=this.c7();a.CT(f.resolve,f.reject);};d.prototype.ryb=function(a,f){var b;b=this.c7();try{a.call(f,b.resolve,b.reject);}catch(k){b.reject(k);}};d.prototype.then=function(a,f){var c,p,m;function b(a,b){return"function"==typeof a?function(b){try{c(a(b));}catch(B){p(B);}}:b;}m=new d(function(a,b){c=a;p=b;});this.CT(b(a,c),b(f,p));return m;};d.prototype["catch"]=function(a){return this.then(void 0,a);};d.prototype.CT=function(a,c){var k;function b(){switch(k.qO){case 1:a(k.Dea);break;case 2:c(k.Dea);break;default:throw Error("Unexpected state: "+k.qO);}}k=this;null==this.bN?f.Vra(b):this.bN.push(function(){f.Vra(b);});};d.resolve=function(a){return a instanceof d?a:new d(function(f){f(a);});};d.reject=function(a){return new d(function(f,b){b(a);});};d.race=function(a){return new d(function(f,b){for(var c=P(a),p=c.next();!p.done;p=c.next())d.resolve(p.value).CT(f,b);});};d.all=function(a){var f,b;f=P(a);b=f.next();return b.done?d.resolve([]):new d(function(a,c){var p,m;function k(b){return function(f){p[b]=f;m--;0==m&&a(p);};}p=[];m=0;do p.push(void 0),m++,d.resolve(b.value).CT(k(p.length-1),c),b=f.next();while(!b.done);});};d.$jscomp$new$AsyncExecutor=function(){return new a();};return d;});ha("Array.prototype.keys",function(g){return g?g:function(){return ja(this,function(d){return d;});};});ha("Math.tanh",function(g){return g?g:function(d){var a;d=Number(d);if(0===d)return d;a=Math.exp(-2*Math.abs(d));a=(1-a)/(1+a);return 0>d?-a:a;};});ha("WeakMap",function(g){var f,m;function d(a){this.QL=(m+=Math.random()+1).toString();if(a){h();n();a=P(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1]);}}function a(a){la(a,f)||va(a,f,{value:{}});}function c(f){var b;b=Object[f];b&&(Object[f]=function(f){a(f);return b(f);});}if(function(){var a,b,f;if(!g||!Object.seal)return!1;try{a=Object.seal({});b=Object.seal({});f=new g([[a,2],[b,3]]);if(2!=f.get(a)||3!=f.get(b))return!1;f["delete"](a);f.set(b,4);return!f.has(a)&&4==f.get(b);}catch(p){return!1;}}())return g;f="$jscomp_hidden_"+Math.random().toString().substring(2);c("freeze");c("preventExtensions");c("seal");m=0;d.prototype.set=function(c,b){a(c);if(!la(c,f))throw Error("WeakMap key fail: "+c);c[f][this.QL]=b;return this;};d.prototype.get=function(a){return la(a,f)?a[f][this.QL]:void 0;};d.prototype.has=function(a){return la(a,f)&&la(a[f],this.QL);};d.prototype["delete"]=function(a){return la(a,f)&&la(a[f],this.QL)?delete a[f][this.QL]:!1;};return d;});ha("Map",function(g){var m,q;function d(){var a;a={};return a.Au=a.next=a.head=a;}function a(a,f){var b;b=a.Ut;return G(function(){if(b){for(;b.head!=a.Ut;)b=b.Au;for(;b.next!=b.head;)return b=b.next,{done:!1,value:f(b)};b=null;}return{done:!0,value:void 0};});}function c(a,f){var b,c,k;b=f&&typeof f;"object"==b||"function"==b?m.has(f)?b=m.get(f):(b=""+ ++q,m.set(f,b)):b="p_"+f;c=a.zt[b];if(c&&la(a.zt,b))for(a=0;a<c.length;a++){k=c[a];if(f!==f&&k.key!==k.key||f===k.key)return{id:b,list:c,index:a,pe:k};}return{id:b,list:c,index:-1,pe:void 0};}function f(a){this.zt={};this.Ut=d();this.size=0;if(a){a=P(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1]);}}if(function(){var a,f,c,m;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});f=new g(P([[a,"s"]]));if("s"!=f.get(a)||1!=f.size||f.get({x:4})||f.set({x:4},"t")!=f||2!=f.size)return!1;c=f.entries();m=c.next();if(m.done||m.value[0]!=a||"s"!=m.value[1])return!1;m=c.next();return m.done||4!=m.value[0].x||"t"!=m.value[1]||!c.next().done?!1:!0;}catch(u){return!1;}}())return g;h();n();m=new WeakMap();f.prototype.set=function(a,f){var b;b=c(this,a);b.list||(b.list=this.zt[b.id]=[]);b.pe?b.pe.value=f:(b.pe={next:this.Ut,Au:this.Ut.Au,head:this.Ut,key:a,value:f},b.list.push(b.pe),this.Ut.Au.next=b.pe,this.Ut.Au=b.pe,this.size++);return this;};f.prototype["delete"]=function(a){a=c(this,a);return a.pe&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.zt[a.id],a.pe.Au.next=a.pe.next,a.pe.next.Au=a.pe.Au,a.pe.head=null,this.size--,!0):!1;};f.prototype.clear=function(){this.zt={};this.Ut=this.Ut.Au=d();this.size=0;};f.prototype.has=function(a){return!!c(this,a).pe;};f.prototype.get=function(a){return(a=c(this,a).pe)&&a.value;};f.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};f.prototype.keys=function(){return a(this,function(a){return a.key;});};f.prototype.values=function(){return a(this,function(a){return a.value;});};f.prototype.forEach=function(a,f){for(var b=this.entries(),c;!(c=b.next()).done;)c=c.value,a.call(f,c[1],c[0],this);};f.prototype[Symbol.iterator]=f.prototype.entries;q=0;return f;});ha("Set",function(g){function d(a){this.Ql=new Map();if(a){a=P(a);for(var c;!(c=a.next()).done;)this.add(c.value);}this.size=this.Ql.size;}if(function(){var a,c,f,m;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});c=new g(P([a]));if(!c.has(a)||1!=c.size||c.add(a)!=c||1!=c.size||c.add({x:4})!=c||2!=c.size)return!1;f=c.entries();m=f.next();if(m.done||m.value[0]!=a||m.value[1]!=a)return!1;m=f.next();return m.done||m.value[0]==a||4!=m.value[0].x||m.value[1]!=m.value[0]?!1:f.next().done;}catch(q){return!1;}}())return g;h();n();d.prototype.add=function(a){this.Ql.set(a,a);this.size=this.Ql.size;return this;};d.prototype["delete"]=function(a){a=this.Ql["delete"](a);this.size=this.Ql.size;return a;};d.prototype.clear=function(){this.Ql.clear();this.size=0;};d.prototype.has=function(a){return this.Ql.has(a);};d.prototype.entries=function(){return this.Ql.entries();};d.prototype.values=function(){return this.Ql.values();};d.prototype[Symbol.iterator]=d.prototype.values;d.prototype.forEach=function(a,c){var f;f=this;this.Ql.forEach(function(m){return a.call(c,m,m,f);});};return d;});ha("Number.isNaN",function(g){return g?g:function(d){return"number"===typeof d&&isNaN(d);};});ha("String.prototype.includes",function(g){return g?g:function(d,a){return-1!==na(this,d,"includes").indexOf(d,a||0);};});ha("Array.prototype.find",function(g){return g?g:function(d,a){return pa(this,d,a).z_;};});ha("Array.prototype.entries",function(g){return g?g:function(){return ja(this,function(d,a){return[d,a];});};});ha("Array.prototype.values",function(g){return g?g:function(){return ja(this,function(d,a){return a;});};});ha("WeakSet",function(g){function d(a){this.Ql=new WeakMap();if(a){h();n();a=P(a);for(var c;!(c=a.next()).done;)this.add(c.value);}}if(function(){var a,c,f;if(!g||!Object.seal)return!1;try{a=Object.seal({});c=Object.seal({});f=new g([a]);if(!f.has(a)||f.has(c))return!1;f["delete"](a);f.add(c);return!f.has(a)&&f.has(c);}catch(m){return!1;}}())return g;d.prototype.add=function(a){this.Ql.set(a,!0);return this;};d.prototype.has=function(a){return this.Ql.has(a);};d.prototype["delete"]=function(a){return this.Ql["delete"](a);};return d;});ha("String.prototype.repeat",function(g){return g?g:function(d){var a;a=na(this,null,"repeat");if(0>d||1342177279<d)throw new RangeError("Invalid count value");d|=0;for(var c="";d;)if(d&1&&(c+=a),d>>>=1)a+=a;return c;};});ha("String.prototype.endsWith",function(g){return g?g:function(d,a){var c;c=na(this,d,"endsWith");d+="";void 0===a&&(a=c.length);a=Math.max(0,Math.min(a|0,c.length));for(var f=d.length;0<f&&0<a;)if(c[--a]!=d[--f])return!1;return 0>=f;};});ha("Array.prototype.findIndex",function(g){return g?g:function(d,a){return pa(this,d,a).rj;};});ha("String.prototype.startsWith",function(g){return g?g:function(d,a){var c,f,m;c=na(this,d,"startsWith");d+="";f=c.length;m=d.length;a=Math.max(0,Math.min(a|0,c.length));for(var q=0;q<m&&a<f;)if(c[a++]!=d[q++])return!1;return q>=m;};});ha("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ha("Array.prototype.fill",function(g){return g?g:function(d,a,c){var f;f=this.length||0;0>a&&(a=Math.max(0,f+a));if(null==c||c>f)c=f;c=Number(c);0>c&&(c=Math.max(0,f+c));for(a=Number(a||0);a<c;a++)this[a]=d;return this;};});(function(g){var a;function d(c){var f;if(a[c])return a[c].P;f=a[c]={rj:c,tmb:!1,P:{}};g[c].call(f.P,f,f.P,d);f.tmb=!0;return f.P;}a={};d.XQb=g;d.rNb=a;d.d=function(a,f,m){d.Kqb(a,f)||Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:m});};d.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};d.n=function(a){var f;f=a&&a.goa?function(){return a["default"];}:function(){return a;};d.d(f,"a",f);return f;};d.Kqb=function(a,f){return Object.prototype.hasOwnProperty.call(a,f);};d.p="";return d(d.ISb=1145);}([function(g,d,a){function c(){c=Object.assign||function(a){for(var b,f=1,c=arguments.length;f<c;f++){b=arguments[f];for(var k in b)Object.prototype.hasOwnProperty.call(b,k)&&(a[k]=b[k]);}return a;};return c.apply(this,arguments);}function f(a,b){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b;}||function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);};return f(a,b);}function m(a,b){function c(){this.constructor=a;}f(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());}function q(a,b){var f,c,k;f={};for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&0>b.indexOf(c)&&(f[c]=a[c]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){k=0;for(c=Object.getOwnPropertySymbols(a);k<c.length;k++)0>b.indexOf(c[k])&&Object.prototype.propertyIsEnumerable.call(a,c[k])&&(f[c[k]]=a[c[k]]);}return f;}function b(a,b,f,c){var k,p,m;k=arguments.length;p=3>k?b:null===c?c=Object.getOwnPropertyDescriptor(b,f):c;if("object"===typeof Reflect&&"function"===typeof Reflect.lw)p=Reflect.lw(a,b,f,c);else for(var t=a.length-1;0<=t;t--)if(m=a[t])p=(3>k?m(p):3<k?m(b,f,p):m(b,f))||p;return 3<k&&p&&Object.defineProperty(b,f,p),p;}function k(a,b){return function(f,c){b(f,c,a);};}function p(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.vd)return Reflect.vd(a,b);}function t(a,b,f,c){return new(f||(f=Promise))(function(k,p){function m(a){try{d(c.next(a));}catch(Ea){p(Ea);}}function t(a){try{d(c["throw"](a));}catch(Ea){p(Ea);}}function d(a){a.done?k(a.value):new f(function(b){b(a.value);}).then(m,t);}d((c=c.apply(a,b||[])).next());});}function u(a,b){var k,p,m,t,d;function f(a){return function(b){return c([a,b]);};}function c(f){if(p)throw new TypeError("Generator is already executing.");for(;k;)try{if(p=1,m&&(t=f[0]&2?m["return"]:f[0]?m["throw"]||((t=m["return"])&&t.call(m),0):m.next)&&!(t=t.call(m,f[1])).done)return t;if(m=0,t)f=[f[0]&2,t.value];switch(f[0]){case 0:case 1:t=f;break;case 4:return k.label++,{value:f[1],done:!1};case 5:k.label++;m=f[1];f=[0];continue;case 7:f=k.AA.pop();k.uB.pop();continue;default:if(!(t=k.uB,t=0<t.length&&t[t.length-1])&&(6===f[0]||2===f[0])){k=0;continue;}if(3===f[0]&&(!t||f[1]>t[0]&&f[1]<t[3]))k.label=f[1];else if(6===f[0]&&k.label<t[1])k.label=t[1],t=f;else if(t&&k.label<t[2])k.label=t[2],k.AA.push(f);else{t[2]&&k.AA.pop();k.uB.pop();continue;}}f=b.call(a,k);}catch(Ea){f=[6,Ea];m=0;}finally{p=t=0;}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0};}k={label:0,vZ:function(){if(t[0]&1)throw t[1];return t[1];},uB:[],AA:[]};h();h();n();return d={next:f(0),"throw":f(1),"return":f(2)},"function"===typeof Symbol&&(d[Symbol.iterator]=function(){return this;}),d;}function y(a,b){for(var f in a)b.hasOwnProperty(f)||(b[f]=a[f]);}function D(a){var b,f;h();h();n();b="function"===typeof Symbol&&a[Symbol.iterator];f=0;return b?b.call(a):{next:function(){a&&f>=a.length&&(a=void 0);return{value:a&&a[f++],done:!a};}};}function B(a,b){var f,c,k,p;h();h();n();f="function"===typeof Symbol&&a[Symbol.iterator];if(!f)return a;a=f.call(a);k=[];try{for(;(void 0===b||0<b--)&&!(c=a.next()).done;)k.push(c.value);}catch(sa){p={error:sa};}finally{try{c&&!c.done&&(f=a["return"])&&f.call(a);}finally{if(p)throw p.error;}}return k;}function I(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(B(arguments[b]));return a;}function C(){for(var a=0,b=0,f=arguments.length;b<f;b++)a+=arguments[b].length;for(var a=Array(a),c=0,b=0;b<f;b++)for(var k=arguments[b],p=0,m=k.length;p<m;p++,c++)a[c]=k[p];return a;}function K(a){return this instanceof K?(this.z_=a,this):new K(a);}function Q(a,b,f){var d,q,u;function c(a){d[a]&&(q[a]=function(b){return new Promise(function(f,c){1<u.push([a,b,f,c])||k(a,b);});});}function k(a,b){var f;try{f=d[a](b);f.value instanceof K?Promise.resolve(f.value.z_).then(p,m):t(u[0][2],f);}catch(ka){t(u[0][3],ka);}}function p(a){k("next",a);}function m(a){k("throw",a);}function t(a,b){(a(b),u.shift(),u.length)&&k(u[0][0],u[0][1]);}h();if(!Symbol.jT)throw new TypeError("Symbol.asyncIterator is not defined.");d=f.apply(a,b||[]);u=[];h();return q={},c("next"),c("throw"),c("return"),q[Symbol.jT]=function(){return this;},q;}function T(a){var f,c;function b(b,k){f[b]=a[b]?function(f){return(c=!c)?{value:K(a[b](f)),done:"return"===b}:k?k(f):f;}:k;}h();n();return f={},b("next"),b("throw",function(a){throw a;}),b("return"),f[Symbol.iterator]=function(){return this;},f;}function ca(a){var c,k;function b(b){k[b]=a[b]&&function(c){return new Promise(function(k,p){c=a[b](c);f(k,p,c.done,c.value);});};}function f(a,b,f,c){Promise.resolve(c).then(function(b){a({value:b,done:f});},b);}h();if(!Symbol.jT)throw new TypeError("Symbol.asyncIterator is not defined.");h();c=a[Symbol.jT];h();n();h();return c?c.call(a):(a="function"===typeof D?D(a):a[Symbol.iterator](),k={},b("next"),b("throw"),b("return"),k[Symbol.jT]=function(){return this;},k);}function l(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a;}function S(a){var b;if(a&&a.goa)return a;b={};if(null!=a)for(var f in a)Object.hasOwnProperty.call(a,f)&&(b[f]=a[f]);b["default"]=a;return b;}function N(a){return a&&a.goa?a:{"default":a};}a.r(d);a.d(d,"__extends",function(){return m;});a.d(d,"__assign",function(){return c;});a.d(d,"__rest",function(){return q;});a.d(d,"__decorate",function(){return b;});a.d(d,"__param",function(){return k;});a.d(d,"__metadata",function(){return p;});a.d(d,"__awaiter",function(){return t;});a.d(d,"__generator",function(){return u;});a.d(d,"__exportStar",function(){return y;});a.d(d,"__values",function(){return D;});a.d(d,"__read",function(){return B;});a.d(d,"__spread",function(){return I;});a.d(d,"__spreadArrays",function(){return C;});a.d(d,"__await",function(){return K;});a.d(d,"__asyncGenerator",function(){return Q;});a.d(d,"__asyncDelegator",function(){return T;});a.d(d,"__asyncValues",function(){return ca;});a.d(d,"__makeTemplateObject",function(){return l;});a.d(d,"__importStar",function(){return S;});a.d(d,"__importDefault",function(){return N;});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(35);d.iIb=g;g=a(1130);d.GP=g.GP;g=a(80);d.Ro=g.Ro;d.si=g.si;d.rs=g.rs;g=a(1114);d.Fha=g.Fha;d.xc=g.xc;g=a(1113);d.N=g.N;g=a(1112);d.dIa=g.dIa;g=a(1111);d.yCa=g.yCa;g=a(504);d.l=g.l;d.x1=g.x1;g=a(1110);d.optional=g.optional;g=a(1109);d.Gh=g.Gh;g=a(1108);d.sA=g.sA;g=a(1107);d.GO=g.GO;g=a(1106);d.tEa=g.tEa;g=a(506);d.F1=g.F1;g=a(106);d.id=g.id;g=a(92);d.lw=g.lw;g=a(501);d.OIa=g.OIa;d.eIa=g.eIa;d.zCa=g.zCa;d.VIa=g.VIa;g=a(148);d.PE=g.PE;a=a(1105);d.vCa=a.vCa;},function(g,d){var a,c;Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.xk=7001]="UNKNOWN";a[a.RXa=7002]="UNHANDLED_EXCEPTION";a[a.yQa=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.Mja=7010]="INIT_ASYNCCOMPONENT";a[a.dka=7011]="INIT_HTTP";a[a.uQa=7014]="INIT_BADMOVIEID";a[a.KQa=7016]="INIT_NETFLIXID_MISSING";a[a.JQa=7017]="INIT_NETFLIXID_INVALID";a[a.MQa=7018]="INIT_SECURENETFLIXID_MISSING";a[a.eka=7020]="INIT_PLAYBACK_LOCK";a[a.fka=7022]="INIT_SESSION_LOCK";a[a.LQa=7029]="INIT_POSTAUTHORIZE";a[a.EHb=7031]="INIT_HEADER_MEDIA";a[a.gHb=7032]="HEADER_MISSING";a[a.fHb=7033]="HEADER_FRAGMENTS_MISSING";a[a.NQa=7034]="INIT_TIMEDTEXT_TRACK";a[a.FHb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.GHb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.gKa=7037]="ASE_SESSION_ERROR";a[a.fKa=7038]="ASE_SEEK_THREW";a[a.hKa=7039]="ASE_SKIPPED_THREW";a[a.GQa=7041]="INIT_CORE_OBJECTS1";a[a.HQa=7042]="INIT_CORE_OBJECTS2";a[a.IQa=7043]="INIT_CORE_OBJECTS3";a[a.BHb=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.vHb=7052]="INIT_COMPONENT_FILESYSTEM";a[a.Wja=7053]="INIT_COMPONENT_STORAGE";a[a.Xja=7054]="INIT_COMPONENT_STORAGELOCK";a[a.wHb=7055]="INIT_COMPONENT_LOGPERSIST";a[a.xHb=7056]="INIT_COMPONENT_NRDDPI";a[a.zHb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.Sja=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.p1=7059]="INIT_COMPONENT_DEVICE";a[a.yHb=7062]="INIT_COMPONENT_NTBA";a[a.Tja=7063]="INIT_COMPONENT_MSL";a[a.wQa=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.Rja=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.$u=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.AHb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.vQa=7069]="INIT_COMPONENT_ACCOUNT";a[a.AQa=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.CQa=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.DQa=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.EQa=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.FQa=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.zQa=7081]="INIT_COMPONENT_NRDP";a[a.BQa=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.cka=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.Zja=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.DHb=7085]="INIT_CONGESTION_SERVICE";a[a.Qja=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.Yja=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.Oja=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.Nja=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.CHb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.TB=7091]="INIT_COMPONENT_DRM_CACHE";a[a.xQa=7092]="INIT_COMPONENT_DRM";a[a.Uja=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.Pja=7094]="INIT_COMPONENT_FTL";a[a.Vja=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.$ja=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.aka=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.bka=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.rKa=7112]="AUTHORIZE_UNKNOWN";a[a.QRa=7117]="MANIFEST_VERIFY";a[a.xWa=7120]="START";a[a.dy=7121]="LICENSE";a[a.lWa=7122]="SECURESTOP";a[a.cna=7123]="STOP";a[a.WGb=7124]="FPSAPPDATA";a[a.w1=7125]="KEEPALIVE";a[a.IFb=7126]="DEACTIVATE";a[a.nLb=7127]="SYNC_DEACTIVATE_LINKS";a[a.dEb=7130]="ACTIVATE";a[a.UTa=7131]="PING";a[a.QIb=7133]="NETFLIXID";a[a.NOa=7134]="ENGAGE";a[a.pRa=7135]="LOGIN";a[a.EWa=7136]="SWITCH_PROFILES";a[a.oRa=7137]="LOGBLOB";a[a.DTa=7138]="PAUSE";a[a.VVa=7139]="RESUME";a[a.Zma=7140]="SPLICE";a[a.UFb=7141]="DOWNLOAD_EVENT";a[a.iLa=7142]="BIND";a[a.CTa=7143]="PAIR";a[a.jLa=7144]="BIND_DEVICE";a[a.XTa=7202]="PLAY_INIT_EXCEPTION";a[a.dIb=7301]="MEDIA_DOWNLOAD";a[a.JJb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.KJb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.Lla=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.cUa=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.Mla=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.dUa=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.V1=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";a[a.LJb=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";a[a.Ola=7351]="PLAY_MSE_NOTSUPPORTED";a[a.Nla=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.Kla=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.W1=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.Y1=7355]="PLAY_MSE_SOURCEADD";a[a.YTa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.hUa=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.QJb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.IJb=7359]="PLAY_MSE_ADDKEY";a[a.TJb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.gUa=7361]="PLAY_MSE_EVENT_ERROR";a[a.X1=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.xQ=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.fUa=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.iUa=7365]="PLAY_MSE_GETCURRENTTIME";a[a.jUa=7367]="PLAY_MSE_SETCURRENTTIME";a[a.kUa=7371]="PLAY_MSE_SOURCEAPPEND";a[a.RJb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.oUa=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.nUa=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.mUa=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.SJb=7379]="PLAY_MSE_SOURCE_EOS";a[a.lUa=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.PJb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.ZTa=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.$Ta=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.aUa=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.NJb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.eUa=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.MJb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.OJb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.bUa=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.Pla=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.ROa=7400]="EXTERNAL";a[a.vQ=7500]="PAUSE_TIMEOUT";a[a.gQ=7502]="INACTIVITY_TIMEOUT";a[a.qKa=7510]="AUTHORIZATION_EXPIRED";a[a.KFb=7520]="DECRYPT_AUDIO";a[a.Xma=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.mWa=7601]="SECURE_STOP_KEY_ERROR";a[a.RKb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.BKb=7603]="SECURE_STOP_NCCP_ERROR";a[a.CKb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.QKb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.GKb=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.nWa=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.HKb=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.IKb=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.LKb=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.DKb=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.JKb=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.NKb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.KKb=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.FKb=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.PKb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.MKb=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.EKb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.OKb=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.HOa=7700]="EME_INVALID_KEYSYSTEM";a[a.Xia=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.w0=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.Yia=7703]="EME_GENERATEREQUEST_FAILED";a[a.QP=7704]="EME_UPDATE_FAILED";a[a.kGb=7705]="EME_KEYSESSION_ERROR";a[a.IOa=7706]="EME_KEYMESSAGE_EMPTY";a[a.bja=7707]="EME_REMOVE_FAILED";a[a.KOa=7708]="EME_LOAD_FAILED";a[a.EOa=7709]="EME_CREATE_SESSION_FAILED";a[a.PP=7710]="EME_LDL_RENEWAL_ERROR";a[a.Zia=7711]="EME_INVALID_INITDATA_DATA";a[a.$ia=7712]="EME_INVALID_LICENSE_DATA";a[a.JOa=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.mGb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.aja=7715]="EME_INVALID_SECURESTOP_DATA";a[a.DOa=7716]="EME_CLOSE_FAILED";a[a.VTa=7800]="PLAYDATA_STORE_FAILURE";a[a.HJb=7801]="PLAYDATA_SEND_FAILURE";a[a.lH=7900]="BRANCH_PLAY_FAILURE";a[a.IB=7901]="BRANCH_QUEUE_FAILURE";a[a.Iha=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.WIb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.XIb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.JTa=8100]="PBO_EVENTLOOKUP_FAILURE";a[a.wQ=8200]="PLAYGRAPH_ADD_MANIFEST";a[a.WTa=8201]="PLAYGRAPH_SEGMENT_NOT_READY";}(a=d.J||(d.J={})));(function(a){a[a.xk=1001]="UNKNOWN";a[a.ih=1003]="EXCEPTION";a[a.QQa=1004]="INVALID_DI";a[a.kKa=1011]="ASYNCLOAD_EXCEPTION";a[a.lKa=1013]="ASYNCLOAD_TIMEOUT";a[a.eEb=1015]="ASYNCLOAD_BADCONFIG";a[a.iKa=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.jKa=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.KH=1101]="HTTP_UNKNOWN";a[a.l1=1102]="HTTP_XHR";a[a.HH=1103]="HTTP_PROTOCOL";a[a.GH=1104]="HTTP_OFFLINE";a[a.JH=1105]="HTTP_TIMEOUT";a[a.by=1106]="HTTP_READTIMEOUT";a[a.Zu=1107]="HTTP_ABORT";a[a.h1=1108]="HTTP_PARSE";a[a.Cja=1110]="HTTP_BAD_URL";a[a.IH=1111]="HTTP_PROXY";a[a.Mka=1203]="MSE_AUDIO";a[a.Nka=1204]="MSE_VIDEO";a[a.eSa=1250]="MSE_MEDIA_ERR_BASE";a[a.mIb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.pIb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.nIb=1253]="MSE_MEDIA_ERR_DECODE";a[a.qIb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.oIb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.OB=1260]="EME_MEDIA_KEYERR_BASE";a[a.sGb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.nGb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.rGb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.qGb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.pGb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.oGb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.tGb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.GOa=1280]="EME_ERROR_NODRMSESSSION";a[a.FOa=1281]="EME_ERROR_NODRMREQUESTS";a[a.iGb=1282]="EME_ERROR_INDIV_FAILED";a[a.jGb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.MOa=1284]="EME_TIMEOUT_MESSAGE";a[a.LOa=1285]="EME_TIMEOUT_KEYCHANGE";a[a.y0=1286]="EME_UNDEFINED_DATA";a[a.uH=1287]="EME_INVALID_STATE";a[a.lGb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.x0=1289]="EME_EMPTY_DATA";a[a.vH=1290]="EME_TIMEOUT";a[a.KIb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.NIb=1305]="NCCP_PARSEXML";a[a.xUa=1309]="PROCESS_EXCEPTION";a[a.MIb=1311]="NCCP_NETFLIXID_MISSING";a[a.OIb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.HIb=1313]="NCCP_HMAC_MISSING";a[a.GIb=1315]="NCCP_HMAC_MISMATCH";a[a.FIb=1317]="NCCP_HMAC_FAILED";a[a.EIb=1321]="NCCP_CLIENTTIME_MISSING";a[a.DIb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.yja=1331]="GENERIC";a[a.bTa=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.cTa=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.PIb=1341]="NCCP_TRANSACTION";a[a.IIb=1343]="NCCP_INVALID_DRMTYPE";a[a.JIb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.LIb=1345]="NCCP_MISSING_PAYLOAD";a[a.bKb=1346]="PROTOCOL_NOT_INITIALIZED";a[a.aKb=1347]="PROTOCOL_MISSING_FIELD";a[a.$Jb=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.ov=1402]="STORAGE_NODATA";a[a.YKb=1403]="STORAGE_EXCEPTION";a[a.fLb=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.gLb=1407]="STORAGE_QUOTA_TO_SMALL";a[a.ena=1411]="STORAGE_LOAD_ERROR";a[a.AWa=1412]="STORAGE_LOAD_TIMEOUT";a[a.fna=1414]="STORAGE_SAVE_ERROR";a[a.DWa=1415]="STORAGE_SAVE_TIMEOUT";a[a.q2=1417]="STORAGE_DELETE_ERROR";a[a.dna=1418]="STORAGE_DELETE_TIMEOUT";a[a.eLb=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.bLb=1423]="STORAGE_FS_GETDIRECTORY";a[a.dLb=1425]="STORAGE_FS_READENTRIES";a[a.ZKb=1427]="STORAGE_FS_FILEREAD";a[a.aLb=1429]="STORAGE_FS_FILEWRITE";a[a.$Kb=1431]="STORAGE_FS_FILEREMOVE";a[a.cLb=1432]="STORAGE_FS_PARSEJSON";a[a.CWa=1451]="STORAGE_NO_LOCALSTORAGE";a[a.BWa=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.cJb=1501]="NTBA_UNKNOWN";a[a.bJb=1502]="NTBA_EXCEPTION";a[a.YIb=1504]="NTBA_CRYPTO_KEY";a[a.$Ib=1506]="NTBA_CRYPTO_OPERATION";a[a.ZIb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.aJb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.ria=1553]="DEVICE_NO_ESN";a[a.k0=1555]="DEVICE_ERROR_GETTING_ESN";a[a.Sla=1603]="PLUGIN_LOAD_MISSING";a[a.Qla=1605]="PLUGIN_LOAD_ERROR";a[a.Tla=1607]="PLUGIN_LOAD_TIMEOUT";a[a.Rla=1609]="PLUGIN_LOAD_EXCEPTION";a[a.sUa=1625]="PLUGIN_EXCEPTION";a[a.pUa=1627]="PLUGIN_CALLBACK_ERROR";a[a.qUa=1629]="PLUGIN_CALLBACK_TIMEOUT";a[a.mPa=1701]="FORMAT_UNKNOWN";a[a.pja=1713]="FORMAT_XML";a[a.nPa=1715]="FORMAT_XML_CONTENT";a[a.lPa=1721]="FORMAT_BASE64";a[a.SP=1723]="FORMAT_DFXP";a[a.gQa=1801]="INDEXDB_OPEN_EXCEPTION";a[a.Kja=1802]="INDEXDB_NOT_SUPPORTED";a[a.fQa=1803]="INDEXDB_OPEN_ERROR";a[a.Lja=1804]="INDEXDB_OPEN_NULL";a[a.eQa=1805]="INDEXDB_OPEN_BLOCKED";a[a.hQa=1807]="INDEXDB_OPEN_TIMEOUT";a[a.dQa=1808]="INDEXDB_INVALID_STORE_STATE";a[a.hQ=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.oSa=1901]="MSL_UNKNOWN";a[a.hSa=1911]="MSL_INIT_NO_MSL";a[a.Qka=1913]="MSL_INIT_ERROR";a[a.iSa=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.fSa=1931]="MSL_ERROR";a[a.nSa=1933]="MSL_REQUEST_TIMEOUT";a[a.mSa=1934]="MSL_READ_TIMEOUT";a[a.gSa=1935]="MSL_ERROR_HEADER";a[a.rIb=1936]="MSL_ERROR_ENVELOPE";a[a.sIb=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.Pka=1957]="MSL_ERROR_REAUTH";a[a.H2=2103]="WEBCRYPTO_MISSING";a[a.kYa=2105]="WEBCRYPTOKEYS_MISSING";a[a.lYa=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.kFb=2200]="CACHEDDATA_PARSEJSON";a[a.Tha=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.lFb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.Ru=2203]="CACHEDDATA_INVALID_FORMAT";a[a.bEb=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.cEb=3001]="ACCOUNT_INVALID";a[a.TFb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.SFb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.QFb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.RFb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.PFb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.hLb=3300]="STORAGE_VA_LOAD_ERROR";a[a.iLb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.lLb=3302]="STORAGE_VA_SAVE_ERROR";a[a.mLb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.jLb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.kLb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.U1=3077]="PBO_DEVICE_EOL_WARNING";a[a.Bla=3078]="PBO_DEVICE_EOL_FINAL";a[a.Ela=3100]="PBO_DEVICE_RESET";a[a.Dla=3101]="PBO_DEVICE_RELOAD";a[a.Cla=3102]="PBO_DEVICE_EXIT";a[a.QTa=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.ETa=5005]="PBO_ACCOUNT_ON_HOLD";a[a.ITa=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.Fla=5007]="PBO_INCORRECT_PIN";a[a.OTa=5008]="PBO_MOBILE_ONLY";a[a.RTa=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";a[a.KTa=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.GTa=5059]="PBO_BLACKLISTED_IP";a[a.FTa=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.HTa=5080]="PBO_CHOICE_MAP_ERROR";a[a.PTa=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.MTa=5091]="PBO_MALFORMED_REQUEST";a[a.LTa=5092]="PBO_INVALID_SERVICE_VERSION";a[a.NTa=5093]="PBO_MDX_INVALID_CTICKET";a[a.XMa=5100]="DECODER_TIMEOUT_BUFFERING";a[a.YMa=5101]="DECODER_TIMEOUT_PRESENTING";a[a.UNa=5200]="DOWNLOADER_IO_ERROR";a[a.Hha=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.oLa=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.zEb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.U_=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.lLa=5304]="BRANCHING_ASE_FAILURE";a[a.wEb=5305]="BRANCHING_MOMENT_FAILURE";a[a.mLa=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.yEb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.pLa=5308]="BRANCHING_SEEK_THREW";a[a.xEb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.nLa=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.qLa=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.rLa=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";a[a.$Ja=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";a[a.jha=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";}(c=d.G||(d.G={})));(function(a){a[a.KEb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.AEb=5005]="BR_ACCOUNT_ON_HOLD";a[a.EEb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.HEb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.DEb=5059]="BR_BLACKLISTED_IP";a[a.BEb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.IEb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.FEb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.JEb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.GEb=2207]="BR_ENDPOINT_ERROR";a[a.CEb=2208]="BR_AUTHORIZATION_ERROR";}(d.dPa||(d.dPa={})));d.n1={wLa:"400",SLb:"401",Wla:"413"};d.I1={UGb:1,HLb:2,wGb:3,RLb:4,WHb:5,vGb:6,E2:7,QOa:8,rKb:9,VKb:10};(function(a){a[a.CJb=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.DJb=98]="PAIRING_UNKNOWN_ERROR";}(d.CSa||(d.CSa={})));d.DGb=function(a){return 7100<=a&&7200>a;};d.bPa=function(c){return c==a.vQ||c==a.gQ;};d.fPa=function(a){return 1100<=a&&1199>=a;};d.FGb=function(a){return 1300<=a&&1399>=a;};d.EGb=function(a){return 1900<=a&&1999>=a;};d.jja=function(a,c){return 1<=a&&9>=a?c+a:c;};d.gPa=function(a){return d.jja(a,c.eSa);};d.kja=function(a){return d.jja(a,c.OB);};d.So=function(a){var m,f,b;m={};f=a.errorExternalCode||a.Vd;b=a.errorDetails||a.kb;m.ErrorSubCode=a.errorSubCode||a.ca||c.xk;f&&(m.ErrorExternalCode=f);b&&(m.ErrorDetails=b);return m;};},function(g){g.P={TL:function(d){for(var a in d)d.hasOwnProperty(a)&&(this[a]=d[a]);},reset:function(){}};},function(g,d,a){var m;function c(a){return m.SQ.apply(this,arguments)||this;}function f(a){return new m.pq(a,d.ja);}Object.defineProperty(d,"__esModule",{value:!0});m=a(500);da(c,m.SQ);d.MLb=c;d.nRb=function(a){return new m.pq(a,d.ZB);};d.ntb=function(a){return new m.pq(a*d.xn.df,d.ZB);};d.Eb=f;d.zh=function(a){return new m.pq(a,d.xn);};d.JX=function(a){return new m.pq(a,d.hla);};d.bQb=function(a){return new m.pq(a,d.XPa);};d.timestamp=function(a){return f(a);};d.ZB=new c(1,"\u03bcs");d.ja=new c(1E3,"ms",d.ZB);d.xn=new c(1E3*d.ja.df,"s",d.ZB);d.hla=new c(60*d.xn.df,"min",d.ZB);d.XPa=new c(60*d.hla.df,"hr",d.ZB);d.De=f(0);},function(g,d,a){var c,f,m,q,b,k,p;Object.defineProperty(d,"__esModule",{value:!0});c=a(507);g=a(7);f=a(31);m=a(101);q=a(102);b=a(39);k=a(20);p=a(59);d.Hh=c.ed.get(m.xy);d.y_=d.Hh.encode.bind(d.Hh);d.$O=d.Hh.decode.bind(d.Hh);d.Vh=c.ed.get(q.Sx);d.aNb=d.Vh.encode.bind(d.Vh);d.$Mb=d.Vh.decode.bind(d.Vh);d.jsa=d.Vh.qL.bind(d.Vh);d.bNb=d.Vh.DIa.bind(d.Vh);d.Gc=c.ed.get(b.Hj);d.dt=function(a){a=k.ee(a)?d.$O(a):a;return d.Gc.encode(a);};d.Am=d.Gc.decode.bind(d.Gc);d.K5a=function(a){return d.y_(d.Am(a));};d.iXa=a(551);d.HE=function(){return c.ed.get(f.r0);};d.$f=c.ed.get(g.Db);d.log=d.$f.wb("General");d.zg=function(a,b){return d.$f.wb(a,void 0,b);};d.Wg=function(a,b){return d.$f.wb(b,a,void 0);};d.mV=function(a,b,c,k){return d.$f.wb(a,void 0,k,b,c);};d.rVa=function(a,b){return c.ed.get(p.jl)(a,b,void 0).Cga();};d.aa=c.ed;},function(g){var d;d={ka:function(a){return"number"===typeof a;},qf:function(a){return"object"===typeof a;},ee:function(a){return"string"===typeof a;},U:function(a){return"undefined"===typeof a;},llb:function(a){return"boolean"===typeof a;},Qb:function(a){return"function"===typeof a;},Ja:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,c){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,c);},Erb:function(a){var c,f;f=[];if(!d.qf(a))throw new TypeError("Object.pairs called on non-object");for(c in a)a.hasOwnProperty(c)&&f.push([c,a[c]]);return f;}};d.Ud=d.forEach=function(a,c,f){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var m=0,q=a.length;m<q;m++)c.call(f,a[m],m,a);else for(m in a)d.has(a,m)&&c.call(f,a[m],m,a);return a;};g.P=d;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.vi||(d.vi={});g[g.kPa=0]="FATAL";g[g.ERROR=1]="ERROR";g[g.G2=2]="WARN";g[g.o1=3]="INFO";g[g.Bna=4]="TRACE";g[g.nb=5]="DEBUG";d.Cka="LogFieldBuilderFactorySymbol";d.Db="LoggerFactorySymbol";d.NP={};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(f,a);return f;}(Error);d.assert=function(a,c){if(!a)throw new f(c||"Assertion failed");};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g="undefined"===typeof M?{}:M;d.gl=g.navigator||{};d.wk=d.gl.userAgent;d.O1=g.location;d.hs=g.screen;d.gs=g.performance;d.ke=g.document||{};d.SIb=d.ke.documentElement;d.Tv=Array.prototype;d.sort=d.Tv.sort;d.map=d.Tv.map;d.slice=d.Tv.slice;d.every=d.Tv.every;d.reduce=d.Tv.reduce;d.filter=d.Tv.filter;d.forEach=d.Tv.forEach;d.pop=d.Tv.pop;d.dI=Object.create;d.vTa=Object.keys;d.LP=Date.now;d.fXa=String.fromCharCode;d.jy=Math.floor;d.ASa=Math.ceil;d.wi=Math.round;d.sn=Math.max;d.Wo=Math.min;d.TH=Math.random;d.SH=Math.abs;d.Wka=Math.pow;d.BSa=Math.sqrt;d.N1=g.escape;d.P1=g.unescape;d.URL=g.URL||g.webkitURL;d.$H=g.MediaSource||g.WebKitMediaSource;d.ZH=g.WebKitMediaKeys||g.MSMediaKeys||g.MediaKeys;d.jv=g.nfCrypto||g.webkitCrypto||g.msCrypto||g.crypto;d.Wn=d.jv&&(d.jv.webkitSubtle||d.jv.subtle);d.M1=g.nfCryptokeys||g.webkitCryptokeys||g.msCryptokeys||g.cryptokeys;try{d.indexedDB=g.indexedDB;}catch(a){d.lQb=a||"noex";}try{d.localStorage=g.localStorage;}catch(a){d.VAa=a||"noex";}},function(g,d,a){var c,f,m,q;c=a(78);f=a(1087);m=a(260);q=a(1086);g=function(){function a(a){this.Cs=!1;a&&(this.ug=a);}a.prototype.Ag=function(b){var c;c=new a();c.source=this;c.zA=b;return c;};a.prototype.subscribe=function(a,b,c){var k;k=this.zA;a=f.RAb(a,b,c);k?k.call(a,this.source):a.add(this.source||!a.cl?this.ug(a):this.L4(a));if(a.cl&&(a.cl=!1,a.mB))throw a.nB;return a;};a.prototype.L4=function(a){try{return this.ug(a);}catch(p){a.mB=!0;a.nB=p;a.error(p);}};a.prototype.forEach=function(a,b){var k;k=this;b||(c.root.ry&&c.root.ry.config&&c.root.ry.config.Promise?b=c.root.ry.config.Promise:c.root.Promise&&(b=c.root.Promise));if(!b)throw Error("no Promise impl found");return new b(function(b,c){var p;p=k.subscribe(function(b){if(p)try{a(b);}catch(I){c(I);p.unsubscribe();}else a(b);},c,b);});};a.prototype.ug=function(a){return this.source.subscribe(a);};a.prototype[m.observable]=function(){return this;};a.prototype.Esb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return 0===a.length?this:q.Fsb(a)(this);};a.prototype.KO=function(){var a,b;b=this;a||(c.root.ry&&c.root.ry.config&&c.root.ry.config.Promise?a=c.root.ry.config.Promise:c.root.Promise&&(a=c.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,c){var k;b.subscribe(function(a){return k=a;},function(a){return c(a);},function(){return a(k);});});};a.create=function(b){return new a(b);};return a;}();d.Aa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Re=function(){};d.WVa=function(){return!0;};d.pd={$:!0};d.vk=1E3;d.zKb=86400;d.AKb=604800;d.eIb=1E4;d.fIb=1E7;d.VLb=1.5;d.UHb=.128;d.kLa=7.8125;d.MEb=128;d.gy=145152E5;d.SRa=1E5;d.R1="$netflix$player$order";d.cC=-1;d.S1=1;d.fNa=["en-US"];d.NEb=8;d.TRa=65535;d.UKb=65536;d.hJb=Number.MAX_VALUE;d.v0="playready";d.Sia="widevine";d.hGb="fps";d.yOa="clearkey";d.hy='audio/mp4; codecs="mp4a.40.5"';d.VRa='audio/mp4; codecs="mp4a.a6"';d.rn='video/mp4; codecs="avc1.640028"';d.hIb='video/mp4; codecs="hev1.2.6.L153.B0"';d.gIb='video/mp4; codecs="dvhe.01000000"';d.wOa="9A04F079-9840-4286-AB92-E65BE0885F95";d.fGb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";d.gGb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";d.aFb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];d.HLa="A2394F52-5A9B-4F14-A244-6C427C648DF4";d.bFb="4E657466-6C69-7846-7261-6D6552617465";d.cFb="8974DBCE-7BE7-4C51-84F9-7148F9882554";d.XEb="mp4a";d.FLa="enca";d.UEb="ec-3";d.SEb="avc1";d.GLa="encv";d.WEb="hvcC";d.VEb="hev1";d.TEb="dvhe";d.YEb="vp09";d.B1=0;d.RH=1;d.Rma="position:relative;width:100%;height:100%;overflow:hidden";},function(g,d,a){var m,q,b,k,p,t,u,y,D,B,h,C,K,Q,T,ca,l,n;function c(a){return(a=d.config.wBb[f(a)])?a:{};}function f(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";if(0<=a.indexOf("content-sampling"))return"content-sampling";if(0<=a.indexOf("video-merch-bob-horizontal"))return"video-merch-bob-horizontal";if(0<=a.indexOf("mini-modal-horizontal"))return"mini-modal-horizontal";}}Object.defineProperty(d,"__esModule",{value:!0});m=a(11);q=a(38);b=a(5);k=a(40);p=a(18);a(20);t=a(44);u=a(31);y=a(60);D=a(19);a(7);B=a(9);h=a(30);C=a(15);K=a(233);Q=a(42);T=a(61);ca=a(147);l=a(47);n=a(4);d.b8a=function(a){var Ca,z,G,Sa,qb,Wa,Ya,gb,ba;function c(a,b){D.dd(a,function(a,f){C.Qb(f)?b[a]=f.call(void 0,b[a]):C.qf(f)&&(b[a]=b[a]||{},c(f,b[a]));});}function f(a,b,c,f){for(var k=[],m=3;m<arguments.length;++m)k[m-3]=arguments[m];return function(f){C.jc(f)&&(c=f);p.Pa(C.Qb(a));return a.apply(void 0,[].concat([b,c],ea(k)));};}function g(a){a=a.toLowerCase();Sa.hasOwnProperty(a)&&(G[a]=Sa[a],qb[a]=Sa[a]);return a;}function I(a,c,f){var k;a=a.toLowerCase();if(G.hasOwnProperty(a)){k=G[a];try{k=f?f(k):k;}catch(kf){k=void 0;}if(void 0!==k)return k;p.Pa(!1);b.log.error("Invalid configuration value. Name: "+a);}return c;}function R(a,b,c,f){return I(a,b,function(a){C.ee(a)&&(a=D.fe(a));if(C.ulb(a,c,f))return a;});}function A(a,b,c,f){return I(a,b,function(a){C.ee(a)&&(a=D.fe(a));if(C.Nw(a,c,f))return a;});}function S(a,b,c,f){return I(a,b,function(a){C.ee(a)&&(a=parseFloat(a));if(C.ka(a,c,f))return a;});}function N(a,b,c){return I(a,b,function(a){if(c?c.test(a):C.ee(a))return a;});}function O(a,b){return I(a,b,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function r(a,b){return I(a,b,function(a){if(C.ee(a))return JSON.parse(B.P1(a));if(C.qf(a))return a;});}function Ea(a,b,c,f,k,p){var m;a=a.toLowerCase();G.hasOwnProperty(a)&&(m=G[a]);if(!C.jc(m))return b;if(C.ee(m))if(m[0]!==c)m=f(m);else try{m=JSON.parse(B.P1(m));}catch(ib){m=void 0;}if(void 0===m)return b;for(a=0;a<k.length;a++)if(!k[a](m))return b;return p?p(m):m;}function wa(a,b,c,f,k){return Ea(a,b,"[",function(a){a=a.split("|");for(var b=a.length;b--;)a[b]=D.fe(a[b]);return a;},[function(a){return C.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!C.Nw(a[b],c,f))return!1;return!0;},function(a){return void 0===k||a.length>=k;}]);}function Fa(a,b){return Ea(a,b,"[",function(a){a=C.isArray(a)?a:a.split("|");for(var b=a.length;b--;)try{a[b]=JSON.parse(B.P1(a[b]));}catch(kf){a=void 0;break;}return a;},[function(a){return C.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!C.jc(a[b])||!C.qf(a[b]))return!1;return!0;}]);}function Ga(a,b,c,f){return Ea(a,b,"[",function(a){return C.isArray(a)?a:a.split("|");},[function(a){return C.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(c?!c.test(a[b]):!C.bA(a[b]))return!1;return!0;},function(a){return void 0===f||a.length>=f;}]);}function ka(a,b,c){return Ea(a,b,"{",function(a){var b,f,k;b={};a=a.split(";");for(var c=a.length;c--;){f=a[c];k=f.indexOf(":");if(0>=k)return;b[f.substring(0,k)]=f.substring(k+1);}return b;},[function(a){return C.qf(a)&&0<Object.keys(a).length;},function(a){if(c)for(var b in a)if(!c.test(a[b]))return!1;return!0;}],function(a){var c;c={};D.fb(c,b);D.fb(c,a);return c;});}function $a(a){var b;b=[];D.dd(a,function(a,c){var f;try{f="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(c);}catch(lf){f="cantparse";}b.push(a+"="+f);});return b.join("\n");}Ca=/^[0-9]+[%]?$/;z=/^[0-9]*$/;qb={};Wa=b.aa.get(k.Uo);Ya=b.aa.get(ca.iI);(function(){var f;function c(a){a.split(",").forEach(function(a){var b;b=a.indexOf("=");0<b&&(G[a.substring(0,b).toLowerCase()]=a.substring(b+1));});}G={};D.fb(G,t.Ila);a&&a.length&&B.forEach.call(a,function(a){C.ee(a)?c(a):C.qf(a)&&D.fb(G,a,{pF:!0});});Sa=D.fb({},q.g$(),{pF:!0});f=q.zub().cadmiumconfig;f&&(b.log.info("Config cookie loaded",f),c(f));if(t.aKa||G.istestaccount)D.fb(G,Sa),qb=Sa;"clearkey"!=N("drmType")||G.keysystemid||(G.keysystemid=(M.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}());d.config={};gb={f8:f(O,g("enableDDPlus20"),!0),e8:f(O,g("enableDDPlus"),!0),$K:f(O,g("enableDDPlusAtmos"),!1),Kcb:f(O,g("enableLSSDH"),!0),Fcb:f(O,g("enableHEVC"),!1),EDa:f(O,g("overrideEnableHEVC"),!1),h8:f(O,g("enableHDR"),!1),DDa:f(O,g("overrideEnableHDR"),!1),CU:f(O,g("enableAVCHigh"),Ya.CU),hN:f(O,g("overrideEnableAVCHigh"),Ya.hN),Ucb:f(O,g("enableVP9"),!1),FDa:f(O,g("overrideEnableVP9"),!1),Acb:f(O,g("enableAV1"),!1),CDa:f(O,g("overrideEnableAV1"),!1),Pcb:f(O,g("enablePRK"),!1),Gcb:f(O,g("enableHWDRM"),!1),Icb:f(O,g("enableImageSubs"),!0),RJ:f(Ga,g("audioProfiles"),Ya.RJ),IOb:f(O,g("disableHD"),!1),C_:f(A,"videoCapabilityDetectorType",u.yk.Wx),A5:f(A,"audioCapabilityDetectorType",u.Rx.Wx),cH:f(Ga,g("videoProfiles"),Ya.cH),v2a:f(Ga,g("timedTextProfiles"),Ya.Lu),Lu:function(){return gb.v2a().filter(function(a){return a===y.ll.l0?gb.Kcb():a===y.ll.$B?gb.Icb():!0;});},endpoint:f(O,g("endpoint"),!1),version:f(N,"version","unknown"),XGa:f(O,g("setMediaKeysEarly"),!1),LRb:f(O,g("nrdpPersistCookiesToIndexDB"),!1),nW:f(O,g("ignoreKeyStatusOutputNotAllowed"),!1),$ua:f(O,g("doNotPerformLdlOnPlaybackCreate"),!1),ava:f(O,g("doNotPerformLdlOnPlaybackStart"),!1),wJa:f(O,g("useHdcpLevelOnCast"),!1),Hcb:f(O,g("enableHdcp"),!1),xo:f(O,g("prepareCadmium"),!1),b3a:f(O,g("acceptManifestOnPrepareItemParams"),!0),wEa:f(r,"ppmconfig",{maxNumberTitlesScheduled:1}),$sb:f(O,g("playerPredictionModelV2"),!0),sE:f(O,g("enableLdlPrefetch"),!1),DU:f(O,g("enableGetHeadersAndMediaPrefetch"),!1),MK:f(O,g("deleteCachedManifestOnPlayback"),!1),OK:f(O,g("deleteOtherManifestCacheOnCreate"),!1),NK:f(O,g("deleteOtherLdlCacheOnCreate"),!1),zsb:f(A,g("periodicPrepareLogsIntervalMilliseconds"),36E5),ztb:f(A,g("prepareManifestCacheMaxCount"),50),xtb:f(A,g("prepareLdlCacheMaxCount"),30),zEa:f(A,g("prepareManifestExpiryMilliseconds"),12E5),ytb:f(A,g("prepareLdlExpiryMilliseconds"),78E4),wtb:f(N,g("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),QTb:f(r,"videoApp"),xx:f(r,"storageRules"),sfb:f(O,"ftlEnabled",!0),gaa:f(A,g("imageSubsResolution"),0),Ckb:f(A,g("imageSubsMaxBuffer"),Ya.tob.ea(l.Wr),0),lK:f(O,g("captureBatteryStatus"),!1),Tfb:f(A,g("getBatteryApiTimeoutMilliseconds"),5E3),Xd:f(N,g("keySystemId"),Ya.Xd),AAa:f(Ga,g("keySystemList"),void 0,void 0),$ob:f(A,g("hdcpGlobalTimeout1"),1E4),apb:f(A,g("hdcpGlobalTimeout2"),1E4),oRb:f(A,g("hdcpQueryTimeout1"),1E3),pRb:f(A,g("hdcpQueryTimeout2"),1E3),bpb:f(A,g("hdcpQueryTimeout2"),100),cpb:f(O,g("microsoftHwdrmRequiresHevc"),!1),Xob:f(O,g("microsoftEnableDeviceInfo"),!1),Yob:f(O,g("microsoftEnableHardwareInfo"),!1),Zob:f(O,g("microsoftEnableHardwareReset"),!1),tCb:f(O,g("useHevcCodecForDolbyVision"),!1),Anb:f(O,"logMediaPipelineStatus",!1),IN:f(O,g("renderDomDiagnostics"),!0),bBa:function(){return-1;},oF:f(R,g("logDisplayMaxEntryCount"),Ya.oF,-1),Hnb:f(R,g("logToConsoleLevel"),-1),hNb:f(R,g("bladerunnerCmdHistorySize"),10),Uq:function(){return Wa.Uq;},jCb:f(O,"upgradeNetflixId",!0),mba:f(O,"logErrorIfEsnNotProvided",!0),r8:f(O,"enforceSinglePlayback",Ya.r8),GU:f(O,"enforceSingleSession",Ya.GU),z6:f(O,"closeOtherPlaybacks",!0),R4a:f(A,"asyncLoadTimeout",15E3,1),Qnb:f(A,"mainThreadMonitorPollRate",0),KRb:f(O,"nrdpAlwaysShowUIOverlay",!1),MRb:f(O,"nrdpValidateSSOTokens",!0),cTb:f(O,"showNrdpDebugBadging",!1),F_:function(){return Wa.F_;},Gw:function(){return Wa.Gw;},ID:function(){return Wa.ID;},vB:function(){return Wa.vB;},EJa:f(A,g("verbosePlaybackInfoDenominator"),0),XY:f(O,"renderTimedText",!0),ktb:f(O,"preBufferTimedText",!0),keb:f(O,"fatalOnTimedTextLoadError",!0),uIa:f(ka,"timedTextStyleDefaults",{}),yga:f(ka,"timedTextStyleOverrides",{}),xga:f(ka,"timedTextFontFamilyMapping",Ya.xga||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),vIa:f(A,g("timedTextTimeOverride"),0),QG:f(A,"timedTextSimpleFallbackThreshold",Ya.QG.ea(l.Wr)),m7:f(N,g("customDfxpUrl")),Tcb:f(O,g("enableSubtitleTrackerLogging"),!1),qxb:f(O,g("sendSubtitleQoeLogblobOnMidplay"),!1),g6:f(wa,"cdnIdWhiteList",[]),f6:f(wa,"cdnIdBlackList",[]),d9:f(N,g("forceAudioTrack")),Rpb:f(O,"muteVolumeOnPlaybackClose",!0),NRb:f(N,"nrdpVolumeControlType","VOLUME_STREAM"),f9:f(N,g("forceTimedTextTrack")),QBa:f(A,g("maxRetriesTimedTextDownload"),0),tIa:f(A,g("timedTextRetryInterval"),8E3),Czb:f(N,"storageType","idb",/^(none|fs|idb|ls)$/),YAa:f(A,"lockExpiration",1E4),xnb:f(A,"lockRefresh",3E3),R6a:f(O,"captureUnhandledExceptions",!0),Bkb:f(O,"ignoreUnhandledExceptionDuringPlayback",!0),ABb:f(O,"unhandledExceptionsArePlaybackErrors",!1),$Ia:f(N,"unhandledExceptionSource",""),Htb:f(O,"preserveLastFrame",!1),npb:f(A,"minBufferingTimeInMilliseconds",4E3),Ztb:f(A,"progressBackwardsGraceTimeMilliseconds",4E3),$tb:f(A,"progressBackwardsMinPercent",10),U5a:f(N,g("bookmarkIgnoreBeginning"),"0",Ca),V5a:f(N,g("bookmarkIgnoreEnd"),"5%",Ca),W5a:f(N,g("bookmarkIgnoreEndForBranching"),"60000",Ca),tF:f(A,"maxParallelConnections",3),qea:f(O,"reportThroughputInLogblobs",!0),yF:f(A,"minAudioMediaRequestDuration",16E3),lpb:f(A,"minAudioMediaRequestDurationBranching",0),DF:f(A,"minVideoMediaRequestDuration",4E3),vpb:f(A,"minVideoMediaRequestDurationAL1",0),wpb:f(A,"minVideoMediaRequestDurationBranching",0),BX:f(A,"minAudioMediaRequestSizeBytes",0),HX:f(A,"minVideoMediaRequestSizeBytes",0),kcb:f(O,"droppedFrameRateFilterEnabled",!1),lcb:f(A,"droppedFrameRateFilterMaxObservation",60,10,1E3),ncb:f(function(a,b,c,f,k,p){return Ea(a,b,"[",function(a){a=a.split(";");for(var b=a.length;b--;){a[b]=a[b].split("|");for(var c=a[b].length;c--;)a[b][c]=D.fe(a[b][c]);}return a;},[function(a){return C.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--&&void 0!==a;){if(!C.isArray(a[b]))return!1;for(var k=a[b].length;k--;)if(!C.Nw(a[b][k],c,f))return!1;}return!0;},function(a){if(void 0!==k)for(var b=a.length;b--;)if(k!==a[b].length)return!1;return!0;},function(a){return void 0===p||a.length>=p;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),MOb:f(O,"droppedFrameRateFilterWithoutRebufferEnabled",!0),mcb:f(A,"droppedFrameRateFilterMinHeight",384),ocb:f(wa,"droppedFramesPercentilesList",[]),dpb:f(O,"microsoftScreenSizeFilterEnabled",!1),vBb:f(O,"uiLabelFilterEnabled",!0),uBb:f(r,"uiLabelFilter",{}),Wab:f(A,g("defaultVolume"),100,0,100),Vua:f(O,"disableVideoRightClickMenu",!1),spb:f(A,"minDecoderBufferMilliseconds",1E3,0,m.gy),hY:f(A,"optimalDecoderBufferMilliseconds",5E3,0,m.gy),vDa:f(A,"optimalDecoderBufferMillisecondsBranching",3E3,0,m.gy),IX:f(A,"minimumTimeBeforeBranchDecision",3E3,0,m.gy),nX:f(A,"maxDecoderBufferMilliseconds",Ya.nX.ea(n.ja),0,m.gy),tua:f(A,"decoderTimeoutMilliseconds",1E4,1),Ibb:f(O,"disgardMediaOnAppend",!1),n4a:f(O,"appendMediaBeforeInit",!1),gsb:f(A,"pauseTimeoutLimitMilliseconds",18E5),jaa:f(A,"inactivityMonitorInterval",3E4,0),$2a:f(wa,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),tE:f(O,"enableTrickPlay",!1),V3a:f(wa,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),lBb:f(A,"trickPlayHighResolutionBitrateThreshold",1E3),mBb:f(A,"trickPlayHighResolutionThresholdMilliseconds",1E4),pBb:f(S,"trickplayBufferFactor",.5),kBb:f(A,"trickPlayDownloadRetryCount",1),Kba:f(N,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),xca:f(N,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Gja:f(r,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),IBa:f(R,"maxIQRSamples",Infinity),hCa:f(R,"minIQRSamples",5),AJa:f(O,"useResourceTimingAPI",!1),zkb:f(O,"ignoreFirstByte",!0),Pob:f(O,"mediaRequestAsyncLoadStart",!0),zCb:f(O,"useXHROnLoadStart",!1),G8:f(wa,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),MT:f(A,"connectTimeoutMilliseconds",8E3,500),Fca:f(A,"noProgressTimeoutMilliseconds",8E3,500),wCb:f(O,"useOnLineApi",!1),sIa:f(A,"timedTextDownloadRetryCountBeforeCdnSwitch",3),ERb:f(A,"netflixRequestExpiryTimeout",0),iDb:f(O,"webkitDecodedFrameCountIncorrectlyReported",!1),Vwb:f(A,"seekBackOnAudioTrackChangeMilliseconds",8E3),esb:f(O,"pausePlaybackOnAudioSwitch",!0),hga:f(Ga,g("supportedAudioTrackTypes"),[],void 0,1),Eza:f(A,"initialLogFlushTimeout",5E3),mEa:f(N,"playdataPersistKey",Wa.Uq?"unsentplaydatatest":"unsentplaydata"),gfa:f(O,"sendPersistedPlaydata",!0),Xsb:f(A,"playdataPersistIntervalMilliseconds",4E3),jSb:f(A,"playdataSendDelayMilliseconds",1E4),uZ:f(O,"sendPlaydataBackupOnInit",!0),Dnb:f(Ga,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),fpb:f(O,"midplayEnabled",!0),dCa:f(A,"midplayIntervalMilliseconds",3E5),gpb:f(wa,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),SK:f(A,"downloadReportDenominator",0),Ubb:f(A,"downloadReportInterval",3E5),aBa:f(A,"logConfigApplyDenominator",0),rsa:f(ka,g("bookmarkByMovieId"),{}),nL:f(O,g("forceLimitedDurationLicense"),!1),Tw:f(A,g("licenseRenewalRequestDelay"),0),lda:f(A,g("persistedReleaseDelay"),1E4),OQb:f(O,g("limitedDurationFlagOverride"),void 0),li:f(O,g("secureStopEnabled"),!1),WSb:f(O,g("secureStopFromPersistedKeySession"),!1),wGa:f(A,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),Tea:f(A,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),Swb:f(A,g("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),Twb:f(A,g("secureStopPersistedKeySessionRetries"),17,1),Rwb:f(A,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),ZG:f(O,g("useCdmId"),!1),hGa:f(A,"safariPlayPauseWorkaroundDelay",100),pDb:f(A,"workaroundValueForSeekIssue",1200),oDb:f(O,"workaroundSaio",!0),d6:f(O,g("callEndOfStream"),Ya.d6),xsb:f(O,"performRewindCheck",!0),meb:f(O,"fatalOnUnexpectedSeeking",!0),leb:f(O,"fatalOnUnexpectedSeeked",!0),myb:f(O,g("setVideoElementSize")),C7a:f(O,g("clearVideoSrc"),!0),Iua:f(A,g("delayPlayPause"),0),z5a:f(O,g("avoidSBRemove"),!1),iq:f(O,g("useTypescriptEme"),!1),VK:f(N,g("drmPersistKey"),"unsentDrmData"),Rda:f(O,g("promiseBasedEme"),!1),Q6a:f(O,"captureKeyStatusData",!1),YE:f(O,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),Dqb:f(O,g("nudgeSourceBuffer"),!1),Uea:f(R,g("seekDelta"),1),sN:f(O,g("preciseSeeking"),!1),otb:f(O,g("preciseSeekingOnTwoCoreDevice"),!1),Hua:f(ka,g("delayErrorHandling")),GIa:f(O,"trackingLogEnabled",!1),HIa:f(function(a,b){var c;c=ka(a,b,void 0);c&&Object.keys(c).forEach(function(a){var b;b=c[a];"true"===b?c[a]=!0:"false"===b&&(c[a]=!1);});return c;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),Gga:f(N,"trackingLogPath","/customerevents/track/debug"),ZAb:f(wa,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),Ug:f(N,"esn",""),cwa:f(N,"fesn",""),g8:f(O,g("enableEmeVerboseLogging"),!1),Lcb:f(O,"enableLastChunkLogging",!1),KJ:f(N,"appId","",z),sessionId:f(N,"sessionId","",z),i6:f(N,"cdnProxyUrl"),yCb:f(O,"usePlayReadyHeaderObject",!1),Dwa:f(A,"forceXhrErrorResponseCode",void 0),Dt:{yRb:f(N,"mslApiPath","/msl/"),OOb:f(N,g("edgePath"),"/cbp/cadmium-29"),uSb:f(N,"proxyPath",""),SO:f(N,"uiVersion"),m_:f(N,"uiPlatform"),zNb:function(){return"0";},Fda:f(Ga,"preferredLanguages",m.fNa,/^[a-zA-Z-]{2,5}$/,1),cfb:f(N,g("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),cAb:f(O,"supportPreviewContentPin",!0),dAb:f(O,"supportWatermarking",!0),Myb:f(O,"showAllSubDubTracks",!1),gPb:f(O,g("failOnGuidMismatch"),!1)},KY:{enabled:f(O,"qcEnabled",!1),so:f(N,"qcPackageId","")},No:f(O,"useRangeHeader",!1),UJ:f(N,"authenticationType",Wa.Uq?Ya.n5a:Ya.UJ),dsa:f(ka,"authenticationKeyNames",D.fb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),kAb:f(N,"systemKeyWrapFormat"),Ikb:f(O,"includeNetflixIdUserAuthData",!0),Hyb:f(O,"shouldSendUserAuthData",!0),jfa:f(O,"sendUserAuthIfRequired",Ya.jfa),Cyb:f(O,"shouldClearUserData",!1),Lpb:f(O,"mslDeleteStore",!1),Npb:f(O,"mslPersistStore",!0),C8a:f(O,"correctNetworkForShortTitles",!0),itb:f(O,"postplayHighInitBitrate",!1),Web:f(O,"flushHeaderCacheOnAudioTrackChange",!0),jeb:f(O,"fatalOnAseStreamingFailure",!0),iAb:f(O,"supportsUnequalizedDownloadables",!0),nua:f(A,g("debugAseDenominator"),100),fT:f(A,"aseAudioBufferSizeBytes",Ya.fT.ea(l.Wr)),hT:f(A,"aseVideoBufferSizeBytes",Ya.hT.ea(l.Wr)),qr:f(A,"minInitVideoBitrate",560),kca:f(A,"minHCInitVideoBitrate",560),iu:f(A,"maxInitVideoBitrate",Infinity),NM:f(A,"minInitAudioBitrate",0),MM:f(A,"minHCInitAudioBitrate",0),yM:f(A,"maxInitAudioBitrate",65535),AX:f(A,"minAcceptableVideoBitrate",235),OM:f(A,"minRequiredBuffer",3E4),$g:f(A,"minPrebufSize",7800),fea:f(S,"rebufferingFactor",1),qo:f(A,"maxBufferingTime",2600),Yga:f(O,"useMaxPrebufSize",!0),$w:f(A,"maxPrebufSize",45E3),Uba:f(A,"maxRebufSize",Infinity),sW:f(Fa,"initialBitrateSelectionCurve",null),Aza:f(A,"initSelectionLowerBound",560),Bza:f(A,"initSelectionUpperBound",1050),c_:f(A,"throughputPercentForAudio",15),J5:f(A,"bandwidthMargin",10),K5:f(O,"bandwidthMarginContinuous",!1),L5:f(Fa,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),K6:f(A,"conservBandwidthMargin",20),lga:f(O,"switchConfigBasedOnInSessionTput",!1),tK:f(A,"conservBandwidthMarginTputThreshold",0),L6:f(Fa,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),aIa:f(O,"switchAlgoBasedOnHistIQR",!1),Dx:f(N,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Tba:f(R,"maxPlayerStateToSwitchConfig",-1),uba:f(N,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),q1:f(S,"IQRThreshold",.5),Y$:f(N,"histIQRCalcToUse","simple"),ku:f(A,"maxTotalBufferLevelPerSession",0),iza:f(A,"highWatermarkLevel",3E4),CIa:f(A,"toStableThreshold",3E4),h_:f(A,"toUnstableThreshold",Ya.h_.ea(n.ja)),Ofa:f(O,"skipBitrateInUpswitch",!0),fha:f(A,"watermarkLevelForSkipStart",8E3),R$:f(A,"highStreamRetentionWindow",9E4),vba:f(A,"lowStreamTransitionWindow",51E4),T$:f(A,"highStreamRetentionWindowUp",3E5),xba:f(A,"lowStreamTransitionWindowUp",3E5),S$:f(A,"highStreamRetentionWindowDown",6E5),wba:f(A,"lowStreamTransitionWindowDown",0),Q$:f(S,"highStreamInfeasibleBitrateFactor",.5),fu:f(A,"lowestBufForUpswitch",15E3),fX:f(A,"lockPeriodAfterDownswitch",15E3),zba:f(A,"lowWatermarkLevel",25E3),gu:f(A,"lowestWaterMarkLevel",2E4),Aba:f(O,"lowestWaterMarkLevelBufferRelaxed",!1),eca:f(S,"mediaRate",1),tX:f(A,"maxTrailingBufferLen",1E4),QJ:f(A,"audioBufferTargetAvailableSize",262144),fP:f(A,"videoBufferTargetAvailableSize",1048576),SBa:f(A,"maxVideoTrailingBufferSize",8388608),DBa:f(A,"maxAudioTrailingBufferSize",393216),OU:f(S,"fastUpswitchFactor",3),I8:f(S,"fastDownswitchFactor",1),zM:f(A,"maxMediaBufferAllowed",24E4),nr:f(A,"maxVideoBufferAllowedInBytes",0),Lfa:f(O,"simulatePartialBlocks",!0),sHa:f(O,"simulateBufferFull",!0),M6:f(O,"considerConnectTime",!1),J6:f(S,"connectTimeMultiplier",1),kBa:f(A,"lowGradeModeEnterThreshold",12E4),lBa:f(A,"lowGradeModeExitThreshold",9E4),FBa:f(A,"maxDomainFailureWaitDuration",3E4),CBa:f(A,"maxAttemptsOnFailure",18),Sva:f(O,"exhaustAllLocationsForFailure",!0),LBa:f(A,"maxNetworkErrorsDuringBuffering",20),Oba:f(A,"maxBufferingTimeAllowedWithNetworkError",6E4),awa:f(A,"fastDomainSelectionBwThreshold",2E3),mIa:f(A,"throughputProbingEnterThreshold",4E4),nIa:f(A,"throughputProbingExitThreshold",34E3),XAa:f(A,"locationProbingTimeout",1E4),ewa:f(A,"finalLocationSelectionBwThreshold",1E4),kIa:f(S,"throughputHighConfidenceLevel",.75),lIa:f(S,"throughputLowConfidenceLevel",.4),zva:f(O,"enablePerfBasedLocationSwitch",!1),Qp:f(O,"probeServerWhenError",!0),Mda:f(A,"probeRequestTimeoutMilliseconds",8E3),Xs:f(O,"allowSwitchback",!0),MA:f(A,"probeDetailDenominator",100),oX:f(A,"maxDelayToReportFailure",300),jba:f(A,"locationStatisticsUpdateInterval",6E4),Nta:f(O,"countGapInBuffer",!1),xra:f(O,"allowCallToStreamSelector",!0),zsa:f(A,"bufferThresholdForAbort",1E4),nda:f(A,"pipelineScheduleTimeoutMs",2),ju:f(A,"maxPartialBuffersAtBufferingStart",2),lca:f(A,"minPendingBufferLen",6E3),Zw:f(A,"maxPendingBufferLen",12E3),xob:f(A,"maxPendingBufferLenAL1",3E4),Vba:f(A,"maxStreamingSkew",4E3),Sba:f(A,"maxPendingBufferPercentage",10),lA:f(A,"maxRequestsInBuffer",60),NBa:f(A,"maxRequestsInBufferAL1",240),OBa:f(A,"maxRequestsInBufferBranching",120),dW:f(A,"headerRequestSize",4096),CX:f(A,"minBufferLenForHeaderDownloading",1E4),eZ:f(A,"reserveForSkipbackBufferMs",1E4),Qca:f(A,"numExtraFragmentsAllowed",2),uo:f(O,"pipelineEnabled",!1),xHa:f(A,"socketReceiveBufferSize",0),mT:f(A,"audioSocketReceiveBufferSize",32768),eH:f(A,"videoSocketReceiveBufferSize",65536),O$:f(A,"headersSocketReceiveBufferSize",32768),s_:f(A,"updatePtsIntervalMs",1E3),S5:f(A,"bufferTraceDenominator",100),FD:f(A,"bufferLevelNotifyIntervalMs",2E3),NJ:f(A,"aseReportDenominator",0),w5:f(A,"aseReportIntervalMs",3E5),uva:f(O,"enableAbortTesting",!1),ara:f(A,"abortRequestFrequency",8),cga:f(A,"streamingStatusIntervalMs",2E3),wr:f(A,"prebufferTimeLimit",24E4),DX:f(A,"minBufferLevelForTrackSwitch",2E3),ida:f(A,"penaltyFactorForLongConnectTime",2),sba:f(A,"longConnectTimeThreshold",200),g5:f(A,"additionalBufferingLongConnectTime",2E3),h5:f(A,"additionalBufferingPerFailure",8E3),GN:f(A,"rebufferCheckDuration",6E4),yva:f(O,"enableLookaheadHints",!1),gBa:f(A,"lookaheadFragments",2),Az:f(O,"enableOCSideChannel",!0),tQ:f(r,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),hJa:f(O,"updateDrmRequestOnNetworkFailure",!1),Gua:f(O,"deferAseScheduling",!1),EBa:f(A,"maxDiffAudioVideoEndPtsMs",16E3),$G:f(O,"useHeaderCache",!0),fU:f(A,"defaultHeaderCacheSize",4),A7:f(A,"defaultHeaderCacheDataPrefetchMs",8E3),K$:f(A,"headerCacheMaxPendingData",6),yca:f(O,"neverWipeHeaderCache",!0),L$:f(A,"headerCachePriorityLimit",5),bL:f(O,"enableUsingHeaderCount",!1),dza:f(O,"headerCacheTruncateHeaderAfterParsing",!0),Veb:f(O,g("flushHeaderCacheBeforePlayback"),!1),wca:f(A,"networkFailureResetWaitMs",2E3),vca:f(A,"networkFailureAbandonMs",6E4),sX:f(A,"maxThrottledNetworkFailures",3),b_:f(A,"throttledNetworkFailureThresholdMs",200),yba:f(R,"lowThroughputThreshold",400),A8:f(O,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),rCa:f(O,"mp4ParsingInNative",!1),yHa:f(O,"sourceBufferInOrderAppend",!0),Fr:f(O,"requireAudioStreamToEncompassVideo",!0),wra:f(O,"allowAudioToStreamPastVideo",!0),Vf:f(O,"enableManagerDebugTraces",!1),vBa:f(A,"managerDebugMessageInterval",1E3),uBa:f(A,"managerDebugMessageCount",20),TCa:f(O,"notifyManifestCacheEom",!1),R5:f(A,"bufferThresholdToSwitchToSingleConnMs",18E4),Q5:f(A,"bufferThresholdToSwitchToParallelConnMs",12E4),rY:f(A,"periodicHistoryPersistMs",3E5),lZ:f(A,"saveVideoBitrateMs",18E4),Jra:f(O,"appendMediaRequestOnComplete",!0),kP:f(O,"waitForDrmToAppendMedia",!1),c9:f(O,g("forceAppendHeadersAfterDrm"),!1),FN:f(O,g("reappendRequestsOnSkip"),!0),Vpb:f(A,"netIntrStoreWindow",36E3),tpb:f(A,"minNetIntrDuration",8E3),geb:f(A,"fastHistoricBandwidthExpirationTime",10368E3),C5a:f(A,"bandwidthExpirationTime",5184E3),eeb:f(A,"failureExpirationTime",86400),hkb:f(A,"historyTimeOfDayGranularity",4),Xdb:f(O,"expandDownloadTime",!1),Cpb:f(A,"minimumMeasurementTime",500),Bpb:f(A,"minimumMeasurementBytes",131072),wAb:f(A,"throughputMeasurementTimeout",2E3),Vkb:f(A,"initThroughputMeasureDataSize",262144),xAb:f(N,"throughputPredictor","ewma"),vAb:f(A,"throughputMeasureWindow",5E3),zAb:f(A,"throughputWarmupTime",5E3),uAb:f(A,"throughputIQRMeasureWindow",5E3),WQa:f(A,"IQRBucketizerWindow",15E3),e8a:f(A,"connectTimeHalflife",10),iwb:f(A,"responseTimeHalflife",10),gkb:f(A,"historicBandwidthUpdateInterval",2E3),Apb:f(A,"minimumBufferToStopProbing",1E4),Rea:f(N,"secondThroughputEstimator","none"),tGa:f(R,"secondThroughputMeasureWindowInMs",Infinity),Ecb:f(Ga,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),veb:f(r,"filterDefinitionOverrides",{}),Qab:f(N,"defaultFilter","throughput-ewma"),Nwb:f(N,"secondaryFilter","none"),Rab:f(r,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),TM:f(O,"needMinimumNetworkConfidence",!0),O5:f(O,"biasTowardHistoricalThroughput",!0),VS:f(O,"addHeaderDataToNetworkMonitor",!1),Wfa:f(O,"startMonitorOnLoadStart",!1),pea:f(O,"reportFailedRequestsToNetworkMonitor",!1),Qba:f(R,"maxFastPlayBufferInMs",Infinity),Pba:f(R,"maxFastPlayBitThreshold",Infinity),r5:f(O,"appendFirstHeaderOnComplete",!0),B4a:f(N,"ase_stream_selector","optimized"),raa:f(N,"initBitrateSelectorAlgorithm","default"),U5:f(N,"bufferingSelectorAlgorithm","default"),q7:f(N,"ase_ls_failure_simulation",""),o7:f(O,"ase_dump_fragments",!1),p7:f(A,"ase_location_history",0),r7:f(A,"ase_throughput",0),pua:f(O,"ase_simulate_verbose",!1),etb:f(A,"pollingPeriod",150),pnb:f(A,"loadTimeMs",18E4),aob:f(A,"marginTimeMs",1E4),Lx:f(O,"useMediaCache",!1),ow:f(A,"diskCacheSizeLimit",52428800),wX:f(A,"mediaCachePrefetchMs",8E3),$ba:f(ka,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),E9:f(O,"getDeviceIdFromBindDevice",!1),c5:f(O,"addFailedLogBlobsToQueue",!0),wBb:{"content-sampling":{qo:f(A,"contentSamplingMaxBufferingTime",3E3),rG:f(N,"contentSamplingSelectStartingVMAFMethod","fallback"),EJ:f(O,"contentSamplingActivateSelectStartingVMAF",!0),CF:f(A,"contentSamplingMinStartingVideoVMAF",80)},billboard:{qr:f(A,"billboardMinInitVideoBitrate",1050),iu:f(A,"billboardMaxInitVideoBitrate",null),$g:f(A,"billboardMinPrebufSize",null),$w:f(A,"billboardMaxPrebufSize",null),qo:f(A,"billboardMaxBufferingTime",null),ju:f(A,"billboardMaxPartialBuffersAtBufferingStart",null),gu:f(A,"billboardLowestWaterMarkLevel",6E3),fu:f(A,"billboardLowestBufForUpswitch",25E3),Dx:f(N,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{qr:f(A,"preplayMinInitVideoBitrate",1050),iu:f(A,"preplayMaxInitVideoBitrate",null),$g:f(A,"preplayMinPrebufSize",null),$w:f(A,"preplayMaxPrebufSize",null),qo:f(A,"preplayMaxBufferingTime",null),ju:f(A,"preplayMaxPartialBuffersAtBufferingStart",null),gu:f(A,"preplayLowestWaterMarkLevel",6E3),fu:f(A,"preplayLowestBufForUpswitch",25E3)},embedded:{qr:f(A,"embeddedMinInitVideoBitrate",1050),iu:f(A,"embeddedMaxInitVideoBitrate",null),$g:f(A,"embeddedMinPrebufSize",null),$w:f(A,"embeddedMaxPrebufSize",null),qo:f(A,"embeddedMaxBufferingTime",null),ju:f(A,"embeddedMaxPartialBuffersAtBufferingStart",null),gu:f(A,"embeddedLowestWaterMarkLevel",6E3),fu:f(A,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{qr:f(A,"videoMerchBobHorizontalMinInitVideoBitrate",null),iu:f(A,"videoMerchBobHorizontalMaxInitVideoBitrate",null),$g:f(A,"videoMerchBobHorizontalMinPrebufSize",null),$w:f(A,"videoMerchBobHorizontalMaxPrebufSize",null),qo:f(A,"videoMerchBobHorizontalMaxBufferingTime",null),ju:f(A,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),gu:f(A,"videoMerchBobHorizontalLowestWaterMarkLevel",null),fu:f(A,"videoMerchBobHorizontalLowestBufForUpswitch",null),YO:f(O,"videoMerchBobHorizontalUseNewApi",null)},"mini-modal-horizontal":{qr:f(A,"miniModalHorizontalMinInitVideoBitrate",null),iu:f(A,"miniModalHorizontalMaxInitVideoBitrate",null),$g:f(A,"miniModalHorizontalMinPrebufSize",null),$w:f(A,"miniModalHorizontalMaxPrebufSize",null),qo:f(A,"miniModalHorizontalMaxBufferingTime",500),ju:f(A,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),gu:f(A,"miniModalHorizontalLowestWaterMarkLevel",null),fu:f(A,"miniModalHorizontalLowestBufForUpswitch",null)}},Vcb:f(O,"enableVerbosePlaydelayLogging",!1),Scb:f(O,"enableSeamless",!1),X$:f(A,"hindsightDenominator",0),W$:f(A,"hindsightDebugDenominator",0),gW:f(r,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),aL:f(O,"enableSessionHistoryReport",!1),d8:f(A,"earlyStageEstimatePeriod",1E4),GAa:f(A,"lateStageEstimatePeriod",3E4),pX:f(A,"maxNumSessionHistoryStored",30),GX:f(A,"minSessionHistoryDuration",3E4),kr:f(A,"maxActiveRequestsPerSession",3),mX:f(A,"maxActiveRequestsSABCell100",2),qX:f(A,"maxPendingBufferLenSABCell100",500),gba:f(O,"limitAudioDiscountByMaxAudioBitrate",!0),Mq:f(r,"browserInfo",{}),o6a:f(A,g("busyGracePeriod"),199),rxb:f(O,g("sendTransitionLogblob"),!0),zU:f(O,g("editAudioFragments"),!1),Et:f(O,g("editVideoFragments"),!1),ucb:f(O,g("editAudioFragmentsBranching"),!0),ova:f(O,g("editVideoFragmentsBranching"),!0),yU:f(O,g("earlyAppendSingleChildBranch"),!0),Jkb:f(O,g("includeSegmentInfoOnLogblobs"),!0),aeb:f(O,"exposeTestData",!1),t7:f(O,"declareBufferingCompleteAtSegmentEnd",!0),$y:f(O,"applyProfileTimestampOffset",!1),On:f(O,"applyProfileStreamingOffset",!1),e4a:f(O,g("allowSmallSeekDelta"),!1),Wyb:f(A,g("smallSeekDeltaThresholdMilliseconds"),K.p2),Bcb:f(O,"enableCDMAttestedDescriptors",!1),cZ:f(O,"requireDownloadDataAtBuffering",!1),dZ:f(O,"requireSetupConnectionDuringBuffering",!1),gea:f(O,"recordFirstFragmentOnSubBranchCreate",!1),a6a:f(O,"branchingAudioTrackFrameDropSmallSeekFix",!0),Bwa:f(O,"forceL3WidevineCdm",!1),vCb:f(O,"useMobileVMAF",!1),obb:f(N,"desiredVMAFTypeMobile","phone_plus_exp"),pbb:f(N,"desiredVMAFTypeNonMobile","plus_lts"),EJ:f(O,"activateSelectStartingVMAF",!1),CF:f(A,"minStartingVideoVMAF",1),n5:f(O,"alwaysNotifyEOSForPlaygraph",!0),j8:f(O,"enableNewAse",!1),YO:f(O,"useNewApi",!1)};ba=!0;d.Eta=function(a){var f,k;if(0<d.config.aBa&&0===h.nka%d.config.aBa)try{f=b.aa.get(Q.uk);k=b.aa.get(T.Vo).Fm("config","info",{params:a});f.Ac(k);}catch(td){b.log.error("Failed to log config$apply",td);}M._cad_global.config=d.config;M._cad_global.platformExtraInfo=t.Xo;p.Pa(a);a&&(G=D.fb({},a,{pF:!0}),D.fb(G,qb,{pF:!0}),c(gb,d.config),G.istestaccount&&b.log.trace("Config applied for",$a(ba?G:a)),ba=!1);};d.Eta(G);};d.SNb=function(a,b){return C.ee(a)&&"%"==a[a.length-1]?B.wi(parseFloat(a)*b/100):a|0;};d.a8a=function(a){return a?(a=D.fb({},d.config),D.fb(a,{hY:d.config.vDa},{qu:!0})):d.config;};d.TNb=function(a){var b;b=D.fb({},d.config);return D.fb(b,c(a),{qu:!0});};d.Gta=function(b){b=c(b);return D.fb({},a(163)(b),{qu:!0});};d.Fta=function(b,c,f){f=!!f&&(0<=f.indexOf("h264hpl")||0<=f.indexOf("vp9"));b={yF:b?d.config.lpb:d.config.yF,DF:b?d.config.wpb:f?d.config.vpb:d.config.DF,lA:b&&f?Math.max(d.config.OBa,d.config.NBa):b?d.config.OBa:f?d.config.NBa:d.config.lA,Zw:f?d.config.xob:d.config.Zw,zU:d.config.zU||b&&d.config.ucb,Et:d.config.Et||b&&d.config.ova,yU:!c};return D.fb({},a(163)(b),{qu:!0});};d.VNb=c;d.UNb=f;d.RNb="";},function(g){g.P={LEb:{qs:0,XKb:1,name:["STARTUP","STEADY"]},aQ:{rg:0,WKb:1,SXa:2,name:["STARTING","STABLE","UNSTABLE"]},Fa:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Kj:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},fg:{URL:0,sy:1,tka:2,fs:3,name:["URL","SERVER","LOCATION","NETWORK"]},Fe:{HAVE_NOTHING:0,ay:1,$x:2,AH:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},qg:{sEb:0,VGb:1,YJb:2,NEXT:3,wJb:4,FLb:5,XGb:6,cIb:7,qs:8,ERROR:9,Z1:10,wUa:11,T_:12,nRa:13,mRa:14,pWa:15,oWa:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},uGb:{fs:0,JFb:1,name:["NETWORK","DECODE"]},SKb:{LFb:"delayedSeamless",pHb:"hideLongTransition"}};},function(g,d){function a(){}function c(){}function f(){}Object.defineProperty(d,"__esModule",{value:!0});(function(a){a.tnb="loadedtracks";a.snb="loadedmetadata";a.loaded="loaded";a.error="error";a.closed="closed";a.Xn="currenttimechanged";a.Bsa="bufferedtimechanged";a.pcb="durationchanged";a.XCb="videosizechanged";a.hsb="pausedchanged";a.dtb="playingchanged";a.Fdb="endedchanged";a.Y5="busychanged";a.$ra="audiotracklistchanged";a.SJ="audiotrackchanged";a.sB="timedtexttracklistchanged";a.RG="timedtexttrackchanged";a.NO="trickplayframeschanged";a.Spb="mutedchanged";a.bDb="volumechanged";a.Nyb="showsubtitle";a.Dvb="removesubtitle";a.gDb="watermark";a.Caa="isReadyToTransition";a.XE="inactivated";a.cxb="segmentmaploaded";a.dxb="segmentpresenting";a.q5a="autoplaywasallowed";a.r5a="autoplaywasblocked";}(d.rb||(d.rb={})));(d.gC||(d.gC={})).XN="playgraphsegmenttransition";d.lka=f;f.LGa="serverTimeChanged";(function(a){a.xD="aseException";a.yD="aseReport";a.o5a="authorized";a.F5="autoplayWasAllowed";a.Uj="autoplayWasBlocked";a.H5a="bandwidthMeterAggregateUpdate";a.jt="bufferUnderrun";a.closed="closed";a.kf="closing";a.Xn="currentTimeChanged";a.qw="downloadComplete";a.XE="inactivated";a.JAa="licenseAdded";a.oM="licensed";a.hr="locationSelected";a.qF="manifestClosing";a.no="manifestPresenting";a.cRb="manifestSelected";a.vX="mediaBufferChanged";a.tca="needLicense";a.RX="nextSegmentChosen";a.Zm="playbackStart";a.yo="repositioned";a.RA="repositioning";a.iGa="safePlayRequested";a.Xwb="segmentAborted";a.qZ="segmentPresenting";a.XSb="segmentComplete";a.Zwb="segmentLastPts";a.bxb="segmentStarting";a.vG="serverSwitch";a.pHa="shouldUpdateVideoDiagInfo";a.Ti="skipped";a.JG="subtitleError";a.sga="throttledMediaTimeChanged";a.PG="timedTextRebuffer";a.sB="timedTextTrackListChanged";a.NO="trickPlayFramesChanged";a.PO="tryRecoverFromStall";a.Mo="updateNextSegmentWeights";a.FCb="userInitiatedPause";a.CJa="userInitiatedResume";}(d.S||(d.S={})));d.mb=c;c.aC=0;c.LOADING=1;c.od=2;c.CLOSING=3;c.CLOSED=4;d.Mf=a;a.od=1;a.Pe=2;a.$ma=3;(function(a){a[a.Pf=1]="WAITING";a[a.Ec=2]="PLAYING";a[a.jh=3]="PAUSED";a[a.mq=4]="ENDED";}(d.hb||(d.hb={})));(function(a){a[a.LH=0]="INITIAL";a[a.mv=1]="SEEK";a[a.LQ=2]="TRACK_CHANGED";a[a.iC=3]="SEGMENT_CHANGED";}(d.gg||(d.gg={})));},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(149);d.is=g.bv;d.jc=function(a){return d.is.Sd(a);};d.qf=function(a){return d.is.Zy(a);};d.cmb=function(a){return d.is.U4(a);};d.isArray=function(a){return d.is.Ys(a);};d.oAa=function(a){return d.is.Cra(a);};d.ka=function(a,f,m){return d.is.Pg(a,f,m);};d.ulb=function(a,f,m){return d.is.o5(a,f,m);};d.Nw=function(a,f,m){return d.is.Hq(a,f,m);};d.dAa=function(a){return d.is.BJ(a);};d.qQb=function(a){return d.is.Y2a(a);};d.vQb=function(a){return d.is.Z2a(a);};d.pAa=function(a){return d.is.Dra(a);};d.ee=function(a){return d.is.xm(a);};d.bA=function(a){return d.is.ul(a);};d.Qza=function(a){return d.is.AJ(a);};d.Qb=function(a){return d.is.SS(a);};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(0);g.__exportStar(a(848),d);g.__exportStar(a(115),d);g.__exportStar(a(29),d);g.__exportStar(a(847),d);g=a(846);d.qYa=g;g=a(845);d.xPa=g;a=a(406);d.f2=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xd="ConfigSymbol";},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(5);a=a(89);d.fLa=function(){d.Pa();};d.nOb=!0;d.jf=g.aa.get(a.Zr);d.Pa=d.jf.assert.bind(d.jf);d.iOb=d.jf.G4a.bind(d.jf);d.jOb=d.jf.H4a.bind(d.jf);d.fab=d.jf.M4a.bind(d.jf);d.KK=d.jf.P4a.bind(d.jf);d.mOb=d.jf.N4a.bind(d.jf);d.kOb=d.jf.K4a.bind(d.jf);d.aU=d.jf.J4a.bind(d.jf);d.JK=d.jf.O4a.bind(d.jf);d.lOb=d.jf.L4a.bind(d.jf);d.hOb=d.jf.E4a.bind(d.jf);d.mua=d.jf.I4a.bind(d.jf);d.oOb=d.jf.glb.bind(d.jf);},function(g,d,a){var c,f,m,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(18);f=a(20);m=a(9);q=a(15);d.dd=function(a,c){for(var b in a)a.hasOwnProperty(b)&&c(b,a[b]);};d.fb=d.fb||function(a,c,p){var b,k,m;if(c)if(p){b=p.pF;k=p.prefix;m=p.qu;d.dd(c,function(c,p){if(!m||f.jc(p))a[(k||"")+(b?c.toLowerCase():c)]=p;});}else d.dd(c,function(b,c){a[b]=c;});return a;};d.K6a=function(a,c,f,t){var b;if(a){b=a[c];q.Qb(b)&&(f=b.apply(a,m.slice.call(arguments,3)));}};d.y4a=function(){for(var a=["info","warn","trace","error"],c={},f=a.length;f--;)c[a[f]]=!0;return c;};d.fe=d.fe||function(a){return parseInt(a,10);};d.YRb=function(a){return/^true$/i.test(a);};d.VEa=function(a,c){return m.wi(a+m.TH()*(c-a));};d.Ozb=function(a){return JSON.stringify(a,null,"  ");};d.$$=function(){var f,p;function a(a){c.Pa(void 0!==f[a]);return f[a];}f={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};p=/[&'"<>]/g;return function(b){return b.replace(p,a);};}();d.trim=function(){var a;a=/^\s+|\s+$/gm;return function(b){return b.replace(a,"");};}();d.Bba=function(a){return Array.isArray(a)?a:[a];};d.Ye=d.Ye||function(a){var b,c,f;if(a){b=a.stack;c=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!=a.indexOf(f)&&(a=f+"\n"+a)):a=f;c&&(a+="\nnumber:"+c);return a;}};d.Lm=function(a){return q.ka(a)?a.toFixed(0):"";};d.Hz=function(a){return q.ka(a)?(a/1E3).toFixed(0):"";};d.gfb=function(a){return q.ka(a)?a.toFixed():"";};d.z8a=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c];return b;};},function(g,d,a){var q,b;function c(a){return null!==a&&void 0!==a;}function f(a){return typeof a==d.nXa;}function m(a,f,t){var k,p,m;if(f)if(t){k=t.pF;p=t.prefix;m=t.qu;b.dd(f,function(b,f){if(!m||c(f))a[(p||"")+(k?b.toLowerCase():b)]=f;});}else b.dd(f,function(b,c){a[b]=c;});return a;}Object.defineProperty(d,"__esModule",{value:!0});q=a(9);b=a(19);d.Re=function(){};d.vk=1E3;d.dI=Object.create;d.vTa=Object.keys;d.LP=Date.now;d.jy=Math.floor;d.ASa=Math.ceil;d.wi=Math.round;d.sn=Math.max;d.Wo=Math.min;d.TH=Math.random;d.SH=Math.abs;d.Wka=Math.pow;d.Fj="$attributes";d.K_="$children";d.L_="$name";d.Sr="$text";d.WJa="$parent";d.hH="$sibling";d.nXa="string";d.JLb="number";d.ILb="function";d.mXa="object";d.jc=c;d.qf=function(a){return typeof a==d.mXa;};d.ee=f;d.bA=function(a){return f(a)&&a;};d.fe=function(a){return parseInt(a,10);};d.js=function(a,b,c){return a>=b?a<=c?a:c:b;};d.fb=m;d.iO=function(a){return m({},a);};d.A6=function(a){var k;for(var b=0;b<arguments.length;++b);for(var b=0,f=arguments.length;b<f;){k=arguments[b++];if(c(k))return k;}};d.x4a=function(a){for(var b,c=!0,f;c;)for(c=!1,b=a.length;--b;)f=a[b],f.startTime<a[b-1].startTime&&(a[b]=a[b-1],a[b-1]=f,c=!0);};d.gw=function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};d.createElement=function(a,c,f,m){var k;k=q.ke.createElement(a);c&&(k.style.cssText=c);f&&(k.innerHTML=f);m&&b.dd(m,function(a,b){k.setAttribute(a,b);});return k;};d.AK=function(a){var c;c="";b.dd(a,function(a,b){c+=(c?";":"")+a+":"+b;});return c;};d.XU=function(a,b,c){var f;a/b>c?(f=d.wi(b*c),a=b):(f=a,a=d.wi(a/c));return{width:f,height:a};};d.$$=function(){var b,c;function a(a){return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};c=/[&'"<>]/g;return function(b){return b.replace(c,a);};}();d.Ye=function(a){var b,c;if(a){b=a.stack;c=a.number;a=""+a;b?(b=""+b,0!=b.indexOf(a)&&(b=a+"\n"+b)):b=a;c&&(b+="\nnumber:"+c);return b;}};d.G={xk:1001,ih:1003,mPa:1701,pja:1713,nPa:1715,lPa:1721,SP:1723};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(409),d);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ef="UtilitiesSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qe="IsTypeSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yf="AsyncComponentLoaderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xf="ApplicationSymbol";},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(131);d.nb=!1;g=function(){function a(a,c,b,f,p){this.Xa=a;this.type=c;this.byteOffset=b;this.byteLength=f;this.parent=p;this.Hc={};this.BA=f;}a.Fz=function(a,c){var f,m;function b(a){a&&a.Fz&&(a=a.Fz(c),a.length&&(f=f.concat(a)));}f=[];a.type===c&&f.push(a);if(a.Hc)for(var p in a.Hc){m=a.Hc[p];Array.isArray(m)&&m.forEach(b);}return f;};a.GJ=function(a,c){void 0===a.Hc[c.type]&&(a.Hc[c.type]=[]);a.Hc[c.type].push(c);};a.Gz=function(c,f){return a.Fz(c,f)[0];};Object.defineProperties(a.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{L:{get:function(){return this.Xa;},enumerable:!0,configurable:!0}});a.prototype.Hf=function(){var a;a=this.Xa.xb();this.version=a>>24;this.Ze=a&16777215;};a.prototype.GJ=function(c){a.GJ(this,c);};a.prototype.Fz=function(c){return a.Fz(this,c);};a.prototype.Gz=function(c){return a.Gz(this,c);};a.prototype.parse=function(){return!0;};a.prototype.AE=function(){return!0;};a.prototype.fq=function(a){if((a=this.Hc[a])&&Array.isArray(a)&&1===a.length)return a[0];};a.prototype.mk=function(a,f){f=void 0===f?this.Xa.offset:f;c.assert(f>=this.startOffset+8&&f+a<=this.startOffset+this.BA,"Removal range [0x"+f.toString(16)+"-0x"+(f+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.BA).toString(16)+")");this.Xa.mk(a,f,this);};a.prototype.YY=function(a,f,b){b=void 0===b?this.Xa.offset:b;c.assert(b>=this.startOffset+8&&b+a<=this.startOffset+this.BA,"Removal range [0x"+b.toString(16)+"-0x"+(b+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.BA).toString(16)+")");this.Xa.YY(a,f,b,this);};a.prototype.gFa=function(a,c,b){if(1<b){for(var f=[];0<b--;)f.push(this.rqa(a,c));return f;}return this.rqa(a,c);};a.prototype.Dr=function(a){var c,b;b=this;void 0===c&&(c={});a.forEach(function(a){var f,k;if("offset"===a.type){f=a.offset;if(0<f%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");b.Xa.offset+=f/8;}else for(f in a){k=a[f];c[f]="string"===typeof k?b.gFa(k):b.gFa(k.type,k.length,k.w4a);}});return c;};a.prototype.rqa=function(a,c){var b;b=this.byteLength-this.Xa.offset+this.startOffset;"undefined"===typeof c&&(c=b);switch(a){case"int8":a=this.Xa.jd();break;case"int64":a=this.Xa.Ri();break;case"int32":a=this.Xa.xb();break;case"int16":a=this.Xa.Dg();break;case"string":a=this.Xa.yub(Math.min(c,b));break;default:throw Error("Invalid type: "+a);}return a;};a.$b=!1;return a;}();d.Kf=g;},function(g,d,a){d=a(132);d.Sab=0;g.P={EventEmitter:d,Yx:a(854)};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.h0="ConfigurableInputsSymbol";d.aj="ValidatingConfigurableInputsSymbol";d.LB="ConfigNameSymbol";d.jQ="InitParamsSymbol";},function(g,d){function a(a,m){return"number"!==typeof a||"number"!==typeof m?!1:a&&m?Math.abs(a*m/c(a,m)):0;}function c(a,c){var f;a=Math.abs(a);for(c=Math.abs(c);c;){f=c;c=a%c;a=f;}return a;}Object.defineProperty(d,"__esModule",{value:!0});g=function(){function f(a,c){"object"===typeof a?(this.Qs=a.Cb,this.sl=a.W):(this.Qs=a,this.sl=c);}f.srb=function(a){return new f(1,a);};f.Mm=function(a){return new f(a,1E3);};f.Bga=function(a,c){return Math.floor(1E3*a/c);};f.rca=function(a,c){return Math.floor(a*c/1E3);};f.max=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return a.reduce(function(a,c){return a.greaterThan(c)?a:c;});};f.min=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return a.reduce(function(a,c){return a.lessThan(c)?a:c;});};f.p9=function(d,q){var b;if(d.W===q.W)return new f(c(d.Cb,q.Cb),d.W);b=a(d.W,q.W);return f.p9(d.pg(b),q.pg(b));};Object.defineProperties(f.prototype,{Cb:{get:function(){return this.Qs;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{W:{get:function(){return this.sl;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Ma:{get:function(){return 1E3*this.Qs/this.sl;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{zh:{get:function(){return this.Qs/this.sl;},enumerable:!0,configurable:!0}});f.prototype.pg=function(a){a/=this.W;return new f(Math.floor(this.Cb*a),Math.floor(this.W*a));};f.prototype.add=function(c){var d;if(this.W===c.W)return new f(this.Cb+c.Cb,this.W);d=a(this.W,c.W);return this.pg(d).add(c.pg(d));};f.prototype.kd=function(a){return this.add(new f(-a.Cb,a.W));};f.prototype.RM=function(a){return new f(this.Cb*a,this.W);};f.prototype.Ct=function(c){var f;if(this.W===c.W)return this.Cb/c.Cb;f=a(this.W,c.W);return this.pg(f).Ct(c.pg(f));};f.prototype.Bya=function(c){return a(this.W,c);};f.prototype.pFa=function(){return new f(this.W,this.Cb);};f.prototype.compare=function(c,f){var b;if(this.W===f.W)return c(this.Cb,f.Cb);b=a(this.W,f.W);return c(this.pg(b).Cb,f.pg(b).Cb);};f.prototype.equal=function(a){return this.compare(function(a,b){return a===b;},a);};f.prototype.IF=function(a){return this.compare(function(a,b){return a!==b;},a);};f.prototype.lessThan=function(a){return this.compare(function(a,b){return a<b;},a);};f.prototype.greaterThan=function(a){return this.compare(function(a,b){return a>b;},a);};f.prototype.IAa=function(a){return this.compare(function(a,b){return a<=b;},a);};f.prototype.TV=function(a){return this.compare(function(a,b){return a>=b;},a);};f.prototype.toJSON=function(){return{ticks:this.Cb,timescale:this.W};};f.prototype.toString=function(){return this.Cb+"/"+this.W;};f.De=new f(0,1);f.MF=new f(1,1E3);f.Nkb=new f(Infinity,1);return f;}();d.Ta=g;},function(g,d,a){var f,m,q,b;function c(){return d.ZQ.gA.ea(b.ja);}Object.defineProperty(d,"__esModule",{value:!0});g=a(507);f=a(45);m=a(25);q=a(120);b=a(4);d.Aoa=g.ed.get(f.sk);d.ZQ=g.ed.get(m.xf);d.w_a=g.ed.get(q.WB);d.nka=d.ZQ.id;d.Rg=function(){return d.ZQ.pc().ea(b.ja);};d.HT=function(){return d.Aoa.lf.ea(b.xn);};d.KNb=function(){return d.ZQ.gA.ea(b.xn);};d.E7a=function(){return d.w_a.qz();};d.F7a=c;d.y6=function(){return d.Aoa.lf.ea(b.ja);};d.LNb=function(){return c();};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Audio=0]="Audio";a[a.Yna=1]="Video";}(d.WH||(d.WH={})));(function(a){a[a.Wx=0]="Default";a[a.ky=1]="Microsoft";}(d.Rx||(d.Rx={})));(function(a){a[a.Wx=0]="Default";a[a.c0=1]="Cast";a[a.e0=2]="Chrome";a[a.ky=3]="Microsoft";a[a.hna=4]="Safari";}(d.yk||(d.yk={})));(function(a){a[a.mI=0]="SD";a[a.XP=1]="HD";a[a.RQ=2]="UHD";a[a.Yr=3]="DV";a[a.as=4]="HDR10";a[a.CB=5]="AVCHigh";a[a.pv=6]="VP9";a[a.oi=7]="AV1";}(d.zd||(d.zd={})));(function(a){a[a.nq=0]="Level_1_4";a[a.fy=1]="Level_2_2";}(d.ti||(d.ti={})));d.ZLb=function(){};(function(a){a[a.hKb=0]="Platform";a[a.GFb=1]="CurrentTitle";}(d.dYa||(d.dYa={})));d.r0="DeviceCapabilitiesSymbol";d.bGb=function(){};},function(g,d,a){var q,b;function c(a,b){return a&&a.pf&&a.inRange&&!a.Xg&&(b||!1!==a.xw);}function f(a,b,c){return!q.ka(a)||a<b?b:a>c?c:a;}function m(a){if(!(this instanceof m))return new m(a);this.wd=q.ka(a)?a:void 0;}q=a(6);b=new(a(3)).Console("ASEJS_STREAM_SELECTOR","media|asejs");g.P={console:b,debug:!1,assert:function(a,c){if(!a)throw a=c?" : "+c:"",b.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},aA:c,P8:function(a,b,c){var p,t,d,m;function k(b){var f;f=a[b];if(!f.pf||!f.inRange||f.Xg||c&&!c(f,b))return!1;m=b;return!0;}p=a.length;t=0;d=p;q.isArray(b)&&(t=f(b[0],0,p),d=f(b[1],0,p),b=b[2]);b=f(b,t-1,d);for(p=b-1;p>=t;--p)if(k(p))return m;for(p=b+1;p<d;++p)if(k(p))return m;return-1;},Ipb:function(a,b){return Math.floor(a/(125*b)*1E3);},p6a:function(a,b){return Math.ceil(a/1E3*b*125);},wQb:function(a,b){return!a.slice(b+1).some(c);},yn:m,Sv:function(a,b){var c;return a.some(function(a,f,k){c=a;return b(a,f,k);})?c:void 0;},wD:function(a,b){var c;return a.some(function(a,f,k){c=f;return b(a,f,k);})?c:-1;},GT:f};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Kg="SchedulerSymbol";},function(g,d,a){var q,b,k;function c(a){return function(b,c){return b.dea(c,a);};}function f(a,b){return a.LY.oub[b]||m(a,b);}function m(a,b){a=a.Xt.data[b];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(d,"__esModule",{value:!0});q=a(47);b=a(4);k=a(143);d.config=function(a,b){return function(c,p,d){var t,q;t=void 0!==b?b:p;q=d.get;void 0!==q&&(d.get=function(){var b;if(!this.Mlb(p))return this.sib(p);a:{b=(this.d4a?f:m)(this,t.toString());if(void 0!==b)if(b=a(this.ZM,b),b instanceof k.tn)this.Hwa(t,b);else break a;b=q.bind(this)();}this.hwb(p,b);return b;});return d;};};d.waa=function(a,b){return a.cFa(b);};d.Qd=function(a,b){return a.aea(b);};d.Kx=function(a,b){return a.Na(b);};d.string=function(a,b){return a.dea(b);};d.ega=function(a,b){return a.Hd(b,d.string);};d.oQb=function(a,b){return a.Hd(b,d.waa);};d.WIa=function(a,b){return a.Hd(b,d.Kx);};d.Zg=function(a,c){a=a.Na(c);return a instanceof k.tn?a:b.Eb(a);};d.ba=function(a,b){a=a.Na(b);return a instanceof k.tn?a:q.ba(a);};d.url=c(/^\S+$/);d.XOb=function(a){return function(b,c){return b.bFa(c,a);};};d.object=function(){return function(a,b){return a.dFa(b);};};d.vFa=c;d.Sj=function(a,b){return function(c,f){return c.Hd(f,a,b);};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hv="named";d.nQ="name";d.qI="unmanaged";d.vla="optional";d.MH="inject";d.iy="multi_inject";d.vna="inversify:tagged";d.wna="inversify:tagged_props";d.T1="inversify:paramtypes";d.nNa="design:paramtypes";d.fI="post_construct";},function(g,d,a){var m,q,b,k;function c(a,b){var c;c=k.call(this,a,b)||this;c.Hta=b;c.debug=a.debug;c.ma=a.$f.wb(c.Hta);return c;}function f(a,b){this.Hta=b;this.Sda={};this.Xt=a.Xt;this.ZM=a.ZM;this.LY=a.LY;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(1096);q=a(1);b=a(143);d.lXa="isTestAccount";f.prototype.Hwa=function(){};f.prototype.hwb=function(a,b){this.Sda[a]=[b,this.Xt.aGa];};f.prototype.Mlb=function(a){return m.zla.of(this.Sda[a]).map(function(a){return a[1];}).yDa(-1)<this.Xt.aGa;};f.prototype.sib=function(a){return m.zla.of(this.Sda[a]).map(function(a){return a[0];}).yDa(function(){throw Error("Invalid State Error");});};ra.Object.defineProperties(f.prototype,{d4a:{configurable:!0,enumerable:!0,get:function(){var a,c;if(this&&this.Xt&&this.Xt.data){a=this.Xt.data[d.lXa];"undefined"!==typeof a&&(c=a.toString());a=this.ZM.aea(c);a=a instanceof b.tn?!1:a;}else a=!1;return a;}}});k=f;k=g.__decorate([q.N(),g.__param(0,q.Gh()),g.__param(1,q.Gh())],k);d.yP=k;da(c,k);c.prototype.Hwa=function(a,b){this.ma.error("Invalid configuration value.",{name:a},b);this.debug.assert(!1);};a=c;a=g.__decorate([g.__param(0,q.Gh()),g.__param(1,q.Gh())],a);d.le=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.boa="WindowTimersSymbol";d.cy="JSONSymbol";d.kv="NavigatorSymbol";d.PSa="MediaSourceSymbol";d.yka="LocationSymbol";d.Bia="DateSymbol";d.g2="PerformanceSymbol";},function(g,d,a){var p,t,u,y,D,B,h;function c(){var a,b;if(a=d.g$.pqa)return a;a=B.O1.search.substr(1);b=a.indexOf("#");0<=b&&(a=a.substr(0,b));a=f(a);return d.g$.pqa=a;}function f(a){for(var b=/[+]/g,c=(a||"").split("&"),f={},k,p=0;p<c.length;p++)a=y.trim(c[p]),k=a.indexOf("="),0<=k?f[decodeURIComponent(a.substr(0,k).replace(b,"%20")).toLowerCase()]=decodeURIComponent(a.substr(k+1).replace(b,"%20")):f[a.toLowerCase()]=null;return f;}function m(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function q(a){return m(a.constructor);}function b(a){return B.sort.call(a,function(a,b){return a-b;});}function k(a){for(var b=0,c=a.length;c--;)b+=a[c];return b;}Object.defineProperty(d,"__esModule",{value:!0});p=a(11);t=a(18);u=a(5);y=a(19);D=a(20);B=a(9);h=a(15);d.vta=function(a,b){if(a===b)return!0;if(!a||!b)return!1;for(var c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||a[c]!==b[c]))return!1;return!0;};d.gw=d.gw||function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};d.vSb=function(a){var b;if(a){b=a.length;if(b)return b=y.VEa(0,b-1),a[b];}};d.n8a=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};d.N3a=function(a,b){function c(){a.removeEventListener("loadedmetadata",c);b.apply(this,arguments);}a.addEventListener("loadedmetadata",c);};d.zub=function(){var a,b,c,f,k,p;a=B.ke.cookie.split("; ");b=a.length;p={};for(c=0;c<b;c++)if(f=y.trim(a[c]))k=f.indexOf("="),0<k&&(p[f.substr(0,k)]=f.substr(k+1));return p;};d.LPb=c;d.g$=Object.assign(c,{pqa:void 0});d.mY=f;d.$M=function(a){var b;b="";y.dd(a,function(a,c){b&&(b+="&");t.Pa(D.ee(c)||h.ka(c)||h.Qza(c));b+=encodeURIComponent(a)+"="+encodeURIComponent(c);});return b;};d.getFunctionName=m;d.mxa=q;d.dDa=function(a){var b;b="";h.isArray(a)||h.oAa(a)?b=B.reduce.call(a,function(a,b){return a+(32<=b&&128>b?B.fXa(b):".");},""):D.ee(a)?b=a:y.dd(a,function(a,c){b+=(b?", ":"")+"{"+a+": "+(h.Qb(c)?m(c)||"function":c)+"}";});return"["+q(a)+" "+b+"]";};d.pSb=function(a,b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b);};d.AK=d.AK||function(a){var b;b="";y.dd(a,function(a,c){b+=(b?";":"")+a+":"+c;});return b;};d.nQb=function(a,b){var c;c=a[0];if(b<=c[0])return c.slice(1);for(var f=1,k;k=a[f++];){if(b<=k[0]){a=(b-c[0])/(k[0]-c[0]);b=[];for(f=1;f<c.length;f++)b.push((c[f]||0)+a*((k[f]||0)-(c[f]||0)));return b;}c=k;}return c.slice(1);};d.lEb=function(a,b){var k;for(var c={},f=0;f<b.length;f++){k=b[f];if("string"!=typeof k&&"number"!=typeof k)return!1;c[b[f]]=1;}for(f=0;f<a.length;f++)if(k=a[f],!c[k])return!1;return!0;};d.LKa=function(a,b){0>a.indexOf(b)&&a.push(b);};d.M_=b;d.nEb=k;d.zha=function(a,b){var c,f,k,p;c=-1;f=a.length;if(1===arguments.length){for(;++c<f&&!(null!=(k=a[c])&&k<=k);)k=void 0;for(;++c<f;)null!=(p=a[c])&&p>k&&(k=p);}else{for(;++c<f&&!(null!=(k=b.call(a,a[c],c))&&k<=k);)k=void 0;for(;++c<f;)null!=(p=b.call(a,a[c],c))&&p>k&&(k=p);}return k;};d.mEb=function(a,b){var c,f,k,p;c=-1;f=a.length;if(1===arguments.length){for(;++c<f&&!(null!=(k=a[c])&&k<=k);)k=void 0;for(;++c<f;)null!=(p=a[c])&&k>p&&(k=p);}else{for(;++c<f&&!(null!=(k=b.call(a,a[c],c))&&k<=k);)k=void 0;for(;++c<f;)null!=(p=b.call(a,a[c],c))&&k>p&&(k=p);}return k;};d.NF=function(a){return h.Qb(a.then)?a:new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};d.iPb=function(a,c){var k,p,d,t,m,q;function f(a){0>k.indexOf(a)&&h.ka(a)&&k.push(a);}a=a.slice();b(a);k=[];if(!c||!c.length)return a;if(!a.length)return[];p=c.length;try{for(;p--;){m=""+c[p];q=D.fe(m);switch(m[m.length-1]){case"-":for(d=a.length;d--;)if(t=a[d],t<q){f(t);break;}break;case"+":for(d=0;d<a.length;d++)if(t=a[d],t>q){f(t);break;}break;default:0<=a.indexOf(q)&&f(q);}}}catch(W){}k.length||k.push(a[0]);b(k);return k;};d.XU=d.XU||function(a,b,c){var f;a/b>c?(f=B.wi(b*c),a=b):(f=a,a=B.wi(a/c));return{width:f,height:a};};d.QNb=function(a,b,c){for(var f=[],p=0;p<b;p++)f.push(B.Wka(a[p]-c,2));return B.BSa(k(f)/f.length);};d.Pq=function(a,b){var c;c=a.length;b=(c-1)*b+1;if(1===b)return a[0];if(b==c)return a[c-1];c=B.jy(b);return a[c-1]+(b-c)*(a[c]-a[c-1]);};d.mPb=function(a,b){if(!h.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");b=h.isArray(b)?b:[b];for(var c=a.length,f=0;f<c;f++)for(var k=0;k<b.length;k++)if(a[f].type==b[k])return a[f];throw Error("Box not found "+b);};d.$Eb=function(a){return a.Aw("trak/mdia/minf/stbl/stsd/"+p.FLa+"|"+p.GLa).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.T8.schm.Gwb;})[0].Aw("schi/tenc").Rw;};d.ZEb=function(a){var c;function b(a,b){var f;f=c[a];c[a]=c[b];c[b]=f;}c=new Uint8Array(a);b(0,3);b(1,2);b(4,5);b(6,7);return c;};d.Klb=function(){return h.Qb(B.gl.requestMediaKeySystemAccess);};d.kSb=function(a){return function(b){return b&&b[a];};};h.Qb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,b){var c,f;void 0===a&&(a=0);void 0===b&&(b=this.byteLength);a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);c=new ArrayBuffer(b-a);f=new Uint8Array(c);a=new Uint8Array(this,a,b-a);f.set(a);return c;});d.Iaa=function(a){return a&&0==a.toLowerCase().indexOf("https");};d.Ngb=function(){var a,b;a=new ArrayBuffer(4);b=new Uint8Array(a);a=new Uint32Array(a);b[0]=161;b[1]=178;b[2]=195;b[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};d.CV=function(){var a,b,c;try{a=/playercore.*js/;b=B.gs.getEntries("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length){c=B.wi(b[0].duration);return JSON.stringify(c);}}catch(T){}};d.lSb=function(a,b,c){if(a&&a.length)if(c&&c.r7a)try{a.forEach(function(a,f){var k;k=(f=c.r7a[f])&&f.media;k&&D.ee(k)?(k=u.Am(k).buffer,a.media={arrayBuffer:k,length:k.byteLength,stream:b,Zb:f.cdn}):u.log.warn("chunk not in cache",a.Bg);});}catch(T){u.log.error("error reading cached chunks",T);}else u.log.warn("chunks not available in cached stream",c.type);else u.log.warn("chunks not available in mediabuffer",c.type);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hj="Base64EncoderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Dna=0]="Test";a[a.kka=1]="Int";a[a.YWa=2]="Staging";a[a.MVa=3]="Prod";}(d.Xu||(d.Xu={})));(function(a){a[a.DQ=0]="PreferMsl";a[a.Dma=1]="PreferNoMsl";a[a.qTa=2]="NoMsl";}(d.gv||(d.gv={})));d.Uo="GeneralConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yi={fBa:"logblob",ta:"manifest",sj:"license",events:"events",bind:"bind",IDa:"pair",ping:"ping",config:"config"};g=d.Jg||(d.Jg={});g[g.cs=20]="High";g[g.E1=10]="Medium";g[g.YB=0]="Low";d.o2={Jg:"reqPriority",dWa:"reqAttempt",fWa:"reqName"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.A1="LogBatcherConfigSymbol";d.uk="LogBatcherSymbol";d.zka="LogBatcherProviderSymbol";},function(g,d,a){var q,b;function c(a){var b,c;b=[];for(c in a)b.push(c);return b;}function f(a,b,c,f,d){var k;Object.getOwnPropertyNames(a).filter(function(a){return d(a)&&(c||!Object.prototype.hasOwnProperty.call(b,a))&&(f||!(a in b));}).forEach(function(c){k=Object.getOwnPropertyDescriptor(a,c);void 0!==k&&Object.defineProperty(b,c,k);});}function m(a,b,d,q){var k,p;k=[];d||(k=Object.keys(b));q||(k=c(b));p=Object.getPrototypeOf(a);null!==p&&p!==Object.prototype&&m(p,b,d,q);f(a,b,!0,!0,function(a){return"constructor"!==a&&-1===k.indexOf(a);});}Object.defineProperty(d,"__esModule",{value:!0});q=a(8);d.YNb=m;b=Object.getOwnPropertyNames(Function);d.Wi=function(a,c,d,u){void 0===d&&(d=!0);void 0===u&&(u=!0);u||q.assert(!d);a.prototype?(m(a.prototype,c.prototype,d,u),f(a,c,d,u,function(a){return-1===b.indexOf(a);})):f(a,c.prototype,d,u,function(a){return-1===b.indexOf(a);});};},function(g,d,a){var b,k,p,t,u,y,D;function c(a,b){var c,f,p;try{c=k.gl.plugins;f=c.length;for(p=0;p<f;p++)if(b.test(c[p][a]))return c[p];return!1;}catch(T){}}function f(){var a,b;a=c("filename",/widevinecdm/i);if(a){try{b=a.description.match(/version: ([0-9.]+)/);if(b&&b[1])return b[1];}catch(C){}return"true";}return"false";}function m(){var a;a=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:b.rn,robustness:"HW_SECURE_DECODE"},{contentType:b.rn,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:b.hy,robustness:"SW_SECURE_CRYPTO"}]}];try{k.gl.requestMediaKeySystemAccess("com.widevine.alpha",a).then(function(a){var b;b=a.getConfiguration();a=b.videoCapabilities;(b=b.audioCapabilities)&&b.length&&(b=q(b),0<=b.indexOf("SW_SECURE_CRYPTO")&&(d.Xo.cptheaacwv_sw_cryp=!0));a&&a.length?(d.Xo.cpth264wv=!0,b=q(a),0<=b.indexOf("SW_SECURE_DECODE")&&(d.Xo.cpth264wv_sw_dec=!0),0<=b.indexOf("HW_SECURE_DECODE")&&(d.Xo.cpth264wv_hw_dec=!0)):d.Xo.cpth264wv=!1;})["catch"](function(){d.Xo.cpth264wv=!1;});}catch(I){}}function q(a){return a.map(function(a){return a.robustness;});}Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(858),d);b=a(11);g=a(20);k=a(9);p=a(31);t=a(5);a=a(455);d.sQb=/CrOS/.test(k.wk);d.Oma=/CrOS/.test(k.wk);d.Ila={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,doNotPerformLdlOnPlaybackStart:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:p.yk.e0,preciseSeeking:!0,editAudioFragments:!0,editVideoFragments:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};t.aa.get(a.Pna).q4a(d.Ila);d.EJb=function(){return{};};d.FJb=c;d.GJb=f;d.Jla=f();a=d.Jla;if(!(p=d.Jla))a:{try{k.gl.plugins.refresh();p=f();break a;}catch(B){}p=void 0;}t=!!c("name",/Chrome Remote Desktop Viewer/i);u=!!c("name",/Chromoting Viewer/i);a:{try{y=MediaSource.isTypeSupported(b.rn);break a;}catch(B){}y=void 0;}a:{try{D=g.createElement("VIDEO").canPlayType(b.rn);break a;}catch(B){}D=void 0;}try{m();}catch(B){}d.Xo={wvp:a,wvp2:p,crdvp:t,cvp:u,itsh264:y,cpth264:D,cpth264wv:void 0};d.FNb=m;d.MPb=q;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.sk="ClockSymbol";},function(g,d,a){var f;function c(a,c,b,k,p,d,u,g,D,B,h,C){this.code=void 0===a?f.J.xk:a;this.Rc=c;this.Vg=b;this.pE=k;this.sr=p;this.message=d;this.gE=u;this.data=g;this.t8=D;this.Vsb=B;this.alert=h;this.l5=C;this.$=!1;}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);c.Ye=function(a){var c,b,f;if(a){c=a.stack;b=a.number;f=a.message;f||(f=""+a);c?(a=""+c,0!==a.indexOf(f)&&(a=f+"\n"+a)):a=f;b&&(a+="\nnumber:"+b);return a;}return"";};c.prototype.QK=function(a){this.gE=c.Ye(a);this.data=a;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return{code:this.code,subCode:this.Rc,extCode:this.Vg,edgeCode:this.pE,mslCode:this.sr,message:this.message,details:this.gE,data:this.data,errorDisplayMessage:this.t8,playbackServiceError:this.Vsb};};c.gV=function(a,d){return new c(a,f.G.ih,void 0,void 0,void 0,void 0,d.message,d.stack);};d.wc=c;},function(g,d,a){var m;function c(a){return m.SQ.apply(this,arguments)||this;}function f(a){return new m.pq(a,d.JB);}Object.defineProperty(d,"__esModule",{value:!0});m=a(500);da(c,m.SQ);d.iFb=c;d.oT=f;d.ba=function(a){return new m.pq(a,d.Wr);};d.JQb=function(a){return new m.pq(a,d.rka);};d.mRb=function(a){return new m.pq(a,d.RSa);};d.JB=new c(1,"b");d.Wr=new c(8*d.JB.df,"B",d.JB);d.rka=new c(1024*d.Wr.df,"KB",d.JB);d.RSa=new c(1024*d.rka.df,"MB",d.JB);d.De=f(0);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.il="PboCommandContextSymbol";},function(g,d,a){var c,f,m,q,b,k;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(493);g=a(66);m=a(262);q=a(261);b=function(a){function f(c,f,p){var d;a.call(this);this.nB=null;this.Ff=this.cl=this.mB=!1;switch(arguments.length){case 0:this.destination=m.empty;break;case 1:if(!c){this.destination=m.empty;break;}if("object"===typeof c){if(c instanceof b||"syncErrorThrowable"in c&&c[q.ZA]){d=c[q.ZA]();this.cl=d.cl;this.destination=d;d.add(this);}else this.cl=!0,this.destination=new k(this,c);break;}default:this.cl=!0,this.destination=new k(this,c,f,p);}}c(f,a);f.prototype[q.ZA]=function(){return this;};f.create=function(a,b,c){a=new f(a,b,c);a.cl=!1;return a;};f.prototype.next=function(a){this.Ff||this.Ph(a);};f.prototype.error=function(a){this.Ff||(this.Ff=!0,this.Md(a));};f.prototype.complete=function(){this.Ff||(this.Ff=!0,this.yc());};f.prototype.unsubscribe=function(){this.closed||(this.Ff=!0,a.prototype.unsubscribe.call(this));};f.prototype.Ph=function(a){this.destination.next(a);};f.prototype.Md=function(a){this.destination.error(a);this.unsubscribe();};f.prototype.yc=function(){this.destination.complete();this.unsubscribe();};f.prototype.H2a=function(){var a,b;a=this.In;b=this.Jy;this.Jy=this.In=null;this.unsubscribe();this.Ff=this.closed=!1;this.In=a;this.Jy=b;};return f;}(g.kl);d.Zi=b;k=function(a){function b(b,c,k,p){var d;a.call(this);this.iJ=b;b=this;f.Qb(c)?d=c:c&&(d=c.next,k=c.error,p=c.complete,c!==m.empty&&(b=Object.create(c),f.Qb(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this.bj=b;this.Ph=d;this.Md=k;this.yc=p;}c(b,a);b.prototype.next=function(a){var b;if(!this.Ff&&this.Ph){b=this.iJ;b.cl?this.L2(b,this.Ph,a)&&this.unsubscribe():this.M2(this.Ph,a);}};b.prototype.error=function(a){var b;if(!this.Ff){b=this.iJ;if(this.Md)b.cl?this.L2(b,this.Md,a):this.M2(this.Md,a),this.unsubscribe();else if(b.cl)b.nB=a,b.mB=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};b.prototype.complete=function(){var a,b,c;a=this;if(!this.Ff){b=this.iJ;if(this.yc){c=function(){return a.yc.call(a.bj);};b.cl?this.L2(b,c):this.M2(c);}this.unsubscribe();}};b.prototype.M2=function(a,b){try{a.call(this.bj,b);}catch(D){throw this.unsubscribe(),D;}};b.prototype.L2=function(a,b,c){try{b.call(this.bj,c);}catch(B){return a.nB=B,a.mB=!0;}return!1;};b.prototype.Ss=function(){var a;a=this.iJ;this.iJ=this.bj=null;a.unsubscribe();};return b;}(b);},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(409),d);d.Rnb=function(c){d.platform.TL(c);return a(855).rSa;};d.CPb=function(){return a(217);};g=a(13);d.Pc=g;g=a(699);d.Zn=g.Zn;g=a(3);d.platform=g;c=a(698);d.xRb=function(){return{my:c.my};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lb=function(a){return setTimeout(a,0);};},function(g,d,a){var c,f;c=a(116);f=a(175);g.P=function(a){return function b(k,p){switch(arguments.length){case 0:return b;case 1:return f(k)?b:c(function(b){return a(k,b);});default:return f(k)&&f(p)?b:f(k)?c(function(b){return a(b,p);}):f(p)?c(function(b){return a(k,b);}):a(k,p);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hm="EmeConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Iqb=function(a,c){return a-c;};d.jTb=function(a,c){return a.localeCompare(c);};d.Vm=function(a,c){var f;f=Object.getOwnPropertyDescriptor(a,c);f&&Object.defineProperty(a,c,{configurable:f.configurable,enumerable:!1,value:f.value,writable:f.writable});};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.VNa="Cannot apply @injectable decorator multiple times.";d.WNa="Metadata key was used more than once in a parameter:";d.aI="NULL argument";d.pka="Key Not Found";d.cKa="Ambiguous match found for serviceIdentifier:";d.SLa="Could not unbind serviceIdentifier:";d.fTa="No matching bindings found for serviceIdentifier:";d.bSa="Missing required @injectable annotation in:";d.cSa="Missing required @inject or @multiInject annotation in:";d.QXa=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};d.WLa="Circular dependency found:";d.UIb="Sorry, this feature is not fully implemented yet.";d.OQa="Invalid binding type:";d.gTa="No snapshot available to restore.";d.RQa="Invalid return type in middleware. Middleware must return!";d.HHb="Value provided to function binding must be a function!";d.TQa="The toSelf function can only be applied when a constructor is used as service identifier";d.PQa="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";d.dKa=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};d.kMa="Invalid Container constructor argument. Container options must be an object.";d.iMa="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";d.hMa="Invalid Container option. Auto bind injectable must be a boolean";d.jMa="Invalid Container option. Skip base check must be a boolean";d.qSa="Cannot apply @postConstruct decorator multiple times in the same class";d.tUa=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return"@postConstruct error in class "+a[0]+": "+a[1];};d.XLa=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};d.wWa="Maximum call stack size exceeded";},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(72);c=a(51);f=a(9);d.Le=new g.tk();d.Kl=1;d.Qz=2;d.E$=3;d.IL=4;d.D$=5;c.Lb(function(){var c,b,k;function a(a,c){if(b)b.on(a,c);else M.addEventListener(a,c);}c=M.jQuery;b=c&&c(M);c=(c=M.netflix)&&c.cadmium&&c.cadmium.addBeforeUnloadHandler;k=f.ke.hidden;c?c(function(a){d.Le.Pb(d.Kl,a);}):a("beforeunload",function(a){d.Le.Pb(d.Kl,a);});a("keydown",function(a){d.Le.Pb(d.Qz,a);});a("resize",function(){d.Le.Pb(d.E$);});f.ke.addEventListener("visibilitychange",function(){k!==f.ke.hidden&&(k=f.ke.hidden,d.Le.Pb(d.IL));});});(function(){M.addEventListener("error",function(a){d.Le.Pb(d.D$,a);return!0;});}());},function(g,d,a){var f,m;function c(a,b){var k;k=d.vn[0];k==b&&(k=d.vn[1]);k?k.close(function(){c(a,b);}):a&&a(f.pd);}Object.defineProperty(d,"__esModule",{value:!0});f=a(11);m=a(18);d.uma=c;d.xma=function(a,b){switch(a){case d.sma:d.vma.push(b);return;case d.tma:d.wma.push(b);return;}m.Pa(!1);};d.vn=[];d.vma=[];d.wma=[];d.sma=1;d.tma=3;d.kI={index:0,Gpb:void 0,W8:void 0};d.rma="network";d.qma="media";d.fVa="timedtext";d.gVa="playback";},function(g){g.P=function(d,a){for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);return a;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jl="PlayerErrorFactorySymbol";},function(g,d){function a(){}function c(){}function f(){}Object.defineProperty(d,"__esModule",{value:!0});d.Y=f;f.yH="playready-h264mpl30-dash";f.RB="playready-h264mpl31-dash";f.WP="playready-h264mpl40-dash";f.CPa="playready-h264hpl22-dash";f.TP="playready-h264hpl30-dash";f.UP="playready-h264hpl31-dash";f.VP="playready-h264hpl40-dash";f.a1="hevc-main-L30-dash-cenc";f.b1="hevc-main-L31-dash-cenc";f.c1="hevc-main-L40-dash-cenc";f.d1="hevc-main-L41-dash-cenc";f.e1="hevc-main-L50-dash-cenc";f.f1="hevc-main-L51-dash-cenc";f.Q0="hevc-main10-L30-dash-cenc";f.S0="hevc-main10-L31-dash-cenc";f.U0="hevc-main10-L40-dash-cenc";f.W0="hevc-main10-L41-dash-cenc";f.EH="hevc-main10-L50-dash-cenc";f.FH="hevc-main10-L51-dash-cenc";f.bQ="hevc-main10-L30-dash-cenc-prk";f.cQ="hevc-main10-L31-dash-cenc-prk";f.dQ="hevc-main10-L40-dash-cenc-prk";f.X0="hevc-main10-L41-dash-cenc-prk";f.R0="hevc-main10-L30-dash-cenc-prk-do";f.T0="hevc-main10-L31-dash-cenc-prk-do";f.V0="hevc-main10-L40-dash-cenc-prk-do";f.Y0="hevc-main10-L41-dash-cenc-prk-do";f.Z0="hevc-main10-L50-dash-cenc-prk-do";f.$0="hevc-main10-L51-dash-cenc-prk-do";f.lHb="hevc-main-L30-L31-dash-cenc-tl";f.mHb="hevc-main-L31-L40-dash-cenc-tl";f.nHb="hevc-main-L40-L41-dash-cenc-tl";f.oHb="hevc-main-L50-L51-dash-cenc-tl";f.hHb="hevc-main10-L30-L31-dash-cenc-tl";f.iHb="hevc-main10-L31-L40-dash-cenc-tl";f.jHb="hevc-main10-L40-L41-dash-cenc-tl";f.kHb="hevc-main10-L50-L51-dash-cenc-tl";f.pH="hevc-dv5-main10-L30-dash-cenc-prk";f.qH="hevc-dv5-main10-L31-dash-cenc-prk";f.MB="hevc-dv5-main10-L40-dash-cenc-prk";f.JP="hevc-dv5-main10-L41-dash-cenc-prk";f.KP="hevc-dv5-main10-L50-dash-cenc-prk";f.n0="hevc-dv5-main10-L51-dash-cenc-prk";f.H0="hevc-hdr-main10-L30-dash-cenc";f.I0="hevc-hdr-main10-L31-dash-cenc";f.J0="hevc-hdr-main10-L40-dash-cenc";f.K0="hevc-hdr-main10-L41-dash-cenc";f.L0="hevc-hdr-main10-L50-dash-cenc";f.N0="hevc-hdr-main10-L51-dash-cenc";f.BH="hevc-hdr-main10-L30-dash-cenc-prk";f.CH="hevc-hdr-main10-L31-dash-cenc-prk";f.SB="hevc-hdr-main10-L40-dash-cenc-prk";f.YP="hevc-hdr-main10-L41-dash-cenc-prk";f.M0="hevc-hdr-main10-L50-dash-cenc-prk";f.O0="hevc-hdr-main10-L51-dash-cenc-prk";f.Xna="vp9-profile0-L21-dash-cenc";f.tI="vp9-profile0-L30-dash-cenc";f.uI="vp9-profile0-L31-dash-cenc";f.vI="vp9-profile0-L40-dash-cenc";f.Sna="vp9-profile2-L30-dash-cenc-prk";f.Tna="vp9-profile2-L31-dash-cenc-prk";f.Una="vp9-profile2-L40-dash-cenc-prk";f.Vna="vp9-profile2-L50-dash-cenc-prk";f.Wna="vp9-profile2-L51-dash-cenc-prk";f.oha="av1-main-L20-dash-cbcs-prk";f.pha="av1-main-L21-dash-cbcs-prk";f.qha="av1-main-L30-dash-cbcs-prk";f.rha="av1-main-L31-dash-cbcs-prk";f.sha="av1-main-L40-dash-cbcs-prk";f.tha="av1-main-L41-dash-cbcs-prk";f.uha="av1-main-L50-dash-cbcs-prk";f.vha="av1-main-L51-dash-cbcs-prk";f.kWa=[f.yH];f.HPa=[f.RB,f.WP];f.NXa=[f.a1,f.b1,f.c1,f.d1,f.e1,f.f1];f.PXa=[f.Q0,f.S0,f.U0,f.W0,f.EH,f.FH];f.OXa=[f.bQ,f.cQ,f.dQ,f.X0,f.EH,f.FH];f.PLb=[f.R0,f.T0,f.V0,f.Y0,f.Z0,f.$0];f.GPa=[f.H0,f.I0,f.J0,f.K0,f.L0,f.N0];f.FPa=[f.BH,f.CH,f.SB,f.YP,f.M0,f.O0];f.XNa=[f.pH,f.MB,f.KP,f.qH,f.JP,f.n0];f.VFb=[f.pH,f.qH,f.MB,f.JP,f.KP];f.hEb=[f.TP,f.UP,f.VP];f.YLb=[f.tI,f.uI,f.vI];f.pv=[f.Xna,f.tI,f.uI,f.vI,f.Sna,f.Tna,f.Una,f.Vna,f.Wna];f.tKa=[f.oha,f.pha,f.qha];f.sKa=[f.rha,f.sha,f.tha];f.uKa=[f.uha,f.vha];f.oi=[].concat(f.tKa,f.sKa,f.uKa);f.BPa=f.kWa.concat(f.HPa);f.EPa=f.NXa;f.DPa=f.PXa;f.FKa=[].concat(f.BPa,f.EPa,f.DPa,f.OXa,f.GPa,f.FPa,f.XNa,f.pv,f.oi);d.Xi=c;c.ZP="heaac-2-dash";c.IPa="heaac-5.1-dash";c.$P="heaac-2hq-dash";c.HP="ddplus-2.0-dash";c.i0="ddplus-5.1-dash";c.IP="ddplus-atmos-dash";c.P0="playready-heaac-2-dash";c.KPa="heaac-2-dash-enc";c.SMa="ddplus-2.0-dash-enc";c.TMa="ddplus-5.1-dash-enc";c.JPa="playready-heaac-2-dash-enc";c.FKa=[c.ZP,c.$P,c.HP,c.i0,c.IP,c.P0,c.KPa,c.SMa,c.TMa,c.JPa];d.ll=a;a.tWa="simplesdh";a.l0="dfxp-ls-sdh";a.$B="nflx-cmisc";a.TKb="simplesdh-enc";a.OFb="dfxp-ls-sdh-enc";a.qQ="nflx-cmisc-enc";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vo="LogMessageFactorySymbol";},function(g,d,a){var b;function c(){}function f(){}function m(){}function q(){}Object.defineProperty(d,"__esModule",{value:!0});a=a(117);(function(a){a[a.wn=0]="STANDARD";a[a.cv=1]="LIMITED";a[a.XJb=2]="PREVIEW";}(b||(b={})));d.Ge=q;q.Zha="created";q.ana="started";q.gna="succeeded";q.Yu="failed";q.Ux="cancelled";q.DP="cancelled_on_create";q.mH="cancelled_on_start";q.CP="cancelled_not_encrypted";m.QLb="uirequest";m.WJb="prefetch_start";m.UJb="prefetch_complete";m.VJb="prefetch_delete";m.TTa="periodic_update";(function(a){a[a.Vla=0]="PRE_FETCH";a[a.Mma=1]="QC";a[a.wn=2]="STANDARD";a[a.r2=3]="SUPPLEMENTAL";a[a.TNa=4]="DOWNLOAD";}(g=d.un||(d.un={})));a={manifest:a.He.Gj.nha,ldl:a.He.Gj.dy,getHeaders:a.He.Gj.DH,getMedia:a.He.Gj.MEDIA};d.$i=f;f.oKa="asl_start";f.mKa="asl_comp";f.fEb="asl_exc";f.nKa="asl_fail";f.zWa="stf_creat";f.lQa="idb_open";f.iQa="idb_block";f.sQa="idb_upgr";f.rQa="idb_succ";f.jQa="idb_error";f.kQa="idb_invalid_state";f.nQa="idb_open_timeout";f.pQa="idb_open_wrkarnd";f.qQa="idb_storelen_exc";f.mQa="idb_open_exc";f.oQa="idb_timeout_invalid_storelen";f.jSa="msl_load_data";f.lSa="msl_load_no_data";f.kSa="msl_load_failed";d.md=c;c.XHb=b;c.Lta=function(a){return["STANDARD","LIMITED","PREVIEW"][a];};c.Ge=q;c.uUa=m;c.un=g;c.x8a=function(a){return["PRE_FETCH","QC","STANDARD","SUPPLEMENTAL","DOWNLOAD"][a];};c.gI=a;c.$i=f;},function(g,d){function a(a){var c;c=Error.call(this,"TimeoutError");this.message=c.message;"stack"in c&&(this.stack=c.stack);this.interval=a;}Object.defineProperty(d,"__esModule",{value:!0});da(a,Error);d.zn=a;d.py="PromiseTimerSymbol";},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(35);g=function(){function a(a,c){this.key=a;this.value=c;}a.prototype.toString=function(){return this.key===c.hv?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();d.Metadata=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.D0="EventSourceSymbol";d.G0="GlobalEventSourceSymbol";d.sH="DebugEventSourceSymbol";d.Kia="DiagnosticsEventSourceSymbol";},function(g,d,a){var f,m,q,b,k,p;function c(a){return a.reduce(function(a,b){return a.concat(b instanceof p.TQ?b.xE:b);},[]);}f=a(104);m=a(494);q=a(493);b=a(1089);k=a(492);p=a(1088);g=function(){function a(a){this.closed=!1;this.mD=this.Jy=this.In=null;a&&(this.Ss=a);}a.prototype.unsubscribe=function(){var a,d,t,g,h,C;a=!1;if(!this.closed){t=this.In;g=this.Jy;h=this.Ss;C=this.mD;this.closed=!0;this.mD=this.Jy=this.In=null;for(var K=-1,Q=g?g.length:0;t;)t.remove(this),t=++K<Q&&g[K]||null;q.Qb(h)&&(t=b.QIa(h).call(this),t===k.uw&&(a=!0,d=d||(k.uw.e instanceof p.TQ?c(k.uw.e.xE):[k.uw.e])));if(f.isArray(C))for(K=-1,Q=C.length;++K<Q;)t=C[K],m.qf(t)&&(t=b.QIa(t.unsubscribe).call(t),t===k.uw&&(a=!0,d=d||[],t=k.uw.e,t instanceof p.TQ?d=d.concat(c(t.xE)):d.push(t)));if(a)throw new p.TQ(d);}};a.prototype.add=function(b){var c;if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;c=b;switch(typeof b){case"function":c=new a(b);case"object":if(c.closed||"function"!==typeof c.unsubscribe)return c;if(this.closed)return c.unsubscribe(),c;"function"!==typeof c.loa&&(b=c,c=new a(),c.mD=[b]);break;default:throw Error("unrecognized teardown "+b+" added to Subscription.");}(this.mD||(this.mD=[])).push(c);c.loa(this);return c;};a.prototype.remove=function(a){var b;b=this.mD;b&&(a=b.indexOf(a),-1!==a&&b.splice(a,1));};a.prototype.loa=function(a){var b,c;b=this.In;c=this.Jy;b&&b!==a?c?-1===c.indexOf(a)&&c.push(a):this.Jy=[a]:this.In=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();d.kl=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qna="StorageValidatorSymbol";d.Ur="AppStorageFactorySymbol";},function(g,d,a){var f,m,q,b,k;function c(a,b,c,f,k,d){this.context=a;this.errorCode=b;this.nwb=c;this.tea=k;this.sea=d;this.name=f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(309);q=a(4);b=a(46);k=a(40);c.prototype.send=function(a,b,c,f,d,m,q){var p;q=void 0===q?k.gv.DQ:q;p=this;return this.Cgb(a,b,c,q,f,d,m).then(function(a){return p.context.Kbb.send(a.context,a.request);});};c.prototype.Cgb=function(a,b,c,f,k,d,m){var p,t;try{p=this.context.Svb.create(this.context.VE.qz(),b,c,k,f);t=this.j6a(a,f,d,m);return Promise.resolve({context:t,request:p});}catch(Q){return Promise.reject(Q);}};c.prototype.j6a=function(a,b,c,f){return{Ef:this.context.Ef,log:a,Bl:this.name,url:this.context.oCb(m.m6a(this.context.Tf,this.context.vj,this.name,b)),Fea:this.nwb,timeout:q.zh(59),headers:m.l6a(this.context.vj,this.context.nw),sea:this.sea,tea:void 0!==c?c:this.tea,Q5a:f};};c.prototype.eo=function(a){return a instanceof b.wc?a:m.eo(this.errorCode,a);};c.prototype.bta=function(a){var b;b=this;a.forEach(function(a){if(b.FW(a))throw a.error;});};c.prototype.FW=function(a){return void 0!==a.error;};a=c;a=g.__decorate([f.N(),g.__param(0,f.Gh()),g.__param(1,f.Gh()),g.__param(2,f.Gh()),g.__param(3,f.Gh()),g.__param(4,f.Gh()),g.__param(5,f.Gh())],a);d.ri=a;},function(g){g.P=function a(c,f){var m;c.__proto__&&c.__proto__!==Object.prototype&&a(c.__proto__,f);Object.getOwnPropertyNames(c).forEach(function(a){m=Object.getOwnPropertyDescriptor(c,a);void 0!==m&&Object.defineProperty(f,a,m);});};},function(g,d,a){var c,f,m,q,b,k,p,t;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);a(8);f=a(13);m=a(69);q=a(394);b=a(29);g=a(43);k=a(172);p=a(223);a=a(171);t=function(a){function d(b,c){var f;f=a.call(this,b,c)||this;f.dj=c.index;f.CC=c.gb;f.vs=c.yb;f.S2a=c.Dc?c.Dc:b.Dc;f.mqa=c.Tp||0;f.vpa=!!c.$t;f.yg=void 0===c.h9||void 0===c.g9||c.h9===c.gb&&c.g9===c.yb?f:new p.kH(f,{gb:c.h9,yb:c.g9});f.g0a=c.pca;f.yYa=c.Uh;f.xs=c.Qa?f.MCa(c.Qa):void 0;f.Kqa=c.Ex;f.Ci=!1;return f;}c.__extends(d,a);d.P$a=function(a){for(var b=new Uint32Array(a.length),c=new Uint32Array(a.length),f=0,k,p,d=0;d<a.length;++d)k=a[d],p=k.Wb,b[d]=k.vs-k.CC,c[d]=p,f+=p;return new q.lna(b,c,a.length?a[0].W:1E3,f);};Object.defineProperties(d.prototype,{Zz:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{index:{get:function(){return this.dj;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Dc:{get:function(){return this.S2a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{gb:{get:function(){return this.CC;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{yb:{get:function(){return this.vs;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Tp:{get:function(){return this.mqa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{$t:{get:function(){return this.vpa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{pca:{get:function(){return this.g0a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Uh:{get:function(){return this.yYa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Qa:{get:function(){return this.xs;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ex:{get:function(){return this.Kqa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{h9:{get:function(){return this.yg.gb;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{g9:{get:function(){return this.yg.yb;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ifb:{get:function(){return this.yg.$n;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Kwa:{get:function(){return this.yg.pN;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{yw:{get:function(){return this.yg.qc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{dV:{get:function(){return this.yg.te;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Jwa:{get:function(){return this.yg.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Iwa:{get:function(){return this.yg.Oc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{pL:{get:function(){return this.ifb/this.stream.La.Cb;},enumerable:!0,configurable:!0}});d.prototype.$Ga=function(a){this.mqa=a.pg(this.W).Cb;};d.prototype.zBa=function(){this.vpa=!0;};d.prototype.cyb=function(a){this.zGa={we:a.rxa(),Wlb:a.Gx};};d.prototype.gO=function(a){this.Kqa=a;};d.prototype.yj=function(a){var b,c;void 0===a&&(a={});b=this.stream.La.Cb;c=this.xs||{start:0,end:this.pL};a=this.MCa(a);this.yg&&this.yg!==this||(this.yg=new p.kH(this,this));a.start>c.start&&(this.CC=this.yg.gb+a.start*b);a.end<c.end&&(this.vs=this.yg.gb+a.end*b);this.xs=a;};d.prototype.Y7=function(a){void 0===a&&(a=1);this.xs?this.yj({start:this.xs.start+a,end:this.xs.end}):this.yj({start:a});};d.prototype.icb=function(){this.xs?this.yj({start:this.xs.start,end:(this.xs.end||0)-1}):this.yj({start:0,end:-1});};d.prototype.Meb=function(a){var f;if(!(a<this.T||a>=this.ga)&&this.Uh&&this.Uh.length){a=new b.Ta(a+1-this.T,1E3).Ct(this.stream.La);for(var c=this.Uh.length-1;0<=c;--c){f=this.Uh[c];if(f.bm<=a)return f;}return{bm:0,Kc:this.yw};}};d.prototype.Leb=function(a){var f;if(!(a<this.T||a>=this.ga)&&this.Uh&&this.Uh.length){a=new b.Ta(a+1-this.T,1E3).Ct(this.stream.La);for(var c=this.Uh.length-1;0<=c;--c){f=this.Uh[c];if(f.bm<=a)return f;}return{bm:0,Kc:this.yw};}};d.prototype.iwa=function(a,c){var f,k,p;if(!(a<this.T||a>=this.ga)){f=this.La.Cb;k=this.La.W;p=Math.floor(this.$n/f);a=Math.min((c?Math.ceil:Math.floor)((b.Ta.rca(a,k)-this.gb+(c?-1:1)*(k/1E3-1))/f),p);f=b.Ta.Bga(this.gb+a*f,k);return a===p?void 0:{bm:a,Kc:f};}};d.prototype.SU=function(a){return this.M===f.Fa.VIDEO?this.Meb(a):this.iwa(a,!1);};d.prototype.Jeb=function(a){return this.M===f.Fa.VIDEO?this.Leb(a):this.iwa(a,!0);};d.prototype.k5=function(a){this.Wb+=a.ba;this.vs=a.yb;};d.prototype.toString=function(){return"["+this.pa+", "+this.R+"kbit/s, "+("c:"+this.Oc+"-"+this.$d+",")+("p:"+this.qc+"-"+this.te+",d:"+this.duration+"]");};d.prototype.toJSON=function(){var a;a=k.Qx.prototype.toJSON.call(this);m({index:this.index,startPts:this.T,endPts:this.ga,contentStartPts:this.Oc,contentEndPts:this.$d,fragmentStartPts:this.yw!==this.T?this.yw:void 0,fragmentEndPts:this.dV!==this.ga?this.dV:void 0,edit:this.Qa},a);return a;};d.prototype.owa=function(a){var b;if(this.Uh)for(var c=0;c<this.Uh.length;++c)this.Uh[c].bm===a&&(b=this.Uh[c].offset);return b;};d.prototype.MCa=function(a){return{start:a.start||0,end:(void 0!==a.end&&0<=a.end?0:this.pL)+(a.end||0)};};return d;}(k.Qx);d.pi=t;g.Wi(a.wP,t);},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(131);d.Cy=function(a){c.assert("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};d.Eoa=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};d.rMb=function(a,c){return Math.floor(1E3*a/c);};},function(g,d,a){var f,m;function c(){var a,b;a=this;this.bp={};this.on=function(b,c,f){a.addListener(b,c,f);};this.addListener=function(b,c,f){a.bp&&(a.bp[b]=a.bp[b]||new m.Ima(!0)).add(c,f);};this.removeListener=function(b,c){a.bp&&a.bp[b]&&a.bp[b].removeAll(c);};this.J9=function(b){return a.bp&&a.bp[b]?a.bp[b].Mt():[];};b=this;this.Pb=function(a,c,d){var k;if(b.bp){k=b.J9(a);for(a={rj:0};a.rj<k.length;a={rj:a.rj},a.rj++)d?function(a){return function(){var b;b=k[a.rj];f.Lb(function(){b(c);});};}(a)():k[a.rj].call(this,c);}};}Object.defineProperty(d,"__esModule",{value:!0});f=a(51);m=a(459);c.prototype.Uf=function(){this.bp=void 0;};d.tk=c;},function(g,d,a){var t,u,y,D,B,h,C,K,Q,T,l,n,S,N,U,r;function c(a){var b,c,f,k;b=a.url.split("?");c=b[0];f="sc="+a.Hwb;k=a.Fsa?"random="+(1E17*l.TH()).toFixed(0):"";c=b[1]?c+("?"+b[1]+"&"+f):c+("?"+f);c=c+(k?"&"+k:"");a.Zb&&!D.Iaa(c)&&(a=u.config&&u.config.i6)&&(c=a.replace("{URL}",c).replace("{EURL}",encodeURIComponent(c)));return c;}function f(a){var b,c,f,k;b=a.url.split("?");c=b[0];f="bb_reason="+a.reason;k=a.Fsa?"random="+(1E17*l.TH()).toFixed(0):"";c=b[1]?c+("?"+b[1]+"&"+f):c+("?"+f);c=c+(k?"&"+k:"");a.Zb&&!D.Iaa(c)&&(a=u.config&&u.config.i6)&&(c=a.replace("{URL}",c).replace("{EURL}",encodeURIComponent(c)));return c;}function m(a,b){var c,f,k,p;c=a.url.split("?");f=c[0];k=q(a);k&&(b.Br=k,(void 0===a.No?u.config.No:a.No)?(a.headers=a.headers||{},a.headers.Range="bytes="+k):(b.Br=k,f="/"==f[f.length-1]?f+"range/":f+"/range/",f+=k));k=a.Fsa?"random="+(1E17*l.TH()).toFixed(0):"";u.config.Az&&a.GZ&&(p="sc="+a.GZ,k=p+(k?"&"+k:""));f=c[1]?f+("?"+c[1]+(k?"&"+k:"")):f+(k?"?"+k:"");a.Zb&&!D.Iaa(f)&&(a=u.config&&u.config.i6)&&(f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));b.url=f;}function q(a){var b;b=a.offset;if(void 0!==b)return Q.aU(b),void 0!==a.length?(a=a.offset+a.length-1,Q.aU(a),Q.Pa(b<=a),b+"-"+a):b+"-";}function b(){return!1!==l.gl.onLine;}function k(a,b,c,f){var k,p;k=f.Ada;p=f.headers;a.open(k?"POST":"GET",b,!c);switch(f.responseType){case d.iW:a.responseType="arraybuffer";break;case d.lza:T.K6a(a,"overrideMimeType",void 0,"text/xml");}k&&(b={"Content-Type":h.ee(k)?"text/plain":"application/x-octet-stream"},p=p?h.fb(b,p):b);p&&T.dd(p,function(b,c){a.setRequestHeader(b,c);});f.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");k?a.send(k):a.send();}function p(a,b){switch(b.type){case d.iW:return a.response||new ArrayBuffer(0);case d.lza:return a.responseXML;default:return a.responseText;}}Object.defineProperty(d,"__esModule",{value:!0});t=a(72);u=a(12);y=a(11);D=a(38);B=a(30);h=a(20);C=a(2);K=a(5);Q=a(18);T=a(19);l=a(9);n=a(51);S=a(15);N=a(24);U={z2:1,cMb:2,hLa:3};d.Ef=function(){var D,I,T,l;function a(a){var b;try{b=a.url;S.pAa(b)?0===b.indexOf("https")?l.ssl++:0===b.indexOf("http")?l["non-ssl"]++:l.invalid++:l.invalid++;}catch(wa){}}function q(){I.Pb(d.pkb);I.Pb(d.mza);}function g(){I.Pb(d.baa);I.Pb(d.mza);}D=K.zg("Http");I=new t.tk();T=0;l={ssl:0,"non-ssl":0,invalid:0};K.aa.get(N.yf).register(C.J.dka,function(a){u.config.wCb&&(M.addEventListener("online",q),M.addEventListener("offline",g),d.aaa=b);a(y.pd);});return{addEventListener:I.addListener,removeEventListener:I.removeListener,download:function(b,c){var A,N,V,U,ma,O,fa,W,sa,ia,oa;function f(){var a;f=h.Re;oa&&(clearTimeout(oa),oa=null);I.removeListener(d.baa,y);sa&&(sa.onloadstart=null,sa.onreadystatechange=null,sa.onprogress=null,sa.onerror=null,sa.onload=null,sa=sa.onabort=null);W.$||(W.ca!=C.G.Zu?A.warn("Download failed",N,C.So(W)):A.trace("Download aborted",N));a=V;V=void 0;for(var b=a.length;b--;)(function(){var c;c=a[b];n.Lb(function(){c(W);});}());I.Pb(d.nkb,W,!0);}function t(){oa&&(clearTimeout(oa),oa=null);oa=setTimeout(l,ia?fa:O);}function q(a,b,c,k){var p,d;W.$=!1;W.ca=a;p=B.Rg();d=W.dk;d.Fg=d.Fg||p;d.am=d.am||p;0<b&&(W.Hi=W.Vd=b);c&&(W.kb=c);k&&(W.sx=k);a!==C.G.GH&&a!==C.G.by&&a!==C.G.JH||!sa||(sa.onabort=null,ca());f();}function g(a){var b,c;try{c=a.getResponseHeader("X-Netflix.Retry.Server.Policy");c&&(b=JSON.parse(c));}catch(ud){}return b;}function y(){d.aaa()||q(C.G.GH);}function l(){q(ia?C.G.by:C.G.JH);}function ca(){try{sa&&sa.abort();}catch(lf){}}function R(){q(C.G.Zu);}Q.Pa(c);A=b.j&&b.j.log&&K.Wg(b.j,"Http")||D;N={Num:T++};V=[c];U={};O=b.MT||u.config.MT;fa=b.Fca||u.config.Fca;a(b);W=function(){var a,c,k;a=h.Re;c=h.Re;k=h.Re;return{request:b,type:b.responseType,dk:U,abort:ca,timeout:l,bra:function(a){f!==h.Re&&(Q.Pa(V,"Callback should be added before download starts."),V&&V.unshift(a));},dY:function(a){k(a);},fY:function(b){a(b);},LF:function(a){c(a);},Vxb:function(a){k=a;},byb:function(b){a=b;},Qxb:function(a){c=a;}};}();n.Lb(function(){var a,c;if(S.pAa(b.url))try{if(m(b,W),ma=W.url,Q.KK(ma),N.Url=ma,d.aaa()){sa=new XMLHttpRequest();a=u.config.zCb&&"undefined"!=typeof sa.onloadstart;a&&(sa.onloadstart=function(){var a;a=B.Rg();U.requestTime=a;W.dY({mediaRequest:b,timestamp:a});});sa.onreadystatechange=function(){if(2==sa.readyState){ia=!0;U.Fg=B.Rg();sa.onreadystatechange=null;t();for(var a=W,c=sa.getAllResponseHeaders().split("\n"),f=c.length,k,p,d={};f--;)if(k=c[f])p=k.indexOf(": "),1<=p&&p<k.length-1&&(d[k.substr(0,p)]=k.substr(p+2));a.headers=d;W.fY({timestamp:U.Fg,connect:!0,mediaRequest:b,start:U.requestTime,rt:[U.Fg-U.requestTime]});}};sa.onprogress=function(a){ia=!0;U.iw=a.loaded;t();a={mediaRequest:b,bytes:a.loaded,tempstamp:B.Rg(),bytesLoaded:a.loaded};W.fY(a);};sa.onload=function(){var a;if(f!==h.Re){Q.Pa(void 0===U.am);U.am=B.Rg();U.Fg=U.Fg||U.am;if(200<=sa.status&&299>=sa.status)if(a=p(sa,W),b.ag)try{W.content=b.ag(a,W);W.$=!0;W.parsed=!0;W.raw=a;}catch(ud){A.warn("Exception parsing response",ud,N);q(C.G.h1,void 0,h.Ye(ud));}else W.parsed=!1,W.content=a,W.$=!0;else sa.status==r?q(C.G.IH,sa.status):q(C.G.HH,sa.status,sa.response,g(sa));f();}};sa.onabort=R;sa.onerror=function(){var a,b;a=sa.status;"undefined"!==typeof u.config.Dwa&&(a=u.config.Dwa);if(0<a)if(a==r)q(C.G.IH,a);else{try{b=sa.responseText;}catch(Ge){}q(C.G.HH,a,b,g(sa));}else q(C.G.KH);};c=B.Rg();k(sa,ma,!1,b);I.Pb(d.okb,W,!0);a||(U.requestTime=c,W.dY({mediaRequest:b,timestamp:c}));t();I.addListener(d.baa,y);}else n.Lb(q.bind(void 0,C.G.GH));}catch(ib){A.error("Exception starting download",ib,N);q(C.G.l1,void 0,h.Ye(ib));}else q(C.G.Cja);});return W;},Sb:l,JRb:function(a){var b;b=new XMLHttpRequest();a=f(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},Pyb:function(a){var b;b=new XMLHttpRequest();a=c(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},Otb:function(a){var b,c,f;b=new XMLHttpRequest();c=a.url;f=a.Ltb;b.open("HEAD",c);b.timeout=Math.max(2*f.vnb,u.config.Mda);b.onreadystatechange=function(){2==b.readyState&&f&&f.Ul({url:c});};b.ontimeout=b.onerror=function(){f&&f.Nca({url:c});};b.send();},UVa:U};}();d.fQb=c;d.cQb=f;d.eQb=m;d.dQb=q;d.aaa=y.WVa;d.gQb=b;d.eMb=k;d.dMb=p;d.okb=1;d.nkb=2;d.pkb=3;d.baa=4;d.mza=5;d.kza=1;d.lza=2;d.iW=3;r=420;M._cad_global.http=d.Ef;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ig={audio:"audio",video:"video",f_:"timedtext",Lga:"trickplay"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.im={start:"start",stop:"stop",fM:"keepAlive",dL:"engage",splice:"splice"};d.C0="EventPboCommandFactorySymbol";d.ona="StartEventPboCommandSymbol";d.pna="StopEventPboCommandSymbol";d.qka="KeepAliveEventPboCommandSymbol";d.mna="SpliceEventPboCommandSymbol";d.ija="EngageEventPboCommandSymbol";},function(g,d,a){var c,f,m,q,b,k,p,t;c=a(78);f=a(483);m=a(482);q=a(494);b=a(10);k=a(181);p=a(1071);t=a(260);d.Ku=function(a,d,g,B){var u;u=new p.jka(a,g,B);if(u.closed)return null;if(d instanceof b.Aa)if(d.Cs)u.next(d.value),u.complete();else return u.cl=!0,d.subscribe(u);else if(f.Nza(d)){a=0;for(g=d.length;a<g&&!u.closed;a++)u.next(d[a]);u.closed||u.complete();}else{if(m.fAa(d))return d.then(function(a){u.closed||(u.next(a),u.complete());},function(a){return u.error(a);}).then(null,function(a){c.root.setTimeout(function(){throw a;});}),u;if(d&&"function"===typeof d[k.iterator]){d=d[k.iterator]();do{a=d.next();if(a.done){u.complete();break;}u.next(a.value);if(u.closed)break;}while(1);}else if(d&&"function"===typeof d[t.observable])if(d=d[t.observable](),"function"!==typeof d.subscribe)u.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return d.subscribe(new p.jka(a,g,B));else d="You provided "+(q.qf(d)?"an invalid object":"'"+d+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",u.error(new TypeError(d));}return null;};},function(g,d,a){var c;c=this&&this.__extends||function(a,c){function f(){this.constructor=a;}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f());};g=function(a){function f(){a.apply(this,arguments);}c(f,a);f.prototype.wA=function(a,b){this.destination.next(b);};f.prototype.Kca=function(a){this.destination.error(a);};f.prototype.Ul=function(){this.destination.complete();};return f;}(a(49).Zi);d.ls=g;},function(g,d,a){g=a(150);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;g="undefined"!==typeof M&&M||"undefined"!==typeof g&&g||a;d.root=g;if(!g)throw Error("RxJS could not find any global context (window, self, global)");},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ms="PlatformSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ro={Request:"Request",u2:"Singleton",PQ:"Transient"};d.si={hia:"ConstantValue",iia:"Constructor",Wia:"DynamicValue",F0:"Factory",Function:"Function",s1:"Instance",gRa:"Invalid",Lma:"Provider"};d.rs={eia:"ClassProperty",jia:"ConstructorArgument",F2:"Variable"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Tu="DeviceFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nb=!1;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(f,a);f.prototype.parse=function(c){a.prototype.parse.call(this,c);this.rd=this.Dr([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{$Pb:"int32"},{OTb:"int32"},{offset:32,type:"offset"},{jfb:"int16"},{X7a:{type:"int8",w4a:32}},{depth:"int16"},{offset:16,type:"offset"}]);return!0;};f.$b=!0;return f;}(a(228)["default"]);d["default"]=g;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(f,a);f.Je="avc1";return f;}(g);d.vKa=a;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(f,a);f.Je="avc2";return f;}(g);d.wKa=a;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(f,a);f.Je="avc3";return f;}(g);d.xKa=a;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(f,a);f.Je="avc4";return f;}(g);d.yKa=a;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(f,a);f.Je="hvc1";return f;}(g);d.SPa=a;g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(f,a);f.Je="hev1";return f;}(g);d.NPa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.K1="6674654e-696c-5078-6966-665374726d21";d.L1="6674654e-696c-4878-6165-6465722e7632";d.kla="6674654e-696c-5078-6966-66496e646578";d.pQ="6674654e-696c-4d78-6f6f-6653697a6573";d.oQ="6674654e-696c-5378-6565-6b506f696e74";d.Hla="cedb7489-e77b-514c-84f9-7148f9882554";d.Gla="524f39a2-9b5a-144f-a244-6c427c648df4";d.J1="6674654e-696c-4678-7261-6d6552617465";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.xe=a;}a.prototype.aHa=function(a){this.xe=a;};a.prototype.ita=function(){this.xe=void 0;};a.prototype.oL=function(a){return this.xe&&this.xe.gY&&this.xe.gY(a);};a.prototype.Jz=function(a){this.xe&&this.xe.ru&&this.xe.ru(a);};a.prototype.Iz=function(a){this.xe&&this.xe.eN&&this.xe.eN(a);};a.prototype.EE=function(a){this.xe&&this.xe.fN&&this.xe.fN(a);};a.prototype.Ewa=function(a){this.xe&&this.xe.$ca&&this.xe.$ca(a);};a.prototype.up=function(a){this.xe&&this.xe.Oi&&this.xe.Oi(a);};a.prototype.cV=function(a){this.xe&&this.xe.dN&&this.xe.dN(a);};a.prototype.bV=function(a,f,d){this.xe&&this.xe.cN&&this.xe.cN(a,f,d);};return a;}();d.Vr=g;g.prototype.gY=g.prototype.oL;g.prototype.ru=g.prototype.Jz;g.prototype.eN=g.prototype.Iz;g.prototype.fN=g.prototype.EE;g.prototype.Oi=g.prototype.up;g.prototype.dN=g.prototype.cV;g.prototype.cN=g.prototype.bV;g.prototype.$ca=g.prototype.Ewa;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Sv=function(a,c){var f;return a.some(function(a,d,b){f=a;return c(a,d,b);})?f:void 0;};d.wD=function(a,c){var f;f=-1;return a.some(function(a,d){f=d;return c(a);})?f:-1;};d.N7a=function(a){return function(c,f){c=a(c);f=a(f);return c<f?-1:c>f?1:0;};};d.rRb=function(a){return function(c,f){return a(c)<a(f)?c:f;};};d.Mt=function(a){var c;return(c=[]).concat.apply(c,a);};d.D8a=function(a){var c;void 0===c&&(c=function(a){return a;});return a.reduce(function(a,d){d=c(d);return void 0===a[d]?a[d]=1:++a[d],a;},{});};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.iva=0]="downloading";a[a.$bb=1]="downloaded";a[a.Ci=2]="appended";a[a.buffered=3]="buffered";a[a.Fvb=4]="removed";a[a.ETb=5]="unused";}(d.Cha||(d.Cha={})));(function(a){a[a.waiting=1]="waiting";a[a.RRb=2]="ondeck";a[a.iva=4]="downloading";a[a.$bb=8]="downloaded";a[a.WL=6]="inprogress";}(d.Bha||(d.Bha={})));d.pEb="AseBufferViewSymbol";d.uP="AseBufferAccountingSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.wn=0]="STANDARD";a[a.cv=1]="LIMITED";}(d.Jj||(d.Jj={})));d.NAa=function(a){return["STANDARD","LIMITED"][a];};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dia="DebugConfigSymbol";d.Zr="DebugSymbol";},function(g,d,a){var f,m;function c(a,b,c,p,d){a=void 0===a?f.J.xk:a;return m.wc.call(this,a,b,c,void 0,void 0,p,m.wc.Ye(d),d)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);m=a(46);da(c,m.wc);d.Nf=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ika="Injector";d.gy=145152E5;d.lI="ProfileSymbol";},function(g,d,a){var m,q;function c(a,c,f,d,q){var b,k,t;b={};k="number"===typeof q;q=void 0!==q&&k?q.toString():f;if(k&&void 0!==f)throw Error(m.PQa);Reflect.J$(a,c)&&(b=Reflect.getMetadata(a,c));f=b[q];if(Array.isArray(f))for(var k=0,p=f;k<p.length;k++){t=p[k];if(t.key===d.key)throw Error(m.WNa+" "+t.key.toString());}else f=[];f.push(d);b[q]=f;Reflect.D7(a,b,c);}function f(a,c){return function(b,f){c(b,f,a);};}Object.defineProperty(d,"__esModule",{value:!0});m=a(55);q=a(35);d.oB=function(a,f,p,d){c(q.vna,a,f,d,p);};d.DO=function(a,f,p){c(q.wna,a.constructor,f,p);};d.lw=function(a,c,p){"number"===typeof p?Reflect.lw([f(p,a)],c):"string"===typeof p?Reflect.lw([a],c,p):Reflect.lw([a],c);};},function(g,d){var c;function a(a,d){var f;f=this;this.x3=[];c.forEach(function(b){(b=b(a,d))&&f.x3.push(b);});}Object.defineProperty(d,"__esModule",{value:!0});c=[];a.prototype.Gu=function(a){var b;for(var c=[],f=this.x3.length;f--;){b=this.x3[f];b.Gu(a)&&c.push(b.jL);}if(c.length)return c;};d.QSa=a;d.VH=function(a){c.push(a);};},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(15);d.js=d.js||function(a,c,d){return a>=c?a<=d?a:d:c;};d.iJb=function(a,c,d,b,k){return(a-c)*(k-b)/(d-c)+b;};d.Kh=function(a){if(c.ka(a))return(a/1E3).toFixed(3);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.ResponseType||(d.ResponseType={});g[g.Text=0]="Text";g[g.fMb=1]="Xml";g[g.REb=2]="Binary";d.tHb="HttpClientSymbol";d.ey="LegacyHttpSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.oy="PboConfigSymbol";},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});g=a(230);c=a(130);d.YNa=c;c=a(403);d.D2=c;c=a(399);d.VMb=c;d.kna=g.GF.Hc.sidx;g=a(825);d.my=g.my;g=a(395);d.XH=g.XH;g=a(821);d.fv=g.fv;d.xM=g.xM;a=a(71);d.Cy=a.Cy;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.XB="LoggerSinksSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lC="ThrottleFactorySymbol";},function(g,d,a){var f;function c(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c.prototype.format=function(a,c){var f;for(var b=1;b<arguments.length;++b);f=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof f[b]?f[b]:a;});};c.prototype.Jzb=function(a){for(var c=a.length,b=new Uint16Array(c),f=0;f<c;f++)b[f]=a.charCodeAt(f);return b.buffer;};c.prototype.Ozb=function(a){return JSON.stringify(a,null,"  ");};f=c;f=g.__decorate([a.N()],f);d.uy=f;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xy="Utf8EncoderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Sx="Base16EncoderSymbol";},function(g,d,a){var c,f,m,q;c=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=a(10);f=a(256);m=a(140);q=a(121);a=function(a){function b(b,c){a.call(this);this.Sj=b;(this.ha=c)||1!==b.length||(this.Cs=!0,this.value=b[0]);}c(b,a);b.create=function(a,c){return new b(a,c);};b.of=function(){var k;for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];c=a[a.length-1];q.$z(c)?a.pop():c=null;k=a.length;return 1<k?new b(a,c):1===k?new f.s2(a[0],c):new m.xH(c);};b.Lb=function(a){var b,c,f;b=a.Sj;c=a.index;f=a.cg;c>=a.count?f.complete():(f.next(b[c]),f.closed||(a.index=c+1,this.Ab(a)));};b.prototype.ug=function(a){var c,f,k;c=this.Sj;f=c.length;k=this.ha;if(k)return k.Ab(b.Lb,0,{Sj:c,index:0,count:f,cg:a});for(k=0;k<f&&!a.closed;k++)a.next(c[k]);a.complete();};return b;}(g.Aa);d.Ox=a;},function(g,d){d.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ev="MediaKeySystemAccessServicesSymbol";},function(g,d){var a;Object.defineProperty(d,"__esModule",{value:!0});a=0;d.id=function(){return a++;};},function(g,d,a){var c,f,m,q,b,k,p,t;Object.defineProperty(d,"__esModule",{value:!0});c=a(11);f=a(12);g=a(2);m=a(18);q=a(5);b=a(350);k=a(44);p=a(9);a=a(24);t=q.aa.get(a.yf);t.register(g.J.p1,function(a){var u,g;m.Pa(f.config);m.Pa(p.jv&&p.jv.getDeviceId||p.M1||k.xja);u=q.aa.get(b.Jia);g=q.zg("Device");t.Zc("devs");u.create({deviceId:f.config.deviceId,q9:k.xja,Tua:"deviceid",Ug:f.config.Ug,It:k.kh.z0,Uua:k.sNa,userAgent:p.wk,mba:f.config.mba,E9:f.config.E9,wbb:k.kh.qia,m5a:f.config.dsa.e,vbb:k.kh.oNa,zRb:f.config.Uq?"mslstoretest":"mslstore"}).then(function(b){d.Yh=b;M._cad_global.device=d.Yh;g.info("Esn source: "+d.Yh.w8);t.Zc("devdone");a(c.pd);})["catch"](function(b){b.$=void 0;a(b);});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.ds||(d.ds={});g[g.PEb=8]="Backspace";g[g.Tab=9]="Tab";g[g.AGb=13]="Enter";g[g.tLb=16]="Shift";g[g.FFb=17]="Ctrl";g[g.jEb=18]="Alt";g[g.eKb=19]="PauseBreak";g[g.uFb=20]="CapsLock";g[g.GGb=27]="Escape";g[g.vLb=32]="Space";g[g.dKb=33]="PageUp";g[g.cKb=34]="PageDown";g[g.zGb=35]="End";g[g.rHb=36]="Home";g[g.ZHb=37]="LeftArrow";g[g.TLb=38]="UpArrow";g[g.wKb=39]="RightArrow";g[g.eGb=40]="DownArrow";g[g.QHb=45]="Insert";g[g.YFb=46]="Delete";g[g.iMb=48]="Zero";g[g.zJb=49]="One";g[g.NLb=50]="Two";g[g.KLb=51]="Three";g[g.aHb=52]="Four";g[g.ZGb=53]="Five";g[g.uLb=54]="Six";g[g.sLb=55]="Seven";g[g.yGb=56]="Eight";g[g.eJb=57]="Nine";g[g.$Db=65]="A";g[g.rEb=66]="B";g[g.jFb=67]="C";g[g.RMa=68]="D";g[g.E=69]="E";g[g.HGb=70]="F";g[g.bHb=71]="G";g[g.eHb=72]="H";g[g.aQa=73]="I";g[g.RHb=74]="J";g[g.v1=75]="K";g[g.kRa=76]="L";g[g.bIb=77]="M";g[g.aTa=78]="N";g[g.tJb=79]="O";g[g.BJb=80]="P";g[g.Q=81]="Q";g[g.pKb=82]="R";g[g.iWa=83]="S";g[g.kXa=84]="T";g[g.OLb=85]="U";g[g.ULb=86]="V";g[g.$Lb=87]="W";g[g.I2=88]="X";g[g.gMb=89]="Y";g[g.hMb=90]="Z";g[g.$Hb=91]="LeftWindowKey";g[g.xKb=92]="RightWindowKey";g[g.qLb=93]="SelectKey";g[g.jJb=96]="Numpad0";g[g.kJb=97]="Numpad1";g[g.lJb=98]="Numpad2";g[g.mJb=99]="Numpad3";g[g.nJb=100]="Numpad4";g[g.oJb=101]="Numpad5";g[g.pJb=102]="Numpad6";g[g.qJb=103]="Numpad7";g[g.rJb=104]="Numpad8";g[g.sJb=105]="Numpad9";g[g.CIb=106]="Multiply";g[g.iEb=107]="Add";g[g.DLb=109]="Subtract";g[g.XFb=110]="DecimalPoint";g[g.dGb=111]="Divide";g[g.IGb=112]="F1";g[g.MGb=113]="F2";g[g.NGb=114]="F3";g[g.OGb=115]="F4";g[g.PGb=116]="F5";g[g.QGb=117]="F6";g[g.RGb=118]="F7";g[g.SGb=119]="F8";g[g.TGb=120]="F9";g[g.JGb=121]="F10";g[g.KGb=122]="F11";g[g.LGb=123]="F12";g[g.gJb=144]="NumLock";g[g.oLb=145]="ScrollLock";g[g.rLb=186]="SemiColon";g[g.CGb=187]="Equals";g[g.AFb=188]="Comma";g[g.WFb=189]="Dash";g[g.gKb=190]="Period";g[g.$Gb=191]="ForwardSlash";g[g.LLb=192]="Tilde";g[g.AJb=219]="OpenBracket";g[g.OEb=220]="BackSlash";g[g.yFb=221]="CloseBracket";g[g.oKb=222]="Quote";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nC="VideoPreparerSymbol";},function(g,d,a){(function(c,f){var q;function d(a,c){var b;b=Date.now();this.fzb=b;this.HU=b+a;this.ysb=a;this.dab=b+c;this.debug=!1;this.yK=this.Ip=0;}q=new(a(3)).Console("ASEJS_QOE_EVAL","media|asejs");d.prototype.constructor=d;d.prototype.ob=function(a,f){var b;a=((a-this.fzb)/1E3).toFixed(3);a="     ".slice(a.length-4)+a;b=c.Sob();q.debug(a+(Math.floor(b.XPb/1024/1024)+" MB/"+Math.floor(b.fza/1024/1024)+" MB ")+this.s7+f);};d.prototype.Y1a=function(a){var b;b=Date.now();this.s7=a;this.Ip=0;this.origin=b;this.ob(b,"starting");};d.prototype.I2a=function(a){var b,f;this.yK++;if(!(1E3>this.yK)){this.yK=0;b=new Date().getTime();if(b>=this.dab)throw Error("Execution deadline exceeded: "+this.s7);f=c.Sob();this.Ip=Math.max(this.Ip,f.fza);if(7516192768<f.fza)throw Error("Heap total limit exceeded: "+this.s7);if(this.debug&&!(b<=this.HU)){for(;b>this.HU;)this.HU+=this.ysb;this.ob(b,a);}}};d.Ub=function(){f.aG=new d(5E3,33E5);};d.zZ=function(a){f.aG&&f.aG.Y1a(a);};d.update=function(a){f.aG&&f.aG.I2a(a);};d.Y9=function(){if(f.aG)return f.aG.Ip;};g.P=d;}.call(this,a(251),a(150)));},function(g,d,a){g.P={EventEmitter:a(737),Yx:a(736)};},function(g,d,a){var b,k;function c(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function f(a){return b.ee(a);}function m(a){return b.ka(a);}function q(a){return!c(a)&&!f(a)&&!m(a)&&!Array.isArray(a)&&b.qf(a);}b=a(6);k={Vx:0,KQ:1,iTa:2,OBJECT:3,xk:4};g.P={z$:function(a){return c(a)?k.Vx:f(a)?k.KQ:m(a)?k.iTa:q(a)?k.OBJECT:k.xk;},DW:c,ee:f,ka:m,qf:q,qn:k};},function(g){var d;d={TL:function(a){for(var c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);}};g.P=d;},function(g,d,a){var m,q,b,k,p,t,u,y;function c(a){var b;if(!a.M4){b=a.Aya();a.Dk.Yy(b["default"].Ca,a.Mh);a.Dk.yB(b.Ep?b.Ep.qY:void 0,b.Ep?b.Ep.$A:void 0);m.Ja(a.Kb)||(a.M4=!0);}}function f(a,c,f){var p;this.K=f;this.ep={};this.HC=f.HC;this.Xoa=new k(this.HC);this.KI=new t(!0);this.yI=new t(!1);this.reset();this.a4=a;this.Dk=c;this.rpa=q.Rl.name();this.Dk.yZ(this.rpa);this.lJ=this.yy=0;this.zI=[];q.events.on("networkchange",function(a){this.rpa=a;this.Dk.yZ(a);}.bind(this));p=f.r7;p&&(p={Fd:b.Fe.AH,Da:{Ca:parseInt(p,10),hh:0},bh:{w5a:0,hh:0},Dp:{w5a:0,hh:0}},this.get=function(){return p;});y=this;}m=a(6);q=a(3);b=a(13);a(16);d=a(27).EventEmitter;k=a(391).sja;p=new q.Console("ASEJS_NETWORK_MONITOR","media|asejs");t=a(807).$Oa;u=a(805);y=void 0;f.prototype.constructor=f;f.prototype=Object.create(d.prototype);f.Ae=function(){u(void 0!==y);return y;};Object.defineProperties(f.prototype,{startTime:{get:function(){return this.Zd;}},Fd:{get:function(){return this.Mh;}},Mn:{get:function(){return this.yy;}},g3a:{get:function(){return this.zI;}}});f.prototype.wZa=function(){var a,b,c,f;a=this.K;b=a.LZa.concat(a.TZa);c=a.w3;f=this.Xoa;return b.reduce(function(a,b){a[b]=f.create(b,c);return a;},{});};f.prototype.reset=function(){var a,f,k;a=this.K.w3;f=this.Xoa;k=this.K;this.location=null;this.ep=this.wZa();this.KI.reset();this.yI.reset();this.Ls=f.create("respconn-ewma",a);this.Bs=f.create("respconn-ewma",a);this.Mh=b.Fe.HAVE_NOTHING;this.K2a=function(){c(this);}.bind(this);this.PS=void 0;this.Cv=this.Wb=this.Kb=this.Zd=null;this.SYa=this.IS=this.xJ=0;this.n4=!1;k.RFa&&(this.lJ=this.yy=0,this.zI=[]);};f.prototype.BZ=function(a){var c;c=this.ep;if(a!==this.location){m.U(this.PS)||(clearInterval(this.PS),this.PS=void 0);m.Ja(this.location)&&(this.IS=this.xJ=0,this.Zd=null);if(!m.Ja(a)){this.Mh=b.Fe.HAVE_NOTHING;for(var f in c)c[f]&&c[f].reset&&c[f].reset();this.Ls.reset();this.Bs.reset();}m.Ja(this.Zd)||(this.xJ+=(m.Ja(this.Kb)?q.time.fa():this.Kb)-this.Zd,this.IS+=this.Wb);this.Kb=this.Zd=null;this.Wb=0;this.location=a;this.Dk.BZ(a);}};f.prototype.yZ=function(a){this.Dk.yZ(a);};f.prototype.q3a=function(a){this.ep.QoEEvaluator?p.warn("monitor (QoEEvaluator) already existed."):this.ep.QoEEvaluator=a;};f.prototype.wvb=function(){delete this.ep.QoEEvaluator;};f.prototype.Rv=function(a,f,k,d){var t,q;t=this.K;q=this.ep;if(!0===d.BB)(d=q["throughput-wssl"])&&d.add(a,f,k,!0);else if(m.U(f))p.warn("addDataReceived called with undefined start time");else{t.SZa&&10>k-f?f=k-10:0===k-f&&(f=k-1);this.KI.Rv(a,f,k,d);this.yI.Rv(a,f,k,d);for(var u in q)q[u]&&q[u].add&&q[u].add(a,f,k);this.Mh=Math.max(this.Mh,b.Fe.ay);m.Ja(this.Zd)&&(this.Zd=f,this.Kb=null,this.M4=!1,this.Wb=0);m.Ja(this.Kb)||(f>this.Kb&&(this.Zd+=f-this.Kb),this.Kb=null,this.M4=!1);this.Wb+=a;this.Mh<b.Fe.$x&&(k-this.Zd>t.e0a||this.Wb>t.d0a)&&(this.Mh=b.Fe.$x);this.Mh<b.Fe.AH&&(k-this.Zd>t.r1a||this.Wb>t.q1a)&&(!this.n4||this.SYa>t.c0a)&&(this.Mh=b.Fe.AH,c(this),this.PS=setInterval(this.K2a,t.Q_a));m.Ja(this.Cv)||(f-this.Cv>t.Opa?this.a4.Kza(this.Cv,f):k-f>t.Opa&&this.a4.Kza(f,k));this.Cv=Math.max(k,this.Cv);}};f.prototype.Ws=function(a){this.Ls.add(a);this.Dk.Ws(a);};f.prototype.Vs=function(a){this.Bs.add(a);this.Dk.Vs(a);};f.prototype.start=function(a){var b;m.Ja(this.Cv)&&!m.Ja(this.Kb)&&(this.Cv=a);b=this.ep;if(this.K.Wfa)for(var c in b)b[c]&&b[c].start&&b[c].start(a);};f.prototype.stop=function(a){var b,c;b=this.ep;for(c in b)b[c]&&b[c].stop&&b[c].stop(a);this.Kb=m.Ja(this.Kb)?a:Math.min(this.Kb,a);this.Cv=null;};f.prototype.flush=function(){var a,b;a=this.ep;for(b in a)a[b]&&a[b].flush&&a[b].flush();};f.prototype.fail=function(){this.Zd=null;};f.prototype.Ogb=function(){var a,b;a=this.ep.entropy;a&&(b=a.x6a(),a.reset());return b;};f.prototype.Aya=function(){var a,b,c,f,k,p,d;a=q.time.fa();b={};c=this.ep;f=this.K;k=f.AZa;p=f.V1a;for(d in c)c[d]&&c[d].get&&(b[d]=c[d].get(a),"iqr"===c[d].type&&(b.Ep=b[d]),"tdigest"===c[d].type&&(b.mi=b[d]),"wssl"===c[d].type&&(b.BB=b[d]));b.cdnavtp=this.KI.Jl();b.activecdnavtp=this.yI.Jl();b["default"]=k&&b[k]?b[k]:b["throughput-ewma"];"none"!==f.Rea&&"none"!==p&&(b.uGa=p&&b[p]?b[p]:b["throughput-sw"]);return b;};f.prototype.get=function(){var a,b,c,f,k,p;a=this.Aya();b=a["default"];c=this.Ls.get();f=this.Bs.get();k=this.K;if(a.uGa)p=a.uGa,b=m.ka(b.Ca)&&m.ka(p.Ca)&&b.Ca>p.Ca&&0<p.Ca?p:b;a.Fd=this.Mh;a.Da=b;!k.Bva||!b||m.Ja(b.Ca)||isNaN(b.Ca)||!a.BB||m.Ja(a.BB.Ca)||isNaN(a.BB.Ca)||("max"===k.VJa?a.Da.Ca=Math.max(a.BB.Ca,b.Ca):"sum"===k.VJa&&(a.Da.Ca+=a.BB.Ca));a.bh=c;a.Dp=f;b=this.xJ+!m.Ja(this.Zd)?(m.Ja(this.Kb)?q.time.fa():this.Kb)-this.Zd:0;a.time=b;return a;};f.prototype.Dfb=function(){var a;a=this.xJ+!m.Ja(this.Zd)?(m.Ja(this.Kb)?q.time.fa():this.Kb)-this.Zd:0;return{CD:Math.floor(8*(this.IS+this.Wb)/a),YPb:this.a4.Yc()};};f.prototype.Uib=function(){var a,b,c;a={};b=this.get(!0);if(b.Fd&&b.Da){a.aseavtp=Number(b.Da.Ca).toFixed(2);a.asevartp=Number(b.Da.hh).toFixed(2);if(b.Ep){c=b.Ep.qY;!c||isNaN(c.hk)||isNaN(c.gk)||isNaN(c.Pi)||(a.aseniqr=0<c.Pi?Number((c.hk-c.gk)/c.Pi).toFixed(2):-1,a.aseiqr=Number(c.hk-c.gk).toFixed(2),a.asemedtp=Number(c.Pi).toFixed(2));a.iqrsamples=b.Ep.$A;}b.mi&&b.mi.Ot&&(a.tdigest=b.mi.Ot());}return a;};f.prototype.SA=function(a,b){var c;c=b.requestId;1===++this.yy&&(this.emit("active",a),this.start(a));c&&this.zI.push(c);this.KI.SA(a,b);this.yI.SA(a,b);};f.prototype.vea=function(){++this.lJ;};f.prototype.UA=function(a,b,c){var f;f=c.requestId;b&&--this.lJ;--this.yy;this.K.RFa&&(this.yy=Math.max(this.yy,0),this.lJ=Math.max(this.lJ,0));0===this.yy&&(this.stop(a),this.emit("inactive",a));f&&(b=this.zI.indexOf(f),0<=b&&this.zI.splice(b,1));this.KI.UA(a,c);this.yI.UA(a,c);};g.P=f;},function(g,d,a){var u;function c(a,c){if(a.length==c.length&&1<a.length){for(var f=a.length,k=0,p=b(a),d=b(c),t=0;t<f;t++)k+=a[t]*c[t];return(k-p*d/f)/f;}return!1;}function f(a){if(!Array.isArray(a)||2>a.length)return!1;a=m(a);return Math.sqrt(a);}function m(a){var c;if(!Array.isArray(a)||2>a.length)return!1;c=q(a);return b(a.map(function(a){return(a-c)*(a-c);}))/(a.length-1);}function q(a){return Array.isArray(a)&&a.length?b(a)/a.length:!1;}function b(a){return Array.isArray(a)?a.reduce(function(a,b){return a+b;},0):!1;}function k(a,b,c){return Math.max(Math.min(a,c),b);}function p(a,b){return"number"===typeof a?a:b;}function t(a){return 1/(1+Math.exp(-a));}u=a(6);g.P={Ga:function(a,b,c){try{a.emit(b,c);}catch(I){a.Md("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",I,"Event:",c);}},Qq:function(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;},GT:k,u7a:function(a,b,c,f){return{min:k(p(a.min,b),c,f),max:k(p(a.max,b),c,f),st:k(a.st||6E4,0,6E5),Usa:k(a.Usa||0,-3E5,3E5),scale:k(a.scale||6E4,0,3E5),oGa:k(a.oGa||0,-3E5,3E5),gamma:k(a.gamma||1,.1,10)};},dd:function(a,b){void 0!==a&&u.Erb(a).forEach(function(a){b(a[0],a[1]);});},Qva:function(a,b,c){return a.min+(a.max-a.min)*(1-Math.pow(t(6*(b-(a.st+(a.Usa||0)*(1-c)))/(a.scale+(a.oGa||0)*(1-c))),a.gamma));},Qdb:function(a,b){return a.min+(a.max-a.min)*Math.pow(t(6*(b-a.st)/a.scale),a.gamma);},QPb:b,Lfb:q,ijb:m,OPb:f,wPb:c,vPb:function(a,b){var k;if(a.length==b.length){k=c(a,b);a=f(a);b=f(b);if(0<a&&0<b)return k/(a*b);}return!1;},Ww:function(a,b,c){return b.Yta?b.Yta(c):new a.Console("ASEJS","media|asejs",c);},Zea:function(a){return a.length?"{"+a+"} ":"";},Dwb:function(a,b,c){return{min:a.min*c+(1-c)*b.min,max:a.max*c+(1-c)*b.max,st:a.st*c+(1-c)*b.st,scale:a.scale*c+(1-c)*b.scale,gamma:a.gamma*c+(1-c)*b.gamma};},tanh:Math.tanh||function(a){var b;b=Math.exp(+a);a=Math.exp(-a);return Infinity==b?1:Infinity==a?-1:(b-a)/(b+a);},Ifa:t,Pl:function(a){var b;b=a.Sa.Dd.la.id;return{T:a.T,duration:a.duration,offset:a.offset,ba:a.ba,R:a.R,profile:a.profile,Xb:a.Xb,$a:b,pa:a.pa,Fb:a.Fb,location:a.location,qj:a.qj,Fi:a.Fi,Gsb:{Dd:{la:{id:b}}}};}};},function(g,d,a){var c;c=a(175);g.P=function(a){return function q(b){return 0===arguments.length||c(b)?q:a.apply(this,arguments);};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){function c(){}function f(){}function d(){}d.QLa="cache_start";d.RLa="cache_success";d.NLa="cache_abort";d.PLa="cache_fail";d.OLa="cache_evict";d.STa="pb_request";d.yWa="start_playback";a.Xx=d;f.nha="auth";f.dy="ldl";f.DH="hdr";f.MEDIA="media";a.Gj=f;c.BP="cached";c.LOADING="loading";c.QOa="expired";a.tP=c;}(d.He||(d.He={})));d.Fma="PrefetchEventsFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kC="SourceBufferTypeProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wy="TimingApiSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.WB="IdProviderSymbol";},function(g,d){d.$z=function(a){return a&&"function"===typeof a.Ab;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.DB="ApiInfoSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ria="DrmServicesSymbol";d.OP="DrmServicesProviderSymbol";},function(g,d,a){var f,m,q,b,k,p,t,u,y,D,B,h,C,K,Q,T,l,n,S;function c(a){var d;d=this;this.createPlayer=function(a,c){var f,k;c=void 0===c?{}:c;c="number"===typeof c?{Fh:c}:c;f=c.manifest;if(d.wlb(f))f.clientGenesis=f.clientGenesis||B.y6(),f=b.aa.get(D.D1).decode(f);else if(f){k=b.aa.get(K.hI)();k.XS(f.links);f.Zf=k;}a=b.aa.get(C.CQ).L$a(a);return d.Zta(a,c,f);};this.createPlaygraphPlayer=function(a,b,c){return d.Zta(S.vVa.encode(a),b,c);};this.closeAllPlayers=function(a){q.uma(void 0===a?function(){}:a);};this.init=function(a){a=void 0===a?function(){}:a;d.zD.pM(function(k){k.$?(m.config.uZ?d.mxb().then(function(){f.cVa();})["catch"](function(a){b.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(d,c.OJ);a(Object.assign({success:!0},c.OJ));}):a({success:!1,error:b.rVa(k.errorCode||p.J.Mja,k)});});};this.applyConfig=function(a){d.jJa(a);m.Eta(a);};this.prepare=function(a,c){var f;a=d.Hda.Nua(a)||[];f=new Set();a=a.filter(function(a){var b;b=f.has(a.u);f.add(a.u);return!b;});if(m.config.xo&&d.Cc())try{d.Cc().zu(a,c);}catch(ma){b.log.warn("Prepare call failed",ma);}};this.predownload=function(a,c){if((a=d.Hda.Nua(a))&&m.config.Lx&&d.Cc())try{d.Cc().rtb(a,c);}catch(V){b.log.warn("Predownload call failed",V);}};this.lookupPredownloaded=function(){return m.config.Lx&&d.Cc()?d.Cc().eu():Promise.resolve([]);};this.ppmUpdate=function(a){M._cad_global.playerPredictionModel?((a=d.Hda.nbb(a))&&M._cad_global.playerPredictionModel.update(a),M._cad_global.prefetchEvents&&M._cad_global.prefetchEvents.update(a)):b.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){b.HE().LG().then(a)["catch"](function(){return a(!1);});};this.supportsUltraHd=function(a){b.HE().xO().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){b.HE().vO().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyVision=function(a){b.HE().KG().then(a)["catch"](function(){return a(!1);});};this.close=function(){};this.deviceThroughput=function(){var a;a=b.aa.get(u.sQ).W6();return a?Promise.resolve(a.Jl()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=b.aa.get(u.sQ).W6();return a?Promise.resolve(a.Rhb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return m.config.Scb;};this.Hda=b.aa.get(k.h2);this.zD=b.aa.get(T.yf);this.Cc=b.aa.get(Q.nC);this.jJa(a);m.b8a([a]);b.HE().xO();}Object.defineProperty(d,"__esModule",{value:!0});f=a(193);m=a(12);q=a(57);b=a(5);k=a(197);p=a(2);t=a(28);u=a(203);y=a(157);D=a(235);B=a(30);h=a(280);C=a(186);K=a(133);Q=a(109);T=a(24);l=a(277);n=a(25);S=a(151);c.prototype.wlb=function(a){return!!a&&!!a.runtime;};c.prototype.jJa=function(a){b.aa.get(t.jQ).Tob(a);};c.prototype.mxb=function(){return b.aa.get(y.yQ)()["catch"](function(a){b.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){b.log.error("Unable to send deferred playdata",a);});};c.prototype.Zta=function(a,c,f){var k,p,d,t;c=void 0===c?{}:c;k=b.aa.get(n.xf);p=b.aa.get(h.Bma);d=b.aa.get(l.Cma);t=b.aa.get(C.CQ);p=p.create(a);a=p.D9();k=k.pc();c=Object.assign(Object.assign({startPts:c.playbackState&&c.playbackState.currentTime||a.og,uiPlayStartTime:Date.now()},c),{endPts:a.qh,isPlaygraph:!0});d=d.create(k,p,t);d.addEpisode({movieId:a.va,playbackParams:c,manifestData:f});return d;};d.UQ=c;c.OJ={};},function(g,d,a){var f,m,q;function c(a,c,f,d,u){c=q.ri.call(this,a,c,d,m.yi.events,u,m.yi.events+"/"+f)||this;c.context=a;c.Rdb=f;return c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(41);q=a(68);a(162);da(c,q.ri);c.prototype.Cf=function(a,c){var b,f;b=this;f=this.uT(c);return this.send(a,c.href,f).then(function(){return c;})["catch"](function(a){throw b.eo(a);});};c.prototype.Km=function(a,c,f){var b,k;b=this;k=this.uT(f);return this.send(a,c.V9("events").href,k).then(function(a){c.XS(a.result.links);return f;})["catch"](function(a){throw b.eo(a);});};c.prototype.uT=function(a){return{event:this.Rdb,xid:a.ia,position:a.position||0,clientTime:a.qK,sessionStartTime:a.eO,mediaId:a.mA,trackId:a.cb,sessionId:a.sessionId,appId:a.KJ,playTimes:this.n6a(a.lN),sessionParams:a.en,mdxControllerEsn:a.Zba};};c.prototype.W5=function(a){return{downloadableId:a.bd,duration:a.duration};};c.prototype.n6a=function(a){return{total:a.total,audio:a.audio.map(this.W5),video:a.video.map(this.W5),text:a.text.map(this.W5)};};a=c;a=g.__decorate([f.N(),g.__param(0,f.Gh()),g.__param(1,f.Gh()),g.__param(2,f.Gh()),g.__param(3,f.Gh()),g.__param(4,f.Gh())],a);d.Qo=a;},function(g,d,a){var c,f,m,q,b,k,p,t,u,y,D,B,h,C,K;Object.defineProperty(d,"__esModule",{value:!0});c=a(50);f=a(312);m=a(611);q=a(152);b=a(12);k=a(11);p=a(156);t=a(298);u=a(30);g=a(2);y=a(5);D=a(203);B=a(9);h=a(153);C=a(24);K=a(57);y.aa.get(C.yf).register(g.J.Nja,function(g){var C,I,Q,l,n,U,r;C=y.aa.get(D.sQ).W6();I=y.aa.get(p.Oia).NB;Q=y.aa.get(f.bla).Lj;l={GA:y.mV("ASE"),z4a:y.mV("JS-ASE",void 0,"Platform"),zg:y.mV,storage:h.storage,qp:h.qp,Shb:B.LP,getTime:u.Rg,mF:{},Lj:Q,ns:m.ns,NB:I,MediaSource:t.NSa,SourceBuffer:q.$ka,Zj:function(){return[b.config.fT,b.config.hT];},jw:function(a){K.vn.forEach(function(b){b.hHa(a);});}};I=new Promise(function(a){h.storage.load("nh",function(b){l.mF.nh=b.$?b.data:void 0;a();});});Q=new Promise(function(a){h.storage.load("lh",function(b){l.mF.lh=b.$?b.data:void 0;a();});});n=new Promise(function(a){h.storage.load("gh",function(b){l.mF.gh=b.$?b.data:void 0;a();});});U=new Promise(function(a){h.storage.load("sth",function(b){l.mF.sth=b.$?b.data:void 0;a();});});r=new Promise(function(a){h.storage.load("vb",function(b){l.mF.vb=b.$?b.data:void 0;a();});});Promise.all([I,Q,r,U,n]).then(function(){var f;f=a(609)(l);d.Vc=a(297);d.Vc.declare(c.Zn);d.Vc.declare({Lx:["useMediaCache",!1],ow:["diskCacheSizeLimit",0],dOb:["dailyDiskCacheWriteLimit",0],wX:["mediaCachePrefetchMs",8E3],$ba:["mediaCachePartitionConfig",{}]});d.Vc.set(a(163)(b.config),!0,y.mV("ASE"));f=c.Rnb(f);d.xl=new f(d.Vc,C);d.xl.Ub(b.config.fT,b.config.hT,{GA:l.GA},b.config.eZ);g(k.pd);})["catch"](function(a){l.GA.error("Exception loading location history from local storage",a);});});},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(19);f=a(18);d.Fj="$attributes";d.K_="$children";d.L_="$name";d.Sr="$text";d.WJa="$parent";d.hH="$sibling";d.bSb=/^\s*\<\?xml.*\?\>/i;d.wgb=function(a,c,b){for(var f=2;f<arguments.length;++f);for(f=1;(c=arguments[f++])&&(a=a[c]););return a;};d.ZRb=function(a,q){var b;a?b=c.fe(a[d.Sr]):void 0!==q&&(b=q);f.aU(b);return b;};d.$rb=function(a){var c;a&&(c=a[d.Sr]);f.fab(c);return c;};d.aRb=function(a,c){var b;b={};b[d.Fj]=a;b[d.Sr]=c;return b;};},function(g,d,a){var m,q,b,k,p,t,u,y;function c(a){return a&&"function"===typeof a.Uf?!0:!1;}function f(a){return c(a)&&(a=typeof a.olb,"boolean"===a||"undefined"===a)?!0:!1;}Object.defineProperty(d,"__esModule",{value:!0});m=a(0);q=a(82);b=a(3).Promise;p=function(){function a(a){var b;b=this;this.u_a=a;this.zq=!1;this.t1a=function(a){return b.Stb(a);};this.Ota();}a.imb=function(a,b){function c(){var k;k=a.next();k.then(function(c){f(a)&&a.olb||b(c);});k.then(function(a){return!a.done&&c();});}c();};Object.defineProperties(a.prototype,{Ml:{get:function(){return this.zq;},enumerable:!0,configurable:!0}});a.Lgb=function(){return new t([]);};a.v$=function(){k||(k=b.resolve({done:!0}));return k;};a.SPb=function(){return{done:!0};};Object.defineProperties(a.prototype,{$E:{get:function(){return this.xoa||!1;},enumerable:!0,configurable:!0}});a.prototype.Uf=function(){this.cancel();};a.prototype.cancel=function(){this.aqa();this.xoa=!0;return this.a3;};a.prototype.next=function(){return this.xoa?this.a3:b.race([this.a3,this.u_a()]).then(this.t1a);};a.prototype.Stb=function(a){a.done&&(this.zq=!0,this.Uf());this.$E||(this.aqa(),this.Ota());return a;};a.prototype.Ota=function(){var a;a=this;this.a3=new b(function(b){a.aqa=function(){b({done:!0});};});};return a;}();d.HB=p;t=function(a){function f(b){var c;c=a.call(this,function(){return c.Phb();})||this;c.Sj=b;c.index=0;return c;}m.__extends(f,a);f.prototype.Uf=function(){c(this.Sj)&&this.Sj.Uf();a.prototype.Uf.call(this);};f.prototype.Phb=function(){return this.Sj.length>this.index?b.resolve({value:this.Sj[this.index++],done:!1}):b.resolve({done:!0});};return f;}(p);d.oEb=t;d.tQb=c;d.ePb=f;u=function(a){function b(b,c,f){var k;k=a.call(this,function(){return k.Aca();})||this;k.console=c;k.ol=f;k.KEa=!1;Array.isArray(b)?k.gJ=new t(b):k.gJ=b;return k;}m.__extends(b,a);b.prototype.Utb=function(a){var b;this.KEa=!1;b=this.console;q.nb&&b&&b.trace("CompoundIterator: processNextOuterIterator");if(a.done)return a;a=a.value;if(this.OC)return c(a)&&a.Uf(),p.v$();Array.isArray(a)?this.ol=new t(a):this.ol=a;return this.Aca();};b.prototype.Ttb=function(a){var b;b=this.console;q.nb&&b&&b.trace("CompoundIterator: processNextInnerResult",this.OC,a.done);if(!a.done||this.OC)return a;this.ol=void 0;return this.Aca();};b.prototype.Uf=function(){var b;b=this.console;q.nb&&b&&b.trace("CompoundIterator: dispose");this.OC=!0;a.prototype.Uf.call(this);c(this.gJ)&&this.gJ.Uf();c(this.ol)&&this.ol.Uf();};b.prototype.toString=function(){return"CompoundIterator "+this.OC+" "+this.gJ+" "+this.ol;};b.prototype.Aca=function(){var a,b;a=this;b=this.console;q.nb&&b&&b.trace("CompoundIterator: nextImpl");if(this.ol)return q.nb&&b&&b.trace("CompoundIterator: getNextInner"),this.ol.next().then(function(b){return a.Ttb(b);});this.KEa=!0;q.nb&&b&&b.trace("CompoundIterator: getNextOuter");return this.gJ.next().then(function(b){return a.Utb(b);});};return b;}(p);d.BFb=u;d.map=function(a,b,c){return new y(a,b,c);};y=function(a){function b(b,c,f){var k;k=a.call(this,function(){return k.f_a();})||this;k.source=b;k.Jba=c;k.Z7a=f;return k;}m.__extends(b,a);b.prototype.Uf=function(){c(this.source)&&this.source.Uf();a.prototype.Uf.call(this);};b.prototype.f_a=function(){var a,b,c;a=this.Z7a;b=this.Jba;c=this.source;q.nb&&a&&a.trace("MappedIterator: Requesting next");return c.next().then(function(a){return a.done?a:b(a.value);});};return b;}(p);d.Mt=function(a,b,c){return new u(a,b,c);};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(227);g=function(){function a(a,b,c){this.tag=a;this.view=b;this.L=c;this.startOffset=c.offset;}a.$Ea=function(c,b){var k,d;k=c.jd();d=c.Cub();c=new(f.eE[k]||a)(k,c.tgb(d),c);c.parse(b);return c;};Object.defineProperties(a.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});a.prototype.parse=function(){this.L.offset=this.startOffset+this.length;this.L.tA=0;return!0;};a.prototype.jwa=function(a){var b;b=[];this.tag===a&&b.push(this);if(this.eE)for(var f=0;f<this.eE.length;f++)b=c.__spreadArrays(b,this.eE[f].jwa(a));return b;};a.prototype.Gz=function(a){for(a=this.jwa(a);0<a.length;)return a[0];};a.prototype.qqa=function(){for(this.eE=[];this.L.offset<this.startOffset+this.length;)this.eE.push(a.$Ea(this.L,this));};return a;}();d.q0=g;g.prototype.skip=g.prototype.parse;},function(g){var c,f;function d(){var d,q;if(DataView.prototype&&DataView.prototype.RE&&!f){try{d=new ArrayBuffer(4);q=new DataView(d);q.SE(0,4,1);}catch(b){return;}try{d=new ArrayBuffer(4);q=new DataView(d);q.SE(1,2,2);}catch(b){DataView.prototype.SE=a(DataView.prototype.SE,DataView.prototype.getUint8,Uint8Array);DataView.prototype.OV=a(DataView.prototype.OV,DataView.prototype.getUint16,Uint16Array);DataView.prototype.RE=a(DataView.prototype.RE,DataView.prototype.getUint32,Uint32Array);DataView.prototype.R9=a(DataView.prototype.R9,DataView.prototype.getInt8,Int8Array);DataView.prototype.P9=a(DataView.prototype.P9,DataView.prototype.getInt16,Int16Array);DataView.prototype.Q9=a(DataView.prototype.Q9,DataView.prototype.getInt32,Int32Array);}c.ejb=function(a,c,f,d,m){return a.SE(c,f,d||1,m);};c.cjb=function(a,c,f,d,m){return a.OV(c,f,d||2,m);};c.djb=function(a,c,f,d,m){return a.RE(c,f,d||4,m);};c.APb=function(a,c,f,d,m){return a.R9(c,f,d||1,m);};c.yPb=function(a,c,f,d,m){return a.P9(c,f,d||2,m);};c.zPb=function(a,c,f,d,m){return a.Q9(c,f,d||4,m);};f=!0;}}function a(a,c,b){return function(f,d,t,m){var k;t=t||b.BYTES_PER_ELEMENT;if(f+d*t>this.byteLength){k=new b(d);k.set(a.call(this,f,d-1,t,m));k[d-1]=c.call(this,f+(d-1*t),m);return k;}return a.call(this,f,d,t,m);};}c={SE:function(a,c,b,f,d){var k;k=new Uint8Array(b);f=f||1;for(var p=0;p<b;++p,c+=f)k[p]=a.getUint8(c,d);return k;},OV:function(a,c,b,f,d){var k;k=new Uint16Array(b);f=f||2;for(var p=0;p<b;++p,c+=f)k[p]=a.getUint16(c,d);return k;},RE:function(a,c,b,f,d){var k;k=new Uint32Array(b);f=f||4;for(var p=0;p<b;++p,c+=f)k[p]=a.getUint32(c,d);return k;},R9:function(a,c,b,f,d){var k;k=new Int8Array(b);f=f||1;for(var p=0;p<b;++p,c+=f)k[p]=a.getInt8(c,d);return k;},P9:function(a,c,b,f,d){var k;k=new Int16Array(b);f=f||2;for(var p=0;p<b;++p,c+=f)k[p]=a.getInt16(c,d);return k;},Q9:function(a,c,b,f,d){var k;k=new Int32Array(b);f=f||4;for(var p=0;p<b;++p,c+=f)k[p]=a.getInt32(c,d);return k;},dPb:d};f=!1;c.zgb=function(){return f;};d();g.P=c;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(f,a);return f;}(Error);d.assert=function(a,c){if(!a)throw new f(c||"Assertion failed");};},function(g){var q,b,k,p;function d(){d.Ub.call(this);}function a(a,b,c,f){var k,p;if("function"!==typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c);k=a.Mg;void 0===k?(k=a.Mg=Object.create(null),a.Fy=0):(void 0!==k.GRb&&(a.emit("newListener",b,c.listener?c.listener:c),k=a.Mg),p=k[b]);void 0===p?(k[b]=c,++a.Fy):("function"===typeof p?p=k[b]=f?[c,p]:[p,c]:f?p.unshift(c):p.push(c),c=void 0===a.cJ?d.Sab:a.cJ,0<c&&p.length>c&&!p.eDb&&(p.eDb=!0,c=Error("Possible EventEmitter memory leak detected. "+p.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit"),c.name="MaxListenersExceededWarning",c.Ft=a,c.type=b,c.count=p.length,console&&console.warn&&console.warn(c)));return a;}function c(){for(var a=[],c=0;c<arguments.length;c++)a.push(arguments[c]);this.rwa||(this.target.removeListener(this.type,this.SJa),this.rwa=!0,b(this.listener,this.target,a));}function f(a,b,f){a={rwa:!1,SJa:void 0,target:a,type:b,listener:f};b=c.bind(a);b.listener=f;return a.SJa=b;}function m(a){var b;b=this.Mg;if(void 0!==b){a=b[a];if("function"===typeof a)return 1;if(void 0!==a)return a.length;}return 0;}q="object"===typeof Reflect?Reflect:null;b=q&&"function"===typeof q.apply?q.apply:function(a,b,c){return Function.prototype.apply.call(a,b,c);};k=Number.isNaN||function(a){return a!==a;};g.P=d;d.EventEmitter=d;d.prototype.Mg=void 0;d.prototype.Fy=0;d.prototype.cJ=void 0;p=10;Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(a){if("number"!==typeof a||0>a||k(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");p=a;}});d.Ub=function(){if(void 0===this.Mg||this.Mg===Object.getPrototypeOf(this).Mg)this.Mg=Object.create(null),this.Fy=0;this.cJ=this.cJ||void 0;};d.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||k(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");this.cJ=a;return this;};d.prototype.emit=function(a){var k,f,d;for(var c=[],f=1;f<arguments.length;f++)c.push(arguments[f]);k="error"===a;f=this.Mg;if(void 0!==f)k=k&&void 0===f.error;else if(!k)return!1;if(k){0<c.length&&(d=c[0]);if(d instanceof Error)throw d;c=Error("Unhandled error."+(d?" ("+d.message+")":""));c.context=d;throw c;}f=f[a];if(void 0===f)return!1;if("function"===typeof f)b(f,this,c);else{d=f.length;for(var k=Array(d),p=0;p<d;++p)k[p]=f[p];for(f=0;f<d;++f)b(k[f],this,c);}return!0;};d.prototype.addListener=function(b,c){return a(this,b,c,!1);};d.prototype.on=d.prototype.addListener;d.prototype.CEa=function(b,c){return a(this,b,c,!0);};d.prototype.once=function(a,b){if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);this.on(a,f(this,a,b));return this;};d.prototype.Ctb=function(a,b){if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);this.CEa(a,f(this,a,b));return this;};d.prototype.removeListener=function(a,b){var c,f,k,d,p;if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);f=this.Mg;if(void 0===f)return this;c=f[a];if(void 0===c)return this;if(c===b||c.listener===b)0===--this.Fy?this.Mg=Object.create(null):(delete f[a],f.removeListener&&this.emit("removeListener",a,c.listener||b));else if("function"!==typeof c){k=-1;for(d=c.length-1;0<=d;d--)if(c[d]===b||c[d].listener===b){p=c[d].listener;k=d;break;}if(0>k)return this;if(0===k)c.shift();else{for(;k+1<c.length;k++)c[k]=c[k+1];c.pop();}1===c.length&&(f[a]=c[0]);void 0!==f.removeListener&&this.emit("removeListener",a,p||b);}return this;};d.prototype.fDa=d.prototype.removeListener;d.prototype.removeAllListeners=function(a){var b,c,f;c=this.Mg;if(void 0===c)return this;if(void 0===c.removeListener)return 0===arguments.length?(this.Mg=Object.create(null),this.Fy=0):void 0!==c[a]&&(0===--this.Fy?this.Mg=Object.create(null):delete c[a]),this;if(0===arguments.length){b=Object.keys(c);for(c=0;c<b.length;++c)f=b[c],"removeListener"!==f&&this.removeAllListeners(f);this.removeAllListeners("removeListener");this.Mg=Object.create(null);this.Fy=0;return this;}b=c[a];if("function"===typeof b)this.removeListener(a,b);else if(void 0!==b)for(c=b.length-1;0<=c;c--)this.removeListener(a,b[c]);return this;};d.prototype.listeners=function(a){var b;b=this.Mg;if(void 0===b)a=[];else if(a=b[a],void 0===a)a=[];else if("function"===typeof a)a=[a.listener||a];else{for(var b=Array(a.length),c=0;c<b.length;++c)b[c]=a[c].listener||a[c];a=b;}return a;};d.listenerCount=function(a,b){return"function"===typeof a.listenerCount?a.listenerCount(b):m.call(a,b);};d.prototype.listenerCount=m;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ema="PboLinksManagerSymbol";d.hI="PboLinksManagerFactorySymbol";},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(892);a=a(889);d.Uob=g;d.uu=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.YH="MslProviderSymbol";},function(g,d,a){var f,m,q,b;function c(a,c,d){var k;k=q.FP.call(this,a,c,f.WH.Yna)||this;k.config=a;k.fca=c;k.is=d;k.type=f.yk.Wx;k.iP=b.Kd.$ta();return k;}Object.defineProperty(d,"__esModule",{value:!0});f=a(31);m=a(60);q=a(440);g=a(100);b=a(137);new g.uy();da(c,q.FP);c.prototype.Kr=function(){return Promise.resolve(!1);};c.prototype.JE=function(){return Promise.resolve("");};c.prototype.LG=function(){return Promise.resolve(!1);};c.prototype.KG=function(){return Promise.resolve(!1);};c.prototype.xO=function(){return Promise.resolve(!1);};c.prototype.vO=function(){return Promise.resolve(!1);};c.prototype.FE=function(a){return this.iP[a];};c.prototype.b5=function(a){return a;};c.prototype.xBa=function(a){switch(a){case f.ti.nq:return"1.4";case f.ti.fy:return"2.2";}};c.prototype.rz=function(){var a;a={};a[m.Y.yH]="avc1.4D401E";a[m.Y.RB]="avc1.4D401F";a[m.Y.WP]="avc1.4D4028";a[m.Y.a1]="hev1.1.6.L90.B0";a[m.Y.b1]="hev1.1.6.L93.B0";a[m.Y.c1]="hev1.1.6.L120.B0";a[m.Y.d1]="hev1.1.6.L123.B0";a[m.Y.e1]="hev1.1.6.L150.B0";a[m.Y.f1]="hev1.1.6.L153.B0";a[m.Y.Q0]="hev1.2.6.L90.B0";a[m.Y.S0]="hev1.2.6.L93.B0";a[m.Y.U0]="hev1.2.6.L120.B0";a[m.Y.W0]="hev1.2.6.L123.B0";a[m.Y.EH]="hev1.2.6.L150.B0";a[m.Y.FH]="hev1.2.6.L153.B0";a[m.Y.bQ]="hev1.2.6.L90.B0";a[m.Y.cQ]="hev1.2.6.L93.B0";a[m.Y.dQ]="hev1.2.6.L120.B0";a[m.Y.X0]="hev1.2.6.L123.B0";a[m.Y.H0]="hev1.2.6.L90.B0";a[m.Y.I0]="hev1.2.6.L93.B0";a[m.Y.J0]="hev1.2.6.L120.B0";a[m.Y.K0]="hev1.2.6.L123.B0";a[m.Y.L0]="hev1.2.6.L150.B0";a[m.Y.N0]="hev1.2.6.L153.B0";a[m.Y.BH]="hev1.2.6.L90.B0";a[m.Y.CH]="hev1.2.6.L93.B0";a[m.Y.SB]="hev1.2.6.L120.B0";a[m.Y.YP]="hev1.2.6.L123.B0";a[m.Y.pH]=b.Kd.m0;a[m.Y.qH]=b.Kd.wia;a[m.Y.MB]=b.Kd.xia;a[m.Y.JP]=b.Kd.yia;a[m.Y.KP]=b.Kd.zia;a[m.Y.n0]=b.Kd.Aia;a[m.Y.CPa]="avc1.640016";a[m.Y.TP]="avc1.64001E";a[m.Y.UP]="avc1.64001F";a[m.Y.VP]="avc1.640028";a[m.Y.Xna]=b.Kd.sI;a[m.Y.tI]=b.Kd.sI;a[m.Y.uI]=b.Kd.sI;a[m.Y.vI]=b.Kd.sI;a[m.Y.Sna]=b.Kd.rI;a[m.Y.Tna]=b.Kd.rI;a[m.Y.Una]=b.Kd.rI;a[m.Y.Vna]=b.Kd.rI;a[m.Y.Wna]=b.Kd.rI;a[m.Y.oha]=b.Kd.oi;a[m.Y.pha]=b.Kd.oi;a[m.Y.qha]=b.Kd.oi;a[m.Y.rha]=b.Kd.oi;a[m.Y.sha]=b.Kd.oi;a[m.Y.tha]=b.Kd.oi;a[m.Y.uha]=b.Kd.oi;a[m.Y.vha]=b.Kd.oi;return a;};c.prototype.kya=function(){return this.config().cH;};c.prototype.NE=function(){return Promise.resolve(void 0);};c.prototype.EL=function(){return Promise.resolve(void 0);};c.prototype.DK=function(a){var b;b=[];this.is.Sd(a)&&b.push(this.xBa(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:b,isHdcpEngaged:!!b.length}];};d.gm=c;c.XG="video/mp4;codecs={0};";},function(g,d,a){var f;function c(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(31);c.$ta=function(a){var d;d={};d[f.zd.mI]=c.QB;d[f.zd.XP]=c.QB;d[f.zd.RQ]=c.zH;d[f.zd.as]=c.as;d[f.zd.Yr]=a||c.Yr;d[f.zd.CB]=c.QB;d[f.zd.pv]=c.sI;d[f.zd.oi]=c.oi;return d;};d.Kd=c;c.QB="avc1.640028";c.zH="hev1.1.6.L93.B0";c.m0="dvhe.05.01";c.wia="dvhe.05.04";c.xia="dvhe.05.05";c.yia="dvhe.05.06";c.zia="dvhe.05.07";c.Aia="dvhe.05.09";c.Yr=c.m0;c.as=c.zH;c.rP="mp4a.40.2";c.HFb="ec-3";c.XLb="vp9";c.sI="vp09.00.11.08.02";c.rI="vp09.02.31.10.01";c.oi="av01.0.04M.08";c.sMa=[c.Aia,c.zia,c.yia,c.xia,c.wia,c.m0];},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mC="TimeoutMonitorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.una="SystemRandomSymbol";d.EQ="RandomGeneratorSymbol";},function(g,d,a){var c;c=this&&this.__extends||function(a,c){function f(){this.constructor=a;}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f());};g=function(a){function f(c){a.call(this);this.ha=c;}c(f,a);f.create=function(a){return new f(a);};f.Lb=function(a){a.cg.complete();};f.prototype.ug=function(a){var b;b=this.ha;if(b)return b.Ab(f.Lb,0,{cg:a});a.complete();};return f;}(a(10).Aa);d.xH=g;},function(g,d,a){var c,f,m,q;c=a(121);f=a(481);m=a(480);q=a(477);d.concat=function(){for(var a=[],k=0;k<arguments.length;k++)a[k-0]=arguments[k];return 1===a.length||2===a.length&&c.$z(a[1])?m.from(a[0]):q.sK()(f.of.apply(void 0,a));};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(66);d.XQa=g.XQa;g=a(10);d.Aa=g.Aa;g=a(182);d.Nj=g.Nj;g=a(489);d.FQ=g.FQ;g=a(487);d.gia=g.gia;g=a(1078);d.Ena=g.Ena;a(1074);a(1070);a(1064);a(1062);a(1059);a(1055);a(1052);a(1048);a(1045);a(1043);a(1041);a(1039);a(1036);a(1032);a(1029);a(1028);a(1025);a(1021);a(1018);a(1017);a(1015);a(1013);a(1010);a(1008);a(1007);a(1005);a(1002);a(999);a(996);a(993);a(992);g=a(262);d.yTa=g.yTa;a=a(66);d.kl=a.kl;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tn=function(){};d.x2="StringObjectReaderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.UH="MediaKeysStorageFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.nn||(d.nn={});g[g.JA=0]="playready";g[g.H_=1]="widevine";g[g.Ez=2]="fairplay";g[g.JNb=3]="clearkey";d.zOa="DrmTypeSymbol";},function(g,d,a){var f,m,q;function c(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(145);m=a(46);q=a(2);c.F9=function(a){if(a){if(a.includes(d.tH.JA))return f.nn.JA;if(a.includes("fps"))return f.nn.Ez;if(a.includes(d.tH.H_))return f.nn.H_;}throw new m.wc(q.J.HOa,void 0,void 0,void 0,void 0,"Invalid KeySystem: "+a);};c.wxa=function(a){switch(a){case f.nn.JA:return d.tH.JA;case f.nn.Ez:return d.tH.Ez;default:return d.tH.H_;}};d.lb=c;c.qq="com.microsoft.playready";c.yd="com.microsoft.playready.hardware";c.jI="com.microsoft.playready.software";c.iKb="com.chromecast.playready";c.jKb="org.chromium.external.playready";c.YGb="com.apple.fps.2_0";c.oYa="com.widevine.alpha";c.kKb="com.microsoft.playready.recommendation";c.lKb="com.microsoft.playready.recommendation.3000";c.mKb="com.microsoft.playready.recommendation.2000";d.tH={Ez:"fairplay",H_:"widevine",JA:"playready"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.iI="PlatformConfigDefaultsSymbol";},function(g,d,a){var k;function c(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function f(a,b){return null===a.su?!1:a.su.cf===b?!0:f(a.su,b);}function m(a){function b(a,f){void 0===f&&(f=[]);f.push(c(a.cf));return null!==a.su?b(a.su,f):f;}return b(a).reverse().join(" --\x3e ");}function q(a){a.o6.forEach(function(a){if(f(a,a.cf))throw a=m(a),Error(k.WLa+" "+a);q(a);});}function b(a){var b;if(a.name)return a.name;a=a.toString();b=a.match(/^function\s*([^\s(]+)/);return b?b[1]:"Anonymous function: "+a;}Object.defineProperty(d,"__esModule",{value:!0});k=a(55);d.PE=c;d.RAa=function(a,c,f){var k;k="";a=f(a,c);0!==a.length&&(k="\nRegistered bindings:",a.forEach(function(a){var c;c="Object";null!==a.ak&&(c=b(a.ak));k=k+"\n "+c;a.oz.cCa&&(k=k+" - "+a.oz.cCa);}));return k;};d.t7a=q;d.Nmb=function(a,b){var c,f;if(b.Faa()||b.Aaa()){c="";f=b.Nhb();b=b.sgb();null!==f&&(c+=f.toString()+"\n");null!==b&&b.forEach(function(a){c+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+c;}return" "+a;};d.getFunctionName=b;},function(g,d){var c;function a(){}Object.defineProperty(d,"__esModule",{value:!0});c=/^\S+$/;a.prototype.vz=function(a){return void 0!==a;};a.prototype.Sd=function(a){return null!==a&&void 0!==a;};a.prototype.Zy=function(c){return a.Bra(c);};a.prototype.U4=function(c){return!(!c||!a.Bra(c));};a.prototype.Ys=function(a){return Array.isArray(a);};a.prototype.Cra=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.Pg=function(c,d,q){return a.Zqa(c,d,q);};a.prototype.T4=function(c){return a.T4(c);};a.prototype.o5=function(c,d,q){return a.bT(c,d,q)&&0===c%1;};a.prototype.Hq=function(c,d,q){return a.bT(c,d||0,q);};a.prototype.BJ=function(c){return a.bT(c,1);};a.prototype.Y2a=function(c){return a.bT(c,0,255);};a.prototype.Z2a=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.Dra=function(a){return!(!a||!c.test(a));};a.prototype.xm=function(c){return a.$qa(c);};a.prototype.ul=function(c){return!(!a.$qa(c)||!c);};a.prototype.AJ=function(a){return!0===a||!1===a;};a.prototype.SS=function(a){return"function"==typeof a;};a.$qa=function(a){return"string"==typeof a;};a.Zqa=function(a,c,d){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===c||a>=c)&&(void 0===d||a<=d);};a.T4=function(a){return"number"==typeof a&&isNaN(a);};a.bT=function(c,d,q){return a.Zqa(c,d,q)&&0===c%1;};a.Bra=function(a){return"object"==typeof a;};d.bv=new a();},function(g){var d;d=function(){return this;}();try{d=d||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof M&&(d=M);}g.P=d;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(0);g.__exportStar(a(563),d);g.__exportStar(a(562),d);},function(g,d,a){var m,q,b,k,p,t,u,y,D,B,h,C,K,Q,T,l;function c(a){c=B.Re;T=a.appendBuffer?"appendBuffer":"append";d.lQ=!k.config.z5a&&!!a.remove;l=!!a.addEventListener;}function f(a,f,d,g,D){var B,h;B=this;this.j=a;this.type=f;this.ooa=g;this.log=D;this.OR=new p.Tc(!1);this.Ey={data:[],state:"",operation:""};this.xF=this.Wva((this.type===m.Pc.Fa.VIDEO?this.j.eg.value:this.j.Wc.value).dc);this.Oj=new t.tk();this.Q3={Type:this.type};k.config.Tw&&(h=!0,this.U8=new p.Tc(!1));this.log.trace("Adding source buffer",this.Q3,{TypeId:this.xF});this.mc=d.addSourceBuffer(this.xF);c(this.mc);l&&(this.mc.addEventListener("updatestart",function(){B.Ey.state="updatestart";}),this.mc.addEventListener("update",function(){B.Ey.state="update";}),this.mc.addEventListener("updateend",function(){B.OR.set(!1);B.uoa&&B.uoa();B.Ey.state="updateend";h&&B.mc.buffered.length&&(h=!1,B.U8.set(!0));}),this.mc.addEventListener("error",function(c){var f;try{f=c.target.error&&c.target.error.message;(c.message||f)&&D.error("error event received on sourcebuffer",{mediaErrorMessage:c.message});}catch(sa){}c=u.aa.get(b.jl);a.Rd(c(y.J.lUa,q.I9(B.type)));}),this.mc.addEventListener("abort",function(){}));a.addEventListener(C.S.closed,function(){B.mc=void 0;});}Object.defineProperty(d,"__esModule",{value:!0});m=a(50);q=a(233);b=a(59);k=a(12);p=a(190);t=a(72);u=a(5);a(87);y=a(2);a(4);D=a(18);B=a(20);h=a(15);C=a(14);K=a(118);Q=a(155);f.prototype.Yj=function(){return this.OR.value;};f.prototype.updating=function(){return this.mc?this.mc.updating:!1;};f.prototype.RGa=function(a){this.uoa=a;};f.prototype.D9=function(){return this.Ey;};f.prototype.buffered=function(){return this.mc.buffered;};f.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};f.prototype.toJSON=function(){return{type:this.type};};f.prototype.pV=function(){var a,b,c,f,k,d,p;try{a=this.mc.buffered;k=0;if(a)for(b=[],c=0,f=a.length,c=0;c<f;c++){d=a.start(c);p=a.end(c);k=k+(p-d);D.Pa(p>d);b.push(d+"-"+p);}if(b)return{Buffered:k.toFixed(3),Ranges:b.join("|")};}catch(ma){}};f.prototype.Ira=function(a,b){D.Pa(this.mc.buffered&&1>=this.mc.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.pV()));D.Pa(!this.Yj());this.lHa("append",a);b=b&&b.bn/1E3;h.ka(b)&&this.mc.timestampOffset!==b&&(this.mc.timestampOffset=b);this.mc[T](a);l&&this.OR.set(!0);};f.prototype.remove=function(a,b){D.Pa(!this.Yj());try{d.lQ&&(this.lHa("remove"),this.mc.remove(a,b),l&&this.OR.set(!0));}catch(N){this.log.error("SourceBuffer remove exception",N,this.Q3);}};f.prototype.lHa=function(a,b){this.Ey.data=b||[];this.Ey.state="init";this.Ey.operation=a;};f.prototype.iyb=function(a,b){this.Gmb=Math.floor(1E3*a/b);};f.prototype.c7a=function(a){var b;if(this.mc){if(a=this.Wva([{type:this.o8a,Af:a}]),a!==this.xF){b=this.xF;this.log.info("Changing SourceBuffer mime-type from: "+this.xF+" to: "+a);try{if(this.mc.changeType)this.mc.changeType(a),this.xF=a;else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(N){throw this.log.error("Error changing SourceBuffer type",N,this.Q3,{From:b,To:a}),N;}}}else this.log.info("No SourceBuffer");};f.prototype.appendBuffer=function(a,b){!b||b.Xb?this.s5(a,b):this.cT(a,b);return!0;};f.prototype.s5=function(a,b){this.j.Mi.s5(this,a,b||{});};f.prototype.cT=function(a,b){this.j.Mi.cT(this.h8a(a,b));};f.prototype.h8a=function(a,b){var c;c=this.Gmb||0;return{fta:function(){this.response=void 0;},qj:function(){return this.requestId;},constructor:{name:"MediaRequest"},M:this.M,readyState:Q.Mb.ec.DONE,Bu:b.T,bG:b.T+b.duration,Tq:b.duration,bn:c,Fi:b.Fi,$a:b.$a,pa:b.pa,Fb:+b.Fb,location:b.location,gK:b.offset,fK:b.offset+b.ba-1,R:b.R,response:a,Tya:a&&0<a.byteLength,Zz:!0,get Xb(){return!this.Zz;},yGa:this.cj-c||Infinity,toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.$a,isHeader:this.Xb,ptsStart:this.Bu,ptsOffset:this.bn,responseType:this.EMb,duration:this.Tq,readystate:this.Sf};this.stream&&(a.bitrate=this.stream.R);return JSON.stringify(a);}};};f.prototype.endOfStream=function(){};f.prototype.addEventListener=function(a,b,c){this.Oj.addListener(a,b,c);};f.prototype.removeEventListener=function(a,b){this.Oj.removeListener(a,b);};f.prototype.Wva=function(a){var b;b=u.aa.get(K.kC);return this.type===m.Pc.Fa.VIDEO?b.FK(a):b.zK(a);};ra.Object.defineProperties(f.prototype,{M:{configurable:!0,enumerable:!0,get:function(){return this.type;}},sT:{configurable:!0,enumerable:!0,get:function(){return this.ooa.sT;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.ooa.sourceId;}},o8a:{configurable:!0,enumerable:!0,get:function(){return 0===this.type?"audio":"video";}}});d.$ka=f;},function(g,d,a){var c,f,m,q,b,k;Object.defineProperty(d,"__esModule",{value:!0});c=a(12);f=a(11);m=a(302);g=a(2);q=a(301);b=a(299);k=a(5);a=a(24);d.storage=d.storage||void 0;d.qp=d.qp||void 0;k.aa.get(a.yf).register(g.J.Wja,function(a){var k;switch(c.config.Czb){case"idb":k=q.yzb;break;case"none":k=m.Azb;break;case"ls":k=b.zzb;}k(function(b){b.$?(d.storage=b.storage,d.qp=b.qp,a(f.pd)):a(b);});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zQ="PboPublisherSymbol";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});d.Mb=a;a.Ld={tla:"mr1",sla:"mr2",ula:"mr3",cI:"mr4",uTa:"mr5",ny:"mr6"};a.ec={UNSENT:0,OPENED:1,nv:2,qy:3,DONE:5,Yu:6,iH:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};a.tKb={lha:0,ty:1,lla:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.Vu={NO_ERROR:-1,DNa:0,tia:1,PNa:2,HNa:3,cMa:4,Xha:5,a0:6,dMa:7,eMa:8,fMa:9,$La:10,bMa:11,Wha:12,aMa:13,ZLa:14,PPa:15,Eja:16,Dja:17,i1:18,eQ:19,j1:20,k1:21,RPa:22,fQ:23,Fja:24,QPa:25,KNa:26,ENa:27,vWa:28,uNa:29,vNa:30,wNa:31,xNa:32,yNa:33,zNa:34,ANa:35,BNa:36,CNa:37,FNa:38,GNa:39,INa:40,JNa:41,LNa:42,MNa:43,NNa:44,ONa:45,QNa:46,RNa:47,uWa:48,TIMEOUT:49,g1:50,Bja:51,OPa:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};a.oc={mG:{lha:!0,ty:!1,lla:!0}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qOa=function(){this.AUDIO=0;this.VIDEO=1;this.LPa=2;this.Cf=function(){};};d.Oia="DownloadTrackConstructorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ima="PboPlaydataServicesSymbol";d.yQ="PboPlaydataServicesProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.$j=function(){return this.buffer.length-this.position;};a.prototype.ue=function(){return this.buffer[this.position++];};a.prototype.Hd=function(a){var c;c=this.position;this.position+=a;return this.Ylb(this.buffer)?this.buffer.subarray(c,this.position):this.buffer.slice(c,this.position);};a.prototype.Ylb=function(a){return void 0!==a.subarray;};a.prototype.tc=function(a){for(var c=0;a--;)c=256*c+this.buffer[this.position++];return c;};a.prototype.Cr=function(a){for(var c="";a--;)c+=String.fromCharCode(this.buffer[this.position++]);return c;};a.prototype.bea=function(){for(var a="",f;f=this.ue();)a+=String.fromCharCode(f);return a;};a.prototype.Jb=function(){return this.tc(2);};a.prototype.Na=function(){return this.tc(4);};a.prototype.ng=function(){return this.tc(8);};a.prototype.PY=function(){return this.tc(2)/256;};a.prototype.DN=function(){return this.tc(4)/65536;};a.prototype.uf=function(a){for(var c,d="";a--;)c=this.ue(),d+="0123456789ABCDEF"[c>>>4]+"0123456789ABCDEF"[c&15];return d;};a.prototype.qx=function(){return this.uf(4)+"-"+this.uf(2)+"-"+this.uf(2)+"-"+this.uf(2)+"-"+this.uf(6);};a.prototype.EN=function(a){for(var c=0,d=0;d<a;d++)c+=this.ue()<<(d<<3);return c;};a.prototype.PA=function(){return this.EN(4);};a.prototype.pP=function(a){this.buffer[this.position++]=a;};a.prototype.J_=function(a,f){this.position+=f;for(var c=1;c<=f;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);};a.prototype.oP=function(a){for(var c=a.length,d=0;d<c;d++)this.buffer[this.position++]=a[d];};a.prototype.AB=function(a,f){this.oP(a.Hd(f));};a.prototype.UJa=function(c){c=new a(c);for(var f,d;;)if(f=c.$j(),d=f>>>14)d=Math.min(4,d),this.pP(192|d),this.AB(c,16384*d);else{128>f?this.pP(f):this.J_(f|32768,2);this.AB(c,f);break;}};a.prototype.YEa=function(){var d;for(var c=[],f=new a(c);;){d=this.ue();if(d&128)if(128==(d&192))d&=63,d=(d<<8)+this.ue(),f.AB(this,d);else if(d&=63,0<d&&4>=d){f.AB(this,16384*d);continue;}else throw Error("bad asn1");else f.AB(this,d);break;}return new Uint8Array(c);};return a;}();d.rH=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.PH="LicenseProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.BQ="PlaygraphConfigSymbol";},function(g,d,a){var f,m;function c(a){switch(a){case f.G.HH:return"http";case f.G.JH:return"connectiontimeout";case f.G.by:return"readtimeout";case f.G.h1:return"corruptcontent";case f.G.Zu:return"abort";case f.G.KH:case f.G.l1:return"unknown";}}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);m=a(9);d.bya=c;d.hya=function(a,b){a={errorcode:a+(b.errorCode||f.J.xk)};b.ca&&(a.errorsubcode=b.ca);b.Vd&&(a.errorextcode=b.Vd);b.u8&&(a.erroredgecode=b.u8);b.kb&&(a.errordetails=b.kb);b.Hi&&(a.httperr=b.Hi);b.NX&&(a.aseneterr=b.NX);b.IU&&(a.errordata=b.IU);b.EM&&(a.mediaerrormessage=b.EM);(b=c(Number(b.ca)))&&(a.nwerr=b);return a;};d.oya=function(){return{screensize:m.hs.width+"x"+m.hs.height,screenavailsize:m.hs.availWidth+"x"+m.hs.availHeight,clientsize:M.innerWidth+"x"+M.innerHeight};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(d.Eia||(d.Eia={})).FUa="PboDebugEvent";d.o0={sSa:"Manifest",Event:"Event",aIb:"Logblob"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g.P=function(a){return{minInitVideoBitrate:a.qr,minHCInitVideoBitrate:a.kca,maxInitVideoBitrate:a.iu,minInitAudioBitrate:a.NM,maxInitAudioBitrate:a.yM,minHCInitAudioBitrate:a.MM,minAcceptableVideoBitrate:a.AX,minRequiredBuffer:a.OM,minPrebufSize:a.$g,rebufferingFactor:a.fea,useMaxPrebufSize:a.Yga,maxPrebufSize:a.$w,maxRebufSize:a.Uba,maxBufferingTime:a.qo,minAudioMediaRequestSizeBytes:a.BX,minVideoMediaRequestSizeBytes:a.HX,initialBitrateSelectionCurve:a.sW,initSelectionLowerBound:a.Aza,initSelectionUpperBound:a.Bza,throughputPercentForAudio:a.c_,bandwidthMargin:a.J5,bandwidthMarginContinuous:a.K5,bandwidthMarginCurve:a.L5,conservBandwidthMargin:a.K6,switchConfigBasedOnInSessionTput:a.lga,conservBandwidthMarginTputThreshold:a.tK,conservBandwidthMarginCurve:a.L6,switchAlgoBasedOnHistIQR:a.aIa,switchConfigBasedOnThroughputHistory:a.Dx,maxPlayerStateToSwitchConfig:a.Tba,lowEndMarkingCriteria:a.uba,IQRThreshold:a.q1,histIQRCalcToUse:a.Y$,maxTotalBufferLevelPerSession:a.ku,highWatermarkLevel:a.iza,toStableThreshold:a.CIa,toUnstableThreshold:a.h_,skipBitrateInUpswitch:a.Ofa,watermarkLevelForSkipStart:a.fha,highStreamRetentionWindow:a.R$,lowStreamTransitionWindow:a.vba,highStreamRetentionWindowUp:a.T$,lowStreamTransitionWindowUp:a.xba,highStreamRetentionWindowDown:a.S$,lowStreamTransitionWindowDown:a.wba,highStreamInfeasibleBitrateFactor:a.Q$,lowestBufForUpswitch:a.fu,lockPeriodAfterDownswitch:a.fX,lowWatermarkLevel:a.zba,lowestWaterMarkLevel:a.gu,lowestWaterMarkLevelBufferRelaxed:a.Aba,mediaRate:a.eca,maxTrailingBufferLen:a.tX,audioBufferTargetAvailableSize:a.QJ,videoBufferTargetAvailableSize:a.fP,maxVideoTrailingBufferSize:a.SBa,maxAudioTrailingBufferSize:a.DBa,fastUpswitchFactor:a.OU,fastDownswitchFactor:a.I8,maxMediaBufferAllowed:a.zM,maxMediaBufferAllowedInBytes:a.nr,simulatePartialBlocks:a.Lfa,simulateBufferFull:a.sHa,considerConnectTime:a.M6,connectTimeMultiplier:a.J6,lowGradeModeEnterThreshold:a.kBa,lowGradeModeExitThreshold:a.lBa,maxDomainFailureWaitDuration:a.FBa,maxAttemptsOnFailure:a.CBa,exhaustAllLocationsForFailure:a.Sva,maxNetworkErrorsDuringBuffering:a.LBa,maxBufferingTimeAllowedWithNetworkError:a.Oba,fastDomainSelectionBwThreshold:a.awa,throughputProbingEnterThreshold:a.mIa,throughputProbingExitThreshold:a.nIa,locationProbingTimeout:a.XAa,finalLocationSelectionBwThreshold:a.ewa,throughputHighConfidenceLevel:a.kIa,throughputLowConfidenceLevel:a.lIa,locationStatisticsUpdateInterval:a.jba,enablePerfBasedLocationSwitch:a.zva,probeServerWhenError:a.Qp,probeRequestTimeoutMilliseconds:a.Mda,allowSwitchback:a.Xs,probeDetailDenominator:a.MA,maxDelayToReportFailure:a.oX,countGapInBuffer:a.Nta,bufferThresholdForAbort:a.zsa,allowCallToStreamSelector:a.xra,pipelineScheduleTimeoutMs:a.nda,maxPartialBuffersAtBufferingStart:a.ju,minPendingBufferLen:a.lca,maxPendingBufferLen:a.Zw,maxPendingBufferLenSABCell100:a.qX,maxActiveRequestsSABCell100:a.mX,maxStreamingSkew:a.Vba,maxPendingBufferPercentage:a.Sba,maxRequestsInBuffer:a.lA,headerRequestSize:a.dW,minBufferLenForHeaderDownloading:a.CX,reserveForSkipbackBufferMs:a.eZ,numExtraFragmentsAllowed:a.Qca,pipelineEnabled:a.uo,maxParallelConnections:a.tF,socketReceiveBufferSize:a.xHa,audioSocketReceiveBufferSize:a.mT,videoSocketReceiveBufferSize:a.eH,headersSocketReceiveBufferSize:a.O$,updatePtsIntervalMs:a.s_,bufferTraceDenominator:a.S5,bufferLevelNotifyIntervalMs:a.FD,aseReportDenominator:a.NJ,aseReportIntervalMs:a.w5,enableAbortTesting:a.uva,abortRequestFrequency:a.ara,streamingStatusIntervalMs:a.cga,prebufferTimeLimit:a.wr,minBufferLevelForTrackSwitch:a.DX,penaltyFactorForLongConnectTime:a.ida,longConnectTimeThreshold:a.sba,additionalBufferingLongConnectTime:a.g5,additionalBufferingPerFailure:a.h5,rebufferCheckDuration:a.GN,enableLookaheadHints:a.yva,lookaheadFragments:a.gBa,enableOCSideChannel:a.Az,OCSCBufferQuantizationConfig:a.tQ,updateDrmRequestOnNetworkFailure:a.hJa,deferAseScheduling:a.Gua,maxDiffAudioVideoEndPtsMs:a.EBa,useHeaderCache:a.$G,useHeaderCacheData:a.DU,defaultHeaderCacheSize:a.fU,defaultHeaderCacheDataPrefetchMs:a.A7,headerCacheMaxPendingData:a.K$,neverWipeHeaderCache:a.yca,headerCachePriorityLimit:a.L$,enableUsingHeaderCount:a.bL,networkFailureResetWaitMs:a.wca,networkFailureAbandonMs:a.vca,maxThrottledNetworkFailures:a.sX,throttledNetworkFailureThresholdMs:a.b_,lowThroughputThreshold:a.yba,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.A8,mp4ParsingInNative:a.rCa,sourceBufferInOrderAppend:a.yHa,requireAudioStreamToEncompassVideo:a.Fr,allowAudioToStreamPastVideo:a.wra,enableManagerDebugTraces:a.Vf,managerDebugMessageInterval:a.vBa,managerDebugMessageCount:a.uBa,bufferThresholdToSwitchToSingleConnMs:a.R5,bufferThresholdToSwitchToParallelConnMs:a.Q5,netIntrStoreWindow:a.Vpb,minNetIntrDuration:a.tpb,fastHistoricBandwidthExpirationTime:a.geb,bandwidthExpirationTime:a.C5a,failureExpirationTime:a.eeb,historyTimeOfDayGranularity:a.hkb,expandDownloadTime:a.Xdb,minimumMeasurementTime:a.Cpb,minimumMeasurementBytes:a.Bpb,throughputMeasurementTimeout:a.wAb,initThroughputMeasureDataSize:a.Vkb,throughputMeasureWindow:a.vAb,throughputIQRMeasureWindow:a.uAb,IQRBucketizerWindow:a.WQa,connectTimeHalflife:a.e8a,responseTimeHalflife:a.iwb,historicBandwidthUpdateInterval:a.gkb,throughputWarmupTime:a.zAb,minimumBufferToStopProbing:a.Apb,throughputPredictor:a.xAb,ase_stream_selector:a.B4a,enableFilters:a.Ecb,filterDefinitionOverrides:a.veb,defaultFilter:a.Qab,secondaryFilter:a.Nwb,defaultFilterDefinitions:a.Rab,initBitrateSelectorAlgorithm:a.raa,bufferingSelectorAlgorithm:a.U5,ase_ls_failure_simulation:a.q7,ase_dump_fragments:a.o7,ase_location_history:a.p7,ase_throughput:a.r7,ase_simulate_verbose:a.pua,secondThroughputEstimator:a.Rea,secondThroughputMeasureWindowInMs:a.tGa,marginPredictor:a.Kba,networkMeasurementGranularity:a.xca,HistoricalTDigestConfig:a.Gja,maxIQRSamples:a.IBa,minIQRSamples:a.hCa,periodicHistoryPersistMs:a.rY,saveVideoBitrateMs:a.lZ,needMinimumNetworkConfidence:a.TM,biasTowardHistoricalThroughput:a.O5,maxFastPlayBufferInMs:a.Qba,maxFastPlayBitThreshold:a.Pba,headerCacheTruncateHeaderAfterParsing:a.dza,minAudioMediaRequestDuration:a.yF,minVideoMediaRequestDuration:a.DF,minAudioMediaRequestDurationCache:a.yF,minVideoMediaRequestDurationCache:a.DF,addHeaderDataToNetworkMonitor:a.VS,useMediaCache:a.Lx,mediaCachePartitionConfig:a.$ba,diskCacheSizeLimit:a.ow,mediaCachePrefetchMs:a.wX,hindsightDenominator:a.X$,hindsightDebugDenominator:a.W$,hindsightParam:a.gW,minimumTimeBeforeBranchDecision:a.IX,enableSessionHistoryReport:a.aL,earlyStageEstimatePeriod:a.d8,lateStageEstimatePeriod:a.GAa,maxNumSessionHistoryStored:a.pX,minSessionHistoryDuration:a.GX,appendMediaRequestOnComplete:a.Jra,waitForDrmToAppendMedia:a.kP,forceAppendHeadersAfterDrm:a.c9,startMonitorOnLoadStart:a.Wfa,reportFailedRequestsToNetworkMonitor:a.pea,reappendRequestsOnSkip:a.FN,maxActiveRequestsPerSession:a.kr,limitAudioDiscountByMaxAudioBitrate:a.gba,appendFirstHeaderOnComplete:a.r5,maxAudioFragmentOverlapMs:0,editAudioFragments:a.zU,editVideoFragments:a.Et,declareBufferingCompleteAtSegmentEnd:a.t7,applyProfileTimestampOffset:a.$y,applyProfileStreamingOffset:a.On,requireDownloadDataAtBuffering:a.cZ,requireSetupConnectionDuringBuffering:a.dZ,recordFirstFragmentOnSubBranchCreate:a.gea,earlyAppendSingleChildBranch:a.yU,selectStartingVMAFMethod:a.rG,activateSelectStartingVMAF:a.EJ,minStartingVideoVMAF:a.CF,alwaysNotifyEOSForPlaygraph:a.n5,enableNewAse:a.j8,useNewApi:a.YO};};},function(g,d,a){var c,f,m,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(13);f=a(3);m=a(763);q=f.NB;g=function(){function a(){this.cq=[];this.console=new f.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(a,{Ae:{get:function(){void 0===a.MC&&(a.MC=new a());return a.MC;},enumerable:!0,configurable:!0}});a.prototype.UD=function(a,b,c,f,d,q){var k,p,t;p=q.wyb?this.Feb(c,b,a):-1;if(-1===p){k={track:this.s$a(c,f,a,d,q),Op:c,u:b,UEa:a,fG:[],op:!1,Pua:!1};this.cq.push(k);t=function(){k.op=!0;k.track.removeListener("created",t);};k.track.on("created",t);k.track.Ub&&k.track.Ub();}else k=this.cq[p];a=new m.hWa(k.track,k.op);k.fG.push(a);return a;};a.prototype.G7=function(a){var b,c;a.Jk();b=this.TU(function(b){return b.track===a.track;});if(-1!==b)if(b=this.cq[b],1===b.fG.length)b.track.Jk(),b.Pua=!0;else{c=b.fG.indexOf(a);0<=c&&b.fG.splice(c,1);}else a.track.Jk();};a.prototype.Cf=function(){a.foa.Cf();};a.prototype.s$a=function(b,f,d,m,g){var k,p;k=this;b?1===d?(b=!1,f=1,g.uo?(b=!0,f=g.tF):g.kr&&2<g.kr&&(b=!0,f=g.kr),g={type:q.VIDEO,openRange:!b,pipeline:b,connections:f,socketBufferSize:g.eH,minRequestSize:g.BF}):0===d?(b=g.uo&&f&&g.xCb,g={type:q.AUDIO,openRange:!b,pipeline:b,connections:1,socketBufferSize:g.mT,minRequestSize:g.BF}):g={type:q.LPa,openRange:!1,pipeline:!0,connections:1,socketBufferSize:g.O$,minRequestSize:g.BF}:g={type:0===d?c.Fa.AUDIO:c.Fa.VIDEO,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0===d?g.mT:g.eH,minRequestSize:g.BF};p=new a.foa(g,m);p.on("transportreport",function(a){var b;b=k.TU(function(a){return a.track===p;});-1!==b&&(b=k.cq[b],b.fG.length&&b.fG[0].emit("transportreport",a));});p.on("destroyed",function(){var a;a=k.TU(function(a){return a.track===p;});-1!==a&&k.cq.splice(a,1);p.removeAllListeners();});return p;};a.prototype.Feb=function(a,b,c){return this.TU(function(f){return!f.Pua&&(a?f.Op&&f.u===b&&f.UEa===c:!f.Op&&f.UEa===c);});};a.prototype.TU=function(a){for(var b=0;b<this.cq.length;++b)if(a(this.cq[b]))return b;return-1;};a.foa=q;return a;}();d.kq=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zra=function(a,c){var f,d,q;f=c.profile;c=c.u;d=a.Jwb;q=a.Kwb;return a.Iwb||Array.isArray(d)&&-1!==d.indexOf(f)||"object"===typeof q&&Array.isArray(q[f])&&-1!==q[f].indexOf(""+c);};d.Yxa=function(a,c){return void 0!==a.zF?a.zF:c&&void 0!==c.zF?c.zF:100;};},function(g,d,a){var c,f,m,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(8);m=a(13);q=a(3);g=function(a){function b(b,c,k,d,m){k=a.call(this,k)||this;k.j5=!1;k.LFa=b;k.Vc=d;k.ypa=b.location||c.location;k.tJ=b.cc||c.Fb;k.nfa=b.nfa||c.nfa;k.tTb=q.time.fa();f.assert(m);k.I=m;return k;}c.__extends(b,a);Object.defineProperties(b.prototype,{console:{get:function(){return this.I;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{location:{get:function(){return this.ypa;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{Fb:{get:function(){return this.tJ;},enumerable:!0,configurable:!0}});b.prototype.Ub=function(a){this.Sa=a;};b.prototype.DZ=function(a,b){this.ypa=a;this.tJ=b;};b.prototype.kS=function(a){var b,c,f;b={type:"logdata",target:"endplay",fields:{}};c=this.M===m.Fa.AUDIO?"audioedit":"videoedit";f=[this.yw===this.T?this.$d:this.Oc,this.yw===this.T?-this.duration:this.duration];a&&a.Ir&&f.push(a.Ir);b.fields[c]={type:"array",value:f};return b;};b.prototype.ZR=function(a){this.Vc.FN&&(this.Lwa=!0,this.pva=a);};b.prototype.u_=function(){var a,b;if(this.complete)return 0;a=this.LFa;b=a.O;return a.url?this.url===a.url||(b.DZ(this,a.location,a.cc),this.zO(a.url))?0:(this.I.warn("swapUrl failed: ",this.zE),2):(this.I.warn("updateurl, missing url for streamId:",a.pa,"mediaRequest:",this,"stream:",a),1);};return b;}(a(85).Vr);d.GB=g;},function(g,d,a){function c(a,c){this.qD=a;this.Th=Math.floor((a+c-1)/c);this.Fc=c;this.reset();}a(8);c.prototype.shift=function(){this.Mc.shift();this.Eq.shift();};c.prototype.QF=function(a){return this.Jsa(this.Mc[a],a);};c.prototype.update=function(a,c){this.Mc[a]=(this.Mc[a]||0)+c;};c.prototype.push=function(){this.Mc.push(0);this.Eq.push(0);this.Oa+=this.Fc;};c.prototype.add=function(a,c,d){var b,f,p;if(null===this.Oa)for(b=Math.max(Math.floor((d-c+this.Fc-1)/this.Fc),1),this.Oa=c;this.Mc.length<b;)this.push();for(;this.Oa<=d;)this.push(),this.Mc.length>this.Th&&this.shift();if(null===this.nl||c<this.nl)this.nl=c;if(c>this.Oa-this.Fc)this.update(this.Mc.length-1,a);else if(c==d)b=this.Mc.length-Math.max(Math.ceil((this.Oa-d)/this.Fc),1),0<=b&&this.update(b,a);else for(b=1;b<=this.Mc.length;++b){f=this.Oa-b*this.Fc;p=f+this.Fc;if(!(f>d)){if(p<c)break;this.update(this.Mc.length-b,Math.round(a*(Math.min(p,d)-Math.max(f,c))/(d-c)));}}for(;this.Mc.length>this.Th;)this.shift();};c.prototype.start=function(a){null===this.nl&&(this.nl=a);null===this.Oa&&(this.Oa=a);};c.prototype.stop=function(a){var c,f;if(null!==this.Oa)if(a-this.Oa>10*this.qD)this.reset();else{for(;this.Oa<=a;)this.push(),this.Mc.length>this.Th&&this.shift();c=this.Mc.length-Math.ceil((this.Oa-this.nl)/this.Fc);0>c&&(this.nl=this.Oa-this.Fc*this.Mc.length,c=0);f=this.Mc.length-Math.ceil((this.Oa-a)/this.Fc);if(c===f)this.Eq[c]+=a-this.nl;else if(f>c)for(this.Eq[c]+=(this.Oa-this.nl)%this.Fc,this.Eq[f]+=this.Fc-(this.Oa-a)%this.Fc,a=c+1;a<f;++a)this.Eq[a]=this.Fc;this.nl=null;}};c.prototype.Jsa=function(a,c){c=this.s9(c);return 0===c?null:8*a/c;};c.prototype.s9=function(a){var c;c=this.Eq[a];null!==this.nl&&(a=this.Oa-(this.Mc.length-a-1)*this.Fc,a>this.nl&&(c=a-this.nl<=this.Fc?c+(a-this.nl):this.Fc));return c;};c.prototype.get=function(a,c){var f,b;f=this.Mc.map(this.Jsa,this);if("last"===a)for(a=0;a<f.length;++a)null===f[a]&&(f[a]=0<a?f[a-1]:0);else if("average"===a){c=1-Math.pow(.5,1/((c||2E3)/this.Fc));for(a=0;a<f.length;++a)null===f[a]?f[a]=Math.floor(b||0):b=void 0!==b?c*f[a]+(1-c)*b:f[a];}return f;};c.prototype.reset=function(){this.ppa||(this.Mc=[],this.Eq=[],this.nl=this.Oa=null);};c.prototype.setInterval=function(a){this.Th=Math.floor((a+this.Fc-1)/this.Fc);};g.P=c;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(221);f=a(8);g=function(){function a(a){this.config=a;this.reset();}a.Ae=function(){f.assert(void 0!==a.MC);return a.MC;};a.d8a=function(c){a.MC=new a(c);};a.INb=function(){a.MC=void 0;};a.prototype.push=function(a){this.mi&&this.mi.push(a);};a.prototype.jb=function(){if(this.mi)return this.mi.vt(),this.mi.vh([.25,.5,.75,.9,.95,.99]).map(function(a){return a?parseFloat(a.toFixed(1)):0;});};a.prototype.reset=function(){this.config.Ava&&this.config.u1&&(this.mi=new c.ELb(this.config.u1.c,this.config.u1.maxc));};return a;}();d.Qu=g;},function(g,d,a){var c,f,m,q,b,k,p,t,u,y;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(27);f=a(6);m=g.Yx;q=a(3);b=q.Lj;k=a(168);p=a(114);t=a(16);g=a(43);u=a(166);y=a(172);a=function(a){function d(c,f,k,d,p,t,q){f=a.call(this,f,k)||this;u.GB.call(f,c,d,p,t,q);y.Qx.call(f,c,d);f.xI=c.url||d.url;f.wI=d.responseType;f.eoa=d.GZ;void 0===f.wI&&(f.wI=b.oc&&!b.oc.mG.ty?0:1);f.Ng=new m();f.Ng.on(f,b.Ld.tla,f.fJ);f.Ng.on(f,b.Ld.sla,f.e4);f.Ng.on(f,b.Ld.ula,f.f4);f.Ng.on(f,b.Ld.cI,f.eJ);f.Ng.on(f,b.Ld.ny,f.ZC);f.oC=!1;f.Uc=!1;f.ig=!1;f.Aq=!1;f.MI=!1;f.Xk=0;return f;}c.__extends(d,a);Object.defineProperties(d.prototype,{active:{get:function(){return this.Uc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{oFa:{get:function(){return this.ig;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return!this.oC&&5===this.readyState;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Fq:{get:function(){return this.oC;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Baa:{get:function(){return this.Aq&&!this.MI;},enumerable:!0,configurable:!0}});d.prototype.Ub=function(a){u.GB.prototype.Ub.call(this,a);this.Tb||!this.Vc.VS&&this.Xb||(this.Tb=p.Ae(),this.active&&(this.Tb.SA(q.time.fa(),{requestId:this.pm(),ae:this.Fb,type:this.M}),this.ig&&(this.Tb.vea(q.time.fa()),this.connect&&0<this.zo.length&&this.Tb.Ws(this.zo[0]))));};d.prototype.Xz=function(){return 1===this.responseType?3<=this.readyState:5===this.readyState;};d.prototype.vD=function(a){this.Ci=a.appendBuffer(this.response,t.Pl(this));return{$:this.Ci};};d.prototype.Lza=function(){return this.Fq;};d.prototype.vr=function(){(this.Aq=b.prototype.open.call(this,this.xI,{start:this.offset,end:this.offset+this.ba-1},this.wI,{},void 0,void 0,this.eoa))&&this.oL(this);return this.Aq;};d.prototype.abort=function(){var a;if(this.Fq)return!0;a=this.Uc;this.Tb&&a&&this.Tb.UA(q.time.fa(),this.ig,{requestId:this.pm(),ae:this.Fb,type:this.M});this.oC=!0;this.ig=this.Uc=!1;b.prototype.abort.call(this);this.bV(this,a,this.Baa);return!0;};d.prototype.ic=function(){0!==this.readyState&&7!==this.readyState&&5!==this.readyState&&(this.I.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Ng&&this.Ng.clear();b.prototype.ic.call(this);};d.prototype.fJ=function(){var a;a=this.Qc||this.$e;k.Qu.Ae().push(q.time.fa()-a);this.Uc||(this.Uc=!0,this.Rm=this.track.Rm(),this.stream.K.ABa||this.Tb&&this.Tb.SA(a,{requestId:this.pm(),ae:this.Fb,type:this.M}),this.Jz(this),this.Yk=this.Qc);};d.prototype.e4=function(){var a,b,c;a=this.Qc||this.Q8;b=this.connect;c=this.zo;k.Qu.Ae().push(q.time.fa()-a);this.Uc||(this.Uc=!0);this.ig||(this.ig=!0,this.stream.K.ABa&&this.Tb&&this.Tb.SA(a,{requestId:this.pm(),ae:this.Fb,type:this.M}),this.Tb&&this.Tb.vea(),b&&0<c.length&&this.Tb&&this.Tb.Ws(c[0]),this.Iz(this),this.Yk=a);};d.prototype.f4=function(){var a,b,c;a=this;b=this.Qc;c=this.ye-this.Xk;k.Qu.Ae().push(q.time.fa()-b);this.ig||(this.ig=!0);this.Tb&&(void 0===this.Yk||this.Tb.Rv(c,this.Yk,b,{requestId:this.pm(),ae:this.Fb,type:this.M}),this.zo&&this.zo.length&&this.zo.forEach(function(b){a.Tb.Vs(b);}));this.EE(this);this.Yk=b;this.Xk=this.ye;};d.prototype.eJ=function(){var a,b,c;a=this;b=this.Qc;c=this.ye-this.Xk;k.Qu.Ae().push(q.time.fa()-b);this.Tb&&(0<c&&this.Tb.Rv(c,this.Yk,b,{requestId:this.pm(),ae:this.Fb,type:this.M}),this.zo&&this.zo.length&&this.zo.forEach(function(b){a.Tb.Vs(b);}),this.Tb.UA(b,this.ig,{requestId:this.pm(),ae:this.Fb,type:this.M}));this.ig=this.Uc=!1;this.MI=!0;this.up(this);this.Yk=b;this.Xk=this.ye;this.ic();};d.prototype.pm=function(){var a,b;a=(a=this.stream)?a.toString():this.url;b=this.vT;b&&(a+=",range "+b.start+"-"+b.end);return a;};d.prototype.ZC=function(){var a,b,c,d;this.I.warn("AseMediaRequest._onError:",this.toString());a=this.Qc;b=this.status;c=this.$h;d=this.ek;k.Qu.Ae().push(q.time.fa()-a);this.complete?this.I.warn("Error on a done request "+this.toString()+", failurecode: "+c):this.Fq?this.I.warn("Error on an aborted request "+this.toString()+", failurecode: "+c):f.ka(c)?(this.Tb&&this.Vc&&this.Vc.pea&&this.$e&&void 0===b&&this.Tb.Rv(this.Xk?this.ye-this.Xk:this.ye,this.Yk?this.Yk:this.$e,a,{requestId:this.pm(),ae:this.Fb,type:this.M}),this.cV(this)):this.I.warn("ignoring undefined request error (nativecode: "+d+")");};return d;}(b);d.FB=a;g.Wi(u.GB,a,!1);g.Wi(y.Qx,a,!1);},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(3);f=a(16);g=function(){function a(a){this.I=new c.Console("ASEJS","media|asejs","("+a+")");this.W3=[];}a.prototype.Il=function(a){this.W3[a]||(this.W3[a]=f.Ww(c,this.I,"["+a+"]"));return this.W3[a];};return a;}();d.fl=new g(0);},function(g,d,a){var m;function c(a,b){return void 0===a||void 0===b?void 0:a+b;}function f(a,b){return void 0===a||void 0===b?void 0:a-b;}Object.defineProperty(d,"__esModule",{value:!0});m=a(29);g=function(){function a(){}Object.defineProperties(a.prototype,{$n:{get:function(){return f(this.yb,this.gb)||0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pN:{get:function(){return c(this.gb,this.Tp);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{yY:{get:function(){return c(this.yb,this.Tp);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{a8:{get:function(){return this.nD(this.$n);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{QD:{get:function(){return this.nD(this.gb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{uK:{get:function(){return this.nD(this.yb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{VF:{get:function(){return this.nD(this.pN);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{sda:{get:function(){return this.nD(this.yY);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{hub:{get:function(){return this.nD(this.Tp);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return f(this.ga,this.T)||0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.Ov(this.pN);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Ov(this.yY);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bn:{get:function(){return this.Ov(this.Tp);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Fi:{get:function(){return this.Ov(this.gb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Oc:{get:function(){return this.Ov(this.gb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$d:{get:function(){return this.Ov(this.yb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{qc:{get:function(){return this.Ov(this.pN);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{te:{get:function(){return this.Ov(this.yY);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Tq:{get:function(){return this.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Bu:{get:function(){return this.T;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bG:{get:function(){return this.ga;},enumerable:!0,configurable:!0}});a.prototype.nD=function(a){return void 0===a?void 0:0===a?m.Ta.De:new m.Ta(a,this.W);};a.prototype.Ov=function(a){return a&&Math.floor(m.Ta.Bga(a,this.W));};return a;}();d.wP=g;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(8);g=function(){function a(a,c){this.Bd=a;this.Wb=c.ba;this.Nd=c.offset;}Object.defineProperties(a.prototype,{stream:{get:function(){return this.Bd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.Wb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{offset:{get:function(){return this.Nd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Bd.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.Bd.u;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Bd.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pa:{get:function(){return this.Bd.pa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Bd.R;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Bd.profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{W:{get:function(){return this.Bd.W;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{FF:{get:function(){return this.Bd.FF;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{La:{get:function(){return this.Bd.La;},enumerable:!0,configurable:!0}});a.prototype.toJSON=function(){return{movieId:this.u,streamId:this.pa,offset:this.offset,bytes:this.ba};};return a;}();d.Qx=g;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(26);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.L.offset+=8;this.d7a=this.L.Dg();this.ywb=this.L.Dg();this.L.offset+=4;this.lGa=this.L.Dg();this.L.offset+=2;f.nb&&this.L.console.trace("MP4AudioSampleEntry: channelcount: "+this.d7a+", samplesize: "+this.ywb+", samplerate: "+this.lGa);return b;};d.$b=!1;return d;}(a(228)["default"]);d["default"]=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rq={fC:"PRIMARY",mha:"ASSISTIVE",Vha:"COMMENTARY"};d.C2={assistive:d.rq.mha,closedcaptions:d.rq.mha,directorscommentary:d.rq.Vha,commentary:d.rq.Vha,subtitles:d.rq.fC,primary:d.rq.fC};},function(g){g.P=function(d){return null!=d&&"object"===typeof d&&!0===d["@@functional/placeholder"];};},function(g,d,a){var c,f,m;c=a(116);f=a(52);m=a(175);g.P=function(a){return function k(d,t,q){switch(arguments.length){case 0:return k;case 1:return m(d)?k:f(function(c,f){return a(d,c,f);});case 2:return m(d)&&m(t)?k:m(d)?f(function(c,f){return a(c,t,f);}):m(t)?f(function(c,f){return a(d,c,f);}):c(function(c){return a(d,t,c);});default:return m(d)&&m(t)&&m(q)?k:m(d)&&m(t)?f(function(c,f){return a(c,f,q);}):m(d)&&m(q)?f(function(c,f){return a(c,t,f);}):m(t)&&m(q)?f(function(c,f){return a(d,c,f);}):m(d)?c(function(c){return a(c,t,q);}):m(t)?c(function(c){return a(d,c,q);}):m(q)?c(function(c){return a(d,t,c);}):a(d,t,q);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ija="IDBDatabaseFactorySymbol";d.hka="IndexedDBFactorySymbol";d.r1="IndexedDBStorageFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jTa="NativeLocalStorageSymbol";d.mla="NativeLocalStorageFactorySymbol";d.Jja="IDBFactorySymbol";},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(31);d.ZFb=function(){this.RJ=[];this.cH=[];this.A5=c.Rx.Wx;this.C_=c.yk.Wx;};d.MP="DeviceCapabilitiesConfigSymbol";},function(g,d,a){g=a(259);a=a(258);d.async=new a.S_(g.R_);},function(g,d,a){function c(a){var c,b;c=a.Symbol;if("function"===typeof c)return c.iterator||(c.iterator=c("iterator polyfill")),c.iterator;if((c=a.Set)&&"function"===typeof new c()["@@iterator"])return"@@iterator";if(a=a.Map)for(var c=Object.getOwnPropertyNames(a.prototype),f=0;f<c.length;++f){b=c[f];if("entries"!==b&&"size"!==b&&a.prototype[b]===a.prototype.entries)return b;}return"@@iterator";}g=a(78);d.mTb=c;d.iterator=c(g.root);d.ADb=d.iterator;},function(g,d,a){var c,f,m,q,b,k,p,t;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(10);g=a(49);m=a(66);q=a(491);b=a(490);k=a(261);p=function(a){function b(b){a.call(this,b);this.destination=b;}c(b,a);return b;}(g.Zi);d.hXa=p;a=function(a){function d(){a.call(this);this.ou=[];this.LL=this.Ff=this.closed=!1;this.uga=null;}c(d,a);d.prototype[k.ZA]=function(){return new p(this);};d.prototype.Ag=function(a){var b;b=new t(this,this);b.zA=a;return b;};d.prototype.next=function(a){if(this.closed)throw new q.dC();if(!this.Ff)for(var b=this.ou,c=b.length,b=b.slice(),f=0;f<c;f++)b[f].next(a);};d.prototype.error=function(a){if(this.closed)throw new q.dC();this.LL=!0;this.uga=a;this.Ff=!0;for(var b=this.ou,c=b.length,b=b.slice(),f=0;f<c;f++)b[f].error(a);this.ou.length=0;};d.prototype.complete=function(){if(this.closed)throw new q.dC();this.Ff=!0;for(var a=this.ou,b=a.length,a=a.slice(),c=0;c<b;c++)a[c].complete();this.ou.length=0;};d.prototype.unsubscribe=function(){this.closed=this.Ff=!0;this.ou=null;};d.prototype.L4=function(b){if(this.closed)throw new q.dC();return a.prototype.L4.call(this,b);};d.prototype.ug=function(a){if(this.closed)throw new q.dC();if(this.LL)return a.error(this.uga),m.kl.EMPTY;if(this.Ff)return a.complete(),m.kl.EMPTY;this.ou.push(a);return new b.sna(this,a);};d.prototype.v5=function(){var a;a=new f.Aa();a.source=this;return a;};d.create=function(a,b){return new t(a,b);};return d;}(f.Aa);d.Nj=a;t=function(a){function b(b,c){a.call(this);this.destination=b;this.source=c;}c(b,a);b.prototype.next=function(a){var b;b=this.destination;b&&b.next&&b.next(a);};b.prototype.error=function(a){var b;b=this.destination;b&&b.error&&this.destination.error(a);};b.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};b.prototype.ug=function(a){return this.source?this.source.subscribe(a):m.kl.EMPTY;};return b;}(a);d.kEb=t;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vma="ReportSyncSymbol";d.Uma="ReportApiErrorSyncSymbol";d.vja="FtlProbeConfigSymbol";d.wja="FtlProbeSymbol";},function(g){g.P={Xr:{A2:0,Yma:1,Yi:2,name:["transient","semiTransient","permanent"]},Tr:{oja:0,Wma:1,IQ:2,eI:3,ks:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},WLb:{GLb:0,lIb:1,sFb:2,ks:100,name:["trailer","montage","content"]},oq:{ska:0,Qma:1,TXa:2,SNa:3,ks:100,name:["left","right","up","down"]},NH:{lMa:0,IQ:1,dHb:2,xGb:3,vEb:4,cHb:5,gLa:6,ks:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},VB:{eI:0,pia:1,ks:100,name:["playFocused","detailsOpened"]}};},function(g,d,a){d=a(251);g.P="undefined"!==typeof d&&"undefined"!==typeof nrdp?nrdp.fa:Date.now;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.CQ="PlaygraphHelperSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Tma=function(a,c){var f;this.Bfa=function(){f||(f=setInterval(c,a));};this.v6=function(){f&&(clearInterval(f),f=void 0);};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.xi||(d.xi={});g[g.AHa=1]="sourceopen";g[g.Xn=2]="currentTimeChanged";g[g.VN=3]="seeked";g[g.ARb=4]="needlicense";g[g.OAa=5]="licenseadded";g[g.zHa=6]="sourceBuffersAdded";g[g.Uca=7]="onNeedKey";},function(g,d,a){var c,f,m;Object.defineProperty(d,"__esModule",{value:!0});c=a(18);f=a(19);m=a(15);(function(){var b,k,p;function a(a){c.Pa(void 0!==b[a]);return b[a];}b={'"':'""',"\r":"","\n":" "};k=/["\r\n]/g;p=/[", ]/;d.Y$a=function(b){return m.jc(b)?m.ka(b)?b:m.ee(b)?b.replace(k,a):m.Qza(b)?b:isNaN(b)?"NaN":"":"";};d.qBa=function(a){var b,c;b=d.Y$a;c="";f.dd(a,function(a,f){a=b(a)+"="+b(f);p.test(a)&&(a='"'+a+'"');c=c?c+(","+a):a;});return c;};}());},function(g,d,a){var f,m,q;function c(a,c){this.vq=c?[c]:[];this.D3="$op$"+q++;this.o=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(11);m=a(18);q=0;c.prototype.addListener=function(a,c){var b;b=this;m.mua(a);m.Pa(0>this.vq.indexOf(a));a[f.R1+this.D3]=c;this.vq=this.vq.slice();this.vq.push(a);this.vq.sort(function(a,c){return b.Zyb(a,c);});};c.prototype.removeListener=function(a){var b;m.mua(a);this.vq=this.vq.slice();0<=(b=this.vq.indexOf(a))&&this.vq.splice(b,1);};c.prototype.set=function(a,c){if(this.o!==a){c={oldValue:this.o,newValue:a,kw:c};this.o=a;a=this.vq;for(var b=a.length,f=0;f<b;f++)a[f](c);}};c.prototype.when=function(a){var b;b=this;return new Promise(function(c){function f(k){if(a(k.newValue))return b.removeListener(f),c(k.newValue);}if(a(b.o))return c(b.o);b.addListener(f);});};c.prototype.Zyb=function(a,c){return(a[f.R1+this.D3]||0)-(c[f.R1+this.D3]||0);};ra.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});d.Tc=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.a2="PboBindCommandSymbol";},function(g,d,a){var m,q,b,k,p,t,u,y,D,h,I,C,K,Q,T,l,n;function c(a){var b;b=this;this.j=a;this.esa=this.PAa=!1;this.log=k.Wg(this.j,"Playback");this.cX=k.aa.get(C.PH);this.vj=k.aa.get(T.oy);this.Cc=k.aa.get(l.nC);this.jsb=k.aa.get(n.a2);this.j.addEventListener(Q.S.oM,function(){return b.kCb();});p.Pa(q.config);q.config.iq||(this.dcb=k.aa.get(t.Pia));}function f(a,b){var f;function c(a){return a&&0<a.length&&a[0].Sw;}f=k.aa.get(C.PH);return a.ia&&c(a.kc)?f.release(Object.assign(Object.assign({},b),{ia:a.ia,kc:a.kc})):b.ia&&c(b.kc)?f.release(b):Promise.resolve(m.pd);}Object.defineProperty(d,"__esModule",{value:!0});m=a(11);q=a(12);b=a(30);k=a(5);p=a(18);t=a(498);u=a(2);y=a(62);D=a(44);h=a(51);I=a(15);C=a(159);K=a(157);Q=a(14);T=a(96);l=a(109);n=a(191);c.prototype.VJ=function(a){var k,d,t;function c(){k.j.EGa().then(f)["catch"](a);}function f(b){try{k.j.IEa(b);a(m.pd);k.Oeb();}catch(A){k.log.error("Exception processing authorization response",A);a({$:!1,ca:u.G.xUa});}}k=this;p.JK(this.j.u);p.JK(this.j.Fh);d=this.j.ta;if(d){t=d.expiration;t?(t-=b.y6(),18E5<t?h.Lb(function(){f(d);k.j.dw="ui";}):(this.log.error("manifest is expired",{gap:t}),c())):h.Lb(function(){f(d);k.j.dw="ui";});}else q.config.xo&&this.Cc()?(t=this.Cc().vp(this.j.u,"manifest"))&&t.then(function(a){f(a);k.j.dw="videopreparer";})["catch"](function(a){k.log.warn("manifest not in cache",a);c();}):c();};c.prototype.AL=function(a){var b;b=this;return new Promise(function(c,f){var d,p,t;d=y.md.Lta(a.ei);p=a.Wh.map(function(a){return{sessionId:a.sessionId,dataBase64:k.dt(a.data)};});t=b.j.eib(a.Wh[0].sessionId);d={kg:t.kg,ei:I.is.ul(a.ei)?a.ei:d,wU:[t.Lk],Wh:p,ia:t.ia,rp:a.rp,Zf:t.ta.Zf};b.j.wK&&b.j.wK.OT&&(d.DM=b.j.wK.OT);b.cX.Wy(d).then(function(a){b.j.kc=a.kc;c(a);b.Peb(t);})["catch"](f);});};c.prototype.release=function(a){return f(this.j,a);};c.prototype.Pta=function(){var a;a=this.dcb.create();this.j.Bf&&(a.Xd=this.j.Bf.JE());a.kc=this.j.kc;a.ia=this.j.ia;a.u=this.j.u;return a;};c.prototype.Peb=function(a){this.PAa||(this.PAa=!0,this.j.fireEvent(Q.S.oM,{u:a.u}));};c.prototype.Oeb=function(){var a;a=this;this.esa||(this.esa=!0,this.j.fireEvent(Q.S.o5a),k.aa.get(K.yQ)().then(function(b){b.gzb(a.j);}));};c.prototype.kCb=function(){var a;a=this;this.vj.dF||c.sJa||(c.sJa=!0,D.hTa&&q.config.jCb&&this.jsb.Cf(this.log,{}).then(function(){return a.log.trace("Updated NetflixId");})["catch"](function(b){return a.log.error("NetflixId upgrade failed",u.So(b));}));};d.MMa=c;c.sJa=!1;d.rvb=f;},function(g,d,a){var q,b,k,p,t,u,y,D,h,I,C,K,Q,T,l,n,S;function c(a,c){var B;function d(b){return q.rvb(a,b);}function p(){var a,b,c;b=u.zg("Eme");a=new t.kh.Uu(b,void 0,d,{th:!1,bM:!1});c=u.aa.get(D.kC);return t.kh.Wu(b,"cenc",void 0,{th:!1,bM:!1,iAa:k.config.li,xGa:{bCa:k.config.Swb,Xsa:k.config.Tea,DTb:k.config.Rwb},rx:a,MEa:k.config.Rda,ZG:k.config.ZG,zB:k.config.g8,fSb:k.config.Twb,Zra:c.zK([]),GJa:c.FK([]),YE:k.config.YE});}function g(a,b){var c,f;f=u.aa.get(S.j2)(0,b.movieId,void 0,{},b.xid,l.Eb(n.Rg()),!1,void 0,function(){return null;});k.config.li&&(B.info("secure stop is enabled"),c=a.$?{success:a.$,persisted:!0,ss_km:a.aCa,ss_sr:a.dO,ss_ka:a.yta}:{success:a.$,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.Rc,ErrorExternalCode:a.Vg,ErrorEdgeCode:a.pE,ErrorDetails:a.cause&&a.cause.kb},c.browserua=I.wk,b=u.aa.get(Q.uk),a=u.aa.get(T.Vo).Fm("securestop",a.$?"info":"error",c,f),b.Ac(a));}function h(){function a(a,b){var c;if(!b.kc||0===b.kc.length||!b.kc[0].Sw)return B.error("releaseDrmSession exception: missing valid keySessionData"),f(a,b);if(0<b.kc.length){B.info("Sending the deferred playdata and secure stop data");c=p();return c.create(k.config.Xd).then(function(){return c.yOb(b);}).then(function(c){B.info("Sent the deferred playdata and secure stop data");g(c,b);return f(a,b);})["catch"](function(c){c&&c.code===y.J.nWa&&f(a,b);c&&c.code===y.J.mWa&&f(a,b);B.error("Unable to send last stop",c);g(c,b);throw c;});}B.info("No key session so just send the playdata");return d(b).then(function(){B.trace("Successfully sent stop command for previous session");return f(a,b);})["catch"](function(a){B.error("Unable to send stop command for previous session",a);throw a;});}m(B).then(function(f){var d;d=f.xU.filter(function(a){return!1===a.active;}).map(function(b){return a(f,b);});Promise.all(d).then(function(){B.info("release drm session completed for "+d.length+" entries");c(b.pd);})["catch"](function(a){a=a||{};a.DrmCacheSize=d.length;B.error("Unable to release one or more DRM session data",a);c(b.pd);});})["catch"](function(a){B.error("Unable to load DRM session data",a);c(b.pd);});}B=u.zg("PlayDataManager");c=c||b.Re;k.config.iq?c(b.pd):h();}function f(a,b){return a?a.nea(b):Promise.resolve();}function m(a){var b;if(!d.jva){b=u.aa.get(h.b0);d.jva=new Promise(function(c,f){b.aFa().then(function(){c(b);})["catch"](function(b){a.error("Unable to load DRM data for persistent secure stop",b);f(b);});});}return d.jva;}Object.defineProperty(d,"__esModule",{value:!0});q=a(192);b=a(11);k=a(12);p=a(56);t=a(44);u=a(5);y=a(2);D=a(118);h=a(263);I=a(9);C=a(157);K=a(14);Q=a(42);T=a(61);l=a(4);n=a(30);S=a(196);g=a(24);d.bVa=function(a){var g,D,y,h,B;function d(){D||(a.Zc("pdsb"),D=u.aa.get(C.yQ)().then(function(b){h=b;a.Zc("pdsc");return b;})["catch"](function(b){g.error("Unable to initialize the playdata services",b);a.Zc("pdse");throw b;}));return D;}function q(){y=!0;h&&h.close();p.Le.removeListener(p.Kl,q);}g=u.Wg(a,"PlayDataManager");y=!1;if(!t.kh.Wu||!t.kh.Uu){B={};t.kh.Wu=B.Gb;t.kh.Uu=B.request;}a.Zc("pdctor");a.addEventListener(K.S.kf,function(){p.Le.removeListener(p.Kl,q);});a.addEventListener(K.S.oM,function(){var b;if(!k.config.iq&&a.Bf){b=a.vK.Pta();m(g).then(function(a){return a.fra(b);})["catch"](function(){g.error("Unable to load/add cached DRM data");});}});a.addEventListener(K.S.kf,function(){var b;if(!y){a.dDb();b=[function(){return k.config.iq||!a.Bf?Promise.resolve():new Promise(function(b){var c;g.info("Sending the expedited playdata and secure stop data");c=a.vK.Pta();a.Bf.bPb(c).then(function(b){g.info("Sent the expedited playdata and secure stop data");k.config.li&&a.du.pZ({success:b.$,persisted:!1,ss_km:b.aCa,ss_sr:b.dO,ss_ka:b.yta});return m(g);}).then(function(a){return f(a,c);}).then(function(){b();})["catch"](function(c){g.error("Unable to send the expedited playdata and secure stop data",c);k.config.li&&a.du.pZ({success:c.$,state:c.state,ErrorCode:c.code,ErrorSubCode:c.Rc,ErrorExternalCode:c.Vg,ErrorEdgeCode:c.pE,ErrorDetails:c.cause&&c.cause.kb});b();});});}(),function(){return d().then(function(b){return b.LHa(a.da);}).then(function(){g.info("Sent the playdata");})["catch"](function(a){g.error("Unable to send the playdata",a);});}(),function(){return new Promise(function(a){u.aa.get(Q.uk).flush(!1)["catch"](function(){g.error("Unable to send logblob");a();}).then(function(){a();});});}()];Promise.all(b).then(function(){a.WX();})["catch"](function(){a.WX();});}});p.Le.addListener(p.Kl,q);return{lxb:function(f){a.Zc("pdpb");k.config.uZ||d().then(function(b){return b.send(a.u);}).then(function(){k.config.iq?(a.Zc("pdpc"),f(b.pd)):c(a,function(){a.Zc("pdpc");f(b.pd);});})["catch"](function(){a.Zc("pdpe");f(b.pd);});}};};d.cVa=function(){new Promise(function(a){c({},function(b){a(b);});});};u.aa.get(g.yf).register(y.J.$u,function(a){a(b.pd);});},function(g,d,a){var c,f,m,q,b,k,p,t,u,y,D;Object.defineProperty(d,"__esModule",{value:!0});c=a(11);f=a(12);m=a(56);q=a(30);b=a(2);k=a(18);p=a(5);t=a(19);u=a(9);y=a(153);D=a(15);g=a(24);p.aa.get(g.yf).register(b.J.Xja,function(a){var B,Q,T;function g(){var a;g=c.Re;a=setInterval(h,f.config.xnb);m.Le.addListener(m.Kl,function(b){b&&b.isPopStateEvent?B.trace("popstate event, Lock timers can stay"):(t.dd(Q,function(a,b){localStorage.removeItem(b.mo);}),clearInterval(a));},c.cC);}function h(){var a;a=q.HT();t.dd(Q,function(b,c){b=localStorage.getItem(c.mo);(b=JSON.parse(b))?b.updated=a:b={updated:a,sessionId:T,count:1};localStorage.setItem(c.mo,JSON.stringify(b));});}k.Pa(y.storage);B=p.zg("StorageLock");Q={};T=Date.now()+"-"+Math.floor(1E6*Math.random());d.HG={Wy:function(a,d,k){var m,y,h,C,K,I,l,ca,n,R;function p(a){localStorage.setItem(h,JSON.stringify(a));a={mo:h};Q[h]=a;B.trace("Lock acquired",{Name:a.mo});g();d({$:!0,gX:a});}k=void 0===k?!1:k;m=this;if(localStorage){y=q.HT();h="lock-"+a;C={updated:y,sessionId:T,count:1};try{if(h in localStorage){K=localStorage.getItem(h);I=0;l=JSON.parse(K);D.Nw(l.updated)&&(I=l.updated);ca=u.SH(y-I)*c.vk;n=T===l.sessionId;if(ca<f.config.YAa)if(n)l.count+=1,B.debug("Incremented lock count for existing playbackSession",{id:T,count:l.count}),l.updated=y,p(l);else if(k){R=f.config.YAa-ca+c.vk;B.error("Waiting until current expiration to confirm whether lock is still active",{id:T,count:l.count,Epoch:y,LockEpoch:I,waitTimeoutMs:R});M.setTimeout(function(){return m.Wy(a,d,!1);},R);}else d({$:!1});else B.error("Lock was expired or invalid, ignoring",{Epoch:y,LockEpoch:I}),p(C);}else p(C);}catch(Ea){B.error("Error acquiring Lock",{errorSubCode:b.G.ih,errorDetails:t.Ye(Ea)});d({$:!0});}}else u.VAa?B.error("Local storage access exception",{errorSubCode:b.G.BWa,errorDetails:t.Ye(u.VAa)}):B.error("No localstorage",{errorSubCode:b.G.CWa}),d({$:!0});},release:function(a,b){var f,d;k.Pa(Q[a.mo]==a);if(localStorage){try{f=localStorage.getItem(a.mo);d=JSON.parse(f);1<d.count?(--d.count,localStorage.setItem(a.mo,JSON.stringify(d)),B.trace("Lock count decremented",{Name:a.mo,count:d.count})):(localStorage.removeItem(a.mo),delete Q[a.mo],B.trace("Lock released",{Name:a.mo}));}catch(U){B.error("Unable to release Lock",{Name:a.mo},U);}b&&b(c.pd);}}};f.config.GU?d.HG.Wy("session",function(b){d.HG.PGa=b;a(c.pd);}):a(c.pd);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pi=function(){};d.c2="PboManifestCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.j2="PlaybackSegmentDataFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.h2="PlayPredictionDeserializerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aX=function(a,c,f){var d;if(f.set)throw Error("Property "+c+" has a setter and cannot be made into a lazy property.");d=f.get;f.get=function(){var m,b;m=d.apply(this,arguments);b={enumerable:f.enumerable,value:m};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,c,b):Object.defineProperty(this,c,b);return m;};};},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});d.Hka=a;a.tNa="display";a.gMa="console";a.qKb="remote";a.aMb="writer";},function(g,d,a){var f;function c(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(9);c.R6=function(a){var c;if(f.ke.queryCommandSupported&&f.ke.queryCommandSupported("copy")){c=f.ke.createElement("textarea");c.textContent=a;c.style.position="fixed";f.ke.body.appendChild(c);c.select();try{f.ke.execCommand("copy");}catch(b){console.warn("Copy to clipboard failed.",b);}finally{f.ke.body.removeChild(c);}}};d.f0=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jma="PboPlaydataValidatorSymbol";d.gma="PboPlaydataArrayValidatorSymbol";d.hma="PboPlaydataCollectionValidatorSymbol";},function(g,d,a){var b,k,p,t,u,y;function c(a,b,c,f){this.Ka=a;this.SV=b;this.sa=c;this.profile=f;}function f(){}function m(){}function q(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);b=a(1);k=a(45);p=a(4);t=a(17);u=a(25);a=a(91);q.prototype.encode=function(a){return{downloadableId:a.bd,duration:a.duration};};q.prototype.decode=function(a){return{bd:a.downloadableId,duration:a.duration};};m.prototype.encode=function(a){return{total:a.total,audio:a.audio.map(new q().encode),video:a.video.map(new q().encode),text:a.text.map(new q().encode)};};m.prototype.decode=function(a){return{total:a.total,audio:a.audio.map(new q().decode),video:a.video.map(new q().decode),text:a.text.map(new q().decode)};};f.prototype.encode=function(a){return{type:a.type,href:a.href,xid:a.ia,movieId:a.u,position:a.position,clientTime:a.qK,sessionStartTime:a.eO,mediaId:a.mA,playTimes:new m().encode(a.lN),trackId:a.cb,sessionId:a.sessionId,appId:a.KJ,sessionParams:a.en,mdxControllerEsn:a.Zba,profileId:a.profileId};};f.prototype.decode=function(a){return{type:a.type,href:a.href,ia:a.xid,u:a.movieId,position:a.position,qK:a.clientTime,eO:a.sessionStartTime,mA:a.mediaId,lN:new m().decode(a.playTimes),cb:a.trackId,sessionId:a.sessionId,KJ:a.appId,en:a.sessionParams,Zba:a.mdxControllerEsn,profileId:a.profileId};};d.d2=f;c.prototype.create=function(a){return{href:a.ta&&a.ta.Zf?a.ta.Zf.V9("events").href:"",type:"online",ia:a.ia.toString(),u:a.u,position:a.l7||0,qK:this.Ka.mfa.ea(p.ja),eO:a.ZE?a.ZE.ea(p.ja):-1,mA:this.pgb(a),lN:this.cib(a),cb:void 0!==a.Fh?a.Fh.toString():"",sessionId:this.SV().sessionId||this.sa.id,KJ:this.SV().KJ||this.sa.id,en:a.Va.en||{},profileId:this.profile};};c.prototype.v$a=function(a,b){return Object.assign({},this.create(a),{Zba:b&&b.OT});};c.prototype.load=function(a){return new f().decode(a);};c.prototype.pgb=function(a){var b,c,f;b=a.Wc.value;c=a.eg.value;f=a.Bc.value;return b&&c&&f?(a=a.ta.media.find(function(a){return a.tracks.AUDIO===b.cb&&a.tracks.VIDEO===c.cb&&a.tracks.TEXT===f.cb;}))?a.id:"":"";};c.prototype.d$=function(a){return a.map(function(a){return{bd:a.downloadableId,duration:a.duration};});};c.prototype.cib=function(a){return(a=a.Vl)?(a=a.bib(),{total:a.total,audio:this.d$(a.audio),video:this.d$(a.video),text:this.d$(a.timedtext)}):{total:0,video:[],audio:[],text:[]};};y=c;y=g.__decorate([b.N(),g.__param(0,b.l(k.sk)),g.__param(1,b.l(t.xd)),g.__param(2,b.l(u.xf)),g.__param(3,b.l(a.lI))],y);d.TUa=y;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.sQ="NetworkMonitorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dka="LogMessageRulerConfigSymbol";d.Eka="LogMessageRulerSymbol";},function(g,d,a){var c,f,m,q,b;Object.defineProperty(d,"__esModule",{value:!0});c=a(5);f=a(2);m=a(356);q=a(355);b=a(51);d.XJa=function(a,d){var k,p;try{k=m.tDb(a);}catch(y){c.log.error("xml2xmlDoc exception",y);}b.Lb(function(){if(k&&k.documentElement)try{p=q.uDb(k);}catch(y){c.log.error("xmlDoc2js exception",y);}b.Lb(function(){p?d({$:!0,object:p}):d({$:!1,ca:f.G.pja});});});};},function(g,d,a){var c,f,m,q,b,k,p;Object.defineProperty(d,"__esModule",{value:!0});c=a(18);f=a(20);m=a(11);q=a(127);b=a(9);k=a(15);p=a(19);d.Hrb=function(){var fa,V,ma,A,sa,oa,O,ia,Ea,wa,Fa,Ga;function a(a){if(f.bA(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return d.Nrb[a];}}function g(a,c,f){c=c[a];0<=c||(c=parseFloat(a));if(0<=c)return b.Wo(c,f);}function y(a,b){var c,f;c=a.length;f=a[c-1];if("t"===f)return parseFloat(a)*b|0;if("s"===f)return"m"===a[c-2]?parseFloat(a)|0:parseFloat(a)*m.vk|0;if((a=a.match(Ea))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*m.vk|0;throw Error("dfxp-badtime");}function D(a,b,c,f,d){var k,p,t,m,q,g,u,y;if(a){p=a.style;c=p?c[p]:void 0;f=(p=a.region)?f[p]:void 0;p=d.length;for(t=0;t<p;t++)if(m=d[t],q=a[m],void 0===q&&c&&(q=c[m]),void 0===q&&f&&(q=f[m]),void 0!==q&&q!==b[m]){if(!k)for(k={},g=0;g<p;g++)u=d[g],y=b[u],void 0!==y&&(k[u]=y);k[m]=q;}}return k||b;}function h(a,b,c,d,k,p,t,m,g){var y,h;function u(a,B,C){var K,I,T,l,ca,n;K=a[q.Fj];I=K.style||B.style||"";T=K.region||B.region||"";I||T?(l=I+"/"+T,ca=c[l]):ca=b;if(!ca){ca=b;n=f.iO(d);f.fb(n,k[I]);ca=Q(ca,n,t,m,g);c[I+"/"]=ca;T&&(f.fb(n,p[T]),f.fb(n,k[I]),ca=Q(ca,n,t,m,g),c[l]=ca);}if(!C)a:{for(C=oa.length;C--;)if(void 0!==K[oa[C]]){C=!0;break a;}C=void 0;}C&&(K=D(K,B,k,p,O),ca=Q(ca,K,t,m,g));B=(a=a[q.K_])&&a.length;for(I=0;I<B;I++)T=a[I],f.qf(T)?wa.test(T[q.L_])?h++:u(T,K,C):(y.push({text:T,lineBreaks:h,style:ca}),h=0);}y=[];h=0;u(a,d,!1);0<h&&y.push({text:"",lineBreaks:h,style:b});return y;}function I(a,b,c,f,d,k,p,t){var m,q;c&&(c=V[c]||"top",a.verticalAlignment!==c&&(a.verticalAlignment=c));f&&(c=ma[f]||"left",a.horizontalAlignment!==c&&(a.horizontalAlignment=c));d?((q=t[d])?(f=q.marginLeft,c=q.marginTop):(m=d.split(" "),f=n(m[0],p.x)||0,c=n(m[1],p.y)||0,q={Hm:0,marginLeft:f,marginTop:c,X3a:f*b.G$+b.KL,Z3a:c*b.aha+b.A_},30>t.Hm&&(t.Hm++,t[d]=q)),a.marginLeft=q.X3a,a.marginTop=q.Z3a):(c=f=0,(q=t["default"])||(t["default"]=q={Hm:0}));k&&(d=q[k],d||(m=k.split(" "),d={Y3a:(1-(f+(n(m[0],p.x)||0)))*b.G$+b.KL,W3a:(1-(c+(n(m[1],p.y)||0)))*b.aha+b.A_},30>q.Hm&&(q.Hm++,q[k]=d)),a.marginRight=d.Y3a,a.marginBottom=d.W3a);}function C(a,b,c,d,k){var p,t,m;p=a.displayAlign;t=a.textAlign;m=a.origin;a=a.extent;c=f.iO(c);I(c,b,p,t,m,a,d,k);c.id=fa++;return c;}function K(b,c,k,p){var t,m,q,u,y,D;t=g(k.characterSize||c.characterSize,d.Orb,2)||1;m=(m=b.fontSize)&&Fa.test(m)?f.js(f.fe(m),25,200):void 0;t*=m/100||1;m=b.textOutline;if(m&&"none"!=m){u=m.split(" ");Ga.test(u)?(D=0,y=b.color):(D=1,y=a(u[0]));q=l(u[D]);u=l(u[D+1]);}return{characterStyle:k.characterStyle||d.Prb[b.fontFamily]||c.characterStyle,characterSize:t*p,characterColor:a(k.characterColor||b.color||c.characterColor),characterOpacity:g(f.A6(k.characterOpacity,b.opacity,c.characterOpacity),d.dda,1),characterEdgeAttributes:k.characterEdgeAttributes||m&&("none"===m?d.Lrb:u?d.cda:d.MDa)||c.characterEdgeAttributes,characterEdgeColor:a(k.characterEdgeColor||y||c.characterEdgeColor),characterEdgeWidth:q,characterEdgeBlur:u,characterItalic:"italic"===b.fontStyle,characterUnderline:"underline"===b.textDecoration,backgroundColor:a(k.backgroundColor||b.backgroundColor||c.backgroundColor),backgroundOpacity:g(f.A6(k.backgroundOpacity,b.opacity,c.backgroundOpacity),d.dda,1)};}function Q(a,c,f,d,k){var t;c=K(c,f,d,k);p.dd(c,function(c,f){f!==a[c]&&(t||(t=b.dI(a)),t[c]=f);});return t||a;}function T(a,c,f,d,k,p,t,m){var g;g=a[q.Fj];f=D(a[q.Fj],c,f,k,ia);c=f.region;a=g.displayAlign;f=f.textAlign;k=g.origin;g=g.extent;c||a||f||k||g?((d=d[c])?d=b.dI(d):a||k||g?(d=b.dI(sa),d.id=fa++):d=b.dI(A),I(d,p,a,f,k,g,t,m)):d=A;return d;}function l(a){a=f.fe(a);return k.Nw(a,0,100)?a:0;}function n(a,b){var c;c=a[a.length-1];if("%"===c)return f.js(.01*parseFloat(a),0,1);if("c"===c)return f.js(f.fe(a)/b,0,1);}function S(a){for(var c=a.length,f=a[--c].endTime;c--;)f=b.Wo(a[c].endTime,f);return f;}function N(b){p.dd(b,function(c,f){0<=c.toLowerCase().indexOf("color")&&(b[c]=a(f));});}function U(a,f){var d,k,p,t;d=a.pixelAspectRatio;t={KL:0,G$:1,A_:0,aha:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(d=(d||"").split(" "),k=parseFloat(a[0])*(parseFloat(d[0])||1),p=parseFloat(a[1])*(parseFloat(d[1])||1));k=0<k&&0<p?k/p:1280/720;f=f||1280/720;d=k/f;.01<b.SH(f-k)&&(f>=k?(t.KL=(1-d)/2,t.G$=d):c.Pa(!1,"not implemented"));return t;}function r(a){var b,c,k,p,t;if(b=a.cellResolution)if(b=b.split(" "),2<=b.length){c=f.fe(b[0]);b=f.fe(b[1]);if(0<c&&0<b)return{x:c,y:b};}b=a.extent;if(b&&(b=b.split(" "),2<=b.length)){c=f.fe(b[0]);t=f.fe(b[1]);if(a=a.pixelAspectRatio)b=a.split(" "),k=f.fe(b[0]),p=f.fe(b[1]);if(c&&t&&1.5<c*(k||1)/(t*(p||1)))return d.Jrb;}return d.Irb;}fa=1;V={before:"top",center:"center",after:"bottom"};ma={left:"left",start:"left",center:"center",right:"right",end:"right"};A={id:fa++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};sa={id:fa++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};oa="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");O=oa.concat(["style","region"]);ia=["region","textAlign","displayAlign","extent","origin"];Ea=/^([0-9]+):([0-9]+):([0-9.]+)$/;wa=/^br$/i;Fa=/^[0-9]{1,3}%$/;Ga=/^[0-9]/;return function(c,k,p,t,u){var l,ca,n,R,A,V,ma,W,wa,ka,oa,Ea,Fa,Ga,$a,Ca,z,G,ab,M,P,X,Z,da,fc,ea,ga,ha,Ie,rc;function B(){try{for(var a;Z;)if(wa=Z[q.Fj],da.push({id:fa++,startTime:y(wa.begin,n),endTime:y(wa.end,n),region:T(Z,ea,V,W,ma,R,Ga,G),textNodes:h(Z,ga,ha,fc,V,ma,Ca,z,$a)}),Z=Z[q.hH],a=b.LP(),100<a-Ie){Ie=Date.now();rc=setTimeout(B,1);return;}}catch(nf){Q({ca:f.G.SP,kb:f.Ye(nf)});return;}rc=setTimeout(I,1);}function I(){var b,c,d,k,p,t,m;function a(a,d){for(var k,p=[],t={},m,q=c.length;q--;)k=c[q],m=k.region.id,t[m]||(t[m]=1,p.unshift(k));(k=b[b.length-1])&&k.endTime==a&&f.gw(k.blocks,p)?k.endTime=d:b.push({id:fa++,startTime:a,endTime:d,blocks:p});}try{if(!da.length){Q({$:!0,entries:[]});return;}f.x4a(da);b=[];c=[];d=da[0];p=da[0].startTime;for(t=1;c.length||d;){for(;!c.length||d&&d.startTime==p;)c.push(d),p=d.startTime,d=da[t++];k=S(c);if(!d||k<=d.startTime)for(a(p,k),p=k,m=c.length;m--;)c[m].endTime<=p&&c.splice(m,1);else a(p,d.startTime),p=d.startTime,c.push(d),d=da[t++];}for(t=b.length;t--;)b[t].index=t,b[t].previous=b[t-1],b[t].next=b[t+1];}catch(of){Q({ca:f.G.SP,kb:f.Ye(of)});return;}Q({$:!0,entries:b});}function Q(a){setTimeout(function(){l.abort=f.Re;u(a);},1);}l={abort:function(){rc&&clearTimeout(rc);}};try{ca=c[q.Fj];n=m.vk/(f.fe(ca.tickRate)||1);R=U(ca,k);A=f.fb(sa,{marginLeft:R.KL,marginTop:R.A_,marginRight:R.KL,marginBottom:R.A_});V={};ma={};W={};Ea=c.head;Fa=c.body;Ga=r(ca);$a=1/Ga.y*R.aha;Ca=f.fb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:d.cda,characterEdgeColor:"#000000",characterSize:1},p,{qu:!0});z=t||{};G={Hm:0};if(Ea){ab=Ea.styling;if(ab)for(oa=ab.style;oa;)wa=oa[q.Fj],N(wa),V[wa.id]=wa,oa=oa[q.hH];M=Ea.layout;if(M)for(var nb=M.region;nb;){wa=nb[q.Fj];P=wa.id;ka=f.iO(V[wa.style]);ka=f.fb(ka,wa);for(oa=nb.style;oa;)f.fb(ka,oa[q.Fj]),oa=oa[q.hH];N(ka);ma[P]=ka;W[P]=C(ka,R,A,Ga,G);nb=nb[q.hH];}}X=Fa.div;Z=X.p;da=[];fc={};fc=D(Fa[q.Fj],fc,V,ma,O);fc=D(X[q.Fj],fc,V,ma,O);ea={};ea=D(Fa[q.Fj],ea,V,ma,ia);ea=D(X[q.Fj],ea,V,ma,ia);ga=K(fc,Ca,z,$a);f.fb(ga,{windowColor:a(z.windowColor||Ca.windowColor),windowOpacity:g(f.A6(z.windowOpacity,Ca.windowOpacity),d.dda,1),cellResolution:Ga},{qu:!0});ha={};X.p=void 0;X[q.K_]=[];}catch(mf){Q({ca:f.G.SP,kb:f.Ye(mf)});return;}Ie=b.LP();rc=setTimeout(B,1);return l;};}();d.Prb={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};d.Orb={SMALL:.5,MEDIUM:1,LARGE:2};d.dda={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d.Nrb={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};d.Lrb="NONE";d.Mrb="RAISED";d.Krb="DEPRESED";d.MDa="UNIFORM";d.cda="DROP_SHADOW";d.Irb={x:40,y:19};d.Jrb={x:52,y:19};},function(g,d,a){var q;function c(){}function f(a,c){this.Un=a;void 0!==c?(q(c<=a.Co,"require remain_sec <= chunk.sec but has "+c+" and "+a.Co),this.Si=c):this.Si=a.Co;}function m(a){void 0===a&&(a=[]);this.xh=[];this.dg=this.Dj=0;for(var b in a)this.add(a[b],void 0);}q=a(8).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.Vn=function(){return new f(this.Un,this.Si);};m.prototype.constructor=m;m.prototype.add=function(a,c){a=new f(a,c);this.xh.push(a);this.dg+=a.Si;this.Dj+=a.Un.Rt()*a.Si;};m.prototype.Vn=function(){var a,c;a=new m(void 0);for(c in this.xh)a.add(this.xh[c].Un,this.xh[c].Si);return a;};m.prototype.zp=function(){try{return this.xh[0];}catch(b){}};m.prototype.gEa=function(a){var b;for(q(0<=a,"unexpected play_for_x_sec: x="+a);0<a;){if(void 0===this.zp())throw new c();if(a<this.zp().Si){b=this.zp().Un.Rt()*a;this.zp().Si-=a;this.dg-=a;this.Dj-=b;a=0;}else b=this.xh.shift(),this.dg-=b.Si,this.Dj-=b.Un.Rt()*b.Si,a-=b.Si;}};m.prototype.Qsb=function(a){var f;q(0<=a,"unexpected play_y_kb: y="+a);for(var b=0;0<a;){if(void 0===this.zp())throw new c();if(a<this.zp().Si*this.zp().Un.Rt()){f=a/this.zp().Un.Rt();this.zp().Si-=f;this.dg-=f;this.Dj-=a;b+=f;a=0;}else f=this.xh.shift(),this.dg-=f.Si,this.Dj-=f.Un.Rt()*f.Si,b+=f.Si,a-=f.Un.Rt()*f.Si;}return b;};g.P={Sha:m,LLa:c};},function(g){g.P={Hya:function(d){var a;if(d&&0!==d.length){a=[];d.forEach(function(c){var f;void 0===c.error.code&&(c.error.code=0);void 0===c.error.description&&(c.error.description="Unknown");a.forEach(function(a){c.error&&c.error.code==a.error.code&&c.error.description===a.error.description&&(f=a);});f?f.ON.push(c.dn):a.push({error:c.error,ON:[c.dn]});});return a;}},kxa:function(d){var a;a={freeSize:d.nj,dailyBytesRemaining:d.$D,bytesWritten:d.Di,time:d.time,duration:d.duration};d.items&&(a.items=d.items.map(function(a){return{key:a.key,operation:a.rf,itemBytes:a.QW,error:a.error};}));return a;},zr:function(d){return d["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(g){g.P={Kka:{code:-1,description:"MediaCache is not supported."},sKb:{code:100,description:"Resource was not found"},XRa:{code:101,description:"Resource Metadata was not found"},hC:{code:102,description:"Read failed",ln:function(d,a){return{code:this.code,description:d,cause:a};}},WQ:{code:200,description:"Daily write limit exceeded"},KB:{code:201,description:"Capacity has been exceeded"},VQ:{code:202,description:"Write failed, cause unknown",ln:function(d,a){return{code:this.code,description:d,cause:a};}},bMb:{code:203,description:"Write failed, cause unknown"},mNa:{code:300,description:"Failed to delete resource",ln:function(d,a){return{code:this.code,description:d,cause:a};}},av:{code:900,description:"Invalid partition name"},SQa:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},sia:{code:701,description:"Failed to initialize underlying disk cache."},WRa:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(115).Qva;d.Pdb=function(a,c,d){var b,f,p;b=0;if(d){a.some(function(a){var d;d=a.b;a=a.m;if(c<=d)return b=p&&d!==f?p+(a-p)/(d-f)*(c-f):a,!0;f=d;b=p=a;return!1;});}else a.some(function(a){b=a.m;return c<=a.b;});return b;};d.KA=function(a,d,q){var b;d=(null===(b=d.Da)||void 0===b?void 0:b.Ca)||0;return a.F5a?(a=c(a.E5a,q.Dl-q.Xc,1),d*(1-a)):d*a.c_/100;};d.Kra=function(a,c){return a<2*c?a/2:a-c;};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(760);f=a(759);d["default"]=function(a,d){switch(a.Kba){case"manifold":return new c.zSa(a,d);default:return new f.UWa(a,d);}};},function(g,d,a){var c;d=a(777);c=a(373);a=a(775);g.P={STARTING:a.AGa,BUFFERING:d.bfa,REBUFFERING:d.bfa,PLAYING:c.rZ,PAUSED:c.rZ};},function(g,d,a){var c,f,m,q,b;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(69);m=a(8);g=a(43);q=a(384);b=a(70);a=function(a){function d(c,f,d,k,p){d=a.call(this,c,f,d,k,p)||this;b.pi.call(d,c,f);d.Wb=0;d.Qa||d.yj();d.Ci=!1;return d;}c.__extends(d,a);Object.defineProperties(d.prototype,{Xb:{get:function(){return!1;},enumerable:!0,configurable:!0}});d.prototype.push=function(b){this.Wb+=b.ba;a.prototype.push.call(this,b);};d.prototype.Xz=function(){return!this.Ci&&!!this.wa.length&&this.wa.every(function(a){return a.Xz();});};d.prototype.vD=function(a,b){m.assert(!this.Ci);this.Ci=this.wa.every(function(c){return c.Xz()?c.vD(a,b,void 0,void 0):!1;});return{$:this.Ci};};d.prototype.svb=function(){this.wa.forEach(function(a){a.HN();});};d.prototype.qj=function(){return this.wa?this.wa[0].qj()+"-"+this.wa[this.wa.length-1].qj():"empty";};d.prototype.toString=function(){return b.pi.prototype.toString.call(this)+"(aggregate)";};d.prototype.toJSON=function(){var c;c=a.prototype.toJSON.call(this);f(b.pi.prototype.toJSON.call(this),c);return c;};return d;}(q.Aha);d.EB=a;g.Wi(b.pi,a);},function(g,d,a){var c,f,m,q,b,k,p,t,u;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);a(8);g=a(43);f=a(213);m=a(70);q=a(169);b=a(13);k=a(69);p=a(3).Lj;t=a(791);a=a(790);u=function(a){var j4t;j4t=2;while(j4t!==3){switch(j4t){case 2:c.__extends(d,a);d.create=function(a,c,k,m,g,u,y){var w4t,D,h,B,Y4t;w4t=2;while(w4t!==19){Y4t="s";Y4t+="u";Y4t+="b";Y4t+="req";Y4t+="uest";switch(w4t){case 2:w4t=!c.$c&&m.Qa&&a.M===b.Fa.VIDEO&&p.oc&&p.oc.mG.ty?1:5;break;case 5:w4t=m.kA&&m.ba>m.kA?4:20;break;case 1:return new t.OKa(a,k,m,g,u,c,y);break;case 4:D=Math.ceil(m.ba/m.kA);u=m.offset;h=m.ba;g=new f.EB(a,m,g,c,y);w4t=7;break;case 7:D=Math.ceil(m.ba/D);w4t=6;break;case 20:return new d(a,k,m,g,u,c,y);break;case 6:w4t=0<h?14:10;break;case 14:B={offset:u,ba:Math.min(h,D),responseType:m.responseType};u+=B.ba;h-=B.ba;w4t=11;break;case 11:g.push(new q.FB(a,k,Y4t,B,g,c,y));w4t=6;break;case 10:return g;break;}}};d.prototype.toString=function(){var q4t;q4t=2;while(q4t!==1){switch(q4t){case 2:return q.FB.prototype.toString.call(this)+":"+m.pi.prototype.toString.call(this);break;}}};return d;break;}}function d(b,c,f,d,k,t,q){var G4t,g,f4t,F4t,A4t;G4t=2;while(G4t!==6){f4t="e";f4t+="d";f4t+="i";f4t+="t";F4t="c";F4t+="a";F4t+="ch";F4t+="e";A4t="1SIYbZrNJ";A4t+="Cp";A4t+="9";switch(G4t){case 2:g=this;A4t;G4t=5;break;case 9:g=a.call(this,b,c,g,f,d,t,q)||this;m.pi.call(g,b,f);return g;break;case 5:g=[F4t,f4t].filter(function(a,b){var B4t;B4t=2;while(B4t!==1){switch(B4t){case 4:return[k,f.Qa][b];break;B4t=1;break;case 2:return[k,f.Qa][b];break;}}});g=g.length?"("+g.join(",")+")":"";void 0===f.responseType&&(f.responseType=f.Qa||p.oc&&!p.oc.mG.ty?0:1);G4t=9;break;}}}}(q.FB);d.O_=u;k(a["default"],u.prototype);g.Wi(m.pi,u,!1);},function(g,d,a){var f,m,q,b,k,p,t;function c(a){return a.kd(p.Ta.Mm(Math.floor(a.Ma)));}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);g=a(27);m=a(6);q=a(13);b=a(3);k=a(795);p=a(29);t=a(8);d.sCa=c;a=function(a){function d(b,c,f,d,k,p,t){var m,q;q=a.call(this)||this;q.I=b;q.Ve=c;q.Ue=f;q.mc=d;q.K=k;q.V=p;q.Df=t;q.Md=q.I.error.bind(q.I);q.Ia=q.I.warn.bind(q.I);q.fj=q.I.trace.bind(q.I);null===(m=d.events)||void 0===m?void 0:m.addListener("ready",function(){q.rv();});q.reset();return q;}f.__extends(d,a);Object.defineProperties(d.prototype,{endOfStream:{get:function(){return this.BR;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{sT:{get:function(){return this.mc?this.mc.sT:-1;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{QJa:{get:function(){return this.fp.length;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{BAa:{get:function(){return this.Dv;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{XHa:{get:function(){return!!this.mc.Ddb;},enumerable:!0,configurable:!0}});d.prototype.reset=function(a){var b,c;this.Gs=!1;a||(this.fp=[]);this.SR=this.Dv=this.A3=this.RC=void 0;this.aD=p.Ta.De;this.Hy=void 0;this.sGa=new k.KWa(this.K,this.I);this.BR=!1;this.C4(p.Ta.De);null===(c=(b=this.mc).reset)||void 0===c?void 0:c.call(b);};d.prototype.bfb=function(){this.A3=!0;};d.prototype.pause=function(){this.Gs=!0;};d.prototype.resume=function(){this.Gs=!1;this.rv();};d.prototype.Kxa=function(){return this.Dv&&this.Dv.te;};d.prototype.V4a=function(a){var b;if(this.K.wva){b=a.Sa.Dd;if(a.Oc>=b.ga)return;a.bn!==b.Ed&&a.$Ga(new p.Ta(b.Ed,1E3));}this.fp.push(a);this.rv();};d.prototype.gq=function(){this.rv();};d.prototype.$Y=function(a){a=this.fp.indexOf(a);-1!==a&&this.fp.splice(a,1);};d.prototype.qqb=function(a,b){this.K.r5&&b&&m.U(this.Dv)&&this.noa(a,0);this.rv();};d.prototype.XX=function(){this.BR||(this.BR=!0,this.rv(),this.XHa||this.mc.endOfStream());};d.prototype.wZ=function(){return JSON.stringify(this.fp);};d.prototype.C4=function(a){this.Lqa=a;this.mc.iyb(a.Cb,a.W);};d.prototype.rv=function(){var a,c,f,d,k,p,t,m;a=this.K;if(this.fp.length)if(this.mc&&!1!==this.mc.ready){c=this.fp[0];if(this.Gs)this.bD("@"+b.time.fa()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(c));else if(!c.complete&&c.Lza())this.Ia("aborted MediaRequest should not appear in the toAppend list"),this.bD("@"+b.time.fa()+", append: removing aborted request from toAppend: "+c.toString()),this.fp.shift();else{f=c.stream;d=f.O;if(f.bi)if(this.Ayb(f,c.index))this.A3=!1,this.noa(f,c.index);else if(f=this.V.dr(d.u)||d.Xh||this.Dkb(f),!a.kP||f){k=c.qc-this.V.sd();if(!(this.Ve===q.Fa.AUDIO&&c.$t&&c.Qa&&!a.Fr&&!this.BR&&1===this.fp.length&&k>a.mCa)){if(a.wva||a.Jcb){f=c.Sa.Dd;p=this.tbb();if(p){t=f.Gi;m=c.$d>=p;k=k>a.mCa;if(p<f.ga&&m&&k&&!t)return;}}a.fsb&&this.Df&&(a=this.Df(d.Ua))&&!a.LJ?this.pause():(this.fp.shift(),this.DYa(c));}}}}else this.bD("@"+b.time.fa()+", append: not appending, sourceBuffer not ready");};d.prototype.Ayb=function(a,b){var c;if(this.A3||void 0===this.RC||a.pa!==this.RC.pa)return!0;a=a.bi;t.assert(a);c=this.RC.Vza;return c===a.length-1?!1:b>=a[c+1].Kz;};d.prototype.Dkb=function(a){if(void 0===this.RC)return!1;a=a.bi;t.assert(a);return!1===a[this.RC.Vza].lj;};d.prototype.tbb=function(){throw Error("not supported");};d.prototype.zYa=function(a){var b,c;if(a.ii){c=null===(b=this.Ue.oc)||void 0===b?void 0:b.FOb;this.K.sCb&&void 0!==c&&0<=c?(b=new p.Ta(c,48E3),this.aD=a.ii.add(b)):this.K.$y&&(this.aD=a.ii);}};d.prototype.noa=function(a,c){var f;f=a.bi.reduce(function(a,b,f){return b.Kz<=c?f:a;},0);if(this.mc.appendBuffer(a.bi[f].data,{Xb:!0,profile:a.profile}))this.bD("@"+b.time.fa()+", header appended, streamId: "+a.pa),this.RC={pa:a.pa,Vza:f},this.K1a(a.O.Ua||0,a.pa,f),this.zYa(a),this.rv();else throw this.Ia("appendHeader error: "+this.mc.error),this.bD("@"+b.time.fa()+", appendHeader error: "+this.mc.error),Error("appendHeaderError");};d.prototype.DYa=function(a){var c,f,d,k,t,m,g,u;t=a.hub||p.Ta.De;m=a.Sa.Dd.la;m.ga&&Infinity!==m.ga&&(m=new p.Ta(m.ga,1E3).add(t).zh,Infinity===this.Ue.duration||this.Ue.duration<m)&&(this.Ue.duration=m);if(void 0===this.SR||t&&!t.equal(this.SR))m=this.aD.add(this.sGa.sv).add(t),this.C4(m),this.SR=t;t=this.sGa.Pea(this.Ve,a,this.Hy,this.aD,this.SR,this.Dv,this.L_a,this.C4.bind(this),this.M1a.bind(this));m=t.Pea;g=t.hcb;t=t.h5a;if(void 0===this.Dv&&!this.K.gca&&a.stream.ii&&this.K.On){u=null===(c=a.QD)||void 0===c?void 0:c.kd(a.stream.ii).add(this.Lqa);u.lessThan(p.Ta.De)&&a.Y7(Math.ceil(u.RM(-1).Ct(a.stream.La)));}m=a.vD(this.mc,this.Ue.oc,this.Dv,this.fp[0],m,g);c=m.$;(m=m.Tm)&&this.emit(m.type,m);if(c)void 0===this.Hy||this.Ve!==q.Fa.AUDIO||a.VF.equal(this.Hy.add(t))||(this.F1a(a,this.Hy.add(t)),this.Hy=void 0),this.bD("@"+b.time.fa()+", request appended, type: "+a.M+", streamId: "+a.pa+", pts: "+a.qc+"-"+a.te),this.Dv=a,a.$t?(this.Hy=a.sda,this.L_a=this.WYa(a,this.Lqa||p.Ta.De),null===(d=(f=this.mc).Ddb)||void 0===d?void 0:d.call(f,a.zGa),this.K.YO&&(null===(k=a.zGa)||void 0===k?0:k.Wlb)&&this.XX()):this.Hy=void 0,this.L1a(a),this.rv();else{if(void 0!==this.mc.error){if("done"===this.mc.error)return;this.Md("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.mc.error);throw this.mc.error;}a=Error("failure to append queued mediaRequest: "+(a&&JSON.stringify(a))+" err: "+this.mc.error);this.Md(a.message);throw a;}};d.prototype.WYa=function(a,b){var f,d;f=a.stream.La;d=a.uK;this.K.On&&a.stream.ii&&(d=d.kd(a.stream.ii));return c(d.kd(f)).add(c(f)).add(c(b));};d.prototype.K1a=function(a,b,c){a={type:"headerAppended",mediaType:this.Ve,manifestIndex:a,streamId:b,isIndex:c};this.emit(a.type,a);};d.prototype.L1a=function(a){a={type:"requestAppended",mediaType:this.Ve,request:a};this.emit(a.type,a);};d.prototype.bD=function(a){a={type:"managerdebugevent",message:a};this.emit(a.type,a);};d.prototype.F1a=function(a,b){var c;c=a.Oc;a=a.VF.kd(b).Ma;c={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[c,a]}}};this.emit(c.type,c);};d.prototype.M1a=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.Ma,minavsyncerror:b.Ma}};this.emit(a.type,a);};return d;}(g.EventEmitter);d.Rha=a;},function(g,d,a){var c,f,m,q,b,k,p,t;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(27);f=a(128);m=a(82);q=a(3);b=a(16);a=a(43);k=q.Promise;p=function(){function a(a,c){this.console=a;this.Jf=c;this.k0a=this.wR=0;this.hg=[];this.console=b.Ww(q,this.console,"QueueIterator:");}Object.defineProperties(a.prototype,{zta:{get:function(){var a;for(a=0;a<this.hg.length&&this.hg[a].cM;a++);return a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{count:{get:function(){return this.Jf;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ml:{get:function(){return 0===this.Jf;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wea:{get:function(){var a;for(a=0;a<this.hg.length&&this.hg[a].Eaa;a++);return a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{head:{get:function(){var a;a=this.hg[0];return(a=a&&a.item)&&!a.done&&a.value;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Bca:{get:function(){var a;for(a=0;a<this.hg.length&&this.hg[a].cM;a++);return a;},enumerable:!0,configurable:!0}});a.prototype.s8=function(){var a;if(void 0===this.Jf){a=this.console;m.nb&&a&&a.trace("QueueIterator: enqueueEnd");this.Tga(this.Bca-(this.Jf||0));}};a.prototype.Jx=function(){return this.hg.map(function(a){return a.item;});};a.prototype.Tga=function(a){var b;m.nb&&this.console.trace("updateCount",{PRb:this.Jf,dE:a});if(void 0!==this.Jf){b=this.hg[this.Jf];b&&this.uaa(b);}this.Jf=void 0===this.Jf?a:void 0===a?a:this.Jf+a;void 0!==this.Jf&&(this.Jf=Math.max(0,this.Jf),(b=this.hg[this.Jf])&&b.hF.resolve({done:!0}));};a.prototype.enqueue=function(a){m.nb&&this.console.trace("Enqueue called");return this.dub(this.Bca,{value:a,done:!1}).Lua.yr;};a.prototype.kG=function(){m.nb&&this.console.trace("resetEnd");this.Tga(void 0);};a.prototype.clear=function(a){var b,c,f;m.nb&&this.console.trace("clear");this.Tda();b=this.wea;c=this.hg.length-b;if(0<c){f={index:b,Rca:c};m.nb&&this.console.trace("Removing items",f);this.hg.splice(b,c);this.emit("onRemoved",f);}for(c=1;c<b;c++)this.uaa(this.hg[c]);this.Jf=void 0;this.Tga(a?a+b:a);this.wR&&(this.wR=0);};a.prototype.Ixa=function(){var a,c;a=this;c=b.Ww(q,this.console,"QueueIteratorInstance::");return new t(this,function(b){return a.cya(b);},c);};a.prototype.Kua=function(){var a;if(0<this.wea){a=this.hg[0];if(a.cM)return m.nb&&this.console.trace("dequeue",a.id),this.Tda(1),this.emit("onDequeue",a.hF.yr);}};a.prototype.remove=function(a){var b,c,f;for(b=0;b<this.hg.length;b++){c=this.hg[b];f=c.item;if(f&&!f.done&&f.value===a){this.hg.splice(b,1);m.nb&&this.console.trace("removed",{id:c.id});this.emit("onRemoved",{index:b,Rca:1});break;}}};a.prototype.Tda=function(a){var b;a=a||Math.min(this.wea,this.Bca);if(0<a){b=this.hg.splice(0,a);this.Jf&&(this.Jf-=a);m.nb&&this.console.trace("pruned",a);setTimeout(function(){b.forEach(function(a){a.Lua.resolve();});},0);this.emit("onRemoved",{index:0,Rca:a});this.wR+=a;}};a.prototype.cya=function(a){var b;m.nb&&this.console.trace("getNextItemCalled",{offset:a});if(void 0===this.count||0<this.count){this.zza(a);b=this.hg[a];b.NFa.resolve();a=b.hF.yr;m.nb&&this.console.trace("getNextItem:return",{id:b.id});}else m.nb&&this.console.trace("getNextItem:returnDone"),a=k.resolve({done:!0});return a;};a.prototype.dub=function(a,b){var c;c=!b.done&&b.value;c=c&&c.toJSON?c.toJSON():c;m.nb&&this.console.trace("Providing result",{v4a:a,item:c});this.zza(a);a=this.hg[a];c=a.hF.resolve;c(b);return a;};a.prototype.zza=function(a){var b;if(void 0===this.hg[a]){b={};this.uaa(b);this.hg[a]=b;a===this.Jf&&b.hF.resolve({done:!0});m.nb&&this.console.trace("Item initialized",{v4a:a});}};a.prototype.b7=function(a){var b;b={};b.yr=new k(function(c,f){b.resolve=function(b){c(b);a&&a(b);};b.reject=f;});return b;};a.prototype.uaa=function(a){var b;b=this;a.hF=this.b7(function(c){a.item=c;a.cM=!0;m.nb&&b.console.trace("Item resolved",{id:a.id});});a.id&&a.Eaa&&!a.cM&&(a.hF.resolve({done:!0}),m.nb&&this.console.warn("Overwriting requested queue item",a.id));a.Lua=this.b7();a.NFa=this.b7(function(){a.Eaa=!0;m.nb&&b.console.trace("Item requested",{id:a.id});});a.id=this.k0a++;a.Eaa=!1;a.cM=!1;a.item=void 0;};return a;}();d.n2=p;a.Wi(g.EventEmitter,p);t=function(a){function b(b,c,f){var d;d=a.call(this,function(){m.nb&&d.console.trace("Next item requested",{index:d.index});return d.pwb(d.index++);})||this;d.parent=b;d.pwb=c;d.console=f;d.OC=!1;d.index=0;d.UI=!1;d.rDa=function(a){var b;b=a.index;a=a.Rca;d.index>=b&&(d.index=Math.max(b,d.index-a));b=d.console;m.nb&&b&&b.trace("QueueIteratorInstance: onRemoved modified",d.index);};return d;}c.__extends(b,a);b.prototype.Uf=function(){this.console.trace("disposed");this.OC=!0;this.ic();a.prototype.Uf.call(this);};b.prototype.next=function(){this.$E||this.xW();return a.prototype.next.call(this);};b.prototype.cancel=function(){this.ic();return a.prototype.cancel.call(this);};b.prototype.ic=function(){this.parent.fDa("onRemoved",this.rDa);this.UI=!1;};b.prototype.xW=function(){this.UI||(this.UI=!0,this.parent.on("onRemoved",this.rDa));};return b;}(f.HB);d.nKb=t;},function(g,d,a){var b,k,p,t,u,y;function c(a){var b;b=a.w3;this.K=a;this.Mh=k.Fe.HAVE_NOTHING;this.HC=a.HC;a=new u(this.HC);this.vJ=a.create("throughput-location-history",b);this.Ls=a.create("respconn-location-history",b);this.Bs=a.create("respconn-location-history",b);this.GS=a.create("throughput-tdigest-history",b);this.NR=a.create("throughput-iqr-history",b);this.Oa=null;}function f(a,b,f,d,k){this.As=new c(k);this.Kn=[];this.a0a=p.time.fa()-Date.now()%864E5;this.ys=null;this.K=k;for(a=0;a<d;++a)this.Kn.push(new c(k));}function m(a,c,f){return b.has(a,c)?a[c]:a[c]=f;}function q(a,b){var f;this.K=a;this.wJ=b;this.Mva();this.OI=new c(this.K);this.ZI();f=a.p7;f&&(f={Fd:k.Fe.AH,Da:{Ca:parseInt(f,10),hh:0},bh:{Ca:0,hh:0},Dp:{Ca:0,hh:0}},this.get=function(){return f;});}b=a(6);k=a(13);d=a(16);p=a(3);t=d.xPa;u=a(391).sja;new p.Console("ASEJS_LOCATION_HISTORY","media|asejs");y={Fd:k.Fe.HAVE_NOTHING};c.prototype.Yy=function(a,b){this.Mh=b;this.vJ.add(a);this.GS.add(a);this.Oa=p.time.fa();};c.prototype.yB=function(a,b){this.NR.set(a,b);};c.prototype.Ws=function(a){this.Ls.add(a);};c.prototype.Vs=function(a){this.Bs.add(a);};c.prototype.Yc=function(){var a,c,f,d,k,t;a=this.vJ.Yc();c=this.Ls.Yc();f=this.Bs.Yc();d=this.NR.Yc();k=this.GS.Yc();if(b.Ja(a)&&b.Ja(c)&&b.Ja(f))return null;t={c:this.Mh,t:p.time.oca(this.Oa)};b.Ja(a)||(t.tp=a);b.Ja(c)||(t.rt=c);b.Ja(f)||(t.hrt=f);b.Ja(d)||(t.iqr=d);b.Ja(k)||(t.td=k);return t;};c.prototype.Yd=function(a){var c;c=p.time.now();if(!(a&&b.has(a,"c")&&b.has(a,"t")&&b.has(a,"tp")&&b.isFinite(a.c)&&b.isFinite(a.t))||0>a.c||a.c>k.Fe.AH||a.t>c||!this.vJ.Yd(a.tp))return this.Mh=k.Fe.HAVE_NOTHING,this.ys=this.Oa=null,this.vJ.Yd(null),this.Ls.Yd(null),this.Bs.Yd(null),!1;this.Mh=a.c;this.Oa=p.time.Oca(a.t);this.Ls.Yd(b.has(a,"rt")?a.rt:null);this.Bs.Yd(b.has(a,"hrt")?a.hrt:null);b.has(a,"iqr")&&this.NR.Yd(a.iqr);b.has(a,"td")&&this.GS.Yd(a.td);return!0;};c.prototype.get=function(){var a,c,f,d,m,q;a=this.K;if(b.Ja(this.Oa))return y;c=(p.time.fa()-this.Oa)/1E3;c>a.v_a?this.Mh=k.Fe.HAVE_NOTHING:c>a.XZa&&(this.Mh=Math.min(this.Mh,k.Fe.ay));a=this.vJ.get();f=this.Ls.get();d=this.Bs.get();m=this.NR.get();q=this.GS.get();c={wl:c,Fd:this.Mh,Da:a,bh:f,Dp:d,Ep:m,mi:q};a&&(c.rTb=t.prototype.Bda.bind(a));f&&(c.GSb=t.prototype.Bda.bind(f));d&&(c.hQb=t.prototype.Bda.bind(d));return c;};c.prototype.time=function(){return this.Oa;};c.prototype.GC=function(){this.get();p.time.fa();};f.prototype.dj=function(){return((p.time.fa()-this.a0a)/1E3/3600/(24/this.Kn.length)|0)%this.Kn.length;};f.prototype.Yc=function(){var a;a={g:this.As.Yc(),h:this.Kn.map(function(a){return a.Yc();})};b.Ja(this.ys)||(a.f=p.time.oca(this.ys));return a;};f.prototype.Yd=function(a){var c,f;if(!this.As.Yd(a.g))return!1;c=this.Kn.length;f=!1;this.Kn.forEach(function(b,d){f=!b.Yd(a.h[d*a.h.length/c|0])||f;});this.ys=b.has(a,"f")?p.time.Oca(a.f):null;return f;};f.prototype.Yy=function(a,b){this.As.Yy(a,b);this.Kn[this.dj()].Yy(a,b);this.ys=null;};f.prototype.yB=function(a,b){this.As.yB(a,b);this.Kn[this.dj()].yB(a,b);};f.prototype.Ws=function(a){this.As.Ws(a);this.Kn[this.dj()].Ws(a);};f.prototype.Vs=function(a){this.As.Vs(a);this.Kn[this.dj()].Vs(a);};f.prototype.fail=function(a){this.ys=a;};f.prototype.get=function(){var a,c;if(!b.Ja(this.ys)){if((p.time.fa()-this.ys)/1E3<this.K.WZa)return{Fd:k.Fe.HAVE_NOTHING,Jt:!0};this.ys=null;}a=this.Kn[this.dj()].get();c=this.As.get();a=a.Fd>=c.Fd?a:c;a.Jt=!1;return a;};f.prototype.time=function(){return this.As.time();};f.prototype.GC=function(a){this.As.GC(a+": global");this.Kn.forEach(function(c,f,d){b.Ja(c.time())||(f=24*f/d.length,c.GC(a+":  "+((10>f?"0":"")+f+"00")+"h"));});};q.prototype.hpa=function(a,b){var c;c=this.K;a=m(this.Av,a,{});return m(a,b,new f(0,0,0,c.cqa||4,c));};q.prototype.ZI=function(){var a,b;a=p.storage.get("lh");b=p.storage.get("gh");a&&this.A4(a);b&&this.Z1a(b);};q.prototype.B3=function(){var a;a={};b.Ud(this.Av,function(c,f){b.Ud(c,function(b,c){m(a,f,{})[c]=b.Yc();},this);},this);return a;};q.prototype.Z1a=function(a){this.OI.Yd(a);};q.prototype.A4=function(a){var c,d;c=null;d=this.K;b.Ud(a,function(a,k){b.Ud(a,function(a,p){var t;t=new f(0,0,0,d.cqa||4,d);t.Yd(a)?(m(this.Av,k,{})[p]=t,c=!0):b.Ja(c)&&(c=!1);},this);},this);return b.Ja(c)?!0:c;};q.prototype.save=function(){var a;a=this.B3();p.storage.set("lh",a);p.storage.set("gh",this.OI.Yc());this.wJ&&this.wJ.tfa(this.OI.Yc());};q.prototype.Mva=function(a){a?(b.has(this.Av,a)&&delete this.Av[a],this.uR==a&&(this.Dy=this.uR="",this.Dk=null)):(this.Av={},this.Dy=this.uR="",this.Dk=null);};q.prototype.BZ=function(a){this.uR=a;this.Dk=null;};q.prototype.yZ=function(a){this.Dy=a;this.Dk=null;};q.prototype.HR=function(){b.Ja(this.Dk)&&(this.Dk=this.hpa(this.uR,this.Dy));return this.Dk;};q.prototype.Yy=function(a,b){this.HR().Yy(a,b);this.OI.Yy(a,b);};q.prototype.yB=function(a,b){a&&a.gk&&a.Pi&&a.hk&&(this.HR().yB(a,b),this.OI.yB(a,b));};q.prototype.Ws=function(a){this.HR().Ws(a);};q.prototype.Vs=function(a){this.HR().Vs(a);};q.prototype.fail=function(a,b){this.hpa(a,this.Dy).fail(b);};q.prototype.get=function(a,c){var f,d,p,t;a=(a=this.Av[a])?a[this.Dy]:null;f=null;if(a&&(f=a.get(),f.Fd>k.Fe.HAVE_NOTHING))return f;if(!1===c)return y;d=f=null;p=!1;t=null;b.Ud(this.Av,function(a){b.Ud(a,function(a,b){var c;if(!p||b==this.Dy){c=a.get();c&&(!d||d<=c.Fd)&&(!t||d<c.Fd||t<a.time())&&(d=c.Fd,p=b==this.Dy,t=a.time(),f=c);}},this);},this);return f?f:y;};q.prototype.GC=function(){b.Ud(this.Av,function(a,c){b.Ud(a,function(a,b){a.GC(c+":"+b);});});};g.P=q;},function(g,d){function a(a){var c;c={profile:a.spoofedProfile||a.profile,k9:a.max_framerate_value,j9:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,bEa:a.pixelAspectX,cEa:a.pixelAspectY,Al:a.channels,sampleRate:a.channels?48E3:void 0};a.spoofedProfile&&(c.URb=a.profile);return c;}Object.defineProperty(d,"__esModule",{value:!0});d.Ehb=function(c,f,d){var m;m=[{},{}];(0===d?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(b,d){c[b].some(function(b,c){return c===f[d]?(m[d]=a(b),!0):!1;});});return m;};d.Fhb=a;},function(g,d,a){d=a(803);g.P=d;},function(g,d,a){var q;function c(a){this.pD=a;this.reset();}function f(a){this.Th=new c(a);this.Nd=0;this.Kb=null;}function m(a,c){this.pD=a;this.Epa=c;this.reset();}q=a(6);c.prototype.nqa=function(a,c){this.Oa+=a;this.cj+=a;this.Wb+=c;this.Bi.push({d:a,G5:c});};c.prototype.jJ=function(){var a;for(;this.cj>this.pD;){a=this.Bi.shift();this.Wb-=a.G5;this.cj-=a.d;}};c.prototype.reset=function(){this.Bi=[];this.Oa=null;this.cj=this.Wb=0;};c.prototype.setInterval=function(a){this.pD=a;this.jJ();};c.prototype.start=function(a){q.Ja(this.Oa)&&(this.Oa=a);};c.prototype.add=function(a,c,f){q.Ja(this.Oa)&&(this.Oa=c);c>this.Oa&&this.nqa(c-this.Oa,0);this.nqa(f>this.Oa?f-this.Oa:0,a);this.jJ();};c.prototype.get=function(){return{Ca:Math.floor(8*this.Wb/this.cj),hh:0};};f.prototype.reset=function(){this.Th.reset();this.Nd=0;this.Kb=null;};f.prototype.add=function(a,c,f){!q.Ja(this.Kb)&&f>this.Kb&&(c>this.Kb&&(this.Nd+=c-this.Kb),this.Kb=null);this.Th.add(a,c-this.Nd,f-this.Nd);};f.prototype.start=function(a){!q.Ja(this.Kb)&&a>this.Kb&&(this.Nd+=a-this.Kb,this.Kb=null);this.Th.start(a-this.Nd);};f.prototype.stop=function(a){this.Kb=q.Ja(this.Kb)?a:Math.min(a,this.Kb);};f.prototype.get=function(){return this.Th.get();};f.prototype.setInterval=function(a){this.Th.setInterval(a);};m.prototype.reset=function(){this.Bi=[];this.Wb=this.cj=0;};m.prototype.add=function(a,c,f,d){void 0!==d&&!0===d&&(c=f-c,this.cj+=c,this.Wb+=a,this.Bi.push({d:c,G5:a}),this.jJ());};m.prototype.jJ=function(){var a;for(;this.cj>this.pD||this.Bi.length>this.Epa;){a=this.Bi.shift();this.Wb-=a.G5;this.cj-=a.d;}};m.prototype.start=function(){};m.prototype.stop=function(){};m.prototype.get=function(){return{Ca:Math.floor(8*this.Wb/this.cj),hh:0};};m.prototype.setInterval=function(a,c){this.pD=a;this.Epa=c;this.jJ();};g.P={DFb:c,lOa:f,nYa:m};},function(g,d,a){var b;function c(a,c,d){this.jE=!1===a;this.dE=a||.01;this.v1=void 0===c?25:c;this.$ha=void 0===d?1.1:d;this.Qg=new b(f);this.reset();}function f(a,b){return a.af>b.af?1:a.af<b.af?-1:0;}function m(a,b){return a.or-b.or;}function q(a){this.config=a||{};this.mode=this.config.mode||"auto";c.call(this,"cont"===this.mode?a.dE:!1);this.Abb=this.config.ratio||.9;this.Bbb=this.config.qTb||1E3;this.MX=0;}b=a(816).SVa;c.prototype.reset=function(){this.Qg.clear();this.dba=this.n=0;};c.prototype.size=function(){return this.Qg.size;};c.prototype.Jx=function(a){var b;b=[];a?(this.sR(!0),this.Qg.Ud(function(a){b.push(a);})):this.Qg.Ud(function(a){b.push({af:a.af,n:a.n});});return b;};c.prototype.summary=function(){return[(this.jE?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.vh(0),"Q1  = "+this.vh(.25),"Q2  = "+this.vh(.5),"Q3  = "+this.vh(.75),"max = "+this.vh(1)].join("\n");};c.prototype.push=function(a,b){b=b||1;a=Array.isArray(a)?a:[a];for(var c=0;c<a.length;c++)this.Noa(a[c],b);};c.prototype.Vda=function(a){a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.Noa(a[b].af,a[b].n);};c.prototype.sR=function(a){var b;if(!(this.n===this.dba||!a&&this.$ha&&this.$ha>this.n/this.dba)){b=0;this.Qg.Ud(function(a){a.or=b+a.n/2;b=a.VD=b+a.n;});this.n=this.dba=b;}};c.prototype.Neb=function(a){var b,c;if(0===this.size())return null;b=this.Qg.lowerBound({af:a});c=null===b.data()?b.LA():b.data();return c.af===a||this.jE?c:(b=b.LA())&&Math.abs(b.af-a)<Math.abs(c.af-a)?b:c;};c.prototype.XC=function(a,b,c){a={af:a,n:b,VD:c};this.Qg.Qm(a);this.n+=b;return a;};c.prototype.XQ=function(a,b,c){b!==a.af&&(a.af+=c*(b-a.af)/(a.n+c));a.VD+=c;a.or+=c/2;a.n+=c;this.n+=c;};c.prototype.Noa=function(a,b){var c,f,d;c=this.Qg.min();f=this.Qg.max();d=this.Neb(a);d&&d.af===a?this.XQ(d,a,b):d===c?this.XC(a,b,0):d===f?this.XC(a,b,this.n):this.jE?this.XC(a,b,d.VD):(c=d.or/this.n,Math.floor(4*this.n*this.dE*c*(1-c))-d.n>=b?this.XQ(d,a,b):this.XC(a,b,d.VD));this.sR(!1);!this.jE&&this.v1&&this.size()>this.v1/this.dE&&this.vt();};c.prototype.Y5a=function(a){var b,c;this.Qg.Ak=m;b=this.Qg.upperBound({or:a});this.Qg.Ak=f;c=b.LA();a=c&&c.or===a?c:b.next();return[c,a];};c.prototype.vh=function(a){var b;b=(Array.isArray(a)?a:[a]).map(this.k1a,this);return Array.isArray(a)?b:b[0];};c.prototype.k1a=function(a){var b,c;if(0!==this.size()){this.sR(!0);this.Qg.min();this.Qg.max();a*=this.n;b=this.Y5a(a);c=b[0];b=b[1];return b===c||null===c||null===b?(c||b).af:this.jE?a<=c.VD?c.af:b.af:c.af+(a-c.or)*(b.af-c.af)/(b.or-c.or);}};c.prototype.vt=function(){var a;if(!this.Bta){a=this.Jx();this.reset();for(this.Bta=!0;0<a.length;)this.Vda(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.sR(!0);this.Bta=!1;}};q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.push=function(a){c.prototype.push.call(this,a);this.m7a();};q.prototype.XC=function(a,b,f){this.MX+=1;c.prototype.XC.call(this,a,b,f);};q.prototype.XQ=function(a,b,f){1===a.n&&--this.MX;c.prototype.XQ.call(this,a,b,f);};q.prototype.m7a=function(){!("auto"!==this.mode||this.size()<this.Bbb)&&this.MX/this.size()>this.Abb&&(this.mode="cont",this.jE=!1,this.dE=this.config.dE||.01,this.vt());};g.P={TDigest:c,Digest:q};},function(g,d,a){var c,f,m;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(69);f=a(169);m=a(172);a=function(a){function b(b,c,f,d,q,g,h){c=a.call(this,b,c,f,d,q,g,h)||this;m.Qx.call(c,b,d);return c;}c.__extends(b,a);return b;}(f.FB);d.vP=a;g(m.Qx.prototype,a.prototype);},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});g=a(43);a=a(171);c=function(){function a(a,c){this.In=a;this.CC=c.gb;this.vs=c.yb;}Object.defineProperties(a.prototype,{gb:{get:function(){return void 0!==this.CC?this.CC:this.In.gb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{yb:{get:function(){return void 0!==this.vs?this.vs:this.In.yb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{W:{get:function(){return this.In.W;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Tp:{get:function(){return this.In.Tp;},enumerable:!0,configurable:!0}});a.prototype.qfa=function(a){this.vs=a;};a.prototype.r6=function(){this.vs=void 0;};return a;}();d.kH=c;g.Wi(a.wP,c);},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(129);f=a(227);a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.fFa=function(){15!==this.L.Gf(4)||this.L.Gf(24);};d.prototype.parse=function(a){if(this.nlb(a)&&64===a.Lqb)switch(this.az=this.ZEa(),this.fFa(),this.L.Gf(4),this.ceb=5===this.az||29===this.az?5:-1,0<this.ceb&&(this.fFa(),this.az=this.ZEa(),22===this.az&&this.L.Gf(4)),this.az){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.Mwa=this.L.Gf(1),(this.fbb=this.L.Gf(1))&&this.L.Gf(14),this.L.Gf(1),this.eV=3===this.az?256:23===this.az?this.Mwa?480:512:this.Mwa?960:1024;}this.skip();return!0;};d.prototype.ZEa=function(){var a;a=this.L.Gf(5);31===a&&(a=32+this.L.Gf(6));return a;};d.prototype.nlb=function(a){return a.tag===f.Fia.tag;};d.tag=5;return d;}(g.q0);d.bOa=a;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(f,a);f.prototype.parse=function(){this.Lqb=this.L.jd();this.L.jd();this.L.Dg();this.L.jd();this.po=this.L.xb();this.x5a=this.L.xb();this.qqa();return!0;};f.tag=4;return f;}(a(129).q0);d.Fia=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(f,a);f.prototype.parse=function(){var a;this.L.Dg();a=this.L.jd();this.Dzb=!!(a&128);this.UXa=!!(a&64);this.tTa=!!(a&32);this.Dzb&&this.L.Dg();this.UXa&&this.L.OY(this.L.jd());this.tTa&&this.L.Dg();this.qqa();return!0;};f.tag=3;return f;}(a(129).q0);d.cja=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});g=a(0);g.__exportStar(a(129),d);g.__exportStar(a(226),d);g.__exportStar(a(225),d);g.__exportStar(a(224),d);g=a(225);c=a(224);a=a(226);d.eE={3:a.cja,4:g.Fia,5:c.bOa};},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(f,a);f.prototype.parse=function(){this.L.offset+=6;this.L.Dg();return!0;};return f;}(a(26).Kf);d["default"]=g;},function(g,d){function a(a,d){return"number"!==typeof a||"number"!==typeof d?!1:a&&d?Math.abs(a*d/c(a,d)):0;}function c(a,c){var f;a=Math.abs(a);for(c=Math.abs(c);c;){f=c;c=a%c;a=f;}return a;}Object.defineProperty(d,"__esModule",{value:!0});g=function(){function f(a,c){"object"===typeof a?(this.Qs=a.Cb,this.sl=a.W):(this.Qs=a,this.sl=c);}f.srb=function(a){return new f(1,a);};f.Mm=function(a){return new f(a,1E3);};f.Bga=function(a,c){return Math.floor(1E3*a/c);};f.rca=function(a,c){return Math.floor(a*c/1E3);};f.max=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return a.reduce(function(a,c){return a.greaterThan(c)?a:c;});};f.min=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return a.reduce(function(a,c){return a.lessThan(c)?a:c;});};f.p9=function(d,q){var b;if(d.W===q.W)return new f(c(d.Cb,q.Cb),d.W);b=a(d.W,q.W);return f.p9(d.pg(b),q.pg(b));};Object.defineProperties(f.prototype,{Cb:{get:function(){return this.Qs;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{W:{get:function(){return this.sl;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Ma:{get:function(){return 1E3*this.Qs/this.sl;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{zh:{get:function(){return this.Qs/this.sl;},enumerable:!0,configurable:!0}});f.prototype.pg=function(a){a/=this.W;return new f(Math.floor(this.Cb*a),Math.floor(this.W*a));};f.prototype.add=function(c){var d;if(this.W===c.W)return new f(this.Cb+c.Cb,this.W);d=a(this.W,c.W);return this.pg(d).add(c.pg(d));};f.prototype.kd=function(a){return this.add(new f(-a.Cb,a.W));};f.prototype.RM=function(a){return new f(this.Cb*a,this.W);};f.prototype.Ct=function(c){var f;if(this.W===c.W)return this.Cb/c.Cb;f=a(this.W,c.W);return this.pg(f).Ct(c.pg(f));};f.prototype.Bya=function(c){return a(this.W,c);};f.prototype.pFa=function(){return new f(this.W,this.Cb);};f.prototype.compare=function(c,f){var b;if(this.W===f.W)return c(this.Cb,f.Cb);b=a(this.W,f.W);return c(this.pg(b).Cb,f.pg(b).Cb);};f.prototype.equal=function(a){return this.compare(function(a,b){return a===b;},a);};f.prototype.IF=function(a){return this.compare(function(a,b){return a!==b;},a);};f.prototype.lessThan=function(a){return this.compare(function(a,b){return a<b;},a);};f.prototype.greaterThan=function(a){return this.compare(function(a,b){return a>b;},a);};f.prototype.IAa=function(a){return this.compare(function(a,b){return a<=b;},a);};f.prototype.TV=function(a){return this.compare(function(a,b){return a>=b;},a);};f.prototype.toJSON=function(){return{ticks:this.Cb,timescale:this.W};};f.prototype.toString=function(){return this.Cb+"/"+this.W;};f.De=new f(0,1);f.MF=new f(1,1E3);return f;}();d.Ta=g;},function(g,d,a){var fa,V,ma,A,sa,oa,O,ia,Ea,wa,Fa,Ga,ka,$a,Ca,z,G,Sa,qb,M,Ya,gb,ba,P,X,Z,td,da,ea,ga,ha;function c(a,b,c,f,d){A.call(this,a,b,c,f,d);}function f(a,b,c,f,d){A.call(this,a,b,c,f,d);}function m(a,b,c,f,d){A.call(this,a,b,c,f,d);}function q(a,b,c,f,d){A.call(this,a,b,c,f,d);this.IZ=a.config.IZ;this.Gd=this.sizes=void 0;}function b(a,b,c,f,d){A.call(this,a,b,c,f,d);}function k(){for(var a=new DataView(this),b="",c,f=0;f<this.byteLength;f++)c=a.getUint8(f),b+=("00"+c.toString(16)).slice(-2);return b;}function p(a,b,c,f,d){A.call(this,a,b,c,f,d);}function t(a,b,c,f,d){A.call(this,a,b,c,f,d);}function u(a,b,c,f,d){A.call(this,a,b,c,f,d);}function y(a,b,c,f,d){A.call(this,a,b,c,f,d);}function h(a,b,c,f,d){A.call(this,a,b,c,f,d);}function B(a){function b(b,c,f,d,k){A.call(this,b,c,f,d,k);this.DCa=a;}b.$b=!1;b.prototype=new A();b.prototype.constructor=b;Object.defineProperties(b.prototype,{uia:{get:function(){return this.DCa;}}});b.prototype.parse=function(){this.L.console.trace("renaming '"+this.type+"' to draft type '"+this.DCa+"'");this.L.offset=this.startOffset+4;this.Xa.TJa(this.uia);this.type=this.uia;return!0;};return b;}function I(a,b,c,f,d){A.call(this,a,b,c,f,d);}function C(a,b,c,f,d){A.call(this,a,b,c,f,d);}function K(a,b,c,f,d){A.call(this,a,b,c,f,d);}function Q(a,b,c,f,d){A.call(this,a,b,c,f,d);}function T(a,b,c,f,d){A.call(this,a,b,c,f,d);}function l(a,b,c,f,d){A.call(this,a,b,c,f,d);}function n(a,b,c,f,d){A.call(this,a,b,c,f,d);}function S(a,b,c,f,d){A.call(this,a,b,c,f,d);}function N(a,b,c,f,d){A.call(this,a,b,c,f,d);}function U(a,b,c,f,d){A.call(this,a,b,c,f,d);}function r(a,b){a.forEach(function(a){b[a.Je]=a;});}fa=a(131).assert;d=a(84);V=a(229).Ta;ma=a(403);a(130);a(71);a(71);a(71);A=a(26).Kf;sa=a(842)["default"];oa=a(841)["default"];O=a(840)["default"];ia=a(839)["default"];Ea=a(838)["default"];wa=a(837)["default"];Fa=a(836)["default"];Ga=a(835)["default"];ka=a(834)["default"];a(228);a(173);$a=a(402).ZJa;Ca=a(402).COa;z=a(833)["default"];G=a(832)["default"];Sa=a(83)["default"];qb=a(83).vKa;M=a(83).wKa;Ya=a(83).xKa;gb=a(83).yKa;ba=a(831)["default"];P=a(830)["default"];X=a(83).SPa;Z=a(83).NPa;td=a(829)["default"];da=a(828)["default"];ea=a(827)["default"];ga=a(401)["default"];ha=a(400)["default"];a(129);a(225);a(224);a(226);a=a(826)["default"];c.$b=!0;c.prototype=new A();c.prototype.constructor=c;f.$b=!0;f.prototype=new A();f.prototype.constructor=f;m.$b=!1;m.prototype=new A();m.prototype.constructor=m;m.prototype.parse=function(){var a;this.Hf();1===this.version?(this.L.Ri(),this.L.Ri(),this.W=this.L.xb(),this.duration=this.L.Ri()):(this.L.xb(),this.L.xb(),this.W=this.L.xb(),this.duration=this.L.xb());a=this.L.Dg()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));return!0;};q.$b=!1;q.prototype=new A();q.prototype.constructor=q;q.prototype.h1a=function(){this.Hf();this.L.xb();this.W=this.L.xb();0===this.version?(this.c8=this.L.xb(),this.V8=this.L.xb()):(this.c8=this.L.Ri(),this.V8=this.L.Ri());this.Yvb=this.L.Dg();this.tFa=this.L.Dg();};q.prototype.qZa=function(a,b){var c,f,d;c=this.W;a=a&&a.W||c;f=a/c;c=this.L.NY(b,12,!1);d=1===f?this.L.NY(b,12,!1):ma.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.L.xb()*f);this.L.offset+=8;return a;},this);this.J2a(b,d,c,a);};q.prototype.J2a=function(a,b,c,f){if(this.IZ){f=this.IZ*f/1E3;for(var d=0,k=1;k<a;k++)Math.abs(b[d]-f)>Math.abs(b[d]+b[k]-f)?(b[d]+=b[k],c[d]+=c[k]):(++d,d!==k&&(b[d]=b[k],c[d]=c[k]));++d;b=new Uint32Array(b.buffer.slice(0,4*d));c=new Uint32Array(c.buffer.slice(0,4*d));}this.sizes=c;this.Gd=b;};q.prototype.parse=function(a){var b,c,f,d;this.h1a();this.La=a.La;b=this.W;c=this.La&&this.La.W||b;f=this.tFa;d=this.startOffset+this.length+this.V8;b=new V(this.c8,b).pg(c).Cb;this.X={W:c,Aj:b,offset:d};this.qZa(this.La,f);this.X.Gd=this.Gd;this.X.sizes=this.sizes;a.Hr=this;return!0;};b.$b=!1;b.prototype=new A();b.prototype.constructor=b;b.prototype.parse=function(){var a;this.Nx=[];this.Dsb=[];a=(this.length-11)/2;this.L.jd();this.L.jd();this.L.jd();for(var b=0;b<a;b++)this.Nx.push(this.L.jd()),this.Dsb.push(this.L.jd());return!0;};p.$b=!1;p.prototype=new A();p.prototype.constructor=p;p.prototype.parse=function(){this.Hf();this.L.offset+=4;this.xAa=this.L.offset;this.Rw=this.L.Aub();this.Rw.toString=k;return!0;};t.$b=!1;t.prototype=new A();t.prototype.constructor=t;t.prototype.parse=function(){this.Hf();this.Im=this.L.Dg();this.Eob=this.L.NY(this.Im,void 0,!0);return!0;};u.$b=!1;u.prototype=new A();u.prototype.constructor=u;u.prototype.parse=function(a){var b,c,f,d,k,p;d=a.Hr;fa(d);a=a.La;b=d.W;d=d.tFa;fa(a);fa(b);fa(d);this.Hf();fa(2>this.version);this.Im=this.L.Dg();this.XF=new Uint16Array(d+1);c=a.Bya(b);k=c/b;p=a.pg(c).Cb;if(0===this.version)for(this.pG=new Uint16Array(),this.Cg=new Uint32Array(),a=b=0;a<=d;++a){if(this.XF[a]=b,a<this.Im&&(f=this.L.jd(),0!==f))for(c=0;c<f;++c,++b)this.pG[b]=Math.floor((this.L.xb()+1)*k)/p,this.Cg[b]=this.L.xb();}else if(1===this.version)for(c=this.L.xub(this.Im),this.L.offset+=4,this.Cg=this.L.NY(this.Im,10,!1),this.L.offset-=8,this.pG=ma.from(Uint16Array,{length:this.Im},function(){var a;a=Math.floor((this.L.xb()+1)*k)/p;this.L.offset+=6;return a;},this),b=a=0;a<=d;++a){for(;b<c.length&&c[b]<a;)++b;this.XF[a]=b;}this.Uh={XF:this.XF,pG:this.pG,Cg:this.Cg};return!0;};y.$b=!0;y.prototype=Object.create(c.prototype);y.prototype.constructor=y;h.$b=!0;h.prototype=Object.create(c.prototype);h.prototype.constructor=h;h.prototype.AE=function(){var a;a=this.fq("tfhd");a&&(this.ft=a.ksa?a.ft:this.parent.startOffset);return!0;};I.$b=!1;I.prototype=new A();I.prototype.constructor=I;I.prototype.parse=function(){var a,m,g,c,d;a=this.L.offset;this.Hf();if(1===this.version){this.L.console.trace("translating vpcC box to draft equivalent");this.L.offset+=2;for(var b=this.L.offset,c=this.L.jd(),f=this.L.jd(),d=this.L.jd(),k=this.L.jd(),p=this.L.Dg(),t=[],m=0;m<p;++m)t=this.L.jd();m=(c&240)>>>4;g=(c&14)>>>1;c=c&1;d=16===d?1:0;f!=k&&this.L.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+f+" and matrixCoefficients "+k+" should be the same value!");k=2;switch(f){case 1:k=2;break;case 6:k=1;break;case 9:k=5;break;default:this.L.console.warn("VP9: Unknown colourPrimaries "+f+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Xa.I_(this.version,a);this.Xa.I_(m<<4|k,b++);this.Xa.I_(g<<4|d<<1|c,b++);p+=2;t.push(0,0);this.Xa.qDb(p);b+=2;t.forEach(function(a){this.Xa.I_(a,b++);});}return!0;};C.$b=!1;C.prototype=new A();C.prototype.constructor=C;C.Je="tfhd";Object.defineProperties(C.prototype,{ksa:{get:function(){return this.Ze&1;}},xwb:{get:function(){return this.Ze&2;}},Xab:{get:function(){return this.Ze&8;}},$ab:{get:function(){return this.Ze&16;}},Yab:{get:function(){return this.Ze&32;}}});C.prototype.parse=function(){this.Hf();this.Fga=this.L.xb();this.ft=this.ksa?this.L.Ri():void 0;this.xwb&&this.L.xb();this.gU=this.Xab?this.L.xb():void 0;this.iU=this.$ab?this.L.xb():void 0;this.hU=this.Yab?this.L.xb():void 0;return!0;};K.$b=!1;K.prototype=new A();K.prototype.constructor=K;K.prototype.parse=function(){this.Hf();this.YJ=1===this.version?this.L.Ri():this.L.xb();return!0;};K.prototype.Qa=function(a){var b;b=this.startOffset+12;this.YJ+=a;1===this.version?this.Xa.rDb(this.YJ,b):this.Xa.Oo(this.YJ,b);};Q.$b=!1;Q.prototype=new A();Q.prototype.constructor=Q;Object.defineProperties(Q.prototype,{kua:{get:function(){return this.Ze&1;}},a9:{get:function(){return this.Ze&4;}},jZ:{get:function(){return this.Ze&256;}},kZ:{get:function(){return this.Ze&512;}},kGa:{get:function(){return this.Ze&1024;}},Kea:{get:function(){return this.Ze&2048;}}});Q.prototype.parse=function(){this.Hf();this.usa=this.L.offset;this.ie=this.L.xb();this.At=this.kua?this.L.cea():0;this.a9&&this.L.xb();this.QN=(this.jZ?4:0)+(this.kZ?4:0)+(this.kGa?4:0)+(this.Kea?4:0);this.VU=this.L.offset;fa(this.kua,"Expected data offset to be present in Track Run");fa(this.length-(this.L.offset-this.startOffset)===this.ie*this.QN,"Expected remaining data in box to be sample information");return!0;};Q.prototype.kJ=function(a,b,c){var f,d,k;f=this.jZ?this.L.xb():a.gU;d=this.kZ?this.L.xb():a.iU;a=this.kGa?this.L.xb():a.hU;k=0===this.version?this.Kea?this.L.xb():0:this.Kea?this.L.cea():0;return{wwb:k,TSb:a,qSb:c+k-(void 0!==b?b:k),Fu:d,RN:f};};Q.prototype.Qa=function(a,b,c,f,d,k,p){var t,m,g,q;t=0;m=0;this.Xa.offset=this.VU;for(f=0;f<d;++f)q=this.kJ(b,g,m),0==f&&(g=q.wwb),t+=q.Fu,m+=q.RN;f=d;d=this.L.offset;q=this.kJ(b,g,m);this.zG=f;this.Uyb=m;if(p){if(this.gG=this.At+t,this.Cu=0,f===this.ie)return!0;}else if(this.gG=this.At,this.Cu=t,0===f)return!0;if(0===f||f===this.ie)return!1;this.AU=!0;if(p){this.Cu+=q.Fu;for(p=f+1;p<this.ie;++p)q=this.kJ(b,g,m),this.Cu+=q.Fu;this.Xa.offset=this.usa;this.ie=f;this.Xa.Oo(this.ie);this.Xa.gha(k);this.a9&&(this.L.offset+=4);this.mk(this.length-(d-this.startOffset),d);}else b=d-this.VU,this.Xa.offset=this.usa,this.ie-=f,this.Xa.Oo(this.ie),this.At+=t,this.Xa.gha(k,this.At),this.a9&&(this.L.offset+=4),this.mk(b,this.Xa.offset);c.mk(this.Cu,a.ft+this.gG);return!0;};Q.prototype.Lvb=function(a,b,c,f,d,k){var t;if(f){f=this.gG;for(var p=this.ie-1;0<=p&&this.ie-p<=d;--p){this.Xa.offset=this.VU+p*this.QN;t=this.kJ(b);if(t.RN!=k.duration){this.L.console.warn("Could not replace sample of duration "+t.RN+" with silence of duration "+k.duration);break;}if(this.kZ)this.Xa.offset-=this.QN-(this.jZ?4:0),this.Xa.Oo(k.Hu.byteLength);else if(k.Hu.byteLength!==t.Fu){this.L.console.warn("Cannot replace sample with default size with silence of different size");break;}f-=t.Fu;c.YY(t.Fu,k.Hu,a.ft+f);}}else for(f=this.gG+this.Cu,p=0;p<this.ie&&p<d;++p){this.Xa.offset=this.VU+(p+this.zG)*this.QN;t=this.kJ(b);if(t.RN!=k.duration){this.L.console.warn("Could not replace sample of duration "+t.RN+" with silence of duration "+k.duration);break;}if(this.kZ)this.Xa.offset-=this.QN-(this.jZ?4:0),this.Xa.Oo(k.Hu.byteLength);else if(k.Hu.byteLength!==t.Fu){this.L.console.warn("Cannot replace sample with default size with silence of different size");break;}c.YY(t.Fu,k.Hu,a.ft+f);f+=t.Fu;}};T.$b=!1;T.prototype=Object.create(A.prototype);T.prototype.constructor=T;Object.defineProperties(T.prototype,{bz:{get:function(){return this.Ze&1;}}});T.prototype.parse=function(){this.Hf();this.bz&&this.L.px();this.bz&&this.L.xb();this.Zab=this.L.jd();this.ie=this.L.xb();this.L.OY(this.ie);return!0;};T.prototype.Qa=function(a,b){if(a&&0===this.Zab){a=b?this.ie-a:a;this.Xa.offset=this.startOffset+13+(this.bz?8:0);this.ie-=a;this.Xa.Oo(this.ie);this.Iea=0;if(b)this.Xa.offset+=this.ie;else{for(b=0;b<a;++b)this.Iea+=this.Xa.jd();this.Xa.offset-=a;}this.mk(a,this.L.offset);}return!0;};l.$b=!1;l.prototype=Object.create(A.prototype);l.prototype.constructor=l;Object.defineProperties(l.prototype,{bz:{get:function(){return this.Ze&1;}}});l.prototype.parse=function(){this.Hf();this.bz&&this.L.px();this.bz&&this.L.xb();this.Im=this.L.xb();fa(1===this.Im,"Expected a single entry in Sample Auxiliary Information Offsets box");this.At=0===this.version?this.L.cea():this.L.Gub();return!0;};l.prototype.Qa=function(a,b){this.At+=a;this.Xa.offset=this.startOffset+16+(this.bz?8:0)+(0===this.version?0:4);this.Xa.gha(b,this.At);return!0;};n.$b=!1;n.prototype=Object.create(A.prototype);n.prototype.constructor=n;Object.defineProperties(n.prototype,{GDa:{get:function(){return this.Ze&1;}},ACb:{get:function(){return this.Ze&2;}}});n.prototype.parse=function(){this.Hf();this.GDa&&(this.L.xb(),this.smb=this.L.OY(16));this.ie=this.L.xb();return!0;};n.prototype.Qa=function(a,b){var c,f;c=b?this.ie-a:a;this.Xa.offset=this.startOffset+28+(this.GDa?20:0);this.ie-=c;this.Xa.Oo(this.ie);a=this.Xa.offset;if(this.ACb)for(c=b?this.ie:c;0<c;--c){this.Xa.offset+=8;f=this.Xa.Dg();this.Xa.offset+=6*f;}else this.Xa.offset+=8*(b?this.ie:c);b?this.mk(this.length-(this.L.offset-this.startOffset),this.L.offset):this.mk(this.L.offset-a,a);};S.$b=!1;S.prototype=Object.create(A.prototype);S.prototype.constructor=S;S.prototype.parse=function(){this.Hf();return!0;};S.prototype.Qa=function(a,b,c){c?this.mk(b-a,this.startOffset+12+a):this.mk(a,this.startOffset+12);return!0;};N.$b=!1;N.prototype=Object.create(A.prototype);N.prototype.constructor=N;N.prototype.parse=function(){this.Hf();this.L.px();1===this.version&&this.L.xb();this.Im=this.L.xb();this.SN=[];for(var a=0;a<this.Im;++a)for(var b=this.L.xb(),c=this.L.xb(),f=0;f<b;++f)this.SN.push(c);return!0;};N.prototype.Qa=function(a,b){this.SN=b?this.SN.slice(0,a):this.SN.slice(a);a=this.SN.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.Xa.offset=this.startOffset+16+(1===this.version?4:0);this.Xa.Oo(a.length);a.forEach(function(a){this.Xa.Oo(a.count);this.Xa.Oo(a.group);}.bind(this));this.Im>a.length&&this.mk(8*(this.Im-a.length));this.Im=a.length;return!0;};U.$b=!1;U.prototype=Object.create(A.prototype);U.prototype.constructor=U;Sa={Hc:{moov:f,trak:c,mdia:c,mdhd:m,minf:c,encv:Sa,schi:c,sidx:q,sinf:c,stbl:c,tenc:p,mvex:c,moof:y,traf:h,tfhd:C,trun:Q,sbgp:N,sdtp:S,saiz:T,saio:l,tfdt:K,mdat:U,vmaf:b},gBb:{vpcC:I,SmDm:B("smdm"),CoLL:B("coll")},MIa:{schm:ba},Jea:{}};r([P,wa,Fa,Ga,X,Z,sa,ia,ga,ha,Ea,ka,oa,O,a],Sa.Hc);r([$a,z,qb,M,Ya,gb,Ca,G,da,td],Sa.Jea);r([P,ba],Sa.MIa);Sa.Hc[d.Hla]=p;Sa.Hc[d.pQ]=t;Sa.Hc[d.oQ]=u;Sa.Hc[d.Gla]=n;Sa.Jea[d.J1]=ea;Sa.Kf=A;g.P={GF:Sa};},function(g,d,a){var c,f,m,q,b,k,p,t,u,y,h,B;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(27);m=a(849);g=a(85);q=a(844);b=a(820);k=a(817);p=a(219);t=a(802);u=a(21);y=a(3);h=a(8);a(218);B=function(){return function(a){var b;b=a.Daa;a=a.HW;this.CM=this.replace=b;this.mf=a;};}();a=function(a){function d(d){var t,g,u,h,D,C,K,I,l,n,ma,A,r,oa,O,ia,Ea,wa,Fa,Ga,ka,$a;t=d.Ua;g=d.ta;u=d.Wk;h=d.eb;D=d.Yba;C=d.Xh;K=d.Lq;I=d.config;l=d.Gfa;n=d.N$;ma=d.WA;A=d.tL;r=d.Vb;oa=d.Yg;O=d.JF;d=d.v8;ia=a.call(this)||this;ia.eW=!1;ia.qpa=[];ia.Cpa=[];ia.Lg=[];ia.Se=!1;ia.Ua=t;ia.ta=g;ia.Wk=u;ia.eb=h;ia.config=I;ia.console=new y.Console("ASEJS","media|asejs",String(ia.va));n&&(t=n.yp,ia.nf=new k.UPa(ia,ia.console,ia.config,n.Vk,n.GV,t,n.EW,n.Me,n.Ab,n.Df,n.Iw));ia.Hw=new f.EventEmitter();ia.tL=A;ia.Vb=r;ia.JF=O;ia.ck=new p.z1(r,oa,ia.config,null===d||void 0===d?void 0:d.Vk);ia.ck.sD(g);d&&(n=d.cr,A=d.eM,r=d.eF,oa=d.Yp,ia.Cq=d.ji,ia.eF=r,ia.eM=A,ia.cr=n,ia.Yp=oa,ia.Zh=new b.cPa(ia.ck,ia.config,ia.yjb.bind(ia),ia.xjb.bind(ia)));l&&(d=l.CA,n=l.ia,A=l.pw,r=l.Tl,t=l.yp,d&&n?(ia.jO=new m.TWa(d,{ia:String(n),pw:A,Dob:ia.config.tQ.mx,e6a:ia.config.tQ.lv,x6:ia.config.x6},r),ia.yp=t):r("SideChannel: pbcid/xid is missing."));ia.Zh&&ia.jO&&ia.Zh.fyb(ia.jO);ia.WA=ma;ia.se=new B(D);ia.Xh=C;Ea=[[],[]];wa=[{},{}];Fa=[0,0];Ga=!1;ka=ia.eb(0);$a=ia.eb(1);["audio_tracks","video_tracks"].forEach(function(a,b){var f;f=0===b;f&&!ka||1===b&&!$a||g[a].forEach(function(a,d){a=new q.$Ka({O:ia,iA:a,M:b,mf:D.HW,Lq:K,UG:d,CJ:d+(f?g.video_tracks.length:0)},ia.config,ia.console);Ea[b].push(a);wa[b]=c.__assign(c.__assign({},wa[b]),a.QE());a.po>Fa[a.M]&&(Fa[a.M]=a.po);Ga=Ga||a.aW;});});ia.aR=Ea;ia.Ezb=wa;ia.Hp=Fa;ia.aW=Ga;ia.MZa=ia.config&&ia.config.xva&&ia.config.eaa&&!!ia.config.eaa.length&&-1!==ia.config.eaa.indexOf(String(ia.u));return ia;}c.__extends(d,a);Object.defineProperties(d.prototype,{Yf:{get:function(){return this.qpa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{rob:{get:function(){return this.Cpa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{va:{get:function(){return Number(this.ta.movieId);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{u:{get:function(){return this.ta.movieId;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{nK:{get:function(){return this.ta.choiceMap;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.ta.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ji:{get:function(){h.assert(this.Cq,"Stream failure reporting can not be used on prefetch viewables.");return this.Cq;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Fp:{get:function(){return this.Se;},enumerable:!0,configurable:!0}});d.prototype.close=function(){this.ck.close();this.Se=!0;};d.prototype.ic=function(){this.nf&&this.nf.ic();};d.prototype.Yt=function(){return void 0!==this.nK;};d.prototype.getTracks=function(a){return this.aR[a];};d.prototype.getTrackById=function(a){var b;this.aR.some(function(c){return c.some(function(c){if(c.cb===a)return b=c,!0;});});b||this.console.warn("getTrackById not found:",a,"length:",this.aR.length);return b;};d.prototype.Yib=function(a,b){var c;c=this.aR[a];if(0>b||b>=c.length)this.console.warn("getTrackByIndex out of range:",b,"length:",c.length,"mediaType:",a);else return c[b];};d.prototype.ar=function(a,b){return(a=this.QE(a))&&a[b];};d.prototype.QE=function(a){return this.Ezb[a];};d.prototype.JBb=function(a,b){this.qpa[a]=b;b.stream.X&&this.lJa(a,b.stream.X);};d.prototype.EU=function(a){return void 0===a||1===a?this.MZa:!1;};d.prototype.$lb=function(a){var b,c;if(void 0===a.FY||void 0===a.Jda){b=this.ck.W9().filter(function(b){return void 0!==b.dc[a.pa];})[0];c=b.children.filter(function(b){return b.ld.some(function(b){return b.stream.id===a.pa;});})[0];a.FY=b.id;a.Jda=c.id;}return{Jaa:a.location===a.FY,amb:a.cc===a.Jda};};d.prototype.DZ=function(a,b,c){void 0!==b&&void 0!==c&&(this.GFa(a.M,b),a.DZ(b,c));};d.prototype.GFa=function(a,b){var c,f;f=this.config.xca;("location"===f||"video_location"===f&&1===a)&&this.Vb.BZ(b);null===(c=this.tL)||void 0===c?void 0:c.call(this).grb(a,b);};d.prototype.hq=function(){var a,b,c;a=this;b=[];if(this.Fp)return this.console.error("updateRequestUrls, closed Viewable:",this.va),!1;u.Of.forEach(function(c){a.eb(c)&&a.$Bb(c)&&(c=a.OBb(c),0<c.length&&b.push.apply(b,c));});c=this.KBb();0<c.length&&b.push.apply(b,c);return this.Xvb(b);};d.prototype.$Bb=function(a){var d,k;if(this.Fp)return this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1;if(!this.eb(a))return this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),!1;for(var b=!0,c=0,f=this.Lg;c<f.length;c++){d=f[c].re(a);k=this.ck.WO(this.va,d.track.uc);k||d.Ia("location selector failed to update streamList");b=b&&k;}return b;};d.prototype.KBb=function(){h.assert(this.nf,"Headers not available from prefetch viewables.");return this.nf.hq();};d.prototype.OBb=function(a){var b,d;b=[];if(this.Fp)return this.console.warn("updateStreamUrls ignored, viewable cleaned up"),b;if(!this.eb(a))return this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),b;for(var c=0,f=this.Lg;c<f.length;c++){d=f[c].hq(a);d.length&&b.push.apply(b,d);}return b;};d.prototype.Xvb=function(a){var b,c,f;b=this;if(0===a.length)return!0;c=0;f=[];a.forEach(function(a){var d;if(a.Xb){d=a.O;d.Ua>b.Ua&&(f.push({O:d,track:a.stream.track}),++c);}});f.forEach(function(a){var b;b=a.track;a.O.jG([0===b.M?b:void 0,1===b.M?b:void 0],void 0,b.M);});return c===a.length;};d.prototype.fk=function(){var a;a=this;this.ck.fk();this.Zh&&this.Zh.fk();this.jO&&(h.assert(this.yp),u.Of.forEach(function(b){b=a.yp(b);a.jO.dfa("rebuffer",b.cba);}));};d.prototype.bY=function(){this.Zh&&this.Zh.bY();};d.prototype.Wga=function(a,b){h.assert(this.nf,"Headers not available from prefetch viewables.");this.nf.Wga(a,b);};d.prototype.s6=function(){h.assert(this.nf,"Headers not available from prefetch viewables.");this.nf.s6();};d.prototype.rfa=function(a,b){h.assert(this.nf,"Headers not available from prefetch viewables.");h.assert(a.O===this);this.nf.rfa(a,b);};d.prototype.oj=function(a,b){h.assert(this.nf,"Headers not available from prefetch viewables.");return this.nf.oj(a,b);};d.prototype.Dba=function(){h.assert(this.nf,"Headers not available from prefetch viewables.");this.nf.Dba();};d.prototype.Tta=function(a,b,c){h.assert(this.nf,"Headers not available from prefetch viewables.");this.nf.l_(a,b,c,!0);};d.prototype.WS=function(a,b,c){h.assert(this.nf,"Headers not available from prefetch viewables.");return this.nf.WS(a,b,!!c);};d.prototype.WG=function(a){h.assert(this.nf,"Headers not available from prefetch viewables.");return this.nf.WG(a);};d.prototype.V4=function(a,b){h.assert(this.nf,"Headers not available from prefetch viewables.");return this.nf.V4(a,b);};d.prototype.Cea=function(a){h.assert(this.nf,"Headers not available from prefetch viewables.");return this.nf.Cea(a);};d.prototype.jG=function(a,b,c){h.assert(this.nf,"Headers not available from prefetch viewables.");return this.nf.jG(a,b,c);};d.prototype.Ajb=function(a){var b,c,f,d;b=a.pa;c=a.M;this.lJa(c,a.stream.X);b=this.ar(c,b);f=this.Yt()?this.config.HBa:0;d=y.Zj()[c];1===c&&0<this.config.nr&&(d=Math.min(d,this.config.nr));b.fJa(d,f);this.Hw.emit("onHeaderFragments",a);};d.prototype.wFa=function(a){this.Lg.push(a);};d.prototype.aJa=function(a){a=this.Lg.indexOf(a);h.assert(-1!==a,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Lg.splice(a,1);};d.prototype.gY=function(){var a;null===(a=this.WA)||void 0===a?void 0:a.tD();};d.prototype.ru=function(a){this.Fp?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",a):void 0!==a.location&&this.GFa(a.M,a.location);};d.prototype.fN=function(a){h.assert(this.Zh,"Requests cannot be handled on prefetch viewables.");this.Fp?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",a):this.Zh.p_({timestamp:a.Qc,url:a.url});};d.prototype.Oi=function(a){var b;null===(b=this.WA)||void 0===b?void 0:b.WY();h.assert(this.Zh&&this.eM&&this.JF,"Requests cannot be handled on prefetch viewables.");this.Fp?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",a):(this.eM()&&this.Zh.NN(!0),this.Zh.p_({timestamp:a.Qc,mediaRequest:a}),this.JF(a));};d.prototype.cN=function(a,b,c){var f;c&&(null===(f=this.WA)||void 0===f?void 0:f.WY());};d.prototype.dN=function(a){var b;h.assert(this.Zh&&this.Cq,"Requests cannot be handled on prefetch viewables.");if(this.Fp)this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",a);else{b=a.$h;this.config.ujb&&b===t.Lj.Vu.g1&&0<a.ye&&(b=t.Lj.Vu.a0);this.Zh.cn({url:a.url},a.status,b,a.ek);this.hq()||this.ji(a.zE||"unknown",void 0,"NFErr_MC_StreamingFailure",a.$h,a.status,a.ek);}};d.prototype.lJa=function(a,b){this.Cpa[a]=b.Rba;};d.prototype.yjb=function(a){var b,c,f;h.assert(this.eF,"Error handling not available on prefetch viewables.");if(!this.Se){b=a.Elb;c=a.xrb;f=a.yrb;a=a.zrb;this.console.warn("Streaming failure, isBuffering "+this.eF()+" is permanent: "+b+", last error code: "+c+", last http code: "+f+", last native code: "+a);b?(this.console.warn(" > Permanent failure, done"),this.ji("Permanent failure",void 0,"NFErr_MC_StreamingFailure",c,f,a)):this.eF()?(this.console.warn(" > We are buffering, calling it!"),this.ji("Temporary failure while buffering",void 0,"NFErr_MC_StreamingFailure",a,f,a)):(this.console.warn(" > Resetting failures"),this.Zh.NN());}};d.prototype.xjb=function(){h.assert(this.Yp&&this.cr,"Error handling not available on prefetch viewables.");this.Se||(this.Yp(!1),this.hq(),this.cr());};return d;}(g.Vr);d.Q_=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Of=[0,1];},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(50);f=a(2);d.I9=function(a){return a===c.Pc.Kj.AUDIO?f.G.Mka:f.G.Nka;};d.p2=50;d.XVa=1E3;},function(g,d,a){var f,m,q,b,k,p,t,u,y,h,B,I,C;function c(a,c,f,d,t,m,g,q,u,y,h,D,B,I,l){this.j=a;this.cb=c;this.Wz=f;this.bd=d;this.Sq=t;this.S7=m;this.Hk=g;this.displayName=q;this.Ej=u;this.OA=y;this.profile=h;this.ro=D;this.Gca=B;this.ffb=I;this.aF=l;this.type=b.Ig.f_;this.No=void 0;this.fr=!(!h||h!=p.ll.$B&&h!=p.ll.qQ);this.Bg={bcp47:g,trackId:c,downloadableId:d,isImageBased:this.fr};this.log=k.Wg(a,"TimedTextTrack");this.state=C.rQ;this.request=this.request.bind(this);}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);m=a(73);q=a(12);b=a(74);k=a(5);p=a(60);t=a(18);u=a(357);y=a(15);h=a(697);B=a(14);I=a(2);(function(a){a[a.rQ=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.OH=3]="LOAD_FAILED";}(C||(C={})));c.prototype.getEntries=function(){var a;a=this;return new Promise(function(b,c){function f(){a.j.state.removeListener(f);a.download().then(b)["catch"](c);}a.state=C.LOADING;a.j.state.value!==B.mb.LOADING?a.download().then(b)["catch"](c):a.j.state.addListener(f);});};c.prototype.Yc=function(){return this.state;};c.prototype.dM=function(){return this.Gca;};c.prototype.IW=function(){return this.ffb;};c.prototype.Dw=function(a,b){var c;c=[];try{this.fr?c=this.Xf&&this.Xf.Dw(a,b)||[]:this.entries&&(c=this.entries.filter(function(c){var f;f=P([c.startTime,c.endTime]);c=f.next().value;f=f.next().value;return c>=a&&c<=b||c<=a&&a<=f;}));}catch(ca){this.log.error("error in getSubtitles",ca,{start:a,end:b,isImageBased:this.fr});}return c;};c.prototype.Iib=function(){var a;if(!y.jc(this.T))try{this.T=this.fr?(a=this.Dw(0,c.RRa)[0])&&a.displayTime:(a=this.entries&&this.entries[0])&&a.startTime;}catch(Q){this.log.error("exception in getStartPts",Q);}return this.T;};c.prototype.EZ=function(a){return this.j.state.value===B.mb.CLOSING||this.j.state.value===B.mb.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.Bc.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};c.prototype.download=function(){var a;a=this;return new Promise(function(b,c){a.j.state.value==B.mb.od?a.fr?a.$kb(function(f){f.$?(a.log.info("Loaded image subtitle manager"),b(f)):(a.log.error("Unable to load image subtitles manager",f),a.state=C.OH,c(f));}):a.gva().then(function(b){return a.Rrb(b);}).then(b)["catch"](c):c({$:!1});});};c.prototype.$kb=function(a){var c,f,d,p,t,m,g,u;function b(d){var h;if(y.jc(d))if(u||c.EZ(c.$q(c.pp,"","image"))){u=!1;c.ro.url=c.Sq[c.pp];f.url=c.ro.url;g[d]=(g[d]||0)+1;h=new k.iXa(p,f);h.on("ready",function(){c.Xf=h;a({$:!0,track:c});});h.on("error",function(f){var k;f=Object.assign({$:!1},f);k=c.$q(c.pp,c.ro.url,"image");k.details={midxoffset:c.ro.offset,midxsize:c.ro.length};k.errorstring=f.errorString;g[d]<=q.config.sIa?(c.UU(k,!0,"retry with current cdn"),c.H5(g[d]).then(function(a){c.log.trace("retry timed text download after "+a,c.$q(c.pp,"","image"));b(c.pp);})):(c.pp=t[m++],c.pp?(c.UU(k,!0,"retry with next cdn"),c.H5(g[d]).then(function(a){c.log.trace("retry timed text download after "+a,c.$q(c.pp,"","image"));b(c.pp);})):(c.UU(k,!1,"all cdns tried"),a({$:!1,Kpb:"all cdns failed for image subs",track:c})));});h.start();}else a({$:!1,Fq:!0});else a({$:!1,Kpb:"cdnId is not defined for image subs downloadUrl"}),c.UU(c.$q(0,"","image"),!1,"cdnId is undefined");}c=this;f={s5a:!1,profile:this.profile,LM:this.ro.offset,zX:this.ro.length,Kc:this.j.ac.value||0,bufferSize:q.config.Ckb,YSb:{ab:this.j.rV()}};d=k.Wg(this.j,"TimedTextTrack");d.warn=d.trace.bind(d);d.info=d.debug.bind(d);p=h.R$a(this.j,d,this.request);t=(this.S7||[]).filter(function(a){return a.id in c.Sq;}).sort(function(a,b){return a.tf-b.tf;}).map(function(a){return a.id;});m=0;g={};u=!0;this.pp=t[m++];b(this.pp);};c.prototype.UU=function(a,b,c){a=Object.assign({},a,{UTb:b,status:c});this.j.fireEvent(B.S.JG,a);this.log.warn("subtitleerror event",a);};c.prototype.request=function(a,b){var c;c=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,No:this.No,responseType:m.iW,headers:{},Zb:this.y9(this.pp)};this.j.jW.download(a,function(a){c.log.trace("imgsub: request status "+a.$);a.$?b(null,new Uint8Array(a.content)):b({ca:a.ca,Vd:a.Vd});});};c.prototype.$q=function(a,b,c){return{currentCdnId:a,url:b,profile:this.profile,dlid:this.bd,subtitletype:c,bcp47:this.Hk,trackId:this.cb,cdnCount:Object.keys(this.Sq).length,isImageBased:this.fr};};c.prototype.y9=function(a){return(this.S7||[]).find(function(b){return b.id===a;});};c.prototype.gva=function(){var d,k;function a(a){return f.__awaiter(d,void 0,void 0,function(){var d,p,t,m,g;function f(){for(;;)switch(d){case 0:t=c();p=m.$q(a.Zb.id,a.url,"text");p.errorstring=a.reason;if(!t||!m.EZ(p)){d=1;break;}d=-1;return{value:m.H5(k[t.id]).then(b),done:!0};case 1:return d=-1,{value:Promise.reject({$:!1,Fq:!0}),done:!0};default:return{value:void 0,done:!0};}}d=0;m=this;g={next:function(){return f();},"throw":function(){return f();},"return":function(){throw Error("Not yet implemented");}};n();g[Symbol.iterator]=function(){return this;};return g;});}function b(){return f.__awaiter(d,void 0,void 0,function(){var f,d,p,t,m;function b(){for(;;)switch(f){case 0:d=(p=c())&&t.Sq[p.id];if(!p||!d){f=1;break;}k[p.id]=(k[p.id]||0)+1;f=-1;return{value:t.Sbb(d,p)["catch"](a),done:!0};case 1:return f=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}f=0;t=this;m={next:function(){return b();},"throw":function(){return b();},"return":function(){throw Error("Not yet implemented");}};n();m[Symbol.iterator]=function(){return this;};return m;});}function c(){return(d.S7||[]).find(function(a){return!!((k[a.id]||0)<q.config.sIa&&d.Sq[a.id]);});}d=this;k={};return b();};c.prototype.H5=function(a){return new Promise(function(b){var c;c=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return b(c);},c);});};c.prototype.Rrb=function(a){var b,c;b=this;c=this.j.dH;t.Pa(c);return u.Qrb(a,c.width/c.height,q.config.uIa,q.config.yga).then(function(a){var c;if(q.config.vIa){c=0;b.entries=a.map(function(a){return Object.assign({},a,{startTime:c,endTime:c+=q.config.vIa});});}else b.entries=a;b.log.trace("Entries parsed",{Length:a.length},b.Bg);b.state=C.LOADED;return{$:!0,entries:b.entries,track:b};})["catch"](function(a){b.log.error("Unable to parse timed text track",I.So(a),b.Bg,{url:a.url});b.state=C.OH;a.reason="parseerror";a.track=b;throw a;});};c.prototype.Sbb=function(a,b){var c;c=this;this.log.trace("Downloading",b&&{Zb:b.id},this.$q(b.id,a,"text"));return new Promise(function(f,d){var k;k={responseType:m.kza,url:a,track:c,Zb:b,hE:"tt-"+c.Hk};c.j.jW.download(k,function(a){a.$?f(a.content):(a.reason="downloadfailed",a.url=k.url,a.track=c,a.Zb=b,d(a));});});};d.pI=c;c.RRa=72E7;c.bna=C;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.D1="ManifestTransformerSymbol";},function(g,d,a){var f;function c(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(9);c.f$=function(){var a;a=f.hs&&f.hs.height;return a?1080<=a?1080:720:720;};d.y2=c;},function(g){g.P=function(d,a){switch(d){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,f){return a.apply(this,arguments);};case 3:return function(c,f,d){return a.apply(this,arguments);};case 4:return function(c,f,d,g){return a.apply(this,arguments);};case 5:return function(c,f,d,g,b){return a.apply(this,arguments);};case 6:return function(c,f,d,g,b,k){return a.apply(this,arguments);};case 7:return function(c,f,d,g,b,k,p){return a.apply(this,arguments);};case 8:return function(c,f,d,g,b,k,p,t){return a.apply(this,arguments);};case 9:return function(c,f,d,g,b,k,p,t,u){return a.apply(this,arguments);};case 10:return function(c,f,d,g,b,k,p,t,u,y){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(g,d,a){var m,q,b,k;function c(a,b,c){for(var f=c.next();!f.done;){if((b=a["@@transducer/step"](b,f.value))&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}f=c.next();}return a["@@transducer/result"](b);}function f(a,c,f,d){return a["@@transducer/result"](f[d](b(a["@@transducer/step"],a),c));}m=a(886);q=a(884);b=a(883);h();h();n();k="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";g.P=function(a,b,d){"function"===typeof a&&(a=q(a));if(m(d)){for(var p=0,t=d.length;p<t;){if((b=a["@@transducer/step"](b,d[p]))&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}p+=1;}return a["@@transducer/result"](b);}if("function"===typeof d["fantasy-land/reduce"])return f(a,b,d,"fantasy-land/reduce");if(null!=d[k])return c(a,b,d[k]());if("function"===typeof d.next)return c(a,b,d);if("function"===typeof d.reduce)return f(a,b,d,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(g){g.P=function(d,a){return Object.prototype.hasOwnProperty.call(a,d);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.QQ="TransportConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Y_="BookmarkSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Zx||(d.Zx={});g.VXa="unknown";g.wha="absent";g.Gma="present";g.Error="error";d.lja="ExternalDisplayLogHelperSymbol";},function(g,d,a){var f,m,q;function c(){this.type=f.Rx.ky;}Object.defineProperty(d,"__esModule",{value:!0});f=a(31);g=a(100);m=a(146);q=new g.uy();c.U6=function(){return{isTypeSupported:function(a){var b;try{if(-1==a.toLowerCase().indexOf("codec"))return M.MSMediaKeys.isTypeSupported(a,"video/mp4");b=a.split("|");return 1===b.length?M.MSMediaKeys.isTypeSupported(m.lb.qq,a):"probably"===c.iga(b[0],b[1]);}catch(p){return!1;}}};};c.TT=function(a,f,d){f=q.format(c.XG,f);if(0===d.length)return f;d=q.format('features="{0}"',d.join());return q.format("{0}|{1}{2}",a,f,d);};c.iga=function(a,c){var b;try{b=M.MSMediaKeys.isTypeSupportedWithFeatures?M.MSMediaKeys.isTypeSupportedWithFeatures(a,c):"";}catch(t){b="exception";}return b;};d.ly=c;c.XG='video/mp4;codecs="{0},mp4a";';},function(g,d,a){var f,m,q,b,k,p;function c(a,f,d,k){var t;t=m.gm.call(this,a,f,d)||this;t.cast=k;t.type=q.yk.c0;a=c.MXa;t.iP[q.zd.RQ]=b.Kd.zH+"; "+a;t.iP[q.zd.as]=b.Kd.as+"; "+a;a=b.Kd.sMa.find(function(a){return t.ot(p(c.XG,a));});t.iP[q.zd.Yr]=a;return t;}Object.defineProperty(d,"__esModule",{value:!0});f=a(60);m=a(136);q=a(31);g=a(100);b=a(137);k=a(439);p=new g.uy().format;da(c,m.gm);c.U6=function(a,b){return(b=c.VFa(b))?{isTypeSupported:b}:a;};c.VFa=function(a){if("undefined"!==typeof a)return a.framework&&a.framework.platform&&a.framework.platform.canDisplayType?a.framework.platform.canDisplayType:a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType||void 0;};c.prototype.Kr=function(a){var f,d;f=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().wJa){d={};if(f)return d[q.ti.nq]="1.4",d[q.ti.fy]="2.2",f().then(function(b){return b===d[a];});f=this.xBa(a);f=p(c.XG,b.Kd.zH)+" hdcp="+f;f=this.ot.bind(this,f);return Promise.resolve(f());}return Promise.resolve(!1);};c.prototype.FE=function(a){return this.iP[a];};c.prototype.NE=function(){var a;a=this;return this.config().wJa?this.Kr(q.ti.fy).then(function(b){return b?Promise.resolve(q.ti.fy):a.Kr(q.ti.nq).then(function(a){return a?Promise.resolve(q.ti.nq):Promise.resolve(void 0);});}).then(function(b){return a.DK(b);}):Promise.resolve(void 0);};c.prototype.rz=function(){var a,b;a=m.gm.prototype.rz.call(this);b=c.bza;a[f.Y.WP]=["avc1.4D4028","width=1920; height=1080; "];a[f.Y.H0]=["hev1.2.6.L90.B0",b];a[f.Y.I0]=["hev1.2.6.L93.B0",b];a[f.Y.J0]=["hev1.2.6.L120.B0",b];a[f.Y.K0]=["hev1.2.6.L123.B0",b];a[f.Y.L0]=["hev1.2.6.L150.B0","width=3840; height=2160; "+b];a[f.Y.N0]=["hev1.2.6.L153.B0","width=3840; height=2160; "+b];a[f.Y.BH]=["hev1.2.6.L90.B0",b];a[f.Y.CH]=["hev1.2.6.L93.B0",b];a[f.Y.SB]=["hev1.2.6.L120.B0",b];a[f.Y.YP]=["hev1.2.6.L123.B0",b];a[f.Y.M0]=["hev1.2.6.L150.B0","width=3840; height=2160; "+b];a[f.Y.O0]=["hev1.2.6.L153.B0","width=3840; height=2160; "+b];a[f.Y.a1]="hev1.1.6.L90.B0";a[f.Y.b1]="hev1.1.6.L93.B0";a[f.Y.c1]="hev1.1.6.L120.B0";a[f.Y.d1]="hev1.1.6.L123.B0";a[f.Y.e1]=["hev1.1.6.L150.B0","width=3840; height=2160; "];a[f.Y.f1]=["hev1.1.6.L153.B0","width=3840; height=2160; "];a[f.Y.Q0]="hev1.2.6.L90.B0";a[f.Y.S0]="hev1.2.6.L93.B0";a[f.Y.U0]="hev1.2.6.L120.B0";a[f.Y.W0]="hev1.2.6.L123.B0";a[f.Y.EH]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[f.Y.FH]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[f.Y.R0]="hev1.2.6.L90.B0";a[f.Y.T0]="hev1.2.6.L93.B0";a[f.Y.V0]="hev1.2.6.L120.B0";a[f.Y.Y0]="hev1.2.6.L123.B0";a[f.Y.Z0]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[f.Y.$0]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return a;};c.prototype.qxa=function(){return[k.Ih.rP,k.Ih.yH,k.Ih.RB];};c.prototype.taa=function(){m.gm.prototype.taa.call(this);!c.VFa(this.cast)&&this.Yl.push(k.Ih.as);};d.bia=c;c.bza="eotf=smpte2084";c.WPb="video/mp4;codecs={0}; "+c.bza;c.MXa="width=3840; height=2160; ";d.d0="CastSDKSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mka="IsTypeSupportedProviderFactorySymbol";d.oma="PlatformIsTypeSupportedSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gna="ThroughputTrackerSymbol";d.B2="ThroughputTrackerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.e2="PboPlaydataFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.t2="SegmentManagerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.G1="MomentObserverFactory";},function(g,d,a){var f,m,q;function c(a,c,f,d){this.sa=a;this.kt=c;this.bl=f;this.zl=void 0===d?"General":d;this.D6={};}Object.defineProperty(d,"__esModule",{value:!0});f=a(7);m=a(451);q=a(948);c.prototype.dra=function(a,c){this.D6[a]=c;};c.prototype.fatal=function(a,c){for(var b=[],d=1;d<arguments.length;++d)b[d-1]=arguments[d];this.Qv(f.vi.kPa,a,q.GD(this.kt,this.GE(b)));};c.prototype.error=function(a,c){for(var b=[],d=1;d<arguments.length;++d)b[d-1]=arguments[d];this.Qv(f.vi.ERROR,a,q.GD(this.kt,this.GE(b)));};c.prototype.warn=function(a,c){for(var b=[],d=1;d<arguments.length;++d)b[d-1]=arguments[d];this.Qv(f.vi.G2,a,q.GD(this.kt,this.GE(b)));};c.prototype.info=function(a,c){for(var b=[],d=1;d<arguments.length;++d)b[d-1]=arguments[d];this.Qv(f.vi.o1,a,q.GD(this.kt,this.GE(b)));};c.prototype.trace=function(a,c){for(var b=[],d=1;d<arguments.length;++d)b[d-1]=arguments[d];this.Qv(f.vi.Bna,a,q.GD(this.kt,this.GE(b)));};c.prototype.debug=function(a,c){for(var b=1;b<arguments.length;++b);};c.prototype.log=function(a,c){for(var b=1;b<arguments.length;++b);this.debug.apply(this,arguments);};c.prototype.write=function(a,c,f){for(var b=[],d=2;d<arguments.length;++d)b[d-2]=arguments[d];this.Qv(a,c,q.GD(this.kt,this.GE(b)));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return{category:this.zl};};c.prototype.a7=function(a){return new c(this.sa,this.kt,this.bl,a);};c.prototype.Qv=function(a,c,f){a=new m.Bka(a,this.zl,this.sa.pc(),c,f);c=P(this.bl.bl);for(f=c.next();!f.done;f=c.next())f=f.value,f(a);};c.prototype.GE=function(a){return 0<Object.keys(this.D6).length?[].concat([this.D6],ea(a)):a;};d.QH=c;},function(g){var p,t,u,h,D,B;function d(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(a){if(p===setTimeout)return setTimeout(a,0);if((p===d||!p)&&setTimeout)return p=setTimeout,setTimeout(a,0);try{return p(a,0);}catch(C){try{return p.call(null,a,0);}catch(K){return p.call(this,a,0);}}}function f(b){if(t===clearTimeout)clearTimeout(b);else if(t!==a&&t||!clearTimeout)try{t(b);}catch(C){try{t.call(null,b);}catch(K){t.call(this,b);}}else t=clearTimeout,clearTimeout(b);}function m(){h&&D&&(h=!1,D.length?u=D.concat(u):B=-1,u.length&&q());}function q(){var a;if(!h){a=c(m);h=!0;for(var b=u.length;b;){D=u;for(u=[];++B<b;)D&&D[B].oG();B=-1;b=u.length;}D=null;h=!1;f(a);}}function b(a,b){this.tfb=a;this.Sj=b;}function k(){}g=g.P={};try{p="function"===typeof setTimeout?setTimeout:d;}catch(I){p=d;}try{t="function"===typeof clearTimeout?clearTimeout:a;}catch(I){t=a;}u=[];h=!1;B=-1;g.FCa=function(a){var f;f=Array(arguments.length-1);if(1<arguments.length)for(var d=1;d<arguments.length;d++)f[d-1]=arguments[d];u.push(new b(a,f));1!==u.length||h||c(q);};b.prototype.oG=function(){this.tfb.apply(null,this.Sj);};g.title="browser";g.kNb=!0;g.Ldb={};g.RMb=[];g.version="";g.MTb={};g.on=k;g.addListener=k;g.once=k;g.fDa=k;g.removeListener=k;g.removeAllListeners=k;g.emit=k;g.CEa=k;g.Ctb=k;g.listeners=function(){return[];};g.fNb=function(){throw Error("process.binding is not supported");};g.aOb=function(){return"/";};g.ENb=function(){throw Error("process.chdir is not supported");};g.CTb=function(){return 0;};},function(g,d,a){var f,m;function c(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(a){for(var b=new Uint8Array(a.length/2),c=0;c<b.length;c++)b[c]=this.DIa(a.substr(2*c,2));return b;};c.prototype.encode=function(a){for(var b="",c=a.length,f=0;f<c;f++)var d=a[f],b=b+("0123456789ABCDEF"[d>>>4]+"0123456789ABCDEF"[d&15]);return b;};c.prototype.qL=function(a,b){var c;c="";for(b<<=1;b--;)c=("0123456789ABCDEF"[a&15]||"0")+c,a>>>=4;return c;};c.prototype.DIa=function(a){var b;b=a.length;if(7<b)throw Error("hex to long");for(var c=0,d=0;d<b;d++)c=16*c+f[a[d]];return c;};m=c;m=g.__decorate([a.N()],m);d.V_=m;},function(g,d,a){var f,m,q,b,k,p,t,u,h,D,B;function c(a,b,c,f,d,k){this.SM=a;this.is=b;this.Gc=c;this.vc=f;this.ze=d;this.Hh=k;q.Vm(this,"nav");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(1);q=a(54);b=a(2);k=a(37);p=a(23);t=a(90);u=a(22);h=a(39);D=a(53);a=a(101);c.prototype.Mz=function(){if(this.Za)return this.Za.sessionId;};c.prototype.Rvb=function(a,b){return this.SM.requestMediaKeySystemAccess(a,b);};c.prototype.E$a=function(a){return a.createMediaKeys();};c.prototype.Gm=function(a,b){this.Za=a.createSession(b);};c.prototype.Qlb=function(){return!!this.Za;};c.prototype.eyb=function(a,b){return this.is.SS(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};c.prototype.r9=function(a,c){return this.Za?this.Za.generateRequest(a,c[0]):Promise.reject(new t.Nf(b.J.Yia,b.G.uH,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(a){return this.Za?this.Za.update(a[0]):Promise.reject(new t.Nf(b.J.QP,b.G.uH,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(a){return this.Za?this.Za.load(a):Promise.reject(new t.Nf(b.J.KOa,b.G.uH,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var a;if(!this.Za)return Promise.reject(new t.Nf(b.J.DOa,b.G.uH,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.Mz()&&(a=this.Za.close());this.Za=void 0;return a;};c.prototype.remove=function(){return this.Za?this.Za.remove():Promise.reject(new t.Nf(b.J.bja,b.G.uH,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.JN=function(){return Promise.reject(new t.Nf(b.J.PP,void 0,"Unable to renew a key session, not supported"));};c.prototype.B3a=function(a){if(!this.Za)throw ReferenceError("Unable to add message handler, key session is not valid");this.Za.addEventListener(f.fja,a);};c.prototype.u3a=function(a){if(!this.Za)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Za.addEventListener(f.eja,a);};c.prototype.o3a=function(a){if(!this.Za)throw ReferenceError("Unable to add error handler, key session is not valid");this.Za.addEventListener(f.dja,a);};c.prototype.Avb=function(a){if(!this.Za)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Za.removeEventListener(f.fja,a);};c.prototype.xvb=function(a){if(!this.Za)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Za.removeEventListener(f.eja,a);};c.prototype.vvb=function(a){if(!this.Za)throw ReferenceError("Unable to remove error handler, key session is not valid");this.Za.removeEventListener(f.dja,a);};B=f=c;B.fja="message";B.eja="keystatuseschange";B.dja="error";B=f=g.__decorate([m.N(),g.__param(0,m.l(k.kv)),g.__param(1,m.l(p.Qe)),g.__param(2,m.l(h.Hj)),g.__param(3,m.l(u.ef)),g.__param(4,m.l(D.hm)),g.__param(5,m.l(a.xy))],B);d.ps=B;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rn='video/mp4; codecs="avc1.640028"';d.hy='audio/mp4; codecs="mp4a.40.5"';d.xOa="DrmTraitsSymbol";},function(g,d,a){var c,f;c=a(476);f=a(1065);d.bx=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return c.wF(f.ukb,null,a);};},function(g,d,a){var c;c=this&&this.__extends||function(a,c){function f(){this.constructor=a;}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f());};g=function(a){function f(c,b){a.call(this);this.value=c;this.ha=b;this.Cs=!0;b&&(this.Cs=!1);}c(f,a);f.create=function(a,b){return new f(a,b);};f.Lb=function(a){var b,c;b=a.value;c=a.cg;a.done?c.complete():(c.next(b),c.closed||(a.done=!0,this.Ab(a)));};f.prototype.ug=function(a){var b,c;b=this.value;c=this.ha;if(c)return c.Ab(f.Lb,0,{done:!1,value:b,cg:a});a.next(b);a.closed||a.complete();};return f;}(a(10).Aa);d.s2=g;},function(g,d,a){a(10);g=function(){function a(a,c,d){this.kind=a;this.value=c;this.error=d;this.Ap="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.RK=function(a,c,d){switch(this.kind){case"N":return a&&a(this.value);case"E":return c&&c(this.error);case"C":return d&&d();}};a.prototype.accept=function(a,c,d){return a&&"function"===typeof a.next?this.observe(a):this.RK(a,c,d);};a.X6=function(c){return"undefined"!==typeof c?new a("N",c):a.zBb;};a.Rta=function(c){return new a("E",void 0,c);};a.T6=function(){return a.T7a;};a.T7a=new a("C");a.zBb=new a("N",void 0);return a;}();d.Notification=g;},function(g,d,a){var c;c=this&&this.__extends||function(a,c){function f(){this.constructor=a;}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f());};g=function(a){function f(){a.apply(this,arguments);this.Gk=[];this.active=!1;}c(f,a);f.prototype.flush=function(a){var b,c;b=this.Gk;if(this.active)b.push(a);else{this.active=!0;do if(c=a.Cf(a.state,a.Td))break;while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();)a.unsubscribe();throw c;}}};return f;}(a(1080).HWa);d.S_=g;},function(g,d,a){var c,f;c=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=a(78);g=function(a){function d(b,c){a.call(this,b,c);this.ha=b;this.iN=!1;this.nP=c;}c(d,a);d.prototype.Ab=function(a,c){var b;void 0===c&&(c=0);if(this.closed)return this;this.state=a;this.iN=!0;a=this.id;b=this.ha;null!=a&&(this.id=this.TY(b,a,c));this.Td=c;this.id=this.id||this.aZ(b,this.id,c);return this;};d.prototype.aZ=function(a,c,d){void 0===d&&(d=0);return f.root.setInterval(a.flush.bind(a,this),d);};d.prototype.TY=function(a,c,d){void 0===d&&(d=0);return null!==d&&this.Td===d&&!1===this.iN?c:(f.root.clearInterval(c),void 0);};d.prototype.Cf=function(a,c){if(this.closed)return Error("executing a cancelled action");this.iN=!1;if(a=this.DR(a,c))return a;!1===this.iN&&null!=this.id&&(this.id=this.TY(this.ha,this.id,null));};d.prototype.DR=function(a){var b,c;b=!1;c=void 0;try{this.nP(a);}catch(t){b=!0;c=!!t&&t||Error(t);}if(b)return this.unsubscribe(),c;};d.prototype.Ss=function(){var a,c,f,d;a=this.id;c=this.ha;f=c.Gk;d=f.indexOf(this);this.state=this.nP=null;this.iN=!1;this.ha=null;-1!==d&&f.splice(d,1);null!=a&&(this.id=this.TY(c,a,null));this.Td=null;};return d;}(a(1082).AKa);d.R_=g;},function(g,d,a){function c(a){var c;c=a.Symbol;"function"===typeof c?c.observable?a=c.observable:(a=c("observable"),c.observable=a):a="@@observable";return a;}g=a(78);d.RPb=c;d.observable=c(g.root);d.BDb=d.observable;},function(g,d,a){g=a(78).root.Symbol;d.ZA="function"===typeof g&&"function"===typeof g["for"]?g["for"]("rxSubscriber"):"@@rxSubscriber";d.CDb=d.ZA;},function(g,d){d.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.b0="CachedDrmDataSymbol";},function(g,d,a){var m;function c(){}function f(a){a?(this.active=!1,this.n9(a)):this.active=!0;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);f.prototype.n9=function(a){this.kc=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,Sw:a.licenseContextId,nF:a.licenseId};}):[];this.ia=a.xid;this.u=a.movieId;};f.prototype.Mr=function(){return JSON.parse(JSON.stringify({keySessionData:this.kc?this.kc.map(function(a){return{id:a.id,licenseContextId:a.Sw,licenseId:a.nF};}):[],xid:this.ia,movieId:this.u}));};d.u0=f;c.prototype.create=function(){return new f();};c.prototype.load=function(a){return new f(a);};m=c;m=g.__decorate([a.N()],m);d.tOa=m;},function(g,d,a){var c,f,m,q,b,k,p,t,u;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(123);f=a(498);m=a(264);q=a(263);b=a(1102);k=a(1101);p=a(105);t=a(144);u=a(1100);d.eme=new g.xc(function(a){a(f.Pia).to(m.tOa).Z();a(q.b0).to(b.pMa).Z();a(c.OP).LO(k.cub);a(p.ev).TG(function(a){d.YK.parent=a.ub;return d.YK.get(p.ev);});a(t.UH).If(function(){return function(){return new u.JSa();};});});d.YK=new g.GP({hB:!0});},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(267);a(501);g=function(){function a(a){this.Hb=a;}a.prototype.when=function(a){this.Hb.oz=a;return new c.AP(this.Hb);};a.prototype.lP=function(){this.Hb.oz=function(a){return null!==a.target&&!a.target.Aaa()&&!a.target.Faa();};return new c.AP(this.Hb);};return a;}();d.X_=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(266);g=function(){function a(a){this.Hb=a;}a.prototype.ur=function(a){this.Hb.ur=a;return new c.X_(this.Hb);};return a;}();d.AP=g;},function(g,d,a){var m,q,b,k,p,t,u,y,D;function c(a){var b;b=[];u(a,y,function(a,c,f,d){b[b.length]=f?u(d,D,"$1"):c||a;});return b;}function f(){throw new m();}m=TypeError;q=Object.getOwnPropertyDescriptor;if(q)try{q({},"");}catch(B){q=null;}d=q?function(){try{return arguments.callee,f;}catch(B){try{return q(arguments,"callee").get;}catch(I){return f;}}}():f;b=a(1135)();k=Object.getPrototypeOf||function(a){return a.__proto__;};p="undefined"===typeof Uint8Array?void 0:k(Uint8Array);h();n();h();h();h();n();h();n();h();n();h();n();h();h();t={"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":b?k([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":void 0,"%Atomics%":"undefined"===typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"===typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"===typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"===typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"===typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"===typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"===typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"===typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"===typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"===typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"===typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"===typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"===typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":b?k(k([][Symbol.iterator]())):void 0,"%JSON%":"object"===typeof JSON?JSON:void 0,"%JSONParse%":"object"===typeof JSON?JSON.parse:void 0,"%Map%":"undefined"===typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&b?k(new Map()[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"===typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"===typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"===typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"===typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"===typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"===typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"===typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"===typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"===typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&b?k(new Set()[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"===typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":b?k(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":b?Symbol:void 0,"%SymbolPrototype%":b?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":d,"%TypedArray%":p,"%TypedArrayPrototype%":p?p.prototype:void 0,"%TypeError%":m,"%TypeErrorPrototype%":m.prototype,"%Uint8Array%":"undefined"===typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"===typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"===typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"===typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"===typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"===typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"===typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"===typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"===typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"===typeof WeakSet?void 0:WeakSet.prototype};u=a(269).call(Function.call,String.prototype.replace);y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;D=/\\(\\)?/g;g.P=function(a,b){var f,d,p;if("string"!==typeof a||0===a.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!==typeof b)throw new TypeError('"allowMissing" argument must be a boolean');f=c(a);d="%"+(0<f.length?f[0]:"")+"%";if(!(d in t))throw new SyntaxError("intrinsic "+d+" does not exist!");if("undefined"===typeof t[d]&&!b)throw new m("intrinsic "+d+" exists, but is not available. Please file an issue!");d=t[d];for(var k=1;k<f.length;k+=1)if(null!=d)if(q&&k+1>=f.length){p=q(d,f[k]);if(!(b||f[k]in d))throw new m("base intrinsic for "+a+" exists, but the property is not available.");d=p?p.get||p.value:d[f[k]];}else d=d[f[k]];return d;};},function(g,d,a){d=a(1138);g.P=Function.prototype.bind||d;},function(g,d,a){var q;function c(a,c,f,d,m,g,q){this.bP=d;this.YJa=a;this.ICa=c;this.nca=f;this.fmb=g;this.tx=q;this.split=m;}function f(){this.H={};this.H["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.H["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.H["3"]=new c("7","8","7","10","1.5",0,0);this.H["7"]=new c("15","16","15","9","4.5",0,0);this.H["15"]=new c("31","32","31","2","5.5",0,0);this.H["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.H["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.H["123"]=new c("123","124","123","0","0",1,.207298);this.H["124"]=new c("123","124","123","0","0",1,.49076);this.H["64"]=new c("125","126","125","4","40.5",0,0);this.H["125"]=new c("125","126","125","0","0",1,-.00157835);this.H["126"]=new c("125","126","125","0","0",1,.934205);this.H["32"]=new c("65","66","65","135","5.5",0,0);this.H["65"]=new c("127","128","128","4","1272.5",0,0);this.H["127"]=new c("127","128","128","0","0",1,-.510333);this.H["128"]=new c("127","128","128","0","0",1,.18363);this.H["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.H["129"]=new c("129","130","129","0","0",1,-.0464542);this.H["130"]=new c("129","130","129","0","0",1,.458833);this.H["16"]=new c("33","34","34","10","2.00001",0,0);this.H["33"]=new c("67","68","67","0","29.5",0,0);this.H["67"]=new c("131","132","131","2","39.5",0,0);this.H["131"]=new c("131","132","131","0","0",1,-.37577);this.H["132"]=new c("131","132","131","0","0",1,.512087);this.H["68"]=new c("133","134","134","140","1.5",0,0);this.H["133"]=new c("133","134","134","0","0",1,.321272);this.H["134"]=new c("133","134","134","0","0",1,-.675396);this.H["34"]=new c("69","70","70","2","24.5",0,0);this.H["69"]=new c("135","136","136","9","28.5",0,0);this.H["135"]=new c("135","136","136","0","0",1,-.0573845);this.H["136"]=new c("135","136","136","0","0",1,-.507455);this.H["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.H["137"]=new c("137","138","137","0","0",1,-.503909);this.H["138"]=new c("137","138","137","0","0",1,.450886);this.H["8"]=new c("17","18","17","4","44189.5",0,0);this.H["17"]=new c("35","36","35","2","21.5",0,0);this.H["35"]=new c("71","72","72","0","19.5",0,0);this.H["71"]=new c("139","140","140","9","2.5",0,0);this.H["139"]=new c("139","140","140","0","0",1,.00403497);this.H["140"]=new c("139","140","140","0","0",1,-.312656);this.H["72"]=new c("141","142","141","135","96",0,0);this.H["141"]=new c("141","142","141","0","0",1,-.465786);this.H["142"]=new c("141","142","141","0","0",1,.159633);this.H["36"]=new c("73","74","73","130","89.5",0,0);this.H["73"]=new c("143","144","144","10","4.5",0,0);this.H["143"]=new c("143","144","144","0","0",1,-.76265);this.H["144"]=new c("143","144","144","0","0",1,-.580804);this.H["74"]=new c("145","146","146","10","16.5",0,0);this.H["145"]=new c("145","146","146","0","0",1,.296357);this.H["146"]=new c("145","146","146","0","0",1,-.691659);this.H["18"]=new c("37","38","38","9","1.5",0,0);this.H["37"]=new c("37","38","38","0","0",1,.993951);this.H["38"]=new c("75","76","75","0","19",0,0);this.H["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.H["147"]=new c("147","148","147","0","0",1,-.346535);this.H["148"]=new c("147","148","147","0","0",1,-.995745);this.H["76"]=new c("147","148","147","0","0",1,-.99978);this.H["4"]=new c("9","10","9","5","4.5",0,0);this.H["9"]=new c("19","20","19","2","4.5",0,0);this.H["19"]=new c("39","40","39","140","7.5",0,0);this.H["39"]=new c("77","78","78","134","6.5",0,0);this.H["77"]=new c("149","150","150","7","11.5",0,0);this.H["149"]=new c("149","150","150","0","0",1,.729843);this.H["150"]=new c("149","150","150","0","0",1,.383857);this.H["78"]=new c("151","152","151","133","4.5",0,0);this.H["151"]=new c("151","152","151","0","0",1,.39017);this.H["152"]=new c("151","152","151","0","0",1,.0434342);this.H["40"]=new c("79","80","79","133","3.5",0,0);this.H["79"]=new c("153","154","154","8","4.5",0,0);this.H["153"]=new c("153","154","154","0","0",1,-.99536);this.H["154"]=new c("153","154","154","0","0",1,-.00943396);this.H["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.H["155"]=new c("155","156","155","0","0",1,.266272);this.H["156"]=new c("155","156","155","0","0",1,.959904);this.H["20"]=new c("41","42","42","10","65.5",0,0);this.H["41"]=new c("81","82","82","7","10.5",0,0);this.H["81"]=new c("157","158","158","2","37.5",0,0);this.H["157"]=new c("157","158","158","0","0",1,-.701873);this.H["158"]=new c("157","158","158","0","0",1,.224649);this.H["82"]=new c("159","160","159","133","9.5",0,0);this.H["159"]=new c("159","160","159","0","0",1,.0955181);this.H["160"]=new c("159","160","159","0","0",1,-.58962);this.H["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.H["83"]=new c("161","162","161","135","31",0,0);this.H["161"]=new c("161","162","161","0","0",1,-.229692);this.H["162"]=new c("161","162","161","0","0",1,.88595);this.H["84"]=new c("163","164","164","1","13.5",0,0);this.H["163"]=new c("163","164","164","0","0",1,-.992157);this.H["164"]=new c("163","164","164","0","0",1,.922159);this.H["10"]=new c("21","22","22","4","486",0,0);this.H["21"]=new c("43","44","44","133","4.5",0,0);this.H["43"]=new c("85","86","86","10","4.5",0,0);this.H["85"]=new c("165","166","166","4","158.5",0,0);this.H["165"]=new c("165","166","166","0","0",1,-.127778);this.H["166"]=new c("165","166","166","0","0",1,.955189);this.H["86"]=new c("165","166","166","0","0",1,-.994012);this.H["44"]=new c("87","88","88","1","3.5",0,0);this.H["87"]=new c("167","168","168","135","7",0,0);this.H["167"]=new c("167","168","168","0","0",1,-.997015);this.H["168"]=new c("167","168","168","0","0",1,.400821);this.H["88"]=new c("169","170","169","130","36",0,0);this.H["169"]=new c("169","170","169","0","0",1,-.898638);this.H["170"]=new c("169","170","169","0","0",1,.56129);this.H["22"]=new c("45","46","45","9","2.5",0,0);this.H["45"]=new c("89","90","90","9","1.5",0,0);this.H["89"]=new c("171","172","171","10","10.5",0,0);this.H["171"]=new c("171","172","171","0","0",1,.573986);this.H["172"]=new c("171","172","171","0","0",1,-.627266);this.H["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.H["173"]=new c("173","174","173","0","0",1,.925273);this.H["174"]=new c("173","174","173","0","0",1,-.994805);this.H["46"]=new c("91","92","91","136","5.5",0,0);this.H["91"]=new c("175","176","175","10","10.5",0,0);this.H["175"]=new c("175","176","175","0","0",1,.548352);this.H["176"]=new c("175","176","175","0","0",1,-.879195);this.H["92"]=new c("177","178","178","8","14.5",0,0);this.H["177"]=new c("177","178","178","0","0",1,.457305);this.H["178"]=new c("177","178","178","0","0",1,-.998992);this.H["2"]=new c("5","6","5","10","2.5",0,0);this.H["5"]=new c("11","12","11","9","4.5",0,0);this.H["11"]=new c("23","24","24","10","4.00001",0,0);this.H["23"]=new c("47","48","48","133","5.5",0,0);this.H["47"]=new c("93","94","93","3","13.5",0,0);this.H["93"]=new c("179","180","179","138","15.5",0,0);this.H["179"]=new c("179","180","179","0","0",1,.658398);this.H["180"]=new c("179","180","179","0","0",1,-.927007);this.H["94"]=new c("181","182","182","3","15.5",0,0);this.H["181"]=new c("181","182","182","0","0",1,-.111351);this.H["182"]=new c("181","182","182","0","0",1,-.99827);this.H["48"]=new c("95","96","95","7","167",0,0);this.H["95"]=new c("183","184","183","132","36.5",0,0);this.H["183"]=new c("183","184","183","0","0",1,.895161);this.H["184"]=new c("183","184","183","0","0",1,-.765217);this.H["96"]=new c("185","186","186","137","6.00001",0,0);this.H["185"]=new c("185","186","186","0","0",1,-.851095);this.H["186"]=new c("185","186","186","0","0",1,.674286);this.H["24"]=new c("49","50","49","137","5.5",0,0);this.H["49"]=new c("97","98","97","5","23.5",0,0);this.H["97"]=new c("187","188","187","3","28.5",0,0);this.H["187"]=new c("187","188","187","0","0",1,.951654);this.H["188"]=new c("187","188","187","0","0",1,-.993808);this.H["98"]=new c("187","188","187","0","0",1,-.99705);this.H["50"]=new c("187","188","187","0","0",1,-.997525);this.H["12"]=new c("25","26","25","8","8.5",0,0);this.H["25"]=new c("51","52","52","10","4.00001",0,0);this.H["51"]=new c("99","100","100","133","5.5",0,0);this.H["99"]=new c("189","190","190","7","40.5",0,0);this.H["189"]=new c("189","190","190","0","0",1,.151839);this.H["190"]=new c("189","190","190","0","0",1,-.855517);this.H["100"]=new c("191","192","192","133","14.5",0,0);this.H["191"]=new c("191","192","192","0","0",1,.86223);this.H["192"]=new c("191","192","192","0","0",1,.544394);this.H["52"]=new c("101","102","101","135","47.5",0,0);this.H["101"]=new c("193","194","194","4","24.5",0,0);this.H["193"]=new c("193","194","194","0","0",1,.946185);this.H["194"]=new c("193","194","194","0","0",1,.811859);this.H["102"]=new c("193","194","194","0","0",1,-.991561);this.H["26"]=new c("53","54","54","132","6.5",0,0);this.H["53"]=new c("103","104","103","131","85",0,0);this.H["103"]=new c("195","196","196","134","16.5",0,0);this.H["195"]=new c("195","196","196","0","0",1,.0473538);this.H["196"]=new c("195","196","196","0","0",1,-.999401);this.H["104"]=new c("197","198","198","8","15.5",0,0);this.H["197"]=new c("197","198","198","0","0",1,.816129);this.H["198"]=new c("197","198","198","0","0",1,-.99322);this.H["54"]=new c("105","106","105","133","3.5",0,0);this.H["105"]=new c("105","106","105","0","0",1,-.998783);this.H["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.H["199"]=new c("199","200","199","0","0",1,.528588);this.H["200"]=new c("199","200","199","0","0",1,-.998599);this.H["6"]=new c("13","14","14","10","7.5",0,0);this.H["13"]=new c("27","28","28","133","7.5",0,0);this.H["27"]=new c("55","56","56","10","4.5",0,0);this.H["55"]=new c("107","108","107","3","3.5",0,0);this.H["107"]=new c("201","202","201","4","17.5",0,0);this.H["201"]=new c("201","202","201","0","0",1,-.379512);this.H["202"]=new c("201","202","201","0","0",1,.15165);this.H["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.H["203"]=new c("203","204","203","0","0",1,-.884606);this.H["204"]=new c("203","204","203","0","0",1,.265406);this.H["56"]=new c("109","110","109","136","6.5",0,0);this.H["109"]=new c("205","206","205","4","157.5",0,0);this.H["205"]=new c("205","206","205","0","0",1,-.0142737);this.H["206"]=new c("205","206","205","0","0",1,.691279);this.H["110"]=new c("205","206","205","0","0",1,-.998086);this.H["28"]=new c("57","58","58","138","11.5",0,0);this.H["57"]=new c("111","112","112","2","6.5",0,0);this.H["111"]=new c("207","208","208","7","67.5",0,0);this.H["207"]=new c("207","208","208","0","0",1,.763925);this.H["208"]=new c("207","208","208","0","0",1,-.309645);this.H["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.H["209"]=new c("209","210","209","0","0",1,-.306635);this.H["210"]=new c("209","210","209","0","0",1,.556696);this.H["58"]=new c("113","114","113","138","50.5",0,0);this.H["113"]=new c("211","212","212","8","25.5",0,0);this.H["211"]=new c("211","212","212","0","0",1,.508234);this.H["212"]=new c("211","212","212","0","0",1,.793551);this.H["114"]=new c("211","212","212","0","0",1,-.998438);this.H["14"]=new c("29","30","29","134","27.5",0,0);this.H["29"]=new c("59","60","60","7","17.5",0,0);this.H["59"]=new c("115","116","115","135","5.5",0,0);this.H["115"]=new c("213","214","214","137","5.5",0,0);this.H["213"]=new c("213","214","214","0","0",1,.401747);this.H["214"]=new c("213","214","214","0","0",1,.0367503);this.H["116"]=new c("215","216","216","8","5.5",0,0);this.H["215"]=new c("215","216","216","0","0",1,-.0241984);this.H["216"]=new c("215","216","216","0","0",1,-.999046);this.H["60"]=new c("117","118","117","0","12.5",0,0);this.H["117"]=new c("217","218","218","132","5.5",0,0);this.H["217"]=new c("217","218","218","0","0",1,-.997294);this.H["218"]=new c("217","218","218","0","0",1,.210398);this.H["118"]=new c("219","220","219","137","1.5",0,0);this.H["219"]=new c("219","220","219","0","0",1,-.55763);this.H["220"]=new c("219","220","219","0","0",1,.074493);this.H["30"]=new c("61","62","62","133","42.5",0,0);this.H["61"]=new c("119","120","119","135","5.5",0,0);this.H["119"]=new c("221","222","222","4","473.5",0,0);this.H["221"]=new c("221","222","222","0","0",1,-.920213);this.H["222"]=new c("221","222","222","0","0",1,-.17615);this.H["120"]=new c("223","224","224","5","144",0,0);this.H["223"]=new c("223","224","224","0","0",1,-.954295);this.H["224"]=new c("223","224","224","0","0",1,-.382538);this.H["62"]=new c("121","122","121","133","50",0,0);this.H["121"]=new c("225","226","226","10","18.5",0,0);this.H["225"]=new c("225","226","226","0","0",1,-.0731343);this.H["226"]=new c("225","226","226","0","0",1,.755454);this.H["122"]=new c("227","228","228","0","30",0,0);this.H["227"]=new c("227","228","228","0","0",1,.25);this.H["228"]=new c("227","228","228","0","0",1,-.997101);}function m(a,c,f,d,m,g){this.iZ=m;this.JT=g;}d=a(297);q=a(185);a={};a.$4a=new function(){this.ZZa=q();this.o=0;this.update=function(){this.o=q()-this.ZZa;};this.getValue=function(){return this.o;};this.type="num";}();a.Omb=new function(){this.getValue=function(a,c,f){return this.o="becauseYouAdded"===f.ya[a].context||null;};this.type="cat";}();a.Pmb=new function(){this.getValue=function(a,c,f){return this.o="becauseYouLiked"===f.ya[a].context||null;};this.type="cat";}();a.Rmb=new function(){this.getValue=function(a,c,f){return this.o="billboard"===f.ya[a].context||null;};this.type="cat";}();a.Smb=new function(){this.getValue=function(a,c,f){return this.o="continueWatching"===f.ya[a].context||null;};this.type="cat";}();a.Qmb=new function(){this.getValue=function(a,c,f){return this.o="bigRow"===f.ya[a].context||null;};this.type="cat";}();a.Tmb=new function(){this.getValue=function(a,c,f){return this.o="genre"===f.ya[a].context||null;};this.type="cat";}();a.Umb=new function(){this.getValue=function(a,c,f){return this.o="netflixOriginals"===f.ya[a].context||null;};this.type="cat";}();a.Vmb=new function(){this.getValue=function(a,c,f){return this.o="newRelease"===f.ya[a].context||null;};this.type="cat";}();a.Wmb=new function(){this.getValue=function(a,c,f){return this.o="popularTitles"===f.ya[a].context||null;};this.type="cat";}();a.Xmb=new function(){this.getValue=function(a,c,f){return this.o="queue"===f.ya[a].context||null;};this.type="cat";}();a.Ymb=new function(){this.getValue=function(a,c,f){return this.o="recentlyAdded"===f.ya[a].context||null;};this.type="cat";}();a.Zmb=new function(){this.getValue=function(a,c,f){return this.o="similars"===f.ya[a].context||null;};this.type="cat";}();a.anb=new function(){this.getValue=function(a,c,f){return this.o="trendingNow"===f.ya[a].context||null;};this.type="cat";}();a.bnb=new function(){this.getValue=function(a,c,f){return this.o="ultraHD"===f.ya[a].context||null;};this.type="cat";}();a.cnb=new function(){this.getValue=function(a,c,f){return this.o="watchAgain"===f.ya[a].context||null;};this.type="cat";}();a.$mb=new function(){this.getValue=function(a,c,f){return this.o="topTen"===f.ya[a].context||null;};this.type="cat";}();a.L5a=new function(){this.update=function(a){for(var b in a.ya)if("becauseYouAdded"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.M5a=new function(){this.update=function(a){for(var b in a.ya)if("becauseYouLiked"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.P5a=new function(){this.update=function(a){for(var b in a.ya)if("billboard"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.s8a=new function(){this.update=function(a){for(var b in a.ya)if("continueWatching"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.O5a=new function(){this.update=function(a){for(var b in a.ya)if("bigRow"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.yfb=new function(){this.update=function(a){for(var b in a.ya)if("genre"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Ypb=new function(){this.update=function(a){for(var b in a.ya)if("netflixOriginals"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.bqb=new function(){this.update=function(a){for(var b in a.ya)if("newRelease"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.gtb=new function(){this.update=function(a){for(var b in a.ya)if("popularTitles"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.xh=new function(){this.update=function(a){for(var b in a.ya)if("queue"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Pub=new function(){this.update=function(a){for(var b in a.ya)if("recentlyAdded"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Qyb=new function(){this.update=function(a){for(var b in a.ya)if("similars"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.jBb=new function(){this.update=function(a){for(var b in a.ya)if("trendingNow"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.xBb=new function(){this.update=function(a){for(var b in a.ya)if("ultraHD"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.fDb=new function(){this.update=function(a){for(var b in a.ya)if("watchAgain"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.UAb=new function(){this.update=function(a){for(var b in a.ya)if("topTen"===a.ya[b].context){this.o=Math.max(a.ya[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.E8a=new function(){this.getValue=function(a,c,f){return this.o="AR"===f.za||null;};this.type="cat";}();a.F8a=new function(){this.getValue=function(a,c,f){return this.o="AT"===f.za||null;};this.type="cat";}();a.G8a=new function(){this.getValue=function(a,c,f){return this.o="AU"===f.za||null;};this.type="cat";}();a.H8a=new function(){this.getValue=function(a,c,f){return this.o="AZ"===f.za||null;};this.type="cat";}();a.I8a=new function(){this.getValue=function(a,c,f){return this.o="BB"===f.za||null;};this.type="cat";}();a.J8a=new function(){this.getValue=function(a,c,f){return this.o="BE"===f.za||null;};this.type="cat";}();a.K8a=new function(){this.getValue=function(a,c,f){return this.o="BO"===f.za||null;};this.type="cat";}();a.L8a=new function(){this.getValue=function(a,c,f){return this.o="BR"===f.za||null;};this.type="cat";}();a.M8a=new function(){this.getValue=function(a,c,f){return this.o="BS"===f.za||null;};this.type="cat";}();a.N8a=new function(){this.getValue=function(a,c,f){return this.o="CA"===f.za||null;};this.type="cat";}();a.O8a=new function(){this.getValue=function(a,c,f){return this.o="CH"===f.za||null;};this.type="cat";}();a.P8a=new function(){this.getValue=function(a,c,f){return this.o="CL"===f.za||null;};this.type="cat";}();a.Q8a=new function(){this.getValue=function(a,c,f){return this.o="CO"===f.za||null;};this.type="cat";}();a.R8a=new function(){this.getValue=function(a,c,f){return this.o="CR"===f.za||null;};this.type="cat";}();a.S8a=new function(){this.getValue=function(a,c,f){return this.o="CW"===f.za||null;};this.type="cat";}();a.T8a=new function(){this.getValue=function(a,c,f){return this.o="DE"===f.za||null;};this.type="cat";}();a.U8a=new function(){this.getValue=function(a,c,f){return this.o="DK"===f.za||null;};this.type="cat";}();a.V8a=new function(){this.getValue=function(a,c,f){return this.o="DM"===f.za||null;};this.type="cat";}();a.W8a=new function(){this.getValue=function(a,c,f){return this.o="DO"===f.za||null;};this.type="cat";}();a.X8a=new function(){this.getValue=function(a,c,f){return this.o="EC"===f.za||null;};this.type="cat";}();a.Y8a=new function(){this.getValue=function(a,c,f){return this.o="EE"===f.za||null;};this.type="cat";}();a.Z8a=new function(){this.getValue=function(a,c,f){return this.o="EG"===f.za||null;};this.type="cat";}();a.$8a=new function(){this.getValue=function(a,c,f){return this.o="ES"===f.za||null;};this.type="cat";}();a.a9a=new function(){this.getValue=function(a,c,f){return this.o="FI"===f.za||null;};this.type="cat";}();a.b9a=new function(){this.getValue=function(a,c,f){return this.o="FR"===f.za||null;};this.type="cat";}();a.c9a=new function(){this.getValue=function(a,c,f){return this.o="GB"===f.za||null;};this.type="cat";}();a.d9a=new function(){this.getValue=function(a,c,f){return this.o="GF"===f.za||null;};this.type="cat";}();a.e9a=new function(){this.getValue=function(a,c,f){return this.o="GP"===f.za||null;};this.type="cat";}();a.f9a=new function(){this.getValue=function(a,c,f){return this.o="GT"===f.za||null;};this.type="cat";}();a.g9a=new function(){this.getValue=function(a,c,f){return this.o="HK"===f.za||null;};this.type="cat";}();a.h9a=new function(){this.getValue=function(a,c,f){return this.o="HN"===f.za||null;};this.type="cat";}();a.i9a=new function(){this.getValue=function(a,c,f){return this.o="HR"===f.za||null;};this.type="cat";}();a.j9a=new function(){this.getValue=function(a,c,f){return this.o="HU"===f.za||null;};this.type="cat";}();a.k9a=new function(){this.getValue=function(a,c,f){return this.o="ID"===f.za||null;};this.type="cat";}();a.l9a=new function(){this.getValue=function(a,c,f){return this.o="IE"===f.za||null;};this.type="cat";}();a.m9a=new function(){this.getValue=function(a,c,f){return this.o="IL"===f.za||null;};this.type="cat";}();a.n9a=new function(){this.getValue=function(a,c,f){return this.o="IN"===f.za||null;};this.type="cat";}();a.o9a=new function(){this.getValue=function(a,c,f){return this.o="IT"===f.za||null;};this.type="cat";}();a.p9a=new function(){this.getValue=function(a,c,f){return this.o="JE"===f.za||null;};this.type="cat";}();a.q9a=new function(){this.getValue=function(a,c,f){return this.o="JM"===f.za||null;};this.type="cat";}();a.r9a=new function(){this.getValue=function(a,c,f){return this.o="JP"===f.za||null;};this.type="cat";}();a.s9a=new function(){this.getValue=function(a,c,f){return this.o="KE"===f.za||null;};this.type="cat";}();a.t9a=new function(){this.getValue=function(a,c,f){return this.o="KN"===f.za||null;};this.type="cat";}();a.u9a=new function(){this.getValue=function(a,c,f){return this.o="KR"===f.za||null;};this.type="cat";}();a.v9a=new function(){this.getValue=function(a,c,f){return this.o="LU"===f.za||null;};this.type="cat";}();a.w9a=new function(){this.getValue=function(a,c,f){return this.o="MK"===f.za||null;};this.type="cat";}();a.x9a=new function(){this.getValue=function(a,c,f){return this.o="MU"===f.za||null;};this.type="cat";}();a.y9a=new function(){this.getValue=function(a,c,f){return this.o="MX"===f.za||null;};this.type="cat";}();a.z9a=new function(){this.getValue=function(a,c,f){return this.o="MY"===f.za||null;};this.type="cat";}();a.A9a=new function(){this.getValue=function(a,c,f){return this.o="NI"===f.za||null;};this.type="cat";}();a.B9a=new function(){this.getValue=function(a,c,f){return this.o="NL"===f.za||null;};this.type="cat";}();a.C9a=new function(){this.getValue=function(a,c,f){return this.o="NO"===f.za||null;};this.type="cat";}();a.D9a=new function(){this.getValue=function(a,c,f){return this.o="NZ"===f.za||null;};this.type="cat";}();a.E9a=new function(){this.getValue=function(a,c,f){return this.o="OM"===f.za||null;};this.type="cat";}();a.F9a=new function(){this.getValue=function(a,c,f){return this.o="PA"===f.za||null;};this.type="cat";}();a.G9a=new function(){this.getValue=function(a,c,f){return this.o="PE"===f.za||null;};this.type="cat";}();a.H9a=new function(){this.getValue=function(a,c,f){return this.o="PF"===f.za||null;};this.type="cat";}();a.I9a=new function(){this.getValue=function(a,c,f){return this.o="PH"===f.za||null;};this.type="cat";}();a.J9a=new function(){this.getValue=function(a,c,f){return this.o="PK"===f.za||null;};this.type="cat";}();a.K9a=new function(){this.getValue=function(a,c,f){return this.o="PL"===f.za||null;};this.type="cat";}();a.L9a=new function(){this.getValue=function(a,c,f){return this.o="PT"===f.za||null;};this.type="cat";}();a.M9a=new function(){this.getValue=function(a,c,f){return this.o="PY"===f.za||null;};this.type="cat";}();a.N9a=new function(){this.getValue=function(a,c,f){return this.o="QA"===f.za||null;};this.type="cat";}();a.O9a=new function(){this.getValue=function(a,c,f){return this.o="RO"===f.za||null;};this.type="cat";}();a.P9a=new function(){this.getValue=function(a,c,f){return this.o="RS"===f.za||null;};this.type="cat";}();a.Q9a=new function(){this.getValue=function(a,c,f){return this.o="RU"===f.za||null;};this.type="cat";}();a.R9a=new function(){this.getValue=function(a,c,f){return this.o="SA"===f.za||null;};this.type="cat";}();a.S9a=new function(){this.getValue=function(a,c,f){return this.o="SE"===f.za||null;};this.type="cat";}();a.T9a=new function(){this.getValue=function(a,c,f){return this.o="SG"===f.za||null;};this.type="cat";}();a.U9a=new function(){this.getValue=function(a,c,f){return this.o="SV"===f.za||null;};this.type="cat";}();a.V9a=new function(){this.getValue=function(a,c,f){return this.o="SX"===f.za||null;};this.type="cat";}();a.W9a=new function(){this.getValue=function(a,c,f){return this.o="TH"===f.za||null;};this.type="cat";}();a.X9a=new function(){this.getValue=function(a,c,f){return this.o="TR"===f.za||null;};this.type="cat";}();a.Y9a=new function(){this.getValue=function(a,c,f){return this.o="TT"===f.za||null;};this.type="cat";}();a.Z9a=new function(){this.getValue=function(a,c,f){return this.o="TW"===f.za||null;};this.type="cat";}();a.$9a=new function(){this.getValue=function(a,c,f){return this.o="US"===f.za||null;};this.type="cat";}();a.a$a=new function(){this.getValue=function(a,c,f){return this.o="UY"===f.za||null;};this.type="cat";}();a.b$a=new function(){this.getValue=function(a,c,f){return this.o="VE"===f.za||null;};this.type="cat";}();a.c$a=new function(){this.getValue=function(a,c,f){return this.o="ZA"===f.za||null;};this.type="cat";}();a.Sub=new function(){this.getValue=function(a,c,f){return this.o=1===f.Eg||null;};this.type="cat";}();a.Tub=new function(){this.getValue=function(a,c,f){return this.o=10===f.Eg||null;};this.type="cat";}();a.Uub=new function(){this.getValue=function(a,c,f){return this.o=11===f.Eg||null;};this.type="cat";}();a.Vub=new function(){this.getValue=function(a,c,f){return this.o=12===f.Eg||null;};this.type="cat";}();a.Wub=new function(){this.getValue=function(a,c,f){return this.o=13===f.Eg||null;};this.type="cat";}();a.Xub=new function(){this.getValue=function(a,c,f){return this.o=14===f.Eg||null;};this.type="cat";}();a.Yub=new function(){this.getValue=function(a,c,f){return this.o=15===f.Eg||null;};this.type="cat";}();a.Zub=new function(){this.getValue=function(a,c,f){return this.o=16===f.Eg||null;};this.type="cat";}();a.$ub=new function(){this.getValue=function(a,c,f){return this.o=17===f.Eg||null;};this.type="cat";}();a.avb=new function(){this.getValue=function(a,c,f){return this.o=18===f.Eg||null;};this.type="cat";}();a.bvb=new function(){this.getValue=function(a,c,f){return this.o=19===f.Eg||null;};this.type="cat";}();a.cvb=new function(){this.getValue=function(a,c,f){return this.o=2===f.Eg||null;};this.type="cat";}();a.dvb=new function(){this.getValue=function(a,c,f){return this.o=20===f.Eg||null;};this.type="cat";}();a.evb=new function(){this.getValue=function(a,c,f){return this.o=21===f.Eg||null;};this.type="cat";}();a.fvb=new function(){this.getValue=function(a,c,f){return this.o=22===f.Eg||null;};this.type="cat";}();a.gvb=new function(){this.getValue=function(a,c,f){return this.o=23===f.Eg||null;};this.type="cat";}();a.hvb=new function(){this.getValue=function(a,c,f){return this.o=3===f.Eg||null;};this.type="cat";}();a.ivb=new function(){this.getValue=function(a,c,f){return this.o=4===f.Eg||null;};this.type="cat";}();a.jvb=new function(){this.getValue=function(a,c,f){return this.o=5===f.Eg||null;};this.type="cat";}();a.kvb=new function(){this.getValue=function(a,c,f){return this.o=6===f.Eg||null;};this.type="cat";}();a.lvb=new function(){this.getValue=function(a,c,f){return this.o=7===f.Eg||null;};this.type="cat";}();a.mvb=new function(){this.getValue=function(a,c,f){return this.o=8===f.Eg||null;};this.type="cat";}();a.nvb=new function(){this.getValue=function(a,c,f){return this.o=9===f.Eg||null;};this.type="cat";}();a.Yzb=new function(){this.update=function(a){"down"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.$zb=new function(){this.update=function(a){"right"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Zzb=new function(){this.update=function(a){"left"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.aAb=new function(){this.update=function(a){"up"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.zob=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";}();a.Cob=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.B6);};this.getValue=function(){return this.o;};this.type="num";}();a.Iob=new function(){this.HI=this.o=0;this.update=function(a){this.HI++;this.o=1*(this.o+a.rowIndex)/this.HI;};this.getValue=function(){return this.o;};this.type="num";}();a.Job=new function(){this.HI=this.o=0;this.update=function(a){this.HI++;return this.o=1*(this.o+a.B6)/this.HI;};this.getValue=function(){return this.o;};this.type="num";}();a.Etb=new function(){this.getValue=function(a,c,f){return this.o=f.B6+c;};this.type="num";}();a.Ftb=new function(){this.getValue=function(a,c,f){return this.o=f.rowIndex+a;};this.type="num";}();f.prototype.tx=function(a){return this.Aqa(this.H["0"].rGa(a),a);};f.prototype.Aqa=function(a,c){return"string"==typeof a?this.Aqa(this.H[a].rGa(c),c):a;};c.prototype.rGa=function(a){switch(this.fmb){case 0:switch(a.qd[this.bP].type){case"cat":return null===a.qd[this.bP].value?this.ICa:"missing"==a.qd[this.bP].value?this.nca:this.YJa;case"num":return null===a.qd[this.bP].value?this.nca:a.qd[this.bP].value<this.split?this.YJa:this.ICa;default:return this.nca;}case 1:return this.tx;default:return this.tx;}};d.declare({PM:["modelSelector","modelone"],J7a:["colEpisodeList",5],jkb:["holdDuration",15E3],dGa:["rowFirst",2],rta:["colFirst",5],fGa:["rowScroll",2],sta:["colScroll",6],swb:["rowScrollHorizontal",6],Mwb:["searchTop",3],jua:["cwFirst",2],OL:["horizontalItemsFocusedMode",3],hmb:["itemsPerRank",1],vob:["maxNumberPayloadsStored",10],MBa:["maxNumberTitlesScheduled",5],QOb:["enableDetailedLogging",!0],HSb:["rowStep",20],NNb:["colStep",15],XRb:["pageRows",100],WRb:["pageColumns",75],Mba:["maskParamsList",new function(){var a,c;this.Mba=[];this.wj={};this.iZ=20;this.JT=15;for(a=0;100>a;a++)for(c=0;75>c;c++)Math.floor(a/this.iZ)+"_"+Math.floor(c/this.JT)in this.wj||(this.wj[Math.floor(a/this.iZ)+"_"+Math.floor(c/this.JT)]=1,this.Mba.push(new m(0,0,0,0,Math.floor(a/this.iZ),Math.floor(c/this.JT))));}().Mba],H:["nodes",new f().H],mapping:["mapping",{Cob:"0",Job:"1",zob:"2",Iob:"3",$4a:"4",aAb:"5",Zzb:"6",$zb:"7",Yzb:"8",Ftb:"9",Etb:"10",Omb:"11",Pmb:"12",Rmb:"13",Smb:"14",Qmb:"15",Tmb:"16",Umb:"17",Vmb:"18",Wmb:"19",Xmb:"20",Ymb:"21",Zmb:"22",$mb:"23",anb:"24",bnb:"25",cnb:"26",Sub:"27",Tub:"28",Uub:"29",Vub:"30",Wub:"31",Xub:"32",Yub:"33",Zub:"34",$ub:"35",avb:"36",bvb:"37",cvb:"38",dvb:"39",evb:"40",fvb:"41",gvb:"42",hvb:"43",ivb:"44",jvb:"45",kvb:"46",lvb:"47",mvb:"48",nvb:"49",E8a:"50",F8a:"51",G8a:"52",H8a:"53",I8a:"54",J8a:"55",K8a:"56",L8a:"57",M8a:"58",N8a:"59",O8a:"60",P8a:"61",Q8a:"62",R8a:"63",S8a:"64",T8a:"65",U8a:"66",V8a:"67",W8a:"68",X8a:"69",Y8a:"70",Z8a:"71",$8a:"72",a9a:"73",b9a:"74",c9a:"75",d9a:"76",e9a:"77",f9a:"78",g9a:"79",h9a:"80",i9a:"81",j9a:"82",k9a:"83",l9a:"84",m9a:"85",n9a:"86",o9a:"87",p9a:"88",q9a:"89",r9a:"90",s9a:"91",t9a:"92",u9a:"93",v9a:"94",w9a:"95",x9a:"96",y9a:"97",z9a:"98",A9a:"99",B9a:"100",C9a:"101",D9a:"102",E9a:"103",F9a:"104",G9a:"105",H9a:"106",I9a:"107",J9a:"108",K9a:"109",L9a:"110",M9a:"111",N9a:"112",O9a:"113",P9a:"114",Q9a:"115",R9a:"116",S9a:"117",T9a:"118",U9a:"119",V9a:"120",W9a:"121",X9a:"122",Y9a:"123",Z9a:"124",$9a:"125",a$a:"126",b$a:"127",c$a:"128",fDb:"129",Pub:"130",Qyb:"131",xh:"132",s8a:"133",yfb:"134",jBb:"135",UAb:"136",P5a:"137",bqb:"138",xBb:"139",gtb:"140",L5a:"141",O5a:"142",M5a:"143",Ypb:"144"}],qd:["features",a],BMb:["_modelName","tree"],sMb:["_format","xgboost"],AMb:["_itemsToKeep",5],zMb:["_itemsThreshold",null],sNb:["cacheLimit",20]});g.P={config:d,dRb:m,bOb:c};},function(g,d,a){var f;function c(a){for(var c="",b=0;b<a.length;b++)c+=a[b].va+"|";return c;}f=a(184);g.P={assert:function(a,c){if(!a)throw Error("PlayPredictionModel assertion failed"+(c?" : "+c:""));},mQb:function(a,c,b){Array.prototype.splice.apply(a,[c,0].concat(b));},kgb:function(a){for(var c=[],b=0;b<a.length;b++)if(a[b].context===f.NH.lMa){c=a[b].list;break;}return c;},Vfb:function(a){for(var c=[],b=0;b<a.length;b++)if(a[b].context===f.NH.gLa){c=a[b].list;break;}return c;},sbb:function(a,f){for(var b=0,d,p,t,g=0,m=a.length-1;g<m;g++){d=c(a[g].list||[]);t=!1;for(var q=0,h=f.length;q<h;q++)if(p=c(f[q].list||[]),p==d){t=!0;break;}if(!1===t){b=g;break;}}return b;},Uqb:function(a,c,b){for(var f=[],d,t=0;t<Math.min(c,a.length);t++)d=a[t].list||[],f=f.concat(d.slice(0,b));return f;},Tqb:function(a,c){for(var b=[],f,d=0;d<a.length&&(f=a[d].list||[],f=f.slice(0,Math.min(f.length,c)),c-=f.length,b=b.concat(f),0!==c);d++);return b;},Sqb:function(a,c,b){var f;c<a.length&&0<=c&&(a=a[c].list||[],b<a.length&&(f=a[b]));return f;},nwa:function(a){for(var c={},b=a.length,d,p=0;p<b;p++){d=a[p].list||[];for(var t=0;t<d.length;t++)if(d[t].property===f.VB.eI||d[t].property===f.VB.pia){c.ki=p;c.Wj=t;break;}}void 0===c.ki&&void 0===c.Wj&&(c.ki=0,c.Wj=0);return c;}};},function(g,d,a){var c,f,m,q,b,k,p,t,u,h,D,B,I;Object.defineProperty(d,"__esModule",{value:!0});c=a(73);f=a(11);m=a(12);q=a(38);b=a(30);k=a(44);p=a(5);t=a(2);u=a(19);h=a(119);D=a(9);B=a(122);I=a(24);d.YAb=function(){var g,y,l,n;function a(a){var b,c,f;b="info";c="";f=p.aa.get(h.wy).Rxa();a.$||(b="error",c+="&errorcode="+(a.errorCode||""),c+="&errorsubcode="+(a.ca||""));c="type=startup&sev="+b+c+"&"+q.$M(u.fb({},f,{prefix:"m_"}));d("startup",c,g);}function d(a,d,k){k&&y&&m.config.HIa[a]&&(a=l+"&jsoffms="+b.Rg()+"&do="+D.gl.onLine+"&"+d+"&"+q.$M(u.fb({},n.Jc,{prefix:"im_"})),c.Ef.download({url:k,Ada:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},hE:"track"},f.Re));}l="cat=cadplayback&dev="+encodeURIComponent(k.pNa)+"&ep="+encodeURIComponent(k.kh.z0)+"&ver="+encodeURIComponent("6.0022.359.011")+"&jssid="+b.nka;p.zg("TrackingLog");n=p.aa.get(I.yf);l=l+("&browserua="+D.wk);n.register(t.J.Yja,function(b){var c,d;g=p.aa.get(B.DB).host+m.config.Gga;if(y=m.config.GIa&&!!m.config.Gga){m.config.Gw&&(l+="&groupname="+encodeURIComponent(m.config.Gw));m.config.vB&&(l+="&uigroupname="+encodeURIComponent(m.config.vB));c=l;d="";k.Xo&&(d=u.fb({},k.Xo,{prefix:"pi_"}),d="&"+q.$M(d));l=c+d;n.pM(a);}b(f.pd);});return d;}();},function(g,d,a){var q;function c(a,c,d){c=c||0;d=d||a.length;for(var b,k=c,p,g,m,q={};k<c+d;){b=a[k];p=b&7;g=b>>3;m=f(a,k);if(!m.count)throw Error("Parsing error. bytes length is 0 for the tag "+b);k+=m.count+1;2==p&&(k+=m.value);q[g]={hPb:g,VTb:p,value:m.value,count:m.count,start:m.start};}return q;}function f(a,c){var b,f,d,k,g,m,h,C;b=c+1;f=a.length;d=b;k=0;g={};m=[];C=0;if(b>=f)throw Error("Invalid Range for Protobuf - start: "+b+" , len: "+f);for(;d<f;){k++;b=a[d];h=b&127;m.push(h);if(!(b&128))break;d++;}q.Pa(m.length);for(a=m.length-1;0<=a;a--)C<<=7,C|=m[a];g.count=k;g.value=C;g.start=c+k+1;return g;}function m(a,c){if(a&&(a=a[c]))return a.value;}Object.defineProperty(d,"__esModule",{value:!0});q=a(18);d.Llb=function(a){a=c(a);if(1==m(a,1)&&a[5]&&a[5].value)return!0;};d.BQb=function(a){var b;b=c(a);if(2==m(b,1)&&(a=c(a,b[2].start,b[2].value),m(a,5)))return!0;};d.fPb=c;d.JPb=f;d.KPb=m;},function(g){function d(a){return Object.keys(a).every(function(c){return"function"===typeof a[c];});}g.P=function(a){var q,b,k;function c(a,b,c){throw new TypeError(("undefined"!==typeof c.key?"Types: expected "+c.key:"Types: expected argument "+c.index)+(" to be '"+a+"' but found '"+b+"'"));}function f(a,f,d){var k;k=b[a];"undefined"!==typeof k?k(f)||c(a,f,d):a!==typeof f&&c(a,f,d);}function g(a,b){var c;c=a.filter(function(a){return"object"!==typeof a&&-1===k.indexOf(a);});c=c.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===k.indexOf(a);}));},[]));if(0<c.length)throw Error(c.join(",")+" are invalid types");return function(){var c;c=Array.prototype.slice.call(arguments);if(c.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var d;d=c[b];if("string"===typeof a)f(a,d,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){f(a[b],d[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,c);};}q="number boolean string object function symbol".split(" ");b={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!d(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(c){if("undefined"!==typeof b[c]||-1<q.indexOf(c))throw new TypeError("Types: attempting to override a built in type with "+c);b[c]=a[c];});}k=Object.keys(b).concat(q);return g(["array","function"],g);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wPa=function(a){var d,g,b,k;function c(){if(b)for(var a;a=d.pop();)a(k);}function f(a){b=!0;k=a;c();}d=[];return function(b){d.push(b);g||(g=!0,a(f));c();};};},function(g,d,a){var f;function c(a,c,b){var d;d=this;this.Wl=a;this.mg=c;this.qN=b;this.addEventListener=function(a,b,c){return d.mg.addListener(a,d.uua(a,b),c);};this.removeEventListener=function(a,b){return d.mg.removeListener(a,d.uua(a,b));};this.getReady=function(){return d.mg.EV();};this.getXid=function(){return d.ib().B$();};this.getMovieId=function(){return d.ib().Khb();};this.getPlaygraphId=function(){return d.ib().gib();};this.getElement=function(){return d.mg.xp();};this.isPlaying=function(){return d.ib().Mw();};this.isPaused=function(){return d.ib().Clb();};this.isMuted=function(){return d.ib().Alb();};this.isReady=function(){return d.ib().isReady();};this.isBackground=function(){return d.ib().klb();};this.setBackground=function(a){return d.ib().QGa(a);};this.startInactivityMonitor=function(){return d.ib().oO();};this.setTransitionTime=function(a){return d.ib().fHa(a);};this.getDiagnostics=function(){return d.ib().xgb();};this.getTextTrackList=function(a){return d.ib().zya(a);};this.getTextTrack=function(){return d.ib().yya();};this.setTextTrack=function(a){return d.ib().dHa(a);};this.getVolume=function(){return d.ib().mjb();};this.isEnded=function(){return d.ib().plb();};this.getBusy=function(){return d.ib().Yj();};this.getError=function(){return d.ib().getError();};this.getCurrentTime=function(){return d.ib().j.ac.value;};this.getBufferedTime=function(){return d.ib().Xfb();};this.getSegmentTime=function(){return d.ib().sV();};this.getDuration=function(){return d.ib().nxa();};this.getVideoSize=function(){return d.ib().kjb();};this.getAudioTrackList=function(){return d.ib().Ifb();};this.getAudioTrack=function(){return d.ib().Hfb();};this.getTimedTextTrackList=function(a){return d.ib().zya(a);};this.getTimedTextTrack=function(){return d.ib().yya();};this.getAdditionalLogInfo=function(){return d.ib().Bfb();};this.getTrickPlayFrame=function(a){return d.ib().$ib(a);};this.getSessionSummary=function(){return d.ib().rya();};this.getTimedTextSettings=function(){return d.ib().MV();};this.setMuted=function(a){return d.ib().Xxb(a);};this.setVolume=function(a){return d.ib().oyb(a);};this.setPlaybackRate=function(a){return d.ib().ayb(a);};this.setAudioTrack=function(a){return d.ib().Ixb(a);};this.setTimedTextTrack=function(a){return d.ib().dHa(a);};this.setTimedTextSettings=function(a){return d.ib().hO(a);};this.prepare=function(){return d.ib().zu();};this.load=function(){return d.ib().load();};this.close=function(a){return d.Lra(d.mg.close(),a);};this.play=function(){return d.ib().play();};this.pause=function(){return d.ib().pause();};this.seek=function(a){return d.ib().seek(a);};this.engage=function(a,b){return d.Lra(d.ib().dL(a),b);};this.induceError=function(a){return d.ib().Mkb(a);};this.loadCustomTimedTextTrack=function(a,b,c,f){return d.ib().hnb(a,b,c,f);};this.tryRecoverFromStall=function(){return d.ib().PO();};this.addEpisode=function(a){var b,c;d.log.info("Next episode added",a);b=d.yBa(a.playbackParams);c="startPts"in a?a.startPts:"nextStartPts"in a?a.nextStartPts:b.T;if(void 0===c||0>c)c=0;return d.mg.hp({id:b.ci?void 0:d.qN.iV(a.movieId,c),u:a.movieId,T:c,Um:"endPts"in a?a.endPts:"currentEndPts"in a?a.currentEndPts:b.Um,bb:b,lX:a.manifestData,Wl:d.Wl});};this.playNextEpisode=function(a){a=void 0===a?{}:a;a=d.yBa(a);d.log.info("Playing the next episode",a);return d.mg.transition(a);};this.playSegment=function(a){return d.ib().Psb(a);};this.queueSegment=function(a){return d.ib().tub(a);};this.updateNextSegmentWeights=function(a,b){return d.ib().Mo(a,b);};this.getCropAspectRatio=function(){return d.ib().C9();};this.getCropAspectRatioXandY=function(){return d.ib().mgb();};this.getCurrentSegmentId=function(){return d.mg.qgb();};this.getPlaygraphMap=function(){return d.mg.a$();};this.setNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];b=b.map(function(a){return{$a:a.segmentId,WM:a.nextSegmentId};});d.mg.fO.apply(d.mg,[].concat(ea(b)));};this.clearNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return d.mg.A7a.apply(d.mg,[].concat(ea(b)));};this.updatePlaygraphMap=function(a){return d.mg.TBb(a);};this.goToNextSegment=function(a,b){return d.mg.Fya(a,b);};this.getPlaying=function(){return d.isPlaying();};this.getPaused=function(){return d.isPaused();};this.getMuted=function(){return d.isMuted();};this.getEnded=function(){return d.isEnded();};this.getTimedTextVisibility=function(){return d.isTimedTextVisible();};this.isTimedTextVisible=function(){return!!d.ib().MV().visibility;};this.setTimedTextVisibility=function(a){return d.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return d.ib().hO({size:a});};this.setTimedTextBounds=function(a){return d.ib().hO({bounds:a});};this.setTimedTextMargins=function(a){return d.ib().hO({margins:a});};this.setTimedTextVisible=function(a){return d.ib().hO({visibility:a});};this.getCongestionInfo=function(a){a&&a({success:!1,name:null,isCongested:null});};this.y8=new Map();this.log=f.zg("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(d,"__esModule",{value:!0});f=a(5);a(87);c.prototype.ib=function(){return this.mg.pj();};c.prototype.uua=function(a,c){var b;this.y8.has(a)||this.y8.set(a,new Map());b=this.y8.get(a);b.has(c)||b.set(c,this.Pab(a,c));return b.get(c);};c.prototype.Pab=function(a,c){var b;b=this;return function(f){return c(Object.assign({},f,{type:a,target:b}));};};c.prototype.Lra=function(a,c){return c?a.then(c,c):a;};c.prototype.yBa=function(a){a=void 0===a?{}:a;return{Fh:a.trackingId,TJ:a.authParams,en:a.sessionParams,je:a.uiLabel,N7:a.disableTrackStickiness,n_:a.uiPlayStartTime,ZU:a.forceAudioTrackId,$U:a.forceTimedTextTrackId,ci:a.isBranching,eha:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted}:void 0,tE:a.enableTrickPlay,P$:a.heartbeatCooldown,OW:a.isPlaygraph,dX:a.loadImmediately||!1,XDa:a.pin,sN:a.preciseSeeking,T:a.startPts,ga:a.endPts,Um:a.logicalEnd,so:a.packageId,XY:a.renderTimedText,Uva:a.extraManifestParams};};d.aYa=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cma="PlaygraphVideoPlayerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Yo||(d.Yo={});g[g.bI=0]="No";g[g.J2=1]="Yes";g[g.uka=2]="Later";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Zo||(d.Zo={});g[g.rla=0]="None";g[g.rja=1]="Fetching";g[g.s0=2]="Done";g[g.Error=3]="Error";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Bma="PlaygraphManagerFactorySymbol";},function(g,d,a){var f,m,q,b,k,p;function c(a,b,c){this.ge=a;this.zb=b;this.j=c;this.kM=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);m=a(1);q=a(15);b=a(20);k=a(5);p=a(14);c.prototype.N8=function(){this.kM.forEach(function(a){return a();});};c.prototype.Rd=function(a,b,c){this.j.Rd(this.ge(a,b,c));};c.prototype.VV=function(a){this.j.fireEvent(p.S.tca,{b7a:a});};c.prototype.x3a=function(a){-1===this.kM.indexOf(a)&&this.kM.push(a);};c.prototype.yvb=function(a){a=this.kM.indexOf(a);0<=a&&this.kM.splice(a,1);};c.prototype.Dya=function(a){var c,d;c={};q.jc(a.code)?c.ca=f.kja(a.code):c.ca=f.G.ih;try{d=a.message.match(/\((\d*)\)/)[1];c.Vd=k.jsa(d,4);}catch(D){}c.kb=b.Ye(a);return c;};a=c;a=g.__decorate([m.N()],a);d.zP=a;},function(g,d,a){var c,f,m,q,b,k,p;Object.defineProperty(d,"__esModule",{value:!0});c=a(12);f=a(56);m=a(19);q=a(2);b=a(59);k=a(5);p=a(14);d.iPa=function(a,d){function g(f){var p,g;p=f.error||f;g=m.Ye(p);d.error("uncaught exception",p,g);(p=(p=p&&p.stack)&&c.config.$Ia&&c.config.ABb?0<=p.indexOf(c.config.$Ia):void 0)&&(f&&f.stopImmediatePropagation&&f.stopImmediatePropagation(),f=k.aa.get(b.jl),a.Rd(f(q.J.RXa)));}function t(){f.Le.removeListener(f.D$,g);a.removeEventListener(p.S.kf,t);a.removeEventListener(p.S.Zm,t);}try{f.Le.addListener(f.D$,g);a.addEventListener(p.S.kf,t);c.config.Bkb&&a.addEventListener(p.S.Zm,t);}catch(B){d.error("exception in exception handler ",B);}};},function(g,d,a){var c,f,m,q,b,k;Object.defineProperty(d,"__esModule",{value:!0});c=a(12);f=a(11);m=a(30);g=a(2);q=a(9);b=a(15);k=a(5);a=a(24);k.aa.get(a.yf).register(g.J.Sja,function(a){var p,g,h,B,I;function k(){var a;a=q.jy(m.Rg()/h);if(a!=I){for(var b=q.Wo(a-I,30);b--;)B.push(0);(b=q.sn(B.length-31,0))&&B.splice(0,b);I=a;}B[B.length-1]++;}p=c.config.Qnb;g=-6/(p-2-2);h=f.vk;B=[];I=q.jy(m.Rg()/h);b.dAa(p)&&(setInterval(k,1E3/p),d.pBa={ghb:function(){var c;for(var a=[],b=B.length-1;b--;){c=B[b];a.unshift(0>=c?9:1>=c?8:c>=p-1?0:q.wi((c-2)*g+7));}return a;}});a(f.pd);});},function(g,d,a){var c,f,m,q,b,k,p,t,u,h,D,B,I,C,K,Q,l;Object.defineProperty(d,"__esModule",{value:!0});c=a(50);f=a(107);m=a(283);q=a(57);b=a(56);k=a(20);p=a(94);t=a(5);u=a(118);h=a(189);D=a(19);B=a(9);I=a(15);C=a(14);K=a(108);Q=a(4);l=a(99);d.kVa=function(a){var A,sa,oa,O,ia,Ea,wa,Fa,Ga,ka,$a,Ca,z,G,Sa;function d(){if(!ia){Ga=setInterval(ca,1E3);a.wf.appendChild(sa);for(var b=Ea.length;b--;)Ea[b].addListener(r);for(b=wa.length;b--;)a.addEventListener(wa[b],r);ia=!0;}n();}function g(){if(ia){clearInterval(Ga);$a=ka=void 0;a.wf.removeChild(sa);for(var b=Ea.length;b--;)Ea[b].removeListener(r);for(b=wa.length;b--;)a.removeEventListener(wa[b],r);A.Ab();ia=!1;}}function y(){ia?g():d();}function T(){var b,d,k,g,y,C,K,l,T,n,ca,A,R,S,N,r,ma,U,V,O,fa,sa,W,ia,wa;b=[];b.push({Version:"6.0022.359.011",Esn:f.Yh?f.Yh.Ug:"UNKNOWN",PBCID:a.SD,UserAgent:B.wk});try{k={MovieId:a.u,TrackingId:a.Fh,Xid:a.ia+" ("+q.vn.map(function(a){return a.ia;}).join(", ")+")",Position:p.Kh(a.ac.value),Duration:p.Kh(a.Rq.ea(Q.ja)),Volume:B.wi(100*a.volume.value)+"%"+(a.muted.value?" (Muted)":"")};if(a.Va.ci||a.Va.OW)k["Segment Position"]=p.Kh(a.Nz()),k.Segment=a.c$();b.push(k);}catch(ec){}try{g=a.Qk?a.Qk.lkb():void 0;b.push({"Player state":Ca[a.state.value],"Buffering state":z[a.Rn.value]+(I.ka(g)?", ETA:"+p.Kh(g):""),"Rendering state":G[a.Ib.value]});}catch(ec){}try{y=a.bha()+a.y5();C=a.bg.value;K=C&&C.stream;l=a.bf.value;T=l&&l.stream;n=T?T.Dc:"";ca=a.Ce.value?a.Ce.value.Dc:"";A=a.Tj.value?a.Tj.value.R:"";R=a.Ce.value?a.Ce.value.R:"";S=a.Zb[c.Pc.Fa.VIDEO].value;N=a.Zb[c.Pc.Fa.AUDIO].value;b.push({"Playing bitrate (a/v)":K&&T?K.R+" / "+T.R+" ("+T.width+"x"+T.height+")":"?","Playing/Buffering vmaf":n+"/"+ca,"Buffering bitrate (a/v)":A+" / "+R,"Buffer size in Bytes (a/v)":a.y5()+" / "+a.bha(),"Buffer size in Bytes":""+y,"Buffer size in Seconds (a/v)":p.Kh(a.PJ())+" / "+p.Kh(a.eP()),"Current CDN (a/v)":(N?N.name+", Id: "+N.id:"")+" / "+(S?S.name+", Id: "+S.id:"")});}catch(ec){}try{if(a.bg.value&&a.bf.value){r=a.bg.value.stream.track;ma=a.bf.value.stream;U=a.gj.value;V=a.eg.value?a.eg.value.dc:[];O=t.aa.get(u.kC);fa=O.FK(V);sa=O.zK(r.dc);W=ma.Af;ia=/hevc/.test(W)?"hevc":/vp9/.test(W)?"vp9":/h264hpl/.test(W)?"avchigh":"avc";/hdr/.test(W)&&(ia+=", hdr");/dv/.test(W)&&(ia+=", dv");/prk/.test(W)&&(ia+=", prk");b.push({"Audio Track":r.Hk+", Id: "+r.cb+", Channels: "+r.Al+", Codec: "+sa,"Video Track":"Codec: "+fa+" ("+ia+")","Timed Text Track":U?U.Hk+", Profile: "+U.profile+", Id: "+U.cb:"none"});}}catch(ec){}try{wa=a.Mi;b.push({Framerate:(a.Ce.value?a.Ce.value.fV:0).toFixed(3),"Current Dropped Frames":I.ka(ka)?ka:"","Total Frames":wa.wV(),"Total Dropped Frames":wa.Lz(),"Total Corrupted Frames":wa.vL(),"Total Frame Delay":wa.xV(),"Main Thread stall/sec":m.pBa?m.pBa.ghb().join(" "):"DISABLED",VideoDiag:h.qBa(a.PV())});}catch(ec){}try{b.push({Throughput:a.Da+" kbps"});}catch(ec){}try{D.dd(Fa,function(a,b){d=d||{};d[a]=JSON.stringify(b);});d&&b.push(d);}catch(ec){}return b;}function n(){var a;if(oa.selectionStart==oa.selectionEnd){a="";T().forEach(function(b){a=a?a+"\n":"";D.dd(b,function(c){a+=c+": "+b[c]+"\n";});});oa.style.fontSize=p.js(B.jy(sa.clientHeight/60),8,18)+"px";oa.value=a;}}function ca(){var b;if(a.Mi){b=a.Mi.Lz();b&&(ka=b-$a,$a=b,r());}}function r(){A.Ab(n);}function ma(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(a.keyCode==K.ds.RMa||a.keyCode==K.ds.Q)&&y();}A=t.aa.get(l.lC)(Q.zh(1));sa=k.createElement("DIV","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});oa=k.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto");O=k.createElement("DIV","position:absolute;top:2px;right:2px");wa=[C.S.vX,C.S.H5a];Fa={};Ea=[a.ac,a.Zb[c.Pc.Fa.AUDIO],a.Zb[c.Pc.Fa.VIDEO],a.bg,a.bf,a.Tj,a.Ce,a.gj,a.state,a.Rn,a.Ib,a.volume,a.muted];this.Mxb=function(a){Fa.DFR=a;};Ca={};Ca[C.mb.aC]="Not Loaded";Ca[C.mb.LOADING]="Loading";Ca[C.mb.od]="Normal";Ca[C.mb.CLOSING]="Closing";Ca[C.mb.CLOSED]="Closed";z={};z[C.Mf.od]="Normal";z[C.Mf.Pe]="Pre-buffering";z[C.Mf.$ma]="Network stalled";G={};G[C.hb.Pf]="Waiting for decoder";G[C.hb.Ec]="Playing";G[C.hb.jh]="Paused";G[C.hb.mq]="Media ended";oa.setAttribute("readonly","readonly");sa.appendChild(oa);sa.appendChild(O);Sa=k.createElement("BUTTON",null,"X");Sa.addEventListener("click",g,!1);O.appendChild(Sa);b.Le.addListener(b.Qz,ma);a.addEventListener(C.S.kf,function(){b.Le.removeListener(b.Qz,ma);g();});D.fb(this,{toggle:y,show:d,Vt:g,M9:T});};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ina="SeekManagerFactorySymbol";},function(g,d,a){var f,m,q,b,k,p,t,u,h,D,B,I,C,K,Q,l,n,R,S,N,r,W,fa,V,ma;function c(a){var b;b=this;this.j=a;this.zb=this.j.zb;this.ob=B.Wg(this.j,"MediaPresenterASE");this.Ppa=this.Loa=this.pl=0;this.Cd=this.zb.Ya;this.eqa=this.bqa=this.G4=this.j4=this.QS=this.bR=this.l4=!1;this.ml={type:h.Ig.audio,bE:[],Kp:[]};this.gp={type:h.Ig.video,bE:[],Kp:[]};this.Sy={};this.Kpa=k.config.spb;this.Ypa=k.a8a(!!this.j.Va.ci).hY;this.U3=k.config.nX;this.s2a=B.aa.get(fa.lC)(W.Eb(N.p2));this.Do=B.aa.get(ma.ina)(this.j);this.zf={};this.Gpa={};this.NI={};this.j.Uj=!1;this.Sy[f.Pc.Kj.AUDIO]=this.ml;this.Sy[f.Pc.Kj.VIDEO]=this.gp;K.Pa(this.U3>this.Kpa,"bad config");K.Pa(this.U3>this.Ypa,"bad config");this.zb.addEventListener(r.xi.zHa,function(){b.ob.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.UI();}catch(oa){b.ob.error("Exception while initializing",oa);b.mm(I.J.XTa);}});}Object.defineProperty(d,"__esModule",{value:!0});f=a(50);m=a(152);q=a(59);b=a(11);k=a(12);p=a(57);t=a(56);u=a(38);h=a(74);D=a(30);B=a(5);a(87);I=a(2);C=a(461);K=a(18);Q=a(94);l=a(20);n=a(51);R=a(14);S=a(15);N=a(233);r=a(188);W=a(4);fa=a(99);V=a(138);ma=a(285);c.prototype.Axa=function(){return this.zb.wL(!1);};c.prototype.wV=function(){return this.zb.wV();};c.prototype.Lz=function(){return this.zb.Lz();};c.prototype.vL=function(){return this.zb.vL();};c.prototype.xV=function(){return this.zb.xV();};c.prototype.UI=function(){var a;a=this;this.ob.trace("Video element initializing");this.zb.sourceBuffers.forEach(function(b){return a.a2a(b);});a.x_a(a.j.Ow);};c.prototype.x_a=function(a){var d,p,g;function c(){function a(){var a,b;b=d.j.qb&&d.j.qb.dr();d.j.Ib.value==R.hb.Pf&&d.j.state.value==R.mb.od&&d.j.Rn.value==R.Mf.od&&d.j.nk.value==R.Mf.od&&!d.j.Uj&&b?(d.l3.Ht(),a="ensureTimer"):(d.l3.Bh(),a="stopTimer");d.ob.trace("Timer update: "+a,{presentingState:d.j.Ib.value,playbackState:d.j.state.value,avBufferingState:d.j.Rn.value,textBufferingState:d.j.nk.value,autoplayWasBlocked:d.j.Uj,hasLicense:b});}k.config.tua&&(K.Pa(!d.l3),d.l3=B.aa.get(V.mC)(k.config.tua,function(){var a;a=B.aa.get(C.Gia).xbb(d.j);d.mm(a.code,a);}),d.j.Ib.addListener(a),d.j.Rn.addListener(a),d.j.nk.addListener(a),d.j.state.addListener(a),d.j.addEventListener(R.S.JAa,a),d.j.addEventListener(R.S.Uj,a),d.j.addEventListener(R.S.F5,a),a());}function f(){d.lR||(f=K.fLa,d.zb.addEventListener(r.xi.VN,d.zf[r.xi.VN]=function(){return d.g4();}),d.zb.addEventListener(r.xi.Xn,d.zf[r.xi.Xn]=function(){return d.T0a();}),d.Cd.addEventListener("ended",d.zf.ended=function(){return d.U0a();}),d.Cd.addEventListener("play",d.zf.play=function(){return d.Y0a();}),d.Cd.addEventListener("pause",d.zf.pause=function(){return d.X0a();}),d.Cd.addEventListener("playing",d.zf.playing=function(){return d.Z0a();}),d.WI=!0,d.j.jAa&&(d.KS(),d.ob.trace("Video element initialization complete"),d.j.Zc("vi"),k.config.Iua?setTimeout(function(){d.d4=!0;d.Rj();},k.config.Iua):d.d4=!0,c(),n.Lb(function(){return d.Rj();})));}d=this;a?this.ob.trace("Waiting for needkey"):this.ob.warn("Movie is not DRM protected",{MovieId:this.j.u});this.ob.trace("Waiting for loadedmetadata");a?this.zb.addEventListener(r.xi.OAa,function(){d.j.Zc("ld");d.j.qb.WK(""+d.j.u);d.j.fireEvent(R.S.JAa);}):this.j.qb.WK(""+this.j.u);u.N3a(this.Cd,function(){d.ob.trace("Video element event: loadedmetadata");d.j.Zc("md");});t.Le.addListener(t.Kl,this.NI[t.Kl]=function(){return d.Boa();},b.cC);this.j.addEventListener(R.S.kf,function(){return d.Boa();},b.cC);this.j.addEventListener(R.S.iGa,function(){return d.w4();});this.j.addEventListener(R.S.no,function(){return d.V0a();});this.j.paused.addListener(function(){return d.Rj();});this.j.muted.addListener(function(){return d.N4();});this.j.volume.addListener(function(){return d.N4();});this.j.playbackRate.addListener(function(){return d.L2a();});this.j.Rn.addListener(function(){return d.Rj();});this.j.nk.addListener(function(){return d.Rj();});this.N4();null===(p=this.ml.zj)||void 0===p?void 0:p.RGa(function(){return d.dJ();});null===(g=this.gp.zj)||void 0===g?void 0:g.RGa(function(){return d.dJ();});this.dJ();n.Lb(function(){f();});};c.prototype.cT=function(a){var b,c;b=this;c=this.Sy[a.M];c?c.Kp.push(a):K.Pa(!1);this.fZa(a).then(function(){b.dJ();b.j.fireEvent(R.S.vX);})["catch"](function(a){b.mm(I.J.bUa,{kb:l.Ye(a)});});};c.prototype.s5=function(a,b,c){c=void 0===c?{}:c;b={M:a.type,Zz:!1,response:b,qj:function(){return"header";},get Xb(){return!this.Zz;},profile:c.profile};(c=this.Sy[a.type])?c.Kp.push(b):K.Pa(!1);this.dJ();this.bqa||a.type!==f.Pc.Kj.VIDEO||(this.Do.Zt||this.seek(this.j.T,R.gg.LH),this.bqa=!0);};c.prototype.a2a=function(a){var b;b=this.Sy[a.type];if(b)try{b.zj=a;}catch(oa){this.mm(I.J.Y1,{ca:N.I9(a.type),kb:l.Ye(oa)});}};c.prototype.dJ=function(){this.WI?this.Rj():k.config.n4a&&this.KS();};c.prototype.Cqb=function(){var a,b;a=this.j.Nz()||0;if(this.j.Va.ci){if(k.config.a6a)a=a-(this.zb.Vea+1)-k.config.Uea,b=this.j.qb.DV().Oc,a=Math.max(a,b);}else a-=k.config.Vwb,a=Math.max(a,this.Do.Yaa);this.seek(a,R.gg.LQ);};c.prototype.XX=function(a){var b;b=this;a.mediaType===f.Pc.Kj.AUDIO?this.bR=!0:a.mediaType===f.Pc.Kj.VIDEO&&(this.QS=!0);n.Lb(function(){return b.Rj();});};c.prototype.mhb=function(){return{Oab:this.Loa,$pb:this.Ppa};};c.prototype.x7=function(){return this.Ooa(this.ml,this.cU())&&this.Ooa(this.gp,this.cU());};c.prototype.fZa=function(a){var b;b=this.zb&&this.zb.Vxa();return void 0===this.i4&&b&&Infinity!==a.yGa&&(a=a.yGa+a.bn,a>this.j.yu.BY(W.ja)&&(this.j.yu=W.Eb(a)),a>b.BY(W.ja))?(this.i4=b.scale(2),this.x1a()):Promise.resolve();};c.prototype.x1a=function(){var a;a=this;return new Promise(function(b,c){function f(){return d().then(function(a){if(!1===a)return f();});}function d(){return new Promise(function(b){setTimeout(function(){var c,f;if(!((null===(c=a.ml.zj)||void 0===c?0:c.Yj())||(null===(f=a.gp.zj)||void 0===f?0:f.Yj())))try{a.zb.Wxb(a.i4);a.G4=!1;a.i4=void 0;b(!0);}catch(Ga){b(!1);}b(!1);},0);});}a.G4=!0;f().then(function(){b();})["catch"](function(b){a.ob.error("Unable to change the duration",b);c(b);});});};c.prototype.wsb=function(){var a;a=this;return this.Do.Zt&&this.V5()&&this.x7()?(this.zb.seek(this.pl),this.Do.Zt=!1,m.lQ||this.t4(),n.Lb(function(){return a.Rj();}),!0):!1;};c.prototype.QBb=function(a){var b;if(a<this.pl){b=this.pl-a;k.config.xsb&&a&&b>N.p2&&(a={ElementTime:Q.Kh(a),MediaTime:Q.Kh(this.pl)},b>N.XVa?(this.ob.error("VIDEO.currentTime became much smaller",a),this.mm(I.J.mUa)):this.ob.warn("VIDEO.currentTime became smaller",a));}else this.pl=Q.js(a,0,this.j.yu.ea(W.ja));};c.prototype.cU=function(){return this.j.Ib.value===R.hb.Pf?this.Ypa:this.Kpa;};c.prototype.V5=function(){return this.j.Rn.value===R.Mf.od&&this.j.nk.value===R.Mf.od;};c.prototype.Rj=function(){var a,b,c;this.j.AO=D.Rg();if(!this.Se()&&this.WI){a=this.zb.xib();a||this.KS();m.lQ||this.KS();this.j.paused.value||!this.x7()||!this.V5()||a||this.Do.Zt?this.v4():this.l4||this.w4();if(!(a||this.Do.Zt&&this.wsb()||this.Se())){a=this.zb.wL(!0);b=this.j.Ib.value;c=this.Y7a();c===R.hb.mq?(this.pl=this.j.yu.ea(W.ja),this.v4()):c!==R.hb.Pf&&this.QBb(a);this.Uqa();this.iR();this.j.Ib.set(c);c!==R.hb.Pf||b!==R.hb.Ec&&b!==R.hb.jh||this.jrb();}}};c.prototype.Y7a=function(){var a,b,c;a=this;b=this.j.Ib.value;c=b;this.Do.Zt?c=R.hb.Pf:this.Cd&&this.Cd.ended?b===R.hb.Ec&&(c=R.hb.mq):this.V5()&&this.x7()?this.zb.zbb()?c=this.Cd&&this.Cd.paused?R.hb.jh:R.hb.Ec:this.s2a.Ab(function(){return a.r2a();}):c=this.j.yu?this.j.Pya(this.pl,this.cU())?R.hb.Pf:R.hb.mq:R.hb.Pf;return c;};c.prototype.jrb=function(){var a;if(this.j.Ib.value===R.hb.Pf){a=this.w2a()>this.cU();this.j.nk.value!==R.Mf.od?this.j.gj.value?(this.j.fireEvent(R.S.jt,{cause:p.fVa}),this.ob.warn("rebuffer due to timed text",this.j.gj.value.Bg)):this.j.fireEvent(R.S.PG):a?(this.Loa++,this.j.fireEvent(R.S.jt,{cause:p.qma})):(this.Ppa++,this.j.fireEvent(R.S.jt,{cause:p.rma}));}};c.prototype.w2a=function(){var a,b;a=this.gp.Kp.filter(function(a){return!a.Xb;}).reduce(function(a,b){return a+b.Tq;},0);b=this.ml.Kp.filter(function(a){return!a.Xb;}).reduce(function(a,b){return a+b.Tq;},0);return Math.min(a,b);};c.prototype.r2a=function(){this.Se()||(k.config.Dqb&&this.ml.zj&&!this.ml.zj.Yj()&&this.ml.zj.Ira(new Uint8Array([0,0,0,8,102,114,101,101])),this.Rj());};c.prototype.Ooa=function(a,b){var c;c=a.dU;c=c&&c.GM;return!a.zj||0===a.Kp.length&&(a.type===h.Ig.audio&&this.bR||a.type===h.Ig.video&&this.QS)?!0:c&&c.bG-this.pl>=b||!1;};c.prototype.g4=function(){this.Rj();};c.prototype.T0a=function(){this.Rj();this.j.fireEvent(R.S.Xn);};c.prototype.U0a=function(){this.ob.trace("Video element event: ended");this.Rj();};c.prototype.Y0a=function(){this.ob.trace("Video element event: play");this.Rj();};c.prototype.X0a=function(){this.ob.trace("Video element event: pause");this.Rj();};c.prototype.Z0a=function(){this.ob.trace("Video element event: playing");this.Rj();};c.prototype.N4=function(){this.Se()||(this.Cd&&this.Cd.volume!==this.j.volume.value&&(this.Cd.volume=this.j.volume.value),this.Cd&&this.Cd.muted!==this.j.muted.value&&(this.Cd.muted=this.j.muted.value));};c.prototype.L2a=function(){!this.Se()&&this.Cd&&(this.Cd.playbackRate=this.j.playbackRate.value);};c.prototype.KS=function(){var a,b;this.G4||(this.Qqa(this.ml),this.Qqa(this.gp));this.Se()||!this.bR&&!this.QS||(null===(a=this.ml.zj)||void 0===a?0:a.Yj())||(null===(b=this.gp.zj)||void 0===b?0:b.Yj())||this.r3||(this.r3=!0,this.zb.endOfStream());};c.prototype.Qqa=function(a){var b,c,f;if(!this.Se()&&a.zj){b=a.zj;c=a.bE;!b.Yj()&&0<c.length&&(a.dU=c[c.length-1]);if(a.Dfa){if(b.Yj())return;a.Dfa=!1;f=this.zb.Vxa().BY(W.xn);0<f&&b.remove(0,f);}for(f=a.Kp[0];f&&f.response&&(f.Xb||f.Bu-this.pl<=this.U3);)if(this.r3=!1,this.F2a(f))a.Kp.shift(),f=a.Kp[0];else break;!b.Yj()&&0<c.length&&(a.dU=c[c.length-1]);}};c.prototype.F2a=function(a){var b,c,f;K.Pa(a&&a.response);b=a.response;c=a.M;f=this.Sy[c];if(!this.Se()&&f.zj&&!f.zj.Yj()){try{a.Xb&&a.profile&&f.zj.c7a(a.profile);this.ob.trace("Feeding media segment to decoder",{Bytes:b.byteLength});f.zj.Ira(b,a);a.Xb||f.bE.push(this.nZa(a));k.config.Ibb&&!a.Xb&&(this.Do.Zt&&!m.lQ||a.fta());}catch(ia){"QuotaExceededError"!=ia.name?(this.ob.error("Exception while appending media",a,ia),this.mm(I.J.kUa,N.I9(c))):this.j.eU=this.j.eU?this.j.eU+1:1;return;}return!0;}};c.prototype.mZa=function(a){var b;b=this.j.Ojb(a.Fb);b||(this.ob.error("Could not find CDN",{cdnId:a.Fb}),b={id:a.Fb,iba:a.location});return b;};c.prototype.tZa=function(a){var b,c;c=a.pa;a.M===f.Pc.Kj.AUDIO?b=this.j.Nya(c):a.M===f.Pc.Kj.VIDEO&&(b=this.j.Xya(c));b||this.ob.error("Could not find stream",{stream:c});return b;};c.prototype.nZa=function(a){var b;b=this.tZa(a);return{GM:a,stream:b,Un:{startTime:Math.floor(a.Bu),endTime:Math.floor(a.bG)},Zb:this.mZa(a)};};c.prototype.w4=function(){var a;a=this;this.Se()||!S.jc(this.Cd)||this.Cd.ended||!this.d4||!this.oD&&void 0!==this.oD||(this.ob.trace("Calling play on element"),Promise.resolve(this.Cd.play()).then(function(){a.oD=!1;a.l4=!1;a.Cd.style.display=null;a.j.Uj=!1;a.j.fireEvent(R.S.F5,{j:a.j});})["catch"](function(b){"NotAllowedError"===b.name?(a.ob.warn("Playback is blocked by the browser settings",b),a.j.Uj=!0,a.l4=!0,a.Cd.style.display="none",a.j.fireEvent(R.S.Uj,{player:{play:function(){return a.w4();}}})):(a.oD=!1,a.eqa||(a.eqa=!0,a.ob.error("Play promise rejected",b)));}));};c.prototype.V0a=function(){this.Do.Yaa=this.j.Nz()||0;};c.prototype.v4=function(){this.Se()||!S.jc(this.Cd)||this.Cd.ended||!this.d4||this.oD&&void 0!==this.oD||(this.ob.trace("Calling pause on element"),this.Cd.pause(),this.oD=!0);};c.prototype.iR=function(a){if(S.jc(a)){for(var b=this.Sy[a],c=b.bE,d,k=!1;(d=c[0])&&d.GM.Bu<=this.pl;)if(this.pl<d.GM.bG){a=a===f.Pc.Kj.AUDIO?this.j.bg:this.j.bf;u.vta(d,a.value)||(k=!0,a.set(d));break;}else c.shift();!k&&!this.j4||this.r3||(d=d&&d.GM.Bu-d.GM.Tq-1,0<d&&((b=b.zj)&&!b.Yj()?(b.remove(0,d/l.vk),this.j4=!1):this.j4=!0));}else this.iR(f.Pc.Kj.AUDIO),this.iR(f.Pc.Kj.VIDEO);};c.prototype.Uqa=function(a){this.j.ac.set(this.pl);a&&this.j.Yeb();};c.prototype.seek=function(a,b,c,f){var d,k,p,g;b=void 0===b?R.gg.mv:b;c=void 0===c?this.j.$a:c;f=void 0===f?!1:f;if(!this.Se()&&this.j.qb){d=this.j.Qt(c).u;k=this.Do.Ohb(a,b,c,f);c=k.UM;f=k.Fi;p=k.atb;k=k.pt;this.iR();g=this.pl;a=Q.Kh(a);this.j.Nn("SEEKING: Requested: ("+d+":"+b+":"+a+") - Actual: (contentPts: "+f+","+("playerPts: "+p+", newMediaTime: "+c+")"));this.ob.info("Seeking",{Requested:a,Actual:Q.Kh(c),Cause:b,Skip:k});this.j.fireEvent(R.S.RA,{$X:g,UM:c,cause:b,skip:k});this.j.Ib.set(R.hb.Pf);b!==R.gg.LH&&(this.t4(),this.ml.Dfa=!0,this.gp.Dfa=!0);this.pl=c;this.Do.Yaa=f;a=this.j.bg.value;p=this.j.bf.value;this.j.bg.set(null);this.j.bf.set(null);this.Uqa(!0);this.j.fireEvent(R.S.yo,{$X:g,UM:c,Fi:f,cause:b,skip:k,bg:a,bf:p,u:d});this.Do.Zt=!0;this.Rj();}};c.prototype.t4=function(){this.ml.bE=[];this.ml.dU=void 0;this.ml.Kp=[];this.gp.bE=[];this.gp.dU=void 0;this.gp.Kp=[];this.QS=this.bR=!1;this.j.fireEvent(R.S.vX);};c.prototype.mm=function(a,b,c){var f;if(!this.lR){f=B.aa.get(q.jl);this.j.Rd(f(a,b,c));}};c.prototype.Boa=function(){if(!this.lR){this.ob.info("Closing.");this.zb.removeEventListener(r.xi.VN,this.Gpa[r.xi.VN]);this.zb.removeEventListener(r.xi.Xn,this.Gpa[r.xi.Xn]);this.Cd.removeEventListener("ended",this.zf.ended);this.Cd.removeEventListener("play",this.zf.play);this.Cd.removeEventListener("pause",this.zf.pause);this.Cd.removeEventListener("playing",this.zf.playing);t.Le.removeListener(t.Kl,this.NI[t.Kl]);this.lR=!0;try{k.config.Rpb&&(this.Cd.volume=0,this.Cd.muted=!0);this.v4();this.zb.close();}catch(A){}this.Cd=void 0;this.t4();}};c.prototype.Se=function(){return this.lR?!0:S.jc(this.Cd)?!1:(this.ob.error("MediaPresenter not closed and _videoElement is not defined"),!0);};d.KSa=c;},function(g,d,a){var c,f,m,q,b,k,p,t;Object.defineProperty(d,"__esModule",{value:!0});c=a(11);f=a(12);m=a(30);q=a(94);b=a(9);k=a(51);p=a(15);t=a(14);d.hVa=function(a){var h,C,K,Q,l,n;function d(){return a.state.value===t.mb.LOADING||a.state.value===t.mb.od&&a.Ib.value===t.hb.Pf;}function g(){d()?n||(n=setInterval(u,100)):n&&(clearInterval(n),n=void 0,k.Lb(u));}function u(){var c,k,g,u,y,D,B,I;c=m.Rg();k=h.value;g=k?k.xj:0;y=a.state.value==t.mb.LOADING||d()&&c-C>f.config.o6a;y&&a.state.value==t.mb.od?(a.hz.value===t.Mf.$ma?(B=g,D=!0):(u=c+(a.Qk&&a.Qk.lkb()||0),K=K||c,Q=Q||K+f.config.npb+1,p.ka(u)&&(u=b.sn(u,Q),B=a.Qk?a.Qk.DPb():.99,B=b.wi(1E3*q.js((c-K)/(u-K),0,B))/1E3)),B<g&&(g-B<f.config.$tb/100?(B=g,l=void 0):l?c-l>f.config.Ztb?(I=!0,l=void 0):B=g:(l=c,B=g))):l=Q=K=void 0;c=y?{OZ:D,xj:B,aub:I}:null;(!c||!h||!k||p.ka(c.xj)&&!p.ka(k.xj)||p.ka(c.xj)&&p.ka(k.xj)&&.01<b.SH(c.xj-k.xj)||c.OZ!==k.OZ)&&h.set(c);}h=a.X5;C=0;a.state.addListener(function(){g();u();},c.S1);a.Ib.addListener(function(a){if(a.oldValue!==t.hb.Pf||a.newValue!==t.hb.Pf)C=m.Rg();g();});a.hz.addListener(function(){g();});a.Rn.addListener(function(){g();});a.nk.addListener(function(){g();});n||(n=setInterval(u,100));};},function(g,d,a){var k,p,t,u;function c(a,b,c,f,d){var k;k={};"right"==a.horizontalAlignment?k.right=100*(c-b.left-b.width-d)/c+"%":k.left=100*(b.left-d)/c+"%";"bottom"==a.verticalAlignment?k.bottom=100*(f-b.top-b.height-d)/f+"%":k.top=100*(b.top-d)/f+"%";return k;}function f(a,b){var c;if(a&&b){40===b.x&&19===b.y?c=4/3/(40/19):52===b.x&&19===b.y&&(c=16/9/(52/19));if(c)return a.width/a.fontSize/c;}}function m(a,b,c,f,d){var k,p;k=a.style;p=t.$$(a.text);for(a=a.lineBreaks;a--;)p="<br />"+p;return q(p,k,b,c,f,d);}function q(a,c,d,g,t,m){var q;q=c.characterStyle;t=t[q];g=c.characterSize*g.height/((0<=q.indexOf("MONOSPACE")?f(t,c.cellResolution)||t.lineHeight:t.lineHeight)||1);g=0<m?u.jy(g*m):u.wi(g);m={"font-size":g+"px","line-height":"normal","font-weight":"normal"};c.characterItalic&&(m["font-style"]="italic");c.characterUnderline&&(m["text-decoration"]="underline");c.characterColor&&(m.color=c.characterColor);c.backgroundColor&&0!==c.backgroundOpacity&&(m["background-color"]=b(c.backgroundColor,c.backgroundOpacity));g=c.characterEdgeColor||"#000000";switch(c.characterEdgeAttributes){case p.cda:m["text-shadow"]=g+" 0px 0px 7px";break;case p.MDa:m["text-shadow"]="-1px 0px "+g+",0px 1px "+g+",1px 0px "+g+",0px -1px "+g;break;case p.Mrb:m["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case p.Krb:m["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}m=k.AK(m);(d=d[c.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(m+=";"+d);c=c.characterOpacity;0<c&&1>c&&(a='<span style="opacity:'+c+'">'+a+"</span>");return'<span style="'+m+'">'+a+"</span>";}function b(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(d,"__esModule",{value:!0});k=a(38);p=a(206);t=a(19);u=a(9);d.Lva=function(a,b,c,f,d){var k;k="";a.textNodes.forEach(function(a){k+=m(a,c,b,f,d);});return k;};d.Kdb=function(a,b,f,d,k){var p,g,q,h,y;p="";g=k.width;k=k.height;for(var m=b.length;m--;){q=b[m];h=a[m];h=h&&h.region;y="position:absolute;background:"+d+";width:"+u.wi(q.width+2*f)+"px;height:"+u.wi(q.height+2*f)+"px;";t.dd(c(h,q,g,k,f),function(a,b){y+=a+":"+b+";";});p+='<div style="'+y+'"></div>';}return p;};d.Jdb=c;d.UOb=f;d.WOb=m;d.TOb=q;d.VOb=b;d.Idb=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return k.AK(b);};},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(9);d.yBb=function(a,d){function f(a,f,d){var q,u,h,l;if(a&&1<a.length){for(var k=[],p=[],g=0;g<a.length;g++)k[g]=0,p[g]=0;for(var t=!1,g=0;g<a.length;g++)for(var m=g+1;m<a.length;m++){u=a[g];h=a[m];if(0>u.width||0>h.width||h.left>u.left+u.width||h.left+h.width<u.left||h.top>u.top+u.height?0:h.top+h.height>=u.top){q=c.sn(u.left,h.left);l=c.sn(u.top,h.top);q={width:c.sn(c.Wo(u.left+u.width,h.left+h.width)-q,0),height:c.sn(c.Wo(u.top+u.height,h.top+h.height)-l,0),x:q,y:l};}else q=void 0;if(q&&1<q.width&&1<q.height)if(l=q.width<=q.height,u=b(a[g]),h=b(a[m]),l&&f||!l&&!f)q=c.sn(q.width/2,.25),u.x<=h.x?(p[g]-=q,p[m]+=q):(p[m]-=q,p[g]+=q);else if(l&&!f||!l&&f)u=c.sn(q.height/2,.25),k[g]-=u,k[m]+=u;}for(g=0;g<a.length;g++){if(-.25>p[g]&&0<=a[g].left+p[g]||.25<p[g]&&a[g].left+a[g].width+p[g]<=d.width)a[g].left+=p[g],t=!0;if(-.25>k[g]&&0<=a[g].top+k[g]||.25<k[g]&&a[g].top+a[g].height+k[g]<=d.height)a[g].top+=k[g],t=!0;}return t;}}function b(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,b){a.forEach(function(a){0>a.left&&a.left+a.width<b.width?a.left+=c.Wo(-a.left,b.width-(a.left+a.width)):a.left+a.width>b.width&&0<a.left&&(a.left-=c.Wo(a.left+a.width-b.width,a.left));0>a.top&&a.top+a.height<b.height?a.top+=c.Wo(-a.top,b.height-(a.top+a.height)):a.top+a.height>b.height&&0<a.top&&(a.top-=c.Wo(a.top+a.height-b.height,a.top));});}(a,d));for(var k=0;50>k&&f(a,!0,d);k++);for(k=0;50>k&&f(a,!1,d);k++);return a;};},function(g,d,a){var f,m,q,b,k;function c(a,b){this.b9=a;this.zz={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=f.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.UGa(b);this.ywa=this.Vgb(this.b9);}Object.defineProperty(d,"__esModule",{value:!0});f=a(20);m=a(289);q=a(288);b=a(9);k=a(19);c.prototype.xp=function(){return this.element;};c.prototype.Hxb=function(a){this.x5=a;};c.prototype.Pxb=function(a){this.pe=a;this.hG();};c.prototype.Uxb=function(a){this.UGa(a);this.hG();};c.prototype.hG=function(){var a,b,d,k,g,h,I,C,K,Q,l,R,S,N;a=this;b=this.xp();d=b.parentElement;k=d&&d.clientWidth||0;g=d&&d.clientHeight||0;h=d=0;I={width:k,height:g};if(0<k&&0<g&&this.pe){this.x5&&(I=f.XU(k,g,this.x5),d=Math.round((k-I.width)/2),h=Math.round((g-I.height)/2));C=this.I6a(I);Q=f.XU(C.width,C.height,this.x5);C=(K=this.pe.blocks)&&K.map(function(b){var d;d=q.Lva(b,Q,a.b9,a.ywa);b=q.Idb(b)+";position:absolute";return f.createElement("div",b,d,c.j0);});}Object.assign(this.zz,{left:d+"px",right:d+"px",top:h+"px",bottom:h+"px"});b.style.display="none";b.style.direction=this.zz.direction;b.innerHTML="";if(C&&C.length){k=I.width;d=I.height;l=I;this.aK&&(l=this.c3a(I,this.aK,g,h));this.zz.margin=this.oo?this.zT(I,"top")+"px "+this.zT(I,"right")+"px "+this.zT(I,"bottom")+"px "+this.zT(I,"left")+"px ":void 0;C.forEach(function(a){return b.appendChild(a);});g=f.AK(this.zz);b.style.cssText=g+";visibility:hidden;z-index:-1";for(var h=[],n=C.length-1;0<=n;n--){R=C[n];S=K[n];N=this.KCa(R,S,k,d);N.width>k&&(R.innerHTML=q.Lva(S,I,this.b9,this.ywa,k/N.width),N=this.KCa(R,S,k,d));h[n]=N;}h=m.yBb(h,l);if(n=K&&K[0]&&K[0].textNodes&&K[0].textNodes[0]&&K[0].textNodes[0].style)l=n.windowColor,n=n.windowOpacity,l&&0<n&&(I=q.Kdb(K,h,Math.round(d/50),l,I),I=f.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+n,I,c.j0),b.insertBefore(I,b.firstChild));b.style.display="none";for(I=h.length-1;0<=I;I--)l=C[I].style,n=q.Jdb(K[I].region,h[I],k,d,0),Object.assign(l,n);b.style.cssText=g;}};c.prototype.yfa=function(a){this.aK=a;this.hG();};c.prototype.w$=function(){return this.aK;};c.prototype.zfa=function(a){this.oo=a;this.hG();};c.prototype.x$=function(){return this.oo;};c.prototype.y$=function(){return"block"===this.zz.display;};c.prototype.Afa=function(a){var b;b=a?"block":"none";this.element.style.display=b;this.zz.display=b;a&&this.hG();};c.prototype.Vgb=function(a){var b,c;b=this;c={};k.dd(a,function(a,f){c[a]=b.Kob(f);});return c;};c.prototype.UGa=function(a){this.zz.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};c.prototype.zT=function(a,b){if(this.oo){if("left"===b||"right"===b)return a.width*(this.oo[b]||0);if("top"===b||"bottom"===b)return a.height*(this.oo[b]||0);}return 0;};c.prototype.I6a=function(a){return this.oo?{height:a.height*(1-(this.oo.top||0)-(this.oo.bottom||0)),width:a.width*(1-(this.oo.left||0)-(this.oo.right||0))}:a;};c.prototype.Kob=function(a){var d;a=f.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+a+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.j0);b.ke.body.appendChild(a);d={fontSize:1E3,height:a.clientHeight,width:a.clientWidth/52,lineHeight:a.clientHeight/1E3};b.ke.body.removeChild(a);return d;};c.prototype.KCa=function(a,b,c,f){var d,k,g,p,m;d=b.region;k=(d.marginTop||0)*f;g=(d.marginBottom||0)*f;p=(d.marginLeft||0)*c;m=(d.marginRight||0)*c;b=a.clientWidth||1;a=a.clientHeight||1;switch(d.verticalAlignment){case"top":f=k;break;case"center":f=(k+f-g-a)/2;break;default:f=f-g-a;}switch(d.horizontalAlignment){case"left":c=p;break;case"right":c=c-m-b;break;default:c=(p+c-m-b)/2;}return{top:f,left:c,width:b,height:a};};c.prototype.c3a=function(a,b,c,f){return{height:c-Math.max(f,b.bottom||0)-Math.max(f,b.top||0),width:a.width};};d.wXa=c;c.j0={"class":"player-timedtext-text-container"};},function(g,d,a){var f,m,q,b,k,p,t;function c(a){var c,f,d,g;c=this;this.j=a;this.CK=void 0;this.q3=q.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});this.h3=q.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Y2=q.createElement("DIV","width:100%;text-align:center");this.LYa=this.k3("Audio Bitrate");this.Q4=this.k3("Video Bitrate");this.c3=this.k3("CDN");this.hJ={};this.SV=b.aa.get(k.Uo);this.q3.appendChild(this.h3);this.h3.appendChild(this.Y2);f=q.createElement("BUTTON",void 0,"Override");f.addEventListener("click",this.EYa.bind(this),!1);this.Y2.appendChild(f);f=q.createElement("BUTTON",void 0,"Reset");f.addEventListener("click",this.wqa.bind(this),!1);this.Y2.appendChild(f);d=this.e1a.bind(this);m.Le.addListener(m.Qz,d);a.addEventListener(t.S.no,function(){c.hJ={};});a.addEventListener(t.S.kf,function(){m.Le.removeListener(m.Qz,d);});g=this.D1a.bind(this);a.Zb.forEach(function(a){a.addListener(g);});a.Wc.addListener(g);a.eg.addListener(g);}Object.defineProperty(d,"__esModule",{value:!0});f=a(50);m=a(56);q=a(20);b=a(5);k=a(40);p=a(108);t=a(14);c.prototype.show=function(){this.zJ||(this.uqa(),this.j.wf.appendChild(this.q3),this.zJ=!0);};c.prototype.Vt=function(){this.zJ&&(this.j.wf.removeChild(this.q3),this.zJ=!1);};c.prototype.toggle=function(){this.zJ?this.Vt():this.show();};c.prototype.dJa=function(){var c,f,d;function a(a,b,c){var f,d,k;k=[];b.filter(function(b){return b.Af===a;}).forEach(function(a){0<=c.indexOf(a)?(void 0===f?f=a.R:d=a.R,void 0===d&&(d=a.R)):void 0!==f&&void 0!==d&&(k.push({min:f,max:d}),f=d=void 0);});void 0!==f&&void 0!==d&&(k.push({min:f,max:d}),f=d=void 0);return k;}function b(a,b,c){var f;f=[];b.filter(function(b){return b.Af===a;}).forEach(function(a){-1===c.indexOf(a)&&f.push({stream:{bitrate:a.R},disallowedBy:["manual"]});});return f;}c=this.j.jw();f=this.j.Pz().sort(function(a,b){return a.R-b.R;});d=f.reduce(function(a,b){0>a.indexOf(b.Af)&&a.push(b.Af);return a;},[]).map(function(d){return{profile:d,ranges:a(d,f,c),disallowed:b(d,f,c)};});this.j.qb.fB(d,this.j.u);};c.prototype.EYa=function(){var c,d,a,b;this.hJ={};for(var a=this.Q4.options,b=a.length;b--;){c=a[b];c.selected&&(this.hJ[c.value]=1);}this.CK=this.oZa.bind(this);this.dJa();if(a=this.j.ij){d=this.c3.value;a=a.filter(function(a){return a.id==d;})[0];b=this.j.Zb[f.Pc.Fa.VIDEO].value;a&&a!=b&&(a.Tsa={testreason:"streammanager",selreason:"userselection"},this.j.Zb[f.Pc.Fa.VIDEO].set(a));}this.Vt();};c.prototype.wqa=function(){this.CK=void 0;this.j.hHa(this.j.u);this.Vt();};c.prototype.oZa=function(){var a;a=this;return this.j.Pz().filter(function(b){return a.hJ[b.R];});};c.prototype.uqa=function(){var a,b,c,d;a=this;b=this.j.Wc.value;c=this.j.eg.value;d=this.j.ij;b&&(d=d.slice(),d.sort(function(a,b){return a.tf-b.tf;}),this.z4(this.LYa,b.dc.map(function(b){return{value:b.R,caption:b.R,selected:b==a.j.Tj.value};})));c&&(this.z4(this.Q4,c.dc.map(function(b){var c,f;c=a.j.HM.Gu(b);b=b.R;f=""+b;c&&(f+=" ("+c.join("|")+")");return{value:b,caption:f,selected:a.CK?a.hJ[b]:!c};})),this.Q4.removeAttribute("disabled"));d&&(this.z4(this.c3,d.map(function(b){return{value:b.id,caption:"["+b.id+"] "+b.name,selected:b==a.j.Zb[f.Pc.Fa.VIDEO].value};})),this.c3.removeAttribute("disabled"));};c.prototype.D1a=function(){this.zJ&&this.uqa();};c.prototype.k3=function(a){var b,c;b=q.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=q.createElement("DIV",void 0,a);c=q.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(c);this.h3.appendChild(b);return c;};c.prototype.z4=function(a,b){a.innerHTML="";b.forEach(function(b){var c;c={title:b.caption};b.selected&&(c.selected="selected");c=q.createElement("option",void 0,b.caption,c);c.value=b.value;a.appendChild(c);});};c.prototype.e1a=function(a){a.ctrlKey&&a.altKey&&a.shiftKey&&a.keyCode==p.ds.iWa&&this.SV.Gaa&&this.toggle();};d.oVa=c;},function(g,d,a){var c,f,m,q,b,k,p,t,u;Object.defineProperty(d,"__esModule",{value:!0});c=a(12);f=a(30);m=a(2);q=a(187);b=a(9);k=a(15);p=a(14);t=a(5);u=a(138);d.ZQa=function(a){var g,h,y,K;function d(){a.state.value!==p.mb.od||a.Ib.value!==p.hb.jh&&a.Ib.value!==p.hb.mq?h.Bh():h.Ht();}g=c.config.gsb;if(!a.gF()&&g){h=t.aa.get(u.mC)(g,function(){a.fireEvent(p.S.XE,m.J.vQ);});a.Ib.addListener(d);a.state.addListener(d);if(c.config.jaa){K=f.Rg();y=new q.Tma(c.config.jaa,function(){var d,k;d=f.Rg();k=d-K;k>g&&(a.fireEvent(p.S.XE,m.J.gQ),y.v6());k>2*c.config.jaa&&(a.kaa=b.sn(k,a.kaa||0));K=d;});y.Bfa();}a.addEventListener(p.S.kf,function(){h.Bh();k.jc(y)&&y.v6();});}};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(14);f=a(73);d.YPa=function(a){function d(b){a.fireEvent(c.S.qw,{response:b,u:a.da.u});}return{download:function(b,c){b.j=a;b=f.Ef.download(b,c);b.bra(d);return b;}};};},function(g,d,a){var f;function c(a,c){var b;b=this;this.Xxa=a;this.iDa=c;this.zga=!1;this.pu=function(){b.em=void 0;b.update();};}Object.defineProperty(d,"__esModule",{value:!0});f=a(20);c.prototype.update=function(a){var c,b,d;c=this.Xxa();if(this.pJa!==c){f.jc(c)&&f.jc(this.duration)&&c<this.duration&&this.entries&&(d=this.ECa||this.entries[Math.floor(c*this.FAb)]||this.entries[0]);if(d){for(;d&&d.endTime<c;)d=d.next;for(;d&&d.previous&&d.previous.endTime>=c;)d=d.previous;}d&&(d.startTime<=c&&c<=d.endTime?(b=d,this.kJa(d.endTime-c)):this.kJa(d.startTime-c));this.ECa=d;this.pJa=c;this.Z4!==b&&(this.Z4=b,!a&&this.iDa&&this.iDa());}};c.prototype.start=function(){this.zga=!0;this.update();};c.prototype.VGa=function(a){this.ECa=this.Z4=this.pJa=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(ea(a.map(function(a){return a.endTime;}))))||0;this.FAb=a&&a.length/this.duration||0;this.update();};c.prototype.stop=function(){this.zga=!1;this.Bh();};c.prototype.zfb=function(){this.update(!0);return this.Z4;};c.prototype.kJa=function(a){this.Bh();this.zga&&0<a&&(this.em=setTimeout(this.pu,a+c.dTa));};c.prototype.Bh=function(){this.em&&(clearTimeout(this.em),this.em=void 0);};d.zXa=c;c.dTa=10;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wka="LicenseBrokerFactorySymbol";},function(g,d,a){var c,f,m,q,b;Object.defineProperty(d,"__esModule",{value:!0});c=a(11);f=a(12);g=a(2);m=a(5);q=a(20);b=a(9);a=a(24);m.aa.get(a.yf).register(g.J.Oja,function(a){var g,u,h;function k(){h&&clearTimeout(h);a(c.pd);k=q.Re;}g=m.zg("BatteryManager");d.ht={VLa:"chargingchange",Nxa:function(){return u?u.level:null;},A9:function(){return u?u.charging:null;},addEventListener:function(a,b){u&&u.addEventListener(a,b);},removeEventListener:function(a,b){u&&u.removeEventListener(a,b);}};if(f.config.lK){h=setTimeout(k,f.config.Tfb);try{b.gl.getBattery().then(function(a){u=a;k();})["catch"](function(a){g.error("getBattery promise rejected",a);k();});}catch(D){g.error("exception on getBattery api call",D);k();}}else k();});},function(g,d,a){var p,t,u,h,D,B,I,C;function c(a){return a.split(",").reduce(function(a,b){var c;c=b.split("=");b=c[0];c=c.slice(1).join("=");b&&b.length&&(a[b]=c||!0);return a;},{});}function f(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function m(a,b,d){var k;if("string"===typeof a)return m.call(this,c(a),b,d);k=0;Object.keys(a).forEach(function(c){var g,m,t;g=D[c];m=a[c];if(g){if(t=B[c]||C[typeof p[g]])try{m=t(m);}catch(W){d&&d.error("Failed to convert value '"+m+"' for config '"+c+"' : "+W.toString());return;}t=h[g];this[g]=m;h[g]!==t&&(d&&d.debug("Config changed for '"+c+"' from "+f(t)+" ("+typeof t+") to "+f(m)+" ("+typeof m+")"),++k);}else b?(g=(g=I[c])?g.filter(function(a){return a[0]!==this;},this):[],g.push([this,m]),I[c]=g):d&&d.error("Attempt to change undeclared config option '"+c+"'");},this);k&&h.emit("changed");return k;}function q(){return Object.keys(D).reduce(function(a,b){var c,f;c=D[b];f=a[c];f?(f.push(b),a[c]=f.sort(function(a,b){return b.length-a.length;})):a[c]=[b];return a;},{});}function b(a,b){return a.hasOwnProperty(b)?f(a[b]):void 0;}function k(a,b){return"undefined"===typeof a?b:a;}d=a(58);a=a(111).EventEmitter;p={};t=Object.create(p);u=Object.create(t);h=Object.create(u);D={};B={};I={};h.declare=function(a){Object.keys(a).forEach(function(b){var c,f,d,k;c=a[b];f=c[0];d=c[1];k=c[2];if(p.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof f&&(f=[f]);f.forEach(function(a){var c;if(D.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");p.hasOwnProperty(b)||("function"===typeof d&&(d=d()),p[b]=d);D[a]=b;"function"===typeof k&&(B[a]=k);if(c=I[a])c.forEach(function(b){var c,f;c=b[0];f={};f[a]=b[1];m.call(c,f,!1);}),delete I[a];});});return h;};C={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};h.set=m.bind(t);h.OF=m.bind(u);h.dump=function(a,c){var g,m,y,C;function d(){C&&a&&a.log("===========================================");}g=Object.keys(I).sort();m={};y=q();c=k(c,!0);Object.keys(D).sort().forEach(function(g){var q,B,K;g=D[g];!m[g]&&(m[g]=!0,B=b(t,g),K=b(u,g),c||"undefined"!==typeof B||"undefined"!==typeof K)&&(q=y[g].join(","),q+=" = "+f(h[g])+" ("+typeof h[g]+") [",q+=k(K,"<unset>")+",",q+=k(B,"<unset>")+",",q+=b(p,g)+"]",C||(C=!0,a&&a.log("Current config values"),d()),a&&a.log(q));});(c||g.length)&&a&&a.log("<undeclared> :",g);d();};h.Vn=function(a){var b,c;b={};c={};Object.keys(D).forEach(function(a){a=D[a];c[a]||(c[a]=!0,b[a]=h[a]);});a&&m.call(b,a);return b;};h.WDa=function(){var a;a=q();return Object.getOwnPropertyNames(t).reduce(function(b,c){b[a[c][0]]=t[c];return b;},{});};h.reset=function(){Object.keys(t).forEach(function(a){delete t[a];});};h.qm={};d(a,h);g.P=Object.freeze(h);},function(g,d,a){var f,m,q,b,k;function c(a){var c,d;c=b.platform;f.zg("MediaSourceASE").trace("Inside MediaSourceASE");d=a.Z9();this.readyState=k.ec.CLOSED;this.sourceBuffers=d.sourceBuffers;this.addSourceBuffer=function(a){return d.addSourceBuffer(a);};this.ZS=function(a){return d.ZS(a);};this.removeSourceBuffer=function(a){return d.removeSourceBuffer(a);};this.Jk=function(a){return d.Jk(a);};this.sourceId=c.BL();c.UL();this.duration=void 0;d.Gxb(this.sourceId);this.readyState=k.ec.OPEN;this.oc=m.aa.get(q.ef).Wm(k.oc,{});}Object.defineProperty(d,"__esModule",{value:!0});f=a(5);m=a(5);q=a(22);b=a(50);Object.defineProperty(c.prototype,"duration",{get:function(){return this.cj;},set:function(a){var b;this.cj=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.cj=b;});}});k={ec:{CLOSED:0,OPEN:1,mq:2,name:["CLOSED","OPEN","ENDED"]},oc:{ota:!0,wCa:!0}};d.NSa=Object.assign(c,k);},function(g,d,a){var c,f,m,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(300);f=a(5);m=a(431);q=a(22);d.zzb=function(a){a({$:!0,storage:new c.vka(f.aa.get(m.xka),f.aa.get(q.ef))});};},function(g,d){function a(a,f){this.Iq=a;this.Sc=f;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.load=function(c,f){var d;d=this;this.Iq.load(c).then(function(c){f&&f(a.WHa(c));})["catch"](function(a){f&&f(d.wE(c,a));});};a.prototype.save=function(c,f,d,g){var b;b=this;this.Iq.save(c,f,d).then(function(){g&&g(a.WHa({key:c,value:f}));})["catch"](function(a){g&&g(b.wE(c,a));});};a.prototype.remove=function(a,f){var c;c=this;this.Iq.remove(a).then(function(){f&&f({$:!0,UZ:a});})["catch"](function(d){f&&f(c.wE(a,d));});};a.WHa=function(a){return{$:!0,data:a.value,UZ:a.key};};a.prototype.wE=function(a,f){return{$:!1,UZ:a,ca:f.ca,kb:f.cause?this.Sc.Ye(f.cause):void 0};};d.vka=a;},function(g,d,a){var c,f,m,q,b;Object.defineProperty(d,"__esModule",{value:!0});c=a(5);f=a(67);m=a(22);q=a(300);b=a(429);d.yzb=function(a){c.aa.get(f.Ur).create().then(function(f){a({$:!0,storage:new q.vka(f,c.aa.get(m.ef)),qp:c.aa.get(b.Mia)});})["catch"](function(b){a(b);});};},function(g,d,a){var c,f,m;Object.defineProperty(d,"__esModule",{value:!0});c=a(11);f=a(5);m=a(2);a(19);d.Azb=function(a){var b;f.zg("Storage");b={};a({$:!0,storage:{load:function(a,c){b.hasOwnProperty(a)?c({$:!0,data:b[a],UZ:a}):c({ca:m.G.ov});},save:function(a,c,f,d){f&&b.hasOwnProperty(a)?d({$:!1}):(b[a]=c,d&&d({$:!0,UZ:a}));},remove:function(a,f){delete b[a];f&&f(c.pd);}}});};},function(g,d,a){var f,m,q,b,k,p,t,u,h,D,B,I,C,K,Q,l,n,R,S,N,r,W,fa,V,ma,A,sa,oa,O,ia,Ea,wa,Fa,Ga,ka,$a,Ca,z,G;function c(a,b,c,d,k,g,p,m,t,y,C,l,T,ca,R,A,U,O,ia,wa,Ea,$a,z,G,ab,nb){var ba,qb,Wa,P;function Sa(a){a.newValue!==ka.hb.Pf&&a.newValue!==ka.hb.jh&&(ba.Ib.removeListener(Sa),ba.ZE=ba.Ka.mfa,ba.Ob.Pb(ka.S.Zm));}function gb(a){a.newValue!==ka.hb.Pf&&(ba.Ib.removeListener(gb),ba.kEa=ba.Ka.lf.ea(r.ja));}ba=this;this.VE=k;this.sa=p;this.zD=m;this.Ka=t;this.Hba=y;this.Iba=T;this.iX=ca;this.Cc=R;this.ge=A;this.jk=U;this.dz=O;this.qda=ia;this.Fba=wa;this.msb=Ea;this.Kga=$a;this.gi=z;this.Sc=G;this.MJ=ab;this.DT=nb;this.qEa=[];this.oN={};this.Wc=new D.Tc(null);this.eg=new D.Tc(null);this.Bc=new D.Tc(null);this.gj=new D.Tc(null);this.Lr=new D.Tc(void 0);this.Ce=new D.Tc(null);this.Tj=new D.Tc(null);this.ac=new D.Tc(void 0);this.Rga=function(a){return ba.Wc.set(a.newValue);};this.fCb=function(a){return ba.eg.set(a.newValue);};this.cCb=function(a){return ba.Bc.set(a.newValue);};this.EBb=function(a){return ba.gj.set(a.newValue);};this.bCb=function(a){return ba.Lr.set(a.newValue);};this.eCb=function(a){return ba.Ce.set(a.newValue);};this.FBb=function(a){return ba.Tj.set(a.newValue);};this.VBb=function(a){return ba.bf.set(a.newValue);};this.UBb=function(a){return ba.bg.set(a.newValue);};this.PBb=function(a){return ba.ac.set(a.newValue);};this.Tm={};this.Bea=this.Ega=0;this.Ob=new I.tk();this.gP={};this.Hpa=0;this.Yfa=!1;this.state=new D.Tc(ka.mb.aC);this.Op=new D.Tc(!1);this.paused=new D.Tc(!1);this.muted=new D.Tc(!1);this.volume=new D.Tc(B.config.Wab/100);this.playbackRate=new D.Tc(1);this.Ib=new D.Tc(ka.hb.Pf);this.hz=new D.Tc(ka.Mf.Pe);this.Rn=new D.Tc(ka.Mf.Pe);this.nk=new D.Tc(ka.Mf.Pe);this.bg=new D.Tc(null);this.bf=new D.Tc(null);this.X5=new D.Tc(null);this.jW=u.YPa(this);this.uX=[];this.Zb=[];this.N5={};this.ZK=this.vva=!1;this.Fzb=this.Da=this.bh=-1;this.l$=function(a,b){a=void 0===a?null:a;return oa.ka(a)?b&&!ba.Qt(b).ta?a:ba.qb?ba.qb.xt(void 0,a,b):a:null;};this.kDa=function(){ba.Tfa();};this.QEa=this.VE.qz();this.XD=a;this.addEventListener=this.Ob.addListener;this.removeEventListener=this.Ob.removeListener;this.fireEvent=this.Ob.Pb;k=B.config.xo&&this.Cc()?this.Cc().B$(a):void 0;this.e5({va:a,$a:d,Va:c||{}},k,b);this.log=N.Wg(this);this.ybb=g(this);this.G5a=C(this);this.wf=Fa.createElement("DIV",h.Rma,void 0,{id:this.u});this.Tkb();qb=l(r.zh(1));this.de=this.log.a7("Playback");this.Msb=q.bVa(this);Q.kI.Gpb=this;Q.kI.W8||(Q.kI.W8=this);this.de.info("Playback created",this.Bg);this.pba?this.de.info("Playback selected for trace playback info logging"):this.de.trace("Playback not selected for trace playback info logging");B.config.xo&&this.Cc()&&(this.Cc().Hjb(this.u),this.addEventListener(ka.S.Zm,function(){ba.Cc().Ijb(ba.u);ba.Bc.addListener(function(){ba.Cc().Lya();});ba.Wc.addListener(function(){ba.Cc().Lya();});}),this.addEventListener(ka.S.kf,function(){ba.Cc().Gjb(ba.u);}));this.state.addListener(function(a){ba.de.info("Playback state changed",{From:a.oldValue,To:a.newValue});V.Pa(a.newValue>a.oldValue);});K.Le.addListener(K.Kl,this.kDa,h.S1);this.ac.addListener(function(){qb.Ab(function(){return ba.qwa();});});P=!1;this.paused.addListener(function(a){var b;b=ba.qb;!a.Ica&&b&&(!0===a.newValue?b.paused&&b.paused():b.UO&&b.UO());a.newValue||(P=!1);ba.de.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Kh(ba.ac.value)});});this.addEventListener(ka.S.RA,function(a){ba.da.Vl.yqb(a.$X,a.UM);});this.Ib.addListener(function(a){ba.de.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Kh(ba.ac.value)},ba.uF());});this.Ib.addListener(function(){ba.Op.set(ba.Ib.value===ka.hb.Ec);});this.hz.addListener(function(a){ba.de.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Kh(ba.ac.value)},ba.uF());});this.Rn.addListener(function(a){ba.de.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Kh(ba.ac.value)},ba.uF());});this.nk.addListener(function(a){ba.de.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Kh(ba.ac.value)},ba.uF());});this.Wc.addListener(function(a){V.Pa(a.newValue);ba.de.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.Hk,To:a.newValue.cb},a.oldValue&&{FromBcp47:a.oldValue.Hk,From:a.oldValue.cb},{MediaTime:ma.Kh(ba.ac.value)});});this.eg.addListener(function(){for(var a=ba.Pz(),b=a.length,c=0;c<b;c++)a[c].lower=a[c-1],a[c].dkb=a[c+1];});this.Bc.addListener(function(a){ba.de.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.Hk,To:a.newValue.cb}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.Hk,From:a.oldValue.cb}:{From:"none"},{MediaTime:ma.Kh(ba.ac.value)});});this.Zb[f.Pc.Fa.AUDIO]=new D.Tc(null);this.Zb[f.Pc.Fa.VIDEO]=new D.Tc(null);this.Ib.addListener(gb,h.cC);this.Ib.addListener(Sa);this.addEventListener(ka.S.Zm,function(){var a,b,c,f;ba.Yfa=!0;ba.Zc("start");a=ba.bf.value;b=M._cad_global.prefetchEvents;if(b){c=r.Eb(ba.Om?ba.Om.audio:0);f=r.Eb(ba.Om?ba.Om.video:0);b.Xl(ba.u,ba.ia,"notcached"!==ba.dw,"notcached"!==ba.cw,!!ba.Om,c,f);}ba.wW=a.stream.R;});S.hVa(this);Q.vn.push(this);B.config.IN&&(this.uY=new Ga.kVa(this),this.vY=new n.oVa(this));Q.vma.forEach(function(a){a(ba);});this.M3a=function(a){ba.addEventListener(ka.S.RA,function(b){b=b.cause;b!==ka.gg.LH&&b!==ka.gg.iC&&a.stop();});ba.addEventListener(ka.S.yo,function(b){var c,f,d,k,g,p,m;c=b.cause;f=b.skip;d=b.UM;k=b.$X;g=b.u;b=b.Fi;if(c!==ka.gg.iC&&(B.config.Web&&c===ka.gg.LQ&&ba.dm.iK(),c!==ka.gg.LH))if(f)if(a.pt(d)){ba.de.trace("Repositioned. Skipping from "+k+" to "+d);c=function(a){ba.log.error("streamingSession.skipped threw an exception",a);a=Ca.wc.gV(W.J.hKa,a);ba.$m(a.code,a);};try{p=a.Ti(d);p?p.then(function(b){b.$E||a.play();})["catch"](c):a.play();}catch(Mc){c(Mc);}}else ba.log.error("can skip returned false");else{ba.de.trace("Repositioned. Seeking from "+k+" to "+d);try{m=ba.Nm(g).$a;a.aB(b,ba.Mxa(m),m);}catch(Mc){ba.log.error("streamingSession.seekByContentPts threw an exception",Mc);d=Ca.wc.gV(W.J.fKa,Mc);ba.$m(d.code,d);}}});a.addEventListener("maxPosition",function(a){var b;b=r.Eb(a.maxPts);if(a=ba.xu[a.index])a.Rq=b;ba.yu||(ba.yu=b);});a.addEventListener("segmentStarting",function(a){ba.fireEvent(ka.S.bxb,a);});a.addEventListener("lastSegmentPts",function(a){ba.fireEvent(ka.S.Zwb,a);});a.addEventListener("segmentPresenting",function(a){ba.fireEvent(ka.S.qZ,a);});a.addEventListener("segmentAborted",function(a){ba.fireEvent(ka.S.Xwb,a);});a.addEventListener("manifestPresenting",function(a){ba.wBa({u:parseInt(a.movieId),EY:a.previousMovieId?parseInt(a.previousMovieId):void 0,Yz:!1});});a.addEventListener("skip",function(a){ba.fireEvent(ka.S.Ti,a);});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure"===a.error&&(ba.de.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),ba.de.trace("StreamingFailure, buffer status:"+JSON.stringify(ba.uF())),B.config.jeb&&!ba.Yfa&&sa.Lb(function(){ba.Rd(ba.ge(W.J.gKa,{ca:a.nativeCode,kb:a.errormsg,Hi:a.httpCode,NX:a.networkErrorCode}));}));});a.addEventListener("maxvideobitratechanged",function(a){ba.uX.push(a);});a.addEventListener("bufferingStarted",function(){ba.Rn.set(ka.Mf.Pe);});a.addEventListener("locationSelected",function(a){ba.fireEvent(ka.S.hr,a);});a.addEventListener("serverSwitch",function(a){var b;ba.fireEvent(ka.S.vG,a);"video"===a.mediatype?b=f.Pc.Fa.VIDEO:"audio"===a.mediatype&&(b=f.Pc.Fa.AUDIO);oa.jc(b)&&ba.Kxb(a.server,b);});a.addEventListener("bufferingComplete",function(b){ba.de.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},ba.uF());ba.Tn=b;ba.Rn.set(ka.Mf.od);Wa||(Wa=!0,ba.Zc("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.jDa();B.config.esb&&!ba.paused.value&&(P=!0,ba.paused.set(!0,{Ica:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){ba.paused.value&&P&&(P=!1,ba.paused.set(!1,{Ica:!0}));ba.Mi.Cqb();});a.addEventListener("endOfStream",function(a){ba.Nn("EndOfStream");ba.Mi.XX(a);});a.addEventListener("asereportenabled",function(){ba.ZK=!0;});a.addEventListener("asereport",function(a){ba.fireEvent(ka.S.yD,a);});a.addEventListener("aseexception",function(a){ba.fireEvent(ka.S.xD,a);});a.addEventListener("hindsightreport",function(a){var b,c;b=oa.ka(ba.$e)?0:ba.$e;c=a.report;c&&c.length&&c.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});ba.V$={Pvb:c,mkb:a.hptwbr,oza:a.htwbr,pY:a.pbtwbr};a.rr&&(ba.V$.gGa=a.rr);a.ra&&(ba.V$.wub=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;ba.Da=a.location.bandwidth;ba.bh=a.location.httpResponseTime;ba.Fzb=a.stat.streamingBitrate;b&&(void 0===ba.fz&&(ba.fz={interval:B.config.FD,startTime:b.startTime,$s:[],Pu:[]}),ba.fz.$s=ba.fz.$s.concat(b.$s),ba.fz.Pu=ba.fz.Pu.concat(b.Pu));a.psdConservCount&&(ba.OEa=a.psdConservCount);});a.addEventListener("headerCacheDataHit",function(a){a.movieId===""+ba.u&&(ba.Om=a);});a.addEventListener("startEvent",function(a){M._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&M._cad_global.prefetchEvents.hK(fa.He.Gj.MEDIA,ba.u);});a.addEventListener("requestComplete",function(a){var b;b=(a=a&&a.mediaRequest)&&a.PD&&a.PD.cadmiumResponse;b&&ba.fireEvent(ka.S.qw,{response:b,u:ba.Qt(a.$a).u});});a.addEventListener("streamSelected",function(a){var b,c;a.mediaType===f.Pc.Fa.VIDEO?(c=ba.Xya(a.streamId),b=ba.Ce):a.mediaType===f.Pc.Fa.AUDIO&&(c=ba.Nya(a.streamId),b=ba.Tj);c&&b?b.set(c,{eta:a.movieTime,B5a:a.bandwidth}):ba.de.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,c;if("string"===typeof a.target&&"object"===typeof a.fields){b=ba.Tm[a.target];c=oa.ka(ba.$e)?ba.$e:0;b||(b=ba.Tm[a.target]={});Object.keys(a.fields).forEach(function(f){var d,k,g,p;d=a.fields[f];if("object"!==typeof d||null===d)b[f]=d;else{k=d.type;if("count"===k)void 0===b[f]&&(b[f]=0),++b[f];else if(void 0!==d.value)if("array"===k){k=b[f];g=d.adjust;p=d.value;k||(k=b[f]=[]);g&&0<g.length&&g.forEach(function(a){p[a]-=c||0;});k.push(p);}else"sum"===k?(void 0===b[f]&&(b[f]=0),b[f]+=d.value):b[f]=d.value;else b[f]=d;}});}});};this.Wc.addListener(function(a){var b;if(ba.qb)if(a.kw&&a.kw.reset)ba.de.trace("ASE previously rejected the audio track switch, resetted!");else{b=a.newValue;ba.qb.bIa({BD:b.Wz,toJSON:function(){return b.Bg;}})?ba.de.trace("ASE accepted the audio track switch"):(ba.de.trace("ASE rejected the audio track switch"),a.oldValue.Wz!==b.Wz&&ba.Wc.set(a.oldValue,{reset:!0}));}});this.addEventListener(ka.S.jt,function(a){a.cause==Q.rma&&(ba.hz.set(ka.Mf.Pe),ba.qb.ZIa(ba.Mi.Axa()));});}Object.defineProperty(d,"__esModule",{value:!0});f=a(50);m=a(194);q=a(193);b=a(126);k=a(296);p=a(608);t=a(607);u=a(293);h=a(11);D=a(190);B=a(12);I=a(72);C=a(292);K=a(56);Q=a(57);l=a(93);n=a(291);R=a(604);S=a(287);N=a(5);r=a(4);W=a(2);fa=a(117);V=a(18);ma=a(94);A=a(19);sa=a(51);oa=a(15);O=a(107);ia=a(286);Ea=a(134);wa=a(188);Fa=a(20);Ga=a(284);ka=a(14);$a=a(62);Ca=a(46);z=a(192);G=a(282);c.prototype.Zc=function(a){this.da.Zc(a);};c.prototype.Jw=function(a){this.da.Jw(a);};c.prototype.Tkb=function(){var a;a=this;this.Wc.addListener(function(b){return a.da.Wc.set(b.newValue);});this.eg.addListener(function(b){return a.da.eg.set(b.newValue);});this.Bc.addListener(function(b){return a.da.Bc.set(b.newValue);});this.gj.addListener(function(b){return a.da.gj.set(b.newValue);});this.Lr.addListener(function(b){return a.da.Lr.set(b.newValue);});this.Ce.addListener(function(b){return a.da.Ce.set(b.newValue);});this.Tj.addListener(function(b){return a.da.Tj.set(b.newValue);});this.bf.addListener(function(b){return a.da.bf.set(b.newValue);});this.bg.addListener(function(b){return a.da.bg.set(b.newValue);});this.ac.addListener(function(b){return a.da.ac.set(b.newValue);});this.cGa();};c.prototype.cGa=function(){this.da!==this.$ea&&(this.da.ac.set(this.ac.value),this.Rr(function(a){return a.Wc;},this.Rga),this.Rr(function(a){return a.eg;},this.fCb),this.Rr(function(a){return a.Lr;},this.bCb),this.Rr(function(a){return a.Bc;},this.cCb),this.Rr(function(a){return a.gj;},this.EBb),this.Rr(function(a){return a.Ce;},this.eCb),this.Rr(function(a){return a.Tj;},this.FBb),this.Rr(function(a){return a.bg;},this.UBb),this.Rr(function(a){return a.bf;},this.VBb),this.Rr(function(a){return a.ac;},this.PBb),this.Bc.set(this.da.Bc.value),this.Wc.set(this.da.Wc.value),this.eg.set(this.da.eg.value),this.gj.set(this.da.gj.value),this.Lr.set(this.da.Lr.value),this.Ce.set(this.da.Ce.value),this.Tj.set(this.da.Tj.value),this.$ea=this.da);};c.prototype.Rr=function(a,b){this.$ea&&a(this.$ea).removeListener(b);a(this.da).addListener(b);};c.prototype.load=function(a){var b,c;b=this;this.load=function(){};this.sEa=a;if(this.state.value==ka.mb.aC){this.de.info("Playback loading",this);this.tqb();this.Zc("asl_load_start");a=this.zD;c=a.endTime;oa.jc(a.startTime)?oa.jc(c)?this.Zc("asl_ended"):this.Zc("asl_in_progress"):this.Zc("asl_not_started");this.zD.pM(function(a){b.Zc("asl_load_complete");a.$?b.m$a():b.$m(a.errorCode||W.J.Mja,a);});}};c.prototype.htb=function(){var a;try{if(this.state.value===ka.mb.LOADING){a={width:1,height:1,i5:1};this.Pz().forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height,a.i5=b.i5);});this.dH=a;this.ez=this.dz.sra({xB:r.Eb(this.T),u:this.u,mN:this.Rq,Va:this.Va}).ea(r.ja);this.Pra();this.X$a();}}catch(qb){this.$m(W.J.HQa,{ca:W.G.ih,kb:A.Ye(qb)});}};c.prototype.e5=function(a,b,c){var f,d,k;b=void 0===b?this.VE.qz():b;c=void 0===c?this.sa.pc():c;f=!!B.config.EJa&&!(b%B.config.EJa);d=a.va;k=a.$a;a=a.Va;b=this.qda(Q.kI.index++,d,k,a,b,c,f,this.da,this.l$);this.oN[d]=b;1<this.xu.length&&(b.du=this.iX.create(this,b,!1));b.HM=new l.QSa(this,b);return d;};c.prototype.Mxa=function(a){return a?void 0:0;};c.prototype.Nm=function(a){return this.oN[a];};c.prototype.Qt=function(a){return this.xu.find(function(b){return b.$a===a;})||this.da;};c.prototype.eib=function(a){return this.xu.find(function(b){var c,f;return(null===(f=null===(c=b.Bf)||void 0===c?void 0:c.mmb)||void 0===f?void 0:f.sessionId)===a;})||this.da;};c.prototype.qub=function(a,b){var c,f;b=void 0===b?!0:b;c=this;f=this.Nm(a);return this.EGa(f).then(function(a){var d;if(!c.qb)throw new Ca.wc(W.J.wQ,W.G.jha);c.IEa(a,f);a=[f.bc.yua,f.bc.Eua];d=!1;try{d=!!c.qb.sD(f.ta,{WAb:a,replace:!1,T:f.Va.T,ga:f.Va.ga,IA:!0,Xh:!f.Ow,fsa:b,Lq:c.e7(f.u),ykb:!0},f.$a);}catch(jf){throw Ca.wc.gV(W.J.wQ,jf);}if(!d)throw new Ca.wc(W.J.wQ,W.G.$Ja);return c.zb.bk.IFa(f).then(function(){if(!c.qb)throw new Ca.wc(W.J.wQ,W.G.jha);c.qb.WK(""+f.u);});})["catch"](function(a){c.log.error("queueManifest failed",a);throw c.ge(a.code,a);});};c.prototype.Kfb=function(){if(oa.ka(this.Jc.ats)&&oa.ka(this.Jc.at))return this.Jc.at-this.Jc.ats;};c.prototype.exa=function(){var a,b;a=this.eP();b=this.PJ();return Math.min(a,b);};c.prototype.lhb=function(){if(oa.ka(this.Jc.shs)&&oa.ka(this.Jc.sh))return this.Jc.sh-this.Jc.shs;};c.prototype.oO=function(){this.background||(this.de.info("Starting inactivity monitor for movie "+this.u),new C.ZQa(this));};c.prototype.close=function(a){a&&(this.state.value==ka.mb.CLOSED?a():this.addEventListener(ka.S.closed,function(){a();}));this.Tfa();};c.prototype.Rd=function(a,b){var c,f,d;c=this;if(this.state.value==ka.mb.aC)this.Ii||(this.Ii=a,this.load());else{b&&(this.state.value==ka.mb.CLOSED?b():this.addEventListener(ka.S.closed,function(){b();}));f=function(){c.Tfa(a);};d=B.config.Hua&&a&&B.config.Hua[a.errorCode];oa.bA(d)&&(d=A.fe(d));this.de.error("Fatal playback error",{Error:""+a,HandleDelay:""+d});0<=d?setTimeout(f,d):f();}};c.prototype.PO=function(){this.Ob.Pb(ka.S.PO);};c.prototype.Nn=function(a,b){b=void 0===b?this.$a:b;this.qEa.push(this.sa.pc().ea(r.ja)+"-"+b+"-"+a);};c.prototype.Yeb=function(){this.qwa();};c.prototype.c$=function(){var a;a=this.qb;return a&&(a=a.jya(),void 0!==a)?a:null;};c.prototype.Nz=function(){return void 0!==this.da.NT&&void 0===this.qb?this.da.NT:this.l$(this.ac.value,this.$a);};c.prototype.b$=function(){var a;a=this.l$(this.Mi.Axa());return null===a?null:Math.min(this.Rq.ea(r.ja),Math.max(0,a));};c.prototype.rV=function(){var a;a=this.ta.choiceMap;if(a)return a.segments;};c.prototype.SBb=function(a){this.Va=Ea.Uob(function(a,b){return void 0!==b?b:a;},this.Va,a);this.Pra();};c.prototype.Pz=function(a){a=void 0===a?this.u:a;return(a=this.Nm(a).eg)&&a.value?a.value.dc:[];};c.prototype.Ojb=function(a){for(var b=P(this.xu),c=b.next();!c.done;c=b.next())if(c=(c=c.value.ij)&&c.find(function(b){return b.id===a;}))return c;};c.prototype.Nya=function(a){for(var b=P(this.xu),c=b.next();!c.done;c=b.next())if(c=(c=c.value.Wc.value)&&c.dc.find(function(b){return b.bd===a;}))return c;};c.prototype.Xya=function(a){for(var b=P(this.xu),c=b.next();!c.done;c=b.next())if(c=(c=c.value.eg.value)&&c.dc.find(function(b){return b.bd===a;}))return c;};c.prototype.jw=function(){var a,b,c;return null!==(c=null===(b=null===(a=this.vY)||void 0===a?void 0:a.CK)||void 0===b?void 0:b.call(a))&&void 0!==c?c:this.Sta().uc;};c.prototype.hHa=function(a){var b;this.qb&&this.Nm(a)&&((null===(b=this.vY)||void 0===b?0:b.CK)?this.vY.dJa():(b=this.e7(a),this.qb.fB(b,a)));};c.prototype.Xlb=function(){return"trailer"===this.je;};c.prototype.Pza=function(){return!!this.je&&0<=this.je.indexOf("billboard");};c.prototype.dmb=function(){return!!this.je&&0<=this.je.indexOf("video-merch");};c.prototype.ylb=function(){return!!this.je&&0<=this.je.indexOf("mini-modal");};c.prototype.gF=function(){return this.Xlb()||this.Pza()||this.dmb()||this.ylb();};c.prototype.C9=function(){var d;if(this.kn){for(var a,b=0;b<this.kn.length;b++)for(var c=this.kn[b],f=0;f<c.dc.length;f++){d=c.dc[f];oa.ka(d.f7)&&oa.ka(d.XT)&&oa.ka(d.WT)&&oa.ka(d.VT)&&(0<d.f7||0<d.XT)&&(d=d.VT/d.WT,a=oa.ka(a)?Math.min(a,d):d);}return a;}};c.prototype.tib=function(){return{tr:this.Ega,rt:this.Bea};};c.prototype.Ot=function(a){return this.Tm[a];};c.prototype.A6a=function(){return this.jn?this.sa.pc().ea(r.ja)-this.jn:this.Ka.lf.ea(r.ja)-this.lV();};c.prototype.Lsa=function(){var a;if(this.jn)return this.sa.pc().ea(r.ja)-this.jn;a=this.sa.gA;return this.kEa-(this.Wl.ea(r.ja)+a.ea(r.ja));};c.prototype.F6a=function(){return this.jn?this.sa.pc().ea(r.ja)-this.jn:this.kEa-this.lV();};c.prototype.lqb=function(a){var b,c;b=this.$e;c={};A.dd(a,function(a,f){c[a]=f.map(function(a){return a-b;});});return c;};c.prototype.Ufb=function(){var a,b;a=this.$e;b={};A.dd(this.N5,function(c,f){b[c]=f.map(function(b){return b-a;});});return k.ht?{level:k.ht.Nxa(),charging:k.ht.A9(),statuses:b}:null;};c.prototype.PV=function(){this.pwa();return this.gP;};c.prototype.lV=function(){var a;a=this.Va.n_;a=oa.ka(a)?a:this.Wl.ea(r.ja)+this.sa.gA.ea(r.ja);V.Pa(oa.Nw(a));return a;};c.prototype.h$=function(){return this.sa.pc().ea(r.ja)-this.Wl.ea(r.ja);};c.prototype.lyb=function(){this.gP.HasRA=!0;};c.prototype.dDb=function(){this.Lyb=!0;};c.prototype.WX=function(){this.xFa();};c.prototype.eP=function(){var a;a=this.gT();return a&&a.vbuflmsec||0;};c.prototype.PJ=function(){var a;a=this.gT();return a&&a.abuflmsec||0;};c.prototype.bha=function(){var a;a=this.gT();return a&&a.vbuflbytes||0;};c.prototype.y5=function(){var a;a=this.gT();return a&&a.abuflbytes||0;};c.prototype.EGa=function(a){var b,c;a=void 0===a?this:a;b=this;c=B.config.KY.enabled?$a.md.un.Mma:this.gF()?$a.md.un.r2:$a.md.un.wn;a={ia:a.ia,Va:a.Va,va:a.u,DE:c};return this.Fba.Km(this.log,this.msb(),a)["catch"](function(a){b.log.error("PBO manifest failed",a);return Promise.reject(a);});};c.prototype.IEa=function(a,b){b=void 0===b?this:b;b.ta=a;a=this.Hba.create(this).Vrb(a);b.bc=a;b.eg.set(a.C7);b.Wc.set(a.y7);b.Bc.set(a.B7);};c.prototype.Cwa=function(a,b){this.wBa({u:a,EY:this.XD,Yz:void 0===b?!1:b});};c.prototype.ojb=function(a,b){this.Nm(a.va)||this.e5(a);this.Cwa(a.va,!0);this.Rd(b);};c.prototype.Pya=function(a,b){if(!this.jk.ZO)return!0;a=this.yu.ea(r.ja)-a;return 0>a||a>b;};c.prototype.wBa=function(a){if(a.EY){if(a.u===this.XD)return;this.fireEvent(ka.S.qF,{u:this.XD});this.XD=a.u;a.Yz||this.cGa();this.ZE=this.Ka.mfa;this.da.jn||(this.da.jn=this.sa.pc().ea(r.ja));}("boolean"===typeof this.Va.tE?this.Va.tE:B.config.tE)&&!a.Yz&&this.Kga.tE(this);this.fireEvent(ka.S.no,a);};c.prototype.m$a=function(){try{this.vK=new z.MMa(this);this.du=this.iX.create(this,this.da,!0);B.config.R6a&&new G.iPa(this,this.log);B.config.lK&&this.lK(this);this.KCb();}catch(Sa){this.$m(W.J.GQa,{ca:W.G.ih,kb:A.Ye(Sa)});}};c.prototype.KCb=function(){this.Ii?this.Rd(this.Ii):oa.dAa(this.u)?this.l7a():this.$m(W.J.uQa,{kb:""+this.u});};c.prototype.l7a=function(){var a;a=m.HG.PGa;a?a.$?this.z6():this.$m(W.J.fka,a):(V.Pa(!B.config.GU),this.X4());};c.prototype.z6=function(){var a;a=this;!this.background&&B.config.z6?Q.uma(function(){a.X4();},this):this.X4();};c.prototype.X4=function(){var a;a=this;this.state.value==ka.mb.LOADING&&(B.config.r8&&!this.gF()?m.HG.Wy(Q.gVa,function(b){b.$?(a.gX=b.gX,B.config.uZ?a.VJ():a.gfa()):a.$m(W.J.eka);},!0):B.config.uZ?this.VJ():this.gfa());};c.prototype.gfa=function(){var a;a=this;this.state.value==ka.mb.LOADING&&(this.Zc("ic"),this.Msb.lxb(function(b){b.error&&a.log.error("Error sending persisted playdata",W.So(b));try{a.VJ();}catch(Wa){a.log.error("playback.authorize threw an exception",Wa);a.$m(W.J.rKa,{ca:W.G.ih,kb:A.Ye(Wa)});}}));};c.prototype.VJ=function(){var a,b;a=this;if(this.state.value==ka.mb.LOADING){this.log.info("Authorizing",this);b=this.sa.pc().ea(r.ja);this.Zc("ats");this.vK.VJ(function(c){var f;if(a.state.value==ka.mb.LOADING){a.Zc("at");f=a.ta;a.Jw({pr_ats:f&&oa.jc(f.VA)?f.VA:b,pr_at:f&&oa.jc(f.iG)?f.iG:a.sa.pc().ea(r.ja)});c.$?0<a.bc.ij.length&&a.bc.y7&&a.bc.C7&&a.bc.B7?a.Vtb():a.$m(W.J.QRa,a.Iba(a.bc)):a.$m(W.J.MANIFEST,c);}});}};c.prototype.Vtb=function(){var a;a=this;this.sEa?(this.log.info("Processing post-authorize",this),this.sEa(this,function(b){b.$?a.gJa():a.$m(W.J.LQa,b);})):this.gJa();};c.prototype.gJa=function(){var c,d,k,g;c=this;if(this.state.value==ka.mb.LOADING){d={};this.dm=b.xl;B.config.Veb&&this.dm.iK();b.Vc.set(a(163)(B.config),!0,N.zg("ASE"));b.Vc.set({maxNumberTitlesScheduled:B.config.wEa?B.config.wEa.maxNumberTitlesScheduled:1},!0,this.de);B.config.C8a&&3E5>this.ta.duration?b.Vc.OF({expandDownloadTime:!1},!0,this.de):b.Vc.OF({expandDownloadTime:b.Vc.WDa().expandDownloadTime},!0,this.de);this.background||B.config.itb&&"postplay"===this.je?b.Vc.OF({initBitrateSelectorAlgorithm:"historical"},!0,this.de):b.Vc.OF({initBitrateSelectorAlgorithm:b.Vc.WDa().initBitrateSelectorAlgorithm},!0,this.de);g=this.eg&&this.eg.value&&this.eg.value.dc;g&&g.length&&(k=g[0].Af);b.Vc.OF(B.Fta(this.Va.ci,this.Va.OW,k),!0,this.de);d=this.Sc.Wm(d,B.Gta(this.je));this.Gzb=b.Vc.Vn(d);f.platform.events.emit("networkchange",this.bc.Fxb);this.dm.r_({BL:function(){return c.BL();},UL:function(){return c.UL();}});this.htb();}};c.prototype.X$a=function(){var a,b,c,f,d;a=this;try{this.zb=new p.GSa(this);this.zb.open();b=new Promise(function(b){a.zb.addEventListener(wa.xi.AHa,b);});this.Mi=new ia.KSa(this);c={mf:!1,$G:B.config.$G,v_:B.config.DU,tM:!1,Xh:!this.Ow,IA:!!this.Va.OW,ga:this.Va.ga};f={GA:this.log,Qk:this.Qk,sessionId:this.u+"-"+this.ia,ia:this.ia,CA:this.SD,Ug:O.Yh?O.Yh.Ug:void 0,pw:0===B.config.SK||0!==this.ia%B.config.SK?!1:!0};this.vva=f.pw;d=this.Nm(this.u).$a;this.qb=this.dm.Gm(this.ta,[this.bc.yua,this.bc.Eua],this.T,c,f,void 0,{sd:function(){return a.ac.value;},Z9:function(){return a.zb;}},this.Gzb,this.e7(this.u),d);this.M3a(this.qb);b.then(function(){a.state.value!==ka.mb.CLOSING&&a.state.value!==ka.mb.CLOSED&&a.qb.open();});this.ac.set(this.T);this.Ko=new t.xXa(this);if("boolean"===typeof this.Va.XY?this.Va.XY:B.config.XY)this.JO=new R.yXa(this);this.oO();Q.wma.forEach(function(b){b(a);});this.sqb();}catch(ba){this.$m(W.J.IQa,{ca:W.G.ih,kb:A.Ye(ba)});}};c.prototype.tqb=function(){V.Pa(this.state.value==ka.mb.aC);this.$e=this.sa.pc().ea(r.ja);this.state.set(ka.mb.LOADING);M._cad_global.prefetchEvents&&M._cad_global.prefetchEvents.Usb(this.u);};c.prototype.$m=function(a,b){this.done||(this.done=!0,b instanceof Ca.wc?this.Rd(this.ge(b.code,b)):this.Rd(this.ge(a,b)));};c.prototype.lK=function(a){var c,f;function b(){var b,f;b=k.ht.A9()+"";f=a.N5[b];f||(f=a.N5[b]=[]);f.push(c.sa.pc().ea(r.ja));c.log.trace("charging change event",{level:k.ht.Nxa(),charging:k.ht.A9()});}c=this;f=k.ht.VLa;k.ht.addEventListener(f,b);a.addEventListener(ka.S.kf,function(){k.ht.removeEventListener(f,b);});};c.prototype.Tfa=function(a){var b;b=this;if(this.state.value==ka.mb.aC||this.state.value==ka.mb.LOADING||this.state.value==ka.mb.od){this.de.info("Playback closing",this,a?{ErrorCode:a.qU}:void 0);this.Nn("Closing");K.Le.removeListener(K.Kl,this.kDa);this.Ii=a;this.pwa();this.qb&&this.qb.flush();try{this.Ob.Pb(ka.S.kf,{movieId:this.XD});}catch(Wa){this.de.error("Unable to fire playback closing event",Wa);}this.state.set(ka.mb.CLOSING);this.da.NT=this.Nz();this.eKa();this.Lyb||sa.Lb(function(){return b.xFa();});}};c.prototype.qwa=function(){var a;a=this.ac.value;this.Fmb!=a&&(this.Fmb=a,this.Ob.Pb(ka.S.sga));};c.prototype.xFa=function(){var a,b;a=this;V.Pa(this.state.value==ka.mb.CLOSING);b=this.gX;this.gX=void 0;b?m.HG.release(b,function(b){V.Pa(b.$);a.G6();}):this.G6();};c.prototype.eKa=function(){this.qb&&(this.qb.close(),this.qb.ic());this.dm&&this.Ii&&this.dm.iK();delete this.qb;delete this.dm;};c.prototype.G6=function(){var a;this.G6=h.Re;V.Pa(this.state.value==ka.mb.CLOSING);a=Q.vn.indexOf(this);V.Pa(0<=a);Q.vn.splice(a,1);this.state.set(ka.mb.CLOSED);this.Ob.Pb(ka.S.closed,void 0,!0);this.Ob.Uf();delete this.Bf;this.da.WX();};c.prototype.Pra=function(){this.Va.playbackState&&("number"===typeof this.Va.playbackState.volume&&this.volume.set(this.Va.playbackState.volume),"boolean"===typeof this.Va.playbackState.muted&&this.muted.set(this.Va.playbackState.muted));};c.prototype.pwa=function(){this.Ob.Pb(ka.S.pHa,{gP:this.gP});};c.prototype.Kxb=function(a,b){var c;c=this.ij.filter(function(b){return b.id===a;})[0];c&&this.Zb[b].set(c);};c.prototype.uF=function(){return{AudioBufferLength:this.PJ(),VideoBufferLength:this.eP()};};c.prototype.gT=function(){if(this.qb)return this.qb.AW(!1);};c.prototype.BL=function(){return this.Hpa;};c.prototype.UL=function(){this.Hpa++;};c.prototype.sqb=function(){this.state.value==ka.mb.LOADING&&this.state.set(ka.mb.od);};c.prototype.Sta=function(a){var b,c;a=void 0===a?this.u:a;b=void 0;c=this.Nm(a);a=this.Pz(a).filter(function(a){var f;f=c.HM.Gu(a);f&&(b=b||[],b.push({stream:a,iE:f}));return!f;});0===a.length&&this.log.error("FilteredVideoStreamList is empty. Media stream filters are not setup correctly.");for(var f=0;f<a.length;f++)a[f].lower=a[f-1],a[f].dkb=a[f+1];return{uc:a,Gbb:b};};c.prototype.e7=function(a){var b,c,f,d,k,g,p;a=void 0===a?this.u:a;b=this.Sta(a);c=b.uc;f=b.Gbb;d=[];this.Pz(a).forEach(function(a){-1==d.indexOf(a.Af)&&d.push(a.Af);});k=null;g=null;c.forEach(function(a){null===k?g=k=a.R:g<a.R?g=a.R:k>a.R&&(k=a.R);});p=[];d.forEach(function(a){var b;b={ranges:[],profile:a};k&&g&&(b.ranges.push({min:k,max:g}),f&&(b.disallowed=f.filter(function(b){return b.stream.Af===a;})),p.push(b));});return p;};ra.Object.defineProperties(c.prototype,{xu:{configurable:!0,enumerable:!0,get:function(){var a;a=this;return Object.keys(this.oN).map(function(b){return a.oN[b];});}},da:{configurable:!0,enumerable:!0,get:function(){return this.oN[this.XD];}},jAa:{configurable:!0,enumerable:!0,get:function(){return 1===this.xu.length;}},T:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.ez?this.ez:this.xu[0].Va.T||0;}},bc:{configurable:!0,enumerable:!0,get:function(){return this.da.bc;},set:function(a){this.da.bc=a;}},ZU:{configurable:!0,enumerable:!0,get:function(){return this.da.Va.ZU;}},$U:{configurable:!0,enumerable:!0,get:function(){return this.da.Va.$U;}},index:{configurable:!0,enumerable:!0,get:function(){return this.da.index;}},$a:{configurable:!0,enumerable:!0,get:function(){return this.da.$a;}},Bf:{configurable:!0,enumerable:!0,get:function(){return this.da.Bf;},set:function(a){this.da.Bf=a;}},jn:{configurable:!0,enumerable:!0,get:function(){return this.da.jn;},set:function(a){this.da.jn=a;}},dw:{configurable:!0,enumerable:!0,get:function(){return this.da.dw;},set:function(a){this.da.dw=a;}},cw:{configurable:!0,enumerable:!0,get:function(){return this.da.cw;},set:function(a){this.da.cw=a;}},wW:{configurable:!0,enumerable:!0,get:function(){return this.da.wW;},set:function(a){this.da.wW=a;}},ta:{configurable:!0,enumerable:!0,get:function(){return this.da.ta;},set:function(a){this.da.ta=a;}},ez:{configurable:!0,enumerable:!0,get:function(){return this.da.ez;},set:function(a){this.da.ez=a;}},AO:{configurable:!0,enumerable:!0,get:function(){return this.da.AO;},set:function(a){this.da.AO=a;}},Va:{configurable:!0,enumerable:!0,get:function(){return this.da.Va;},set:function(a){this.da.Va=a;}},du:{configurable:!0,enumerable:!0,get:function(){return this.da.du;},set:function(a){this.da.du=a;}},Vl:{configurable:!0,enumerable:!0,get:function(){return this.da.Vl;}},u:{configurable:!0,enumerable:!0,get:function(){return this.da.u;}},je:{configurable:!0,enumerable:!0,get:function(){return this.da.je;}},Qn:{configurable:!0,enumerable:!0,get:function(){return this.da.Qn;}},kn:{configurable:!0,enumerable:!0,get:function(){return this.da.kn;}},Ou:{configurable:!0,enumerable:!0,get:function(){return this.da.Ou;}},pk:{configurable:!0,enumerable:!0,get:function(){return this.da.pk;}},kg:{configurable:!0,enumerable:!0,get:function(){return this.da.kg;}},Ow:{configurable:!0,enumerable:!0,get:function(){return this.da.Ow;}},Sp:{configurable:!0,enumerable:!0,get:function(){return this.da.Sp;}},Lk:{configurable:!0,enumerable:!0,get:function(){return this.da.Lk;}},ij:{configurable:!0,enumerable:!0,get:function(){return this.da.ij;}},DY:{configurable:!0,enumerable:!0,get:function(){return this.da.DY;}},Rq:{configurable:!0,enumerable:!0,get:function(){return this.da.Rq;},set:function(a){this.da.Rq=a;}},ia:{configurable:!0,enumerable:!0,get:function(){return this.da.ia;}},Fh:{configurable:!0,enumerable:!0,get:function(){return this.da.Fh;}},Wl:{configurable:!0,enumerable:!0,get:function(){return this.da.Wl;}},ZE:{configurable:!0,enumerable:!0,get:function(){return this.da.ZE;},set:function(a){this.da.ZE=a;}},SD:{configurable:!0,enumerable:!0,get:function(){return this.da.SD;}},cB:{configurable:!0,enumerable:!0,get:function(){return this.da.cB;}},background:{configurable:!0,enumerable:!0,get:function(){return this.da.background;},set:function(a){this.da.background=a;}},l7:{configurable:!0,enumerable:!0,get:function(){return this.da.l7;}},Jc:{configurable:!0,enumerable:!0,get:function(){return this.da.Jc;}},Sn:{configurable:!0,enumerable:!0,get:function(){return this.da.Sn;}},Z7:{configurable:!0,enumerable:!0,get:function(){return this.da.Z7;}},HM:{configurable:!0,enumerable:!0,get:function(){return this.da.HM;}},Bg:{configurable:!0,enumerable:!0,get:function(){return{MovieId:this.u,TrackingId:this.Fh,Xid:this.ia};}}});d.jVa=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Kha="BandwidthMeterFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.An||(d.An={});g[g.rQ=0]="NOT_LOADED";g[g.LOADING=1]="LOADING";g[g.LOADED=2]="LOADED";g[g.OH=3]="LOAD_FAILED";g[g.Ala=4]="PARSE_FAILED";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mna="TrickPlayManagerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.i2="PlaybackMilestoneStoreSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lma="PboRequestFactorySymbol";},function(g,d,a){var p,t;function c(a){return!(!a||!a.DA&&!a.pboc||!a.code&&!a.code);}function f(a){return!(!a||!a.Rc);}function m(a){return!!(a instanceof Error);}function q(a){switch(a){case"ACCOUNT_ON_HOLD":return t.G.ETa;case"STREAM_QUOTA_EXCEEDED":return t.G.ITa;case"INSUFFICICENT_MATURITY":return t.G.KTa;case"TITLE_OUT_OF_WINDOW":return t.G.QTa;case"CHOICE_MAP_ERROR":return t.G.HTa;case"BadRequest":return t.G.MTa;case"Invalid_SemVer_Format":return t.G.LTa;case"RESTRICTED_TO_TESTERS":return t.G.PTa;case"AGE_VERIFICATION_REQUIRED":return t.G.FTa;case"BLACKLISTED_IP":return t.G.GTa;case"DEVICE_EOL_WARNING":return t.G.U1;case"DEVICE_EOL_FINAL":return t.G.Bla;case"INCORRECT_PIN":return t.G.Fla;case"MOBILE_ONLY":return t.G.OTa;case"MDX_CONTROLLER_CTICKET_INVALID":return t.G.NTa;case"VIEWABLE_RESTRICTED_BY_PROFILE":return t.G.RTa;case"RESET_DEVICE":return t.G.Ela;case"RELOAD_DEVICE":return t.G.Dla;case"EXIT_DEVICE":return t.G.Cla;default:return t.G.yja;}}function b(a,b){return new p.wc(a,q(b.code),"BadRequest"===b.code?t.n1.wLa:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert,b.alertTag);}function k(a,b){return new p.wc(a,b.Rc,b.Vg,void 0,b.sr,b.message,b.gE,b.data);}Object.defineProperty(d,"__esModule",{value:!0});p=a(46);t=a(2);d.Dlb=c;d.rQb=f;d.FW=m;d.rPb=q;d.eo=function(a,d){return f(d)?k(a,d):c(d)?b(a,d):m(d)?p.wc.gV(a,d):new p.wc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,d);};d.sPb=b;d.qPb=k;d.m6a=function(a,b,c,f){var d,k,g,p;d=b.MGa[c];if(void 0===d)throw{DA:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no configuration information",detail:b};k=d.version;if(void 0===k)throw{DA:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no version information",detail:b};g=b.dF&&d.serviceNonMember?d.serviceNonMember:d.service;if(void 0===g)throw{DA:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no service information",detail:b};p=d.orgOverride;if(void 0===p&&(p=b.zDa,void 0===p))throw{DA:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no organization information",detail:b};return d.zQb?a.aib(f)+"/"+p+"/"+g+"/"+k:a.Thb(f)+"/"+p+"/"+g+"/"+k+"/router";};d.l6a=function(a,b){var c;c={"Content-Type":"text/plain"};b=b();a.ora&&b&&(c["X-Esn"]=b.Ug);return c;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Kna="TransportFactorySymbol";d.jla="MslTransportSymbol";d.nna="SslTransportSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$la="PboDispatcherSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bla="MediaRequestConstructorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yla="OpenConnectSideChannelSymbol";d.cla="MediaRequestDownloaderSymbol";},function(g,d,a){var D,B,I;function c(a,b,c){this.type=a;this.size=b;this.iw=c;}function f(a){var b,f,d,k,g;a:{b=a.position;if(8<=a.$j()){f=a.Na();d=a.Cr(4);if(!B.test(d))throw a.seek(b),Error("mp4-badtype");if(1==f){if(8>a.$j()){a.seek(b);b=void 0;break a;}f=a.ng();}if(!(8<=f))throw a.seek(b),Error("mp4-badsize");if("uuid"==d){if(16>a.$j()){a.seek(b);b=void 0;break a;}d=a.qx();}b={type:d,offset:b,size:f,iw:b+f-a.position};}else b=void 0;}if(b&&b.iw<=a.$j()){k=b.type;f=b.size;g=b.iw;d=new c(k,f,g);k=I[k];if(a.$j()<g)throw Error("mp4-shortcontent");k?(g=new D(a.Hd(g)),k(d,g)):a.skip(g);a.seek(b.offset);d.raw=a.Hd(f);return d;}}function m(a,b){for(var c=[],d={},k,g;0<b.$j();){k=f(b);if(!k)throw Error("mp4-badchildren");g=k.type;c.push(k);d[g]||(d[g]=k);}a.children=c;a.T8=d;}function q(a,b){a.version=b.tc(1);a.Ze=b.tc(3);}function b(a,b){b.skip(6);a.aab=b.Jb();b.skip(8);a.channelCount=b.Jb();a.$A=b.Jb();b.skip(4);a.sampleRate=b.Jb();b.skip(2);m(a,b);}function k(a,b){var c;b.skip(6);a.aab=b.Jb();b.skip(16);a.width=b.Jb();a.height=b.Jb();a.ZPb=b.Na();a.NTb=b.Na();b.skip(4);a.jfb=b.Jb();c=b.ue();a.X7a=b.Cr(c);b.skip(31-c);a.depth=b.Jb();b.skip(2);m(a,b);}function p(a,b){q(a,b);a.wOb=b.tc(3);a.xOb=b.ue();a.Rw=b.Hd(16);}function t(a,b){for(var c=[],f;b--;)f=a.Jb(),c.push(a.Hd(f));return c;}function u(a){var b;b=a.Hd(2);a={SSb:b[1]>>1&7,RSb:!!(b[1]&1),KSb:a.Jb()};h(a,(b[0]<<8|b[1])>>4);return a;}function h(a,b){a.LSb=b>>4&3;a.QSb=b>>2&3;a.OSb=b&3;return a;}D=a(630);B=/^[a-zA-Z0-9-]{4,4}$/;c.prototype.Aw=function(a){var b,c,f,d,k;b=this;a=a.split("/");for(d=0;d<a.length&&b;d++){f=a[d].split("|");c=void 0;for(k=0;k<f.length&&!c;k++)c=f[k],c=b.T8&&b.T8[c];b=c;}return b;};c.prototype.toString=function(){return"["+this.type+"]";};I={ftyp:function(a,b){a.YQb=b.Cr(4);a.vRb=b.Na();for(a.P7a=[];4<=b.$j();)a.P7a.push(b.Cr(4));},moov:m,sidx:function(a,b){q(a,b);a.zSb=b.Na();a.vga=b.Na();a.c8=1<=a.version?b.ng():b.Na();a.V8=1<=a.version?b.ng():b.Na();b.skip(2);for(var c=b.Jb(),f=[],d,k;c--;){d=b.Na();k=d>>31;if(0!==k)throw Error("mp4-badsdix");d&=2147483647;k=b.Na();b.skip(4);f.push({size:d,duration:k});}a.ASb=f;},moof:m,mvhd:function(a,b){var c;q(a,b);c=1<=a.version?8:4;a.oh=b.tc(c);a.modificationTime=b.tc(c);a.vga=b.Na();a.duration=b.tc(c);a.wSb=b.DN();a.volume=b.PY();b.skip(70);a.HRb=b.Na();},pssh:function(a,b){var c;q(a,b);a.fcb=b.qx();c=b.Na();a.data=b.Hd(c);},trak:m,mdia:m,minf:m,stbl:m,stsd:function(a,b){q(a,b);b.Na();m(a,b);},encv:k,avc1:k,hvcC:k,hev1:k,mp4a:b,enca:b,"ec-3":b,avcC:function(a,b){a.version=b.ue();a.YMb=b.ue();a.tSb=b.ue();a.XMb=b.ue();a.LQb=(b.ue()&3)+1;a.aTb=t(b,b.ue()&31);a.gSb=t(b,b.ue());},pasp:function(a,b){a.VPb=b.Na();a.LTb=b.Na();},sinf:m,frma:function(a,b){a.eOb=b.Cr(4);},schm:function(a,b){q(a,b);a.Gwb=b.Cr(4);a.VSb=b.Na();a.Ze&1&&(a.USb=b.bea());},schi:m,tenc:p,mvex:m,trex:function(a,b){q(a,b);a.cb=b.Na();a.Uab=b.Na();a.cE=b.Na();a.Cua=b.Na();a.Bua=u(b);},traf:m,tfhd:function(a,b){var c;q(a,b);a.cb=b.Na();c=a.Ze;c&1&&(a.cNb=b.ng());c&2&&(a.NSb=b.Na());c&8&&(a.cE=b.Na());c&16&&(a.Cua=b.Na());c&32&&(a.Bua=u(b));},saio:function(a,b){q(a,b);a.Ze&1&&(a.u5a=b.Na(),a.v5a=b.Na());for(var c=1<=a.version?8:4,f=b.Na(),d=[];f--;)d.push(b.tc(c));a.jGa=d;},mdat:function(a,b){a.data=b.Hd(b.$j());},tkhd:function(a,b){var c;q(a,b);c=1<=a.version?8:4;a.oh=b.tc(c);a.modificationTime=b.tc(c);a.cb=b.Na();b.skip(4);a.duration=b.tc(c);b.skip(8);a.Jmb=b.Jb();a.g4a=b.Jb();a.volume=b.PY();b.skip(2);b.skip(36);a.width=b.DN();a.height=b.DN();},mdhd:function(a,b){var c;q(a,b);c=1<=a.version?8:4;a.oh=b.tc(c);a.modificationTime=b.tc(c);a.vga=b.Na();a.duration=b.tc(c);c=b.Jb();a.language=String.fromCharCode((c>>10&31)+96)+String.fromCharCode((c>>5&31)+96)+String.fromCharCode((c&31)+96);b.skip(2);},mfhd:function(a,b){q(a,b);a.$Sb=b.Na();},tfdt:function(a,b){q(a,b);a.YJ=b.tc(1<=a.version?8:4);8==b.$j()&&b.skip(8);},saiz:function(a,b){q(a,b);a.Ze&1&&(a.u5a=b.Na(),a.v5a=b.Na());for(var c=b.ue(),f=b.Na(),d=[];f--;)d.push(c||b.ue());a.PSb=d;},trun:function(a,b){var c,f;q(a,b);c=b.Na();f=a.Ze;f&1&&(a.gOb=b.Na());f&4&&(a.lPb=u(b));for(var d=[],k;c--;)k={},f&256&&(k.duration=b.Na()),f&512&&(k.size=b.Na()),f&1024&&(k.Ze=b.Na()),f&2048&&(k.PNb=b.Na()),d.push(k);a.Bo=d;},sdtp:function(a,b){q(a,b);for(var c=[];0<b.$j();)c.push(h({},b.ue()));a.Bo=c;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){q(a,b);a.fileSize=b.ng();a.vga=b.ng();a.duration=b.ng();a.gDa=b.ng();a.eTb=b.ng();1<=a.version&&(a.CRb=b.ng(),a.DRb=b.Na(),a.hDa=b.ng(),a.twa=b.Na(),a.dwa=b.qx());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){q(a,b);a.Ze&1&&(a.NMb=b.tc(3),a.EQb=b.ue(),a.smb=b.qx());a.JSb=b.Na();a.t5a=b.Hd(b.$j());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){q(a,b);a.ZX=b.Na();a.PK=b.Jb();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":p,"636F6D2E-6E65-7466-6C69-782E6974726B":m,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){q(a,b);a.iT=b.qx();a.oh=b.ng();a.u=b.ng();a.so=b.ng();a.gZ=b.Jb();a.hZ=b.Jb();a.umb=b.Hd(16);a.Vzb=b.Hd(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){q(a,b);a.qNb=b.Hd(b.$j());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var c;q(a,b);a.axb=b.ng();c=b.Na();a.ab=[];for(var f=0;f<c;f++)a.ab.push({duration:b.Na(),size:b.Jb()});},"636F6D2E-6E65-7466-6C69-782E69736567":m,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var c;q(a,b);a.iT=b.qx();a.duration=b.Na();c=b.Na();a.Bo=[];for(var f=0;f<c;f++)a.Bo.push({kj:b.Na(),duration:b.Na(),iY:b.Jb(),jY:b.Jb(),JZ:b.Jb(),KZ:b.Jb(),er:b.ng(),WE:b.Na()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var c,f,k,g;q(a,b);c=b.Na();f=b.ue();a.Bo=[];for(var d=0;d<c;d++){k=b.ue();g=k>>6;k=k&63;0!=g&&0===k&&(k=f);a.Bo.push({Gva:g,Qw:b.Hd(k)});}}};g.P={xSb:function(a,b){a=new D(a);b&&a.seek(b);return f(a);},$da:function(a,b){var c;if(!a)throw Error("mp4-badinput");a=new D(a);c=[];for(b&&a.seek(b);b=f(a);)c.push(b);return c;}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dia="ChunkMediaSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ala="MediaHttpSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ema="PrefetchEventsConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.coa="WindowUtilsSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pla="NfCryptoSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Aka="LogDisplayConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Via="DxManagerSymbol";d.Uia="DxManagerProviderSymbol";},function(g,d,a){var f,m,q,b,k;function c(a,c,f){this.vc=a;this.is=c;this.prefix=f;this.uN=this.Sm=!1;this.Esa=new b.HXa(c);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(22);q=a(23);b=a(653);k=a(9);d.mMa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";d.nMa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";d.oMa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";d.oH="";c.prototype.show=function(){this.Sm||(this.j8a(),this.RD&&k.ke.body.appendChild(this.RD),this.wf&&k.ke.body.appendChild(this.wf),this.$J&&k.ke.body.appendChild(this.$J),this.kB&&k.ke.getElementsByTagName("head")[0].appendChild(this.kB),this.Sm=!0,this.refresh());};c.prototype.Vt=function(){this.Sm&&(this.wf&&k.ke.body.removeChild(this.wf),this.$J&&k.ke.body.removeChild(this.$J),this.RD&&k.ke.body.removeChild(this.RD),this.kB&&k.ke.getElementsByTagName("head")[0].removeChild(this.kB),this.kB=this.CO=this.RD=this.$J=this.wf=void 0,this.Sm=!1);};c.prototype.toggle=function(){this.Sm?this.Vt():this.show();};c.prototype.SAb=function(){(this.uN=!this.uN)||this.refresh();};c.prototype.$fb=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("div."+a+"-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("select."+a+"-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};c.prototype.j8a=function(){var a;a=this;this.kB=k.ke.createElement("style");this.kB.type="text/css";this.kB.innerHTML=this.$fb(this.prefix);this.$J=this.vc.createElement("div",d.mMa,void 0,{"class":this.prefix+"-display-blur"});this.wf=this.vc.createElement("div",d.nMa,void 0,{"class":this.prefix+"-display"});this.RD=this.vc.createElement("div",d.oMa,void 0,{"class":this.prefix+"-display"});this.oxa().forEach(function(b){return a.RD.appendChild(b);});};c.prototype.m8a=function(a){a=this.vc.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),c=0;c<b.length;c++)b[c].addEventListener("click",function(a){var b,c;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{c=a.querySelectorAll(":scope .open");for(a=0;a<c.length;a++)c[a].classList.remove("open");}catch(I){}}else b.add("open");}});return a;};c.prototype.refresh=function(){var a;a=this;return!this.Sm||this.uN?Promise.resolve():this.uFa().then(function(b){if(b&&(b=a.m8a(b),a.wf)){a.CO&&(a.wf.removeChild(a.CO),a.CO=void 0);a.CO=b;a.wf.appendChild(a.CO);b=a.wf.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var c=0;c<b.length;++c)b[c].addEventListener("click",a.eGa);(b=a.wf.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}});};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(m.ef)),g.__param(1,f.l(q.Qe)),g.__param(2,f.Gh())],a);d.MQ=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Tia="DxDisplaySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.b2={fM:"keepAlive",splice:"splice"};d.bma="PboEventSenderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zma="PlaydataConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zla="PboCachedPlaydataSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dma="PboLicenseResponseTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cma="PboLicenseRequestTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kma="PboReleaseLicenseCommandSymbol";},function(g,d,a){var b,k,p,t,u,h;function c(a){var b;a=new p.rH(a);if(1481462272!=a.Na())throw Error("Invalid header");b={XMR:{Version:a.Na(),RightsID:a.uf(16)}};f(a,b.XMR,a.buffer.length);return b;}function f(a,b,c){var d,k,g,p,t;for(;a.position<c;){d=a.Jb();k=a.Na();k=k-8;switch(d){case 1:g="OuterContainer";break;case 2:g="GlobalPolicy";break;case 3:g="MinimumEnvironment";break;case 4:g="PlaybackPolicy";break;case 5:g="OutputProtection";break;case 6:g="UplinkKID";break;case 7:g="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:g="AnalogVideoOutputConfiguration";break;case 9:g="KeyMaterial";break;case 10:g="ContentKey";break;case 11:g="Signature";break;case 12:g="DeviceIdentification";break;case 13:g="Settings";break;case 18:g="ExpirationRestriction";break;case 42:g="ECCKey";break;case 48:g="ExpirationAfterFirstPlayRestriction";break;case 50:g="PlayReadyRevocationInformationVersion";break;case 51:g="EmbeddedLicenseSettings";break;case 52:g="SecurityLevel";break;case 54:g="PlayEnabler";break;case 57:g="PlayEnablerType";break;case 85:g="RealTimeExpirationRestriction";break;default:g="Other";}p={Type:m(d)};t=b[g];t?h.isArray(t)?t.push(p):(b[g]=[],b[g].push(t),b[g].push(p)):b[g]=p;switch(d){case 1:case 2:case 4:case 7:case 9:case 54:f(a,p,a.position+k);break;case 5:p.Reserved1=a.Jb();p.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Jb();p.MinimumAnalogVideoOutputProtectionLevel=a.Jb();p.Reserved2=a.Jb();p.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Jb();break;case 10:p.Reserved=a.uf(16);p.SymmetricCipherType=a.Jb();p.AsymmetricCipherType=a.Jb();k=a.Jb();p.EncryptedKeyLength=k;d=a.uf(k);p.EncryptedKeyData=10>=k?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 11:p.SignatureType=a.uf(2);k=a.Jb();d=a.uf(k);p.SignatureData=10>=k?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 13:p.Reserved=a.Jb();break;case 18:p.BeginDate=a.Na();p.EndDate=a.Na();break;case 42:p.CurveType=a.uf(2);k=a.Jb();d=a.uf(k);p.Key=10>=k?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 48:p.ExpireAfterFirstPlay=a.Na();break;case 50:p.Sequence=a.Na();break;case 51:p.LicenseProcessingIndicator=a.Jb();break;case 52:p.MinimumSecurityLevel=a.Jb();break;case 57:p.PlayEnablerType=q(a.uf(16));break;case 85:break;default:p.OtherData=a.uf(k);}}}function m(a){return"0x"+a.toString(16);}function q(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(d,"__esModule",{value:!0});b=a(11);k=a(5);p=a(158);t=a(127);u=a(205);h=a(15);d.rOb=function(a,f,d){switch(f){case b.v0:a&&(a=k.K5a(a),u.XJa(a,function(a){a.$&&(a=a.object)&&(a=t.wgb(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=t.$rb(a))&&(a=k.Am(a))&&(a=c(a))&&d(a);}));}};d.sOb=c;d.tOb=f;d.vOb=m;d.uOb=q;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Xla="PboAcquireLicenseCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hja="HttpRequesterSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uja="FtlDataParserSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ola="NetworkMonitorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.doa="XhrFactorySymbol";},function(g,d,a){var f,m,q,b,k,p,t,u,h;function c(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(161);m=a(74);q=a(19);b=a(2);k=a(18);p=a(9);t=a(15);u=a(1);a=a(17);c.prototype.construct=function(a,b){var c,f,d;c=this;f={};a.forEach(function(a){var b;b=a.url;f[b]||(f[b]=[]);f[b].push(a);});d=[];q.dd(f,function(a,f){d.push(c.hjb(f,b));});return{urls:d};};c.prototype.hjb=function(a,b){var c,f,d,k;c=this;f=a[0];d={url:f.url,bitrate:f.R,cdnid:t.qf(f.Zb)?f.Zb.id:f.Zb,dltype:f.Obb,id:f.bd};k={};a.forEach(function(a){var b;b=c.qlb(a)?"fail":"success";k[b]||(k[b]=[]);k[b].push(a);});q.dd(k,function(a,f){"fail"===a?d.failures=c.Sgb(f,b):"success"===a&&(d.downloads=c.Hgb(f,b));});return d;};c.prototype.Hgb=function(a,b){var c,f,d;c=this;f={};a.forEach(function(a){var b;b=a.D7a;f[b]||(f[b]=[]);f[b].push(a);});d=[];q.dd(f,function(a,f){var k;k=[];f.forEach(function(f){k.push(f);c.jlb(f)&&(d.push(c.uxa(k,b,a)),k=[]);});0<k.length&&d.push(c.uxa(k,b,a));});return d;};c.prototype.uxa=function(a,b,c){var m;for(var f=a.sort(function(a,b){return a.dk.Fg<b.dk.Fg?-1:a.dk.Fg>b.dk.Fg?1:0;}),d=f[0].dk,k=d.requestTime,g=d.Fg,d=d.am,p=1;p<a.length;p++){m=a[p].dk;m.requestTime<k&&(k=m.requestTime);m.Fg<g&&(g=m.Fg);m.am>d&&(d=m.am);}p=this.mib(f);m=f[f.length-1];return{time:k-b,tcpid:c?parseInt(c):-1,tresp:g-k,first:p,ranges:this.nib(f,p),dur:d-g,trace:this.Xib(a),status:this.IV(m)};};c.prototype.mib=function(a){var b;b=0;a.forEach(function(a){a.Br&&(b=p.Wo(b,a.Br[0]));});return b;};c.prototype.nib=function(a,b){var c;c=[];a.forEach(function(a){a.Br?c.push([a.Br[0]-b,a.Br[1]-b]):c.push([0,-1]);});return c;};c.prototype.Xib=function(a){var b,c;b=[];a.forEach(function(a){var f;a=a.dk;if(c){f=a.requestTime-c.am;0<f&&b.push([f,-2]);f=p.sn(c.am,a.requestTime);f=a.Fg-f;0<f&&b.push([f,-3]);}b.push([a.am-a.Fg,a.iw||0]);c=a;});return b;};c.prototype.jlb=function(a){if(a.ca===b.G.Zu||a.ca===b.G.by)return!0;};c.prototype.IV=function(a){if(a.$)return"complete";if(a.ca===b.G.Zu)return"abort";if(a.ca===b.G.by)return"stall";k.Pa(!1,"download status should never be: other");return"other";};c.prototype.Sgb=function(a,b){var c,d;c=this;d=[];a.forEach(function(a){var k;k=a.dk;a={time:k.Fg-b,tresp:k.Fg-k.requestTime,dur:k.am-k.Fg,range:a.Br,reason:c.oib(a),httpcode:a.Hi,nwerr:f.bya(a.ca)};d.push(a);});return d;};c.prototype.oib=function(a){return a.Hi||a.ca===b.G.HH?"http":a.ca===b.G.JH?"timeout":"network";};c.prototype.qlb=function(a){return a.$||void 0===a.$||a.ca===b.G.Zu||a.ca===b.G.by?!1:!0;};c.prototype.y8a=function(a){var b,c,f,d,k,g;b=a.request;c=b.stream;f=b.track;d=b.url;k=this.Egb(f,d);switch(k){case m.Ig.audio:case m.Ig.video:g=b.stream.bd;break;case m.Ig.f_:case m.Ig.Lga:g=f.bd;}a={R:c&&c.R,Obb:k,bd:g,dk:a.dk,Zb:b.Zb,url:d,Vd:a.Vd,Hi:a.Hi,ca:a.ca,$:a.$,D7a:this.deb(a)};void 0!==b.offset&&void 0!=b.length&&(a.Br=[b.offset,b.offset+b.length-1]);return a;};c.prototype.Egb=function(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";};c.prototype.deb=function(a){if(a.headers&&(a=a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]))return(a=a.split(";").filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0])?q.fe(a):a;};h=c;h=g.__decorate([u.N(),g.__param(0,u.l(a.xd))],h);d.oOa=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nia="DownloadReportBuilderSymbol";},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(47);d.t0=function(a,d){this.Vbb=a;this.size=d.$za()?c.De:d;};},function(g,d,a){var f,m,q,b,k,p,t,u,h,D,B,I,C,K,Q,l,n,R,S,N,r,W,fa,V;function c(a,b,c,f,d,g,t,y,D,T,ca,N,r,U,z,G,P,Wa,X){var A;A=this;this.j=a;this.Gr=b;this.oIa=f;this.ET=d;this.gi=g;this.cca=t;this.E8=y;this.vj=D;this.Sc=T;this.vU=ca;this.Ef=N;this.config=r;this.Cc=U;this.Ka=z;this.sa=G;this.platform=P;this.rM=Wa;this.jk=X;this.IO=[];this.hpb=this.BW=this.HFa=0;this.lE=[];this.f5=!1;this.bu=function(a,b){return function(c){var f;f=b(c);if("number"!==typeof f)throw Error("Event "+JSON.stringify(c)+" does not have movie Id");f===A.u&&a(c);};};this.no=this.bu(function(a){A.EHa(a.Yz);},function(a){return a.u;});this.qF=this.bu(function(){A.H7a();},function(a){return a.u;});this.PG=function(){A.Ac(W.Ee.HAb,!1,V.Jh|V.Gg,{track:A.j.Bc.value.Bg});};this.wIa=function(a){a.newValue&&A.Xl&&(a={track:a.newValue.Bg},A.Sz(a,A.j.bf.value&&A.j.bf.value.stream,A.j.bg.value&&A.j.bg.value.stream),A.Ac(W.Ee.IAb,!1,V.Jh|V.Gg,a));};this.Sn=function(a){A.Ac(W.Ee.R5a,!1,V.Jh|V.Gg,a.newValue);};this.Xua=function(){var a,b,c;if(A.j.ij)try{a=!1;A.ia%A.config().SK&&!A.j.ZK&&(a=!0,A.lE=A.lE.filter(function(a){return!a.$;}));if(0<A.lE.length){b=A.vU.construct(A.lE,A.j.Wl.ea(h.ja));A.lE=[];b.erroronly=a;c={};u.dd(b,function(a,b){c[a]=JSON.stringify(b);});A.Ac(W.Ee.Mbb,!1,V.Gg,c);}}catch(sd){A.log.error("Exception in dlreport.",sd);}};this.yX=function(){var a,b;if(A.j.state.value==S.mb.od){a=A.jEa();A.config().qea&&(a.avtp=A.qB.Jl().pB,A.j.dm&&A.oW(a));a.midplayseq=A.hpb++;b=A.j.Ib.value;a.prstate=b===S.hb.Ec?"playing":b===S.hb.jh?"paused":b===S.hb.mq?"ended":"waiting";A.config().qxb&&A.UHa("midplay");A.config().xo&&A.Cc()&&A.paa(a);A.naa(a);A.oaa(a);A.Ac(W.Ee.yX,!1,V.Jh|V.Gg|V.Su|V.HQ,a);}};this.$na=/-?l(\d\d)/i;this.fva=this.bu(function(a){A.lE.push(A.vU.y8a(a.response));},function(a){return a.u;});this.uU=this.bu(function(a){var b,c,f,d,g,p;a=a.response;b=a.request;c=a.request.Jp;f=b.track;if(f){d=!a.$&&a.ca!=B.G.Zu;g=f.type;p=a.dk;if(d||A.Gr.pba){c={dltype:g,url1:b.url,url2:a.url||"",cdnid:b.Zb&&b.Zb.id,tresp:u.Lm(p.Fg-p.requestTime),brecv:u.gfb(p.iw),trecv:u.Lm(p.am-p.Fg),sbr:c&&c.R};a.Br&&(c.range=a.Br);switch(g){case k.Ig.audio:c.adlid=b.stream.bd;break;case k.Ig.video:c.vdlid=b.stream.bd;break;case k.Ig.f_:c.ttdlid=f.bd;}(b=fa.bya(a.ca))&&(c.nwerr=b);a.Hi&&(c.httperr=a.Hi);A.Ac(W.Ee.uU,d,V.Gg,c);}}},function(a){return a.u;});this.Uj=function(){A.Ac(W.Ee.S5a,!1,V.Jh|V.Su,{browserua:n.wk});};this.tta=this.bu(function(a){var b,c,f;a=a.response;b=a.dk;c=h.Eb(b.Fg);f=h.Eb(b.am);b=C.ba(b.iw||0);b.qAa()||b.$za()||(c=new K.Sma(c,f),A.qB.US(new Q.t0(c,b)),a&&a.request&&a.request.Jp&&a.request.Jp.Fb&&A.ET.US(new l.wMa(c,b,a.request.Jp.Fb)));},function(a){return a.u;});this.QDa=function(a){var b;b=a.newValue;a.kw&&a.kw.Ica&&b||b==A.Vaa||(A.mzb(A.Vaa,b),A.Vaa=b);};this.jt=function(a){function b(a){var b;if(A.j.zb&&A.j.zb.sourceBuffers){b=A.j.zb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.Yj(),updating:b.updating(),ranges:b.pV()};}}A.nG="rebuffer";a={cause:a.cause};a.cause&&a.cause===q.qma&&(a.mediaTime=A.j.ac.value,a.buf_audio=b(m.B1),a.buf_video=b(m.RH));A.xaa(A.IO[S.hb.Ec]||0,A.IO[S.hb.jh]||0,a);A.gH=A.getTime();R.Lb(A.FT);};this.FIa=function(a){var b;a=a.oldValue;b=A.getTime();a===S.hb.Pf?A.IO=[]:A.IO[a]=(A.IO[a]||0)+(b-A.Cmb);A.Cmb=b;};this.yo=function(a){switch(a.cause){case S.gg.mv:case S.gg.LQ:A.nG&&A.gH?A.Rsb(A.getTime()-A.gH,A.nG):A.Xl||A.hEa(),A.nG="repos",A.rea(a.$X,a.bg,a.bf),A.gH=A.getTime(),R.Lb(A.FT);}};this.FT=function(){var a;if(A.gH&&A.j.Ib.value!==S.hb.Pf){a=A.getTime()-A.gH;A.Eea(a,A.Ti);A.Raa&&A.Raa!=A.j.Wc.value&&A.f5a();A.gH=void 0;A.nG=void 0;A.Ti=void 0;}};this.k6=this.bu(function(){A.j.Ib.value===S.hb.Ec&&(A.j.Ib.removeListener(A.k6),A.Zm());},function(){return A.j.u;});this.SJ=function(a){A.wmb=A.getTime();A.Raa=a.oldValue;};this.Zm=function(){A.Xl||(A.Xl=!0,A.SZ(!1),A.Skb(),A.config().Eza&&(A.vW=M.setTimeout(function(){A.gi.flush(!1)["catch"](function(){return A.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});A.vW=void 0;},A.config().Eza)));};this.kf=function(){A.vW&&(M.clearTimeout(A.vW),A.vW=void 0);if(A.config().SK||A.config().NJ)A.T7&&(M.clearInterval(A.T7),A.T7=void 0),A.Xua();A.bJa&&A.bJa();A.Xl?A.q8(!!A.j.Ii):A.j.Ii?A.SZ(!0):A.Gr.background||A.hEa();A.Qwb||(A.Ac=m.Re);};this.nta=this.bu(function(){A.kf();},function(a){return a.movieId;});this.HJa=function(a){a.oldValue&&a.kw&&a.kw.eta&&A.n6(a.oldValue,a.newValue,a.kw.eta,a.kw.B5a);};this.DEa=function(a){var b;if(a.newValue){b=a.newValue.stream;A.Waa!=b&&(A.Waa&&A.Hvb(A.Waa,b,a.newValue.Un.startTime),A.Waa=b);}};this.hr=this.bu(function(a){function b(a,b){var c;if(!a||a.lba!==b.location){c={lba:b.location,ZAa:b.locationlv,Bxb:b.serverid,bB:b.servername};A.Z6a(a,b);return c;}}if("audio"===a.mediaType){if(a=b(A.vmb,a))A.vmb=a;}else if(a=b(A.gM,a))A.gM=a;},function(a){return A.j.Qt(a.segmentId).u;});this.vG=this.bu(function(a){var b,c;b=a.mediatype;c=a.reason;"video"===b?"serverswitchaway"===c?(A.Dh.summary.MJa++,A.Dh.YW=A.Ka.lf.ea(h.ja)):"serverswitchback"===c&&(A.Dh.summary.NJa++,A.Dh.YW&&(A.Dh.summary.OJa.push(A.Ka.lf.ea(h.ja)-A.Dh.YW),A.Dh.YW=void 0)):"audio"===b&&("serverswitchaway"===c?(A.Dh.summary.Rra++,A.Dh.TW=A.Ka.lf.ea(h.ja)):"serverswitchback"===c&&(A.Dh.summary.Sra++,A.Dh.TW&&(A.Dh.summary.Tra.push(A.Ka.lf.ea(h.ja)-A.Dh.TW),A.Dh.TW=void 0)));A.Ac(W.Ee.Dxb,!1,V.Jh|V.Gg,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});},function(a){return A.j.Qt(a.segmentId).u;});this.yD=function(a){A.Ac(W.Ee.D4a,!1,V.Gg,{strmsel:a.strmsel});};this.xD=function(a){A.Ac(W.Ee.C4a,!1,V.Gg,{msg:a.msg});};this.JG=function(a){a=I.iO(a);a.details&&(a.details=JSON.stringify(a.details));A.Ac(W.Ee.Wzb,!0,V.Jh|V.eC|V.EP,a);};this.f5=X.ZO||X.w_;this.qB=f();this.log=p.Wg(a,"LogblobBuilder");this.Vaa=a.paused.value;this.u=b.u;this.ia=this.Gr.ia;this.Dh={summary:{MJa:0,NJa:0,OJa:[],Rra:0,Sra:0,Tra:[]},YW:void 0,TW:void 0};this.Ub();c&&this.EHa();}Object.defineProperty(d,"__esModule",{value:!0});f=a(50);m=a(11);q=a(57);b=a(38);k=a(74);p=a(5);t=a(18);u=a(19);h=a(4);D=a(62);B=a(2);I=a(20);C=a(47);K=a(351);Q=a(338);l=a(680);n=a(9);R=a(51);S=a(14);N=a(15);r=a(679);W=a(344);fa=a(161);c.prototype.Ub=function(){this.j.addEventListener(S.S.no,this.no);this.j.addEventListener(S.S.qF,this.qF);this.j.addEventListener(S.S.hr,this.hr);this.j.addEventListener(S.S.vG,this.vG);this.j.addEventListener(S.S.kf,this.nta);this.j.addEventListener(S.S.qw,this.uU,m.S1);if(this.config().SK||this.config().NJ)this.j.addEventListener(S.S.qw,this.fva),this.T7=M.setInterval(this.Xua,this.config().Ubb);this.config().qea&&this.j.addEventListener(S.S.qw,this.tta);};c.prototype.EHa=function(a){var b;b=this;this.oCa||(this.j.Ib.value!==S.hb.Ec||(void 0===a?0:a)?this.j.Ib.addListener(this.k6):this.Zm(),this.j.gj.addListener(this.wIa),this.j.Wc.addListener(this.SJ),this.j.paused.addListener(this.QDa),this.j.bf.addListener(this.DEa),this.j.Ib.addListener(this.FT),this.j.Ib.addListener(this.FIa),this.j.Ce.addListener(this.HJa),this.j.addEventListener(S.S.Uj,this.Uj),this.j.addEventListener(S.S.xD,this.xD),this.j.addEventListener(S.S.yD,this.yD),this.j.addEventListener(S.S.JG,this.JG),this.j.addEventListener(S.S.jt,this.jt),this.j.addEventListener(S.S.yo,this.yo),this.j.addEventListener(S.S.PG,this.PG),this.j.addEventListener(S.S.Ti,function(){b.Ti=!0;}),this.Gr.Sn&&this.Gr.Sn.addListener(this.Sn),this.config().li&&(this.Qwb=!0),this.oCa=!0);};c.prototype.H7a=function(){this.kf();this.oCa&&(this.j.removeEventListener(S.S.no,this.no),this.j.removeEventListener(S.S.qF,this.qF),this.j.removeEventListener(S.S.hr,this.hr),this.j.removeEventListener(S.S.vG,this.vG),this.j.gj.removeListener(this.wIa),this.j.Wc.removeListener(this.SJ),this.j.paused.removeListener(this.QDa),this.j.bf.removeListener(this.DEa),this.j.Ib.removeListener(this.FT),this.j.Ib.removeListener(this.k6),this.j.Ib.removeListener(this.FIa),this.j.Ce.removeListener(this.HJa),this.j.removeEventListener(S.S.qw,this.uU),this.j.removeEventListener(S.S.kf,this.nta),this.j.removeEventListener(S.S.Uj,this.Uj),this.j.removeEventListener(S.S.xD,this.xD),this.j.removeEventListener(S.S.yD,this.yD),this.j.removeEventListener(S.S.JG,this.JG),this.j.removeEventListener(S.S.jt,this.jt),this.j.removeEventListener(S.S.yo,this.yo),this.j.removeEventListener(S.S.PG,this.PG),this.Gr.Sn&&this.Gr.Sn.removeListener(this.Sn),this.j.removeEventListener(S.S.qw,this.fva),this.j.removeEventListener(S.S.qw,this.tta));};c.prototype.SZ=function(a){var c,f,m,t,q,y,B,C,I,K,Q,l,T,ca,R,ma,U,fa,z,G,P,X,Z;c={};try{c={browserua:n.wk,browserhref:location.href,playdelaysdk:u.Lm(this.j.Lsa()),applicationPlaydelay:u.Lm(this.j.A6a()),playdelay:u.Lm(this.j.F6a()),trackid:this.j.Fh,bookmark:u.Lm(this.j.ez||0),pbnum:this.j.index,endianness:b.Ngb()};this.config().Vcb&&(c.transitiontime=this.j.jn,c.uiplaystarttime=this.j.Va.n_,c.playbackrequestedat=this.j.Wl.ea(h.ja),c.clockgettime=this.getTime(),c.clockgetpreciseepoch=this.Ka.lf.ea(h.ja),c.clockgetpreciseappepoch=this.sa.gA.ea(h.ja),c.absolutestarttime=this.j.lV(),c.relativetime=this.j.h$());this.kV(c,"startplay");}catch(ib){this.log.error("error in startplay log fields",ib);}this.j.Uj&&(c.blocked=this.j.Uj);c.configversion=this.config().version;this.config().endpoint||(c.configendpoint="error");this.j.kg&&(c.playbackcontextid=this.j.kg);this.uza(c);if(this.config().F_&&this.j.Va.eha){for(var d={},k=Object.keys(this.j.Va.eha),g,p=k.length;p--;)g=k[p],d[g.toLowerCase()]=this.j.Va.eha[g];c.vui=d;}N.ka(this.j.tsa)&&(c.bookmarkact=u.Lm(this.j.tsa));(d=this.j.Jc.at&&this.j.Jc.ats?this.j.Jc.at-this.j.Jc.ats:void 0)&&(c.nccpat=d);(d=this.j.Jc.lr&&this.j.Jc.lc?this.j.Jc.lr-this.j.Jc.lc:void 0)&&(c.nccplt=d);(d=this.Zbb())&&(c.downloadables=d);M._cad_global.device&&N.jc(M._cad_global.device.w8)&&(c.esnSource=M._cad_global.device.w8);(d=M._cad_global.platformExtraInfo)&&u.fb(c,d,{prefix:"pi_"});(d=n.gl&&n.gl.connection&&n.gl.connection.type)&&(c.nettype=d);this.j.Tn&&this.j.Tn.initBitrate&&(c.initvbitrate=this.j.Tn.initBitrate);this.j.Tn&&this.j.Tn.selector&&(c.selector=this.j.Tn.selector);c.fullDlreports=this.j.vva;if(this.j.state.value>=S.mb.od)try{m=this.j.jw();m&&(this.po=b.zha(m.map(function(a){return a.R;})),this.PBa=b.zha(m.map(function(a){return a.height;})),f=0<m.length?r.kob(m,function(a){return a.R;}):void 0,c.maxbitrate=this.po,c.maxresheight=this.PBa);}catch(ib){this.log.error("Exception computing max bitrate",ib);}try{t=b.CV();t&&(c.pdltime=t);}catch(ib){}try{u.fb(c,this.j.Jc,{prefix:"sm_"});u.fb(c,this.j.PV(),{prefix:"vd_"});}catch(ib){}"undefined"!==typeof nrdp&&nrdp.device&&(c.firmware_version=nrdp.device.firmwareVersion);a&&this.j.Sp&&(c.pssh=this.j.Sp);this.j.Bf&&this.j.Bf.Sk&&this.j.Bf.Sk.keySystem&&(c.keysys=this.j.Bf.Sk.keySystem);if(this.config().xo&&this.Cc())try{m={};q=this.Cc().getStats(void 0,void 0,this.j.u);y=this.j.lV();B=q.Fx.V7a;m.attempts=q.yEa||0;m.num_completed_tasks=B.length;C=this.Sc.teb;t={};I=D.md.Ge.gna;K=D.md.Ge.Yu;Q=D.md.Ge.DP;l=D.md.Ge.mH;T=D.md.Ge.CP;q.mj&&(t.scheduled=q.mj-y);ca=this.j.ta;ca&&N.ka(ca.VA)&&(t.preauthsent=ca.VA-this.j.$e,t.preauthreceived=ca.iG-this.j.$e);R=B.filter(C("type","manifest"));m.mf_succ=R.filter(C("status",I)).length;m.mf_fail=R.filter(C("status",K)).length;ma=this.j.Jc;N.jc(ma.lg)&&0>ma.lg&&this.j.$e&&(t.ldlsent=ma.lc,t.ldlreceived=ma.lr);U=B.filter(C("type","ldl"));m.ldl_succ=U.filter(C("status",I)).length;m.ldl_fail=U.filter(C("status",K)).length;q=!0;if(!t.preauthreceived||0<=t.preauthreceived)q=!1;this.config().sE||(q=!1);fa=U.filter(C("status",Q)).length;z=U.filter(C("status",l)).length;G=U.filter(C("status",T)).length;this.config().sE&&0===fa+z+G&&(!t.ldlreceived||0<=t.ldlreceived)&&(q=!1);if(this.config().DU){P=this.j.Om&&this.j.Om.stats;if(P){if(P.WU&&(t.headersent=P.WU-this.j.$e),P.$W&&(t.headerreceived=P.$W-this.j.$e),P.YF&&(t.prebuffstarted=P.YF-this.j.$e),P.AY&&(t.prebuffcomplete=P.AY-this.j.$e),!t.prebuffcomplete||0<=t.prebuffcomplete)q=!1;}else q=!1;}X=B.filter(C("type","getHeadersAndMedia"));m.hm_succ=X.filter(C("status",I)).length;m.hm_fail=X.filter(C("status",K)).length;u.fb(c,m,{prefix:"pr_"});c.eventlist=JSON.stringify(t);c.prefetchCompleted=q;this.paa(c);}catch(ib){this.log.warn("error in collecting video prepare data",ib);}c.avtp=this.qB.Jl().pB;this.j.dm&&this.oW(c);if(this.j.Bc.value)try{c.ttTrackFields=this.j.Bc.value.Bg;}catch(ib){}if(B=this.j.Wc&&this.j.Wc.value&&this.j.Wc.value.dc){Z={};B.forEach(function(a){Z[a.Af]=void 0;});c.audioProfiles=Object.keys(Z);}this.qaa(c);this.j.ta&&"boolean"===typeof this.j.ta.isSupplemental&&(c.isSupplemental=this.j.ta.isSupplemental);c.headerCacheHit=!!this.j.Om;this.j.Om&&(c.headerCacheDataAudio=this.j.Om.audio,c.headerCacheDataAudioFromMediaCache=this.j.Om.audioFromMediaCache,c.headerCacheDataVideo=this.j.Om.video,c.headerCacheDataVideoFromMediaCache=this.j.Om.videoFromMediaCache);this.j.ta&&(c.packageId=this.j.ta.packageId);this.j.ta&&this.j.ta.choiceMap&&(c.hasChoiceMap=!0);this.config().Bwa&&(c.forceL3WidevineCdm=!0);c.isNonMember=this.vj.dF;this.rmb(f);this.qmb();this.sza(this.j,c);this.tza(this.j,c);this.Tz(this.j,c);this.Kw(this.j,c,this.f5);this.naa(c);this.oaa(c);this.xza(c);this.rza(c);this.yza(c);this.Ac(W.Ee.SZ,a,V.Jh|V.eC|V.Gg|V.HQ|V.Su|V.EP|V.E0,c);};c.prototype.Eea=function(a,b){b={playdelay:u.Lm(a),reason:this.nG,intrplayseq:this.BW-1,skipped:b};this.Tz(this.j,b);this.Ac(W.Ee.Eea,!1,V.Jh|V.eC|V.Gg,b);"rebuffer"==this.nG&&this.j.Vl.t3a(Number(u.Lm(a)));};c.prototype.n6=function(a,b,c,f){a={moff:u.Hz(c),vbitrate:b.R,vbitrateold:a.R,vdlid:b.bd,vdlidold:a.bd,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:f};this.Tz(this.j,a);this.Kw(this.j,a);this.Ac(W.Ee.n6,!1,V.Gg,a);};c.prototype.Hvb=function(a,b,c){a={moff:u.Hz(c),vdlidold:a.bd,vbitrateold:a.R};this.Tz(this.j,a);this.Kw(this.j,a);this.Sz(a,b,this.j.bg.value&&this.j.bg.value.stream);this.Ac(W.Ee.Ivb,!1,V.Gg,a);};c.prototype.hEa=function(){var a,c;a={waittime:u.Lm(this.j.h$()),abortedevent:"startplay",browserua:n.wk,browserhref:location.href,trackid:this.j.Fh};this.kV(a,"endplay");this.j.kg&&(a.playbackcontextid=this.j.kg);this.j.Tn&&this.j.Tn.initBitrate&&(a.initvbitrate=this.j.Tn.initBitrate);try{c=b.CV();c&&(a.pdltime=c);u.fb(a,this.j.Jc,{prefix:"sm_"});}catch(sa){}this.laa(a,!0);this.yza(a);this.qaa(a);this.vza(a);this.Sz(a,this.j.Ce.value,this.j.Tj.value);this.Ac(W.Ee.lEa,!1,V.Jh|V.Gg|V.Su,a);};c.prototype.Rsb=function(a,b){a={waittime:u.Lm(a),abortedevent:"resumeplay",browserua:n.wk,resumeplayreason:b};this.j.kg&&(a.playbackcontextid=this.j.kg);this.j.Tn&&this.j.Tn.initBitrate&&(a.initvbitrate=this.j.Tn.initBitrate);this.Sz(a,this.j.Ce.value,this.j.Tj.value);this.Ac(W.Ee.lEa,!1,V.Jh|V.Gg,a);};c.prototype.mzb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.Tz(this.j,a);this.Kw(this.j,a);this.Sz(a,this.j.bf.value&&this.j.bf.value.stream,this.j.bg.value&&this.j.bg.value.stream);this.Ac(W.Ee.ozb,!1,V.Jh|V.Gg,a);};c.prototype.xaa=function(a,b,c){a=u.fb({vdlid:this.j.Ce.value.bd,playingms:a,pausedms:b,intrplayseq:this.BW++},c);this.kV(a,"intrplay");b=this.j.Zb[f.Pc.Fa.VIDEO].value;c=this.j.Zb[f.Pc.Fa.AUDIO].value;a.cdnid=a.vcdnid=b&&b.id;a.acdnid=c&&c.id;a.locid=this.gM&&this.gM.lba;a.loclv=this.gM&&this.gM.ZAa;a.avtp=this.qB.Jl().pB;this.j.dm&&(this.laa(a,!0),this.oW(a),this.wza(a));try{u.fb(a,this.j.PV(),{prefix:"vd_"});}catch(oa){}this.Tz(this.j,a);this.Kw(this.j,a);this.Sz(a,this.j.bf.value&&this.j.bf.value.stream,this.j.bg.value&&this.j.bg.value.stream);this.Ac(W.Ee.xaa,!1,V.Jh|V.Gg,a);};c.prototype.rea=function(a,b,c){a={moffold:u.Hz(a),reposseq:this.HFa++};this.Kw(this.j,a);this.Sz(a,c&&c.stream,b&&b.stream);this.Ac(W.Ee.rea,!1,V.Jh|V.Gg,a);};c.prototype.f5a=function(){this.Ac(W.Ee.k5a,!1,V.Jh|V.Gg,{switchdelay:u.Lm(this.getTime()-this.wmb),newtrackinfo:this.j.Wc.value.cb,oldtrackinfo:this.Raa.cb});};c.prototype.Z6a=function(a,b){var c,f,d,k;c=b.serverid;f=b.serverrtt;d=b.serverbw;k={locid:b.location,loclv:b.locationlv,selocaid:c,selcdnid:c,selocaname:b.servername};k.mediatype=b.mediatype;k.selcdnrtt=f;k.selcdnbw=d;k.selreason=b.selreason||"unknown";k.testreason=b.testreason;k.fastselthreshold=b.fastselthreshold;k.seldetail=b.seldetail;k.cdnbwdata=JSON.stringify([{id:c,rtt:f,bw:d}]);a&&(k.oldlocid=a.lba,k.oldloclv=a.ZAa,k.oldocaid=a.Bxb,k.oldocaname=a.bB);this.Ac(W.Ee.Tsa,!1,V.EP,k);};c.prototype.UHa=function(a){var b,c;b={};b.trigger=a;try{c=this.j.b$();b.subtitleqoescore=this.j.Ko.Mib(c);b.metrics=JSON.stringify(this.j.Ko.s$(c));}catch(oa){this.log.error("error getting subtitle qoe data",oa);}this.Ac(W.Ee.Xzb,!1,V.Jh|V.Su|V.eC,b,"info");};c.prototype.transition=function(a){this.Kw(this.j,a);this.Ac(W.Ee.transition,!1,0,a);};c.prototype.Bib=function(a,b){if(a=a.rV())if(b=a[b])return b.og;};c.prototype.sza=function(a,b){a.Va.ci&&(b.isBranching=!0);};c.prototype.tza=function(a,b){b.cachedManifest=a.dw;b.cachedLicense=a.cw;b.usedldl=this.config().sE?("videopreparer"===a.cw).toString():"not_capable";};c.prototype.Tz=function(a,b){var c,f;if(this.config().Jkb){c=a.c$();f=a.da.ta;c&&f&&(b.segment=c,f=a.Nz(),b.segmenttime=f,a=this.Bib(a,c),null!==f&&void 0!==a&&(b.segmentoffset=f-a));}};c.prototype.Kw=function(a,b,c){b.pxid=a.QEa;(void 0===c?0:c)&&(b.playgraph_trace=a.qEa);};c.prototype.wza=function(a){var b,c;b=this.j.V$;c=b&&b.Pvb;b&&b.oza&&(a.htwbr=b.oza,a.pbtwbr=b.pY,a.hptwbr=b.mkb);b&&b.gGa&&(a.rr=b.gGa,a.ra=b.wub);b&&c&&0<(c.length||0)&&(a.qe=JSON.stringify(c));};c.prototype.qaa=function(a){var b,c,f,d,k;b=this;c=this.j.eg&&this.j.eg.value&&this.j.eg.value.dc;if(c){f=new Set();d=new Set();k=new Set();c.forEach(function(a){a=a.Af;f.add(a);d.add(a.replace(b.$na,""));(a=a.match(b.$na))&&0<a.length&&k.add(a[1]);});a.videoProfiles=[].concat(ea(f));a.videoProfile=0===d.size?"none":[].concat(ea(d))[0];a.videoProfileLevels=[].concat(ea(k));}};c.prototype.vza=function(a){var b,c,f;try{b=this.Sc.createElement("canvas");c=b.getContext("webgl")||b.getContext("experimental-webgl");if(c){f=c.getExtension("WEBGL_debug_renderer_info");f&&(a.WebGLRenderer=c.getParameter(f.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=c.getParameter(f.UNMASKED_VENDOR_WEBGL));}}catch(O){}};c.prototype.Kkb=function(a){a.switchAwaySummary={vsa:this.Dh.summary.MJa,vsb:this.Dh.summary.NJa,vsbt:this.Dh.summary.OJa,asa:this.Dh.summary.Rra,asb:this.Dh.summary.Sra,asbt:this.Dh.summary.Tra};};c.prototype.q8=function(a){var b,c,f,d,y;b=this;c=this.jEa();this.kV(c,"endplay");c.browserua=n.wk;this.j.Nu&&"downloaded"===this.j.Nu.IV()&&(c.trickplay_ms=this.j.OO.offset,c.trickplay_res=this.j.OO.OFa);this.config().AJa&&(c.rtinfo=this.j.tib());if(this.config().qea){f=this.qB.Jl().pB;void 0!==c.avtp?c.avtp_retired=f:c.avtp=f;f=this.ET.egb().map(function(a){return{cdnid:a.fw,avtp:a.pB,tm:a.U7};});void 0!=c.cdnavtp?c.cdnavtp_retired=f:c.cdnavtp=f;this.j.dm&&this.oW(c);}this.uza(c);c.endreason=a?"error":this.j.Ib.value===S.hb.mq?"ended":"stopped";f=M._cad_global.platformExtraInfo;this.Ekb(f);f&&u.fb(c,f,{prefix:"pi_"});f=this.j.Ii;a&&f&&B.bPa(f.errorCode)&&(d="info");try{u.fb(c,this.j.Jc,{prefix:"sm_"});}catch(ab){}this.j.kaa&&(c.inactivityTime=this.j.kaa);this.laa(c,"info"!==d&&a);this.wza(c);if(this.j.fz){for(var f=this.j.fz,k=this.config().FD,g=this.j.$e,p={iv:k,seg:[]},m=function(a,b,c){return 0===b||void 0===c[b-1]?a:a-c[b-1];},t=f.$s.map(m),m=f.Pu.map(m),q,h=0;h<t.length;h++){if(t[h]||m[h])q?(q.ams.push(t[h]),q.vms.push(m[h])):q={ams:[f.$s[h]],vms:[f.Pu[h]],soffms:f.startTime+h*k-g};h!==t.length-1&&t[h]&&m[h]||!q||(p.seg.push(q),q=void 0);}c.bt=JSON.stringify(p);}if(this.j.uX&&0<this.j.uX.length){y=[];this.j.uX.forEach(function(a){y.push({soffms:a.time-b.j.$e,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});c.maxvbevents=y;}this.j.OEa&&(c.psdConservCount=this.j.OEa);a&&this.vza(c);this.UHa("endplay");this.config().xo&&this.Cc()&&this.paa(c);c.isNonMember=this.vj.dF;this.qaa(c);this.sza(this.j,c);this.tza(this.j,c);this.Tz(this.j,c);this.Kw(this.j,c,this.f5);this.naa(c);this.oaa(c);this.xza(c);this.Fkb(c);this.rza(c);this.Hkb(c);this.Gkb(c);this.Kkb(c);this.Ac(W.Ee.q8,a,V.Jh|V.eC|V.Gg|V.Su|V.HQ|V.E0,c,d);};c.prototype.VZa=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return+a;}):b;};c.prototype.Zbb=function(){var a,b;a=this;if(this.j.kn&&this.j.Qn){b=[];this.j.kn.concat(this.j.Qn).forEach(function(c){c.dc.forEach(function(c){b.push({dlid:c.bd,type:c.type,bitrate:c.R,vmaf:c.Dc,cdn_ids:a.VZa(c.Sq)});});});return JSON.stringify(b);}};c.prototype.X6a=function(){var b,c,f;function a(a,b){var d,k,g;d=a.cdnId;k=f[d];g=a.vmaf;k||(k={cdnid:d,dls:[]},f[d]=k,c.push(k));t.JK(a.bitrate);t.JK(a.duration);d={bitrate:a.bitrate,tm:n.wi(a.duration)};g&&(t.JK(a.vmaf),d.vf=g);d[b]=u.fe(a.downloadableId);k.dls.push(d);}b=this.j.Vl.Jfb();c=[];f={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(c);};c.prototype.jEa=function(){var a,b,c,f,d,k,g,p,m,y,B;a=this.j.Vl;b={totaltime:u.Hz(a.GL()),cdndldist:this.X6a(),reposcount:this.HFa,intrplaycount:this.BW};try{c={numskip:0,numlowqual:0};f=this.j.Mi;d=f.wV();N.ka(d)&&(b.totfr=d,c.numren=d);d=f.Lz();N.ka(d)&&(b.totdfr=d,c.numrendrop=d);d=f.vL();N.ka(d)&&(b.totcfr=d,c.numrenerr=d);d=f.xV();N.ka(d)&&(b.totfdl=d);b.playqualvideo=JSON.stringify(c);k=this.j.Ce.value;k&&(b.videofr=k.fV.toFixed(3));g=a.$wa();g&&(b.abrdel=g);p=a.Wjb()&&a.Nfb();p&&(b.tw_vmaf=p);m=a.Mfb();m&&u.fb(b,m);b.rbfrs=this.BW;b.maxbitrate=this.po;b.maxresheight=this.PBa;for(var q=this.j.Pz(),h,a=0;a<q.length;a++){y=q[a];B=this.Gr.HM.Gu(y);if(B){t.Pa(h);b.maxbitrate=h?h.R:0;b.maxresheight=h?h.height:0;b.bitratefilters=B.join("|");break;}h=y;}this.j.Nu&&(b.trickplay=this.j.Nu.IV());null!==this.j.Ko.isa&&(b.avg_subt_delay=this.j.Ko.isa);}catch(ab){this.log.error("Exception reading some of the endplay fields",ab);}u.fb(b,this.j.PV(),{prefix:"vd_"});return b;};c.prototype.getTime=function(){return this.sa.pc().ea(h.ja);};c.prototype.pZ=function(a){a.browserua=n.wk;this.Ac(W.Ee.Uwb,!a.success,V.Jh|V.Su,a);this.Ac=m.Re;};c.prototype.Skb=function(){var a,b,c;a=this;c=[];this.config().fpb&&(this.config().gpb.forEach(function(b){c.push(M.setTimeout(a.yX,b));}),this.config().dCa&&(b=M.setInterval(this.yX,this.config().dCa)),this.bJa=function(){c.forEach(function(a){M.clearTimeout(a);});b&&M.clearInterval(b);});};c.prototype.paa=function(a){var b;try{b=this.Cc().getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.Qwa);}catch(sa){}};c.prototype.naa=function(a){this.log.debug("httpstats",this.Ef.Sb);u.fb(a,this.Ef.Sb,{prefix:"http_"});};c.prototype.laa=function(a,b){this.config().nua&&!(this.ia%this.config().nua)&&this.j.qb&&this.j.qb.AW&&(a.ASEstats=JSON.stringify(this.j.qb.AW(b)));};c.prototype.oW=function(a){Object.assign(a,this.j.dm.Vb.Uib());};c.prototype.oaa=function(a){var b;try{b=n.gs.memory;N.cmb(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(sa){}};c.prototype.xza=function(a){var b;b=this.j.Bf;this.config().Q6a&&b&&!this.config().iq&&(a.keystatuses=this.j.lqb(b.BPb()),this.log.trace("keystatuses",a.keystatuses));};c.prototype.rza=function(a){try{this.config().lK&&(a.battery=this.j.Ufb(),this.log.trace("batterystatuses",a.battery));}catch(A){}};c.prototype.Fkb=function(a){this.j.eU&&(a.dqec=this.j.eU);};c.prototype.Ekb=function(a){this.j.DT&&u.fb(a,{cast_interaction_counts:this.j.DT.TPb()});};c.prototype.yza=function(a){var b;b=this.j.Va.en;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);};c.prototype.Gkb=function(a){this.D8&&(a.externaldisplay=this.D8.gL);};c.prototype.Hkb=function(a){this.Mx&&this.Mx.oc&&(a.media_capabilities_smooth=this.Mx.oc.Xyb,a.media_capabilities_efficient=this.Mx.oc.jtb,a.media_capabilities_bitrate=this.Mx.oc.R,a.media_capabilities_height=this.Mx.oc.height,a.media_capabilities_width=this.Mx.oc.width);};c.prototype.Sz=function(a,b,c){c&&(a.adlid=c.bd,a.abitrate=c.R);b&&(a.vdlid=b.bd,a.vbitrate=b.R);};c.prototype.uza=function(a){var b,c;if(this.j.wK){b=this.j.wK;b.OT&&(a.controllerESN=b.OT);b.u8a&&(a.controllerUiVer=b.u8a);if(b.t8a)try{c=JSON.parse(b.t8a);a.controllerGroupNames=c;}catch(oa){this.log.error("Exception parsing controller group names",oa);}}};c.prototype.qmb=function(){void 0===this.D8&&(this.D8=this.E8.peb());};c.prototype.rmb=function(a){void 0===this.Mx&&void 0!==a&&(this.Mx=this.cca.J8(a));};c.prototype.kV=function(a,b){var c;c=this.j.Ot(b);c&&Object.keys(c).forEach(function(b){a[b]=c[b];});};c.prototype.Ac=function(a,b,c,f,d){this.l3a(f,this.j,b,c);a=this.rM.Fm(a,d||(b?"error":"info"),f,this.Gr);this.gi.Ac(a);};c.prototype.l3a=function(a,b,c,d){var k,g,p,m,q;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(a.devmod=nrdp.device.deviceModel);b.SD&&(a.pbcid=b.SD);d&V.Jh&&(t.Pa(!a||void 0===a.moff),0<=b.ac.value&&(a.moff=u.Hz(b.ac.value)));if(d&V.eC){k=b.Zb[f.Pc.Fa.VIDEO].value;g=b.Zb[f.Pc.Fa.AUDIO].value;p=b.bg.value;m=b.bf.value;k&&(a.cdnid=k.id,a.cdnname=k.name);g&&(a.acdnid=g.id,a.acdnname=g.name);p&&(a.adlid=p.stream.bd,a.abitrate=p.stream.R);m&&(a.vdlid=m.stream.bd,a.vbitrate=m.stream.R,a.vheight=m.stream.height,a.vwidth=m.stream.width);}d&V.Gg&&b.qb&&(a.abuflbytes=b.y5(),a.abuflmsec=b.PJ(),a.vbuflbytes=b.bha(),a.vbuflmsec=b.eP());if(d&V.HQ){Object.assign(a,fa.oya());try{q=b.wf.getBoundingClientRect();a.rendersize=q.width+"x"+q.height;a.renderpos=q.left+"x"+q.top;}catch(Ga){}}d&V.Su&&(k=n.gl.hardwareConcurrency,0<=k&&(a.numcores=k),k=this.Gr.Z7)&&(g=k.Ofb(),a.droppedFrames=JSON.stringify(g),k=k.DL(this.config().ocb),u.dd(k,function(b,c){a["droppedFramesP"+b]=JSON.stringify(c);}));if(d&V.EP)try{b.ij&&(a.cdninfo=JSON.stringify(b.ij.map(function(a){return{id:a.id,nm:a.name,rk:a.tf,wt:a.location.weight,lv:a.location.level};})));}catch(Ga){}c&&d&V.E0&&(t.Pa(b.Ii),(c=b.Ii)?a=Object.assign(a,fa.hya(this.platform.Dz,c)):a.errorcode=B.J.xk,a.errorcode===this.platform.Dz+B.J.Kla&&(a.lastSyncWithVideoElement=this.getTime()-b.AO));};d.KRa=c;(function(a){a[a.Jh=1]="MOFF";a[a.eC=2]="PRESENTEDSTREAMS";a[a.Gg=4]="BUFFER";a[a.HQ=8]="SCREEN";a[a.Su=16]="CPU";a[a.EP=32]="CDN";a[a.E0=64]="FATALERROR";}(V||(V={})));},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fka="LogblobBuilderFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xha="AppLogSinkSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rna="UuidProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fma="PboLogblobCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Ee||(d.Ee={});g.R5a="bitraterestriction";g.Tsa="cdnsel";g.n6="chgstrm";g.debug="debug";g.Mbb="dlreport";g.q8="endplay";g.xaa="intrplay";g.yX="midplay";g.lEa="playbackaborted";g.Ivb="renderstrmswitch";g.rea="repos";g.Eea="resumeplay";g.Dxb="serversel";g.SZ="startplay";g.ozb="statechanged";g.transition="transition";g.D4a="asereport";g.C4a="aseexception";g.k5a="audioswitch";g.S5a="blockedautoplay";g.config="config";g.DOb="destiny_prepare";g.EOb="destiny_start";g.BOb="destiny_events";g.AOb="destiny_cachestate";g.COb="destiny_playback";g.uU="dlreq";g.zu="prepare";g.tPb="ftlProbeError";g.Uwb="securestop";g.Wzb="subtitleerror";g.Xzb="subtitleqoe";g.HAb="timedtextrebuffer";g.IAb="timedtextswitch";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ela="MessageQueueSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gka="LogblobSenderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yla="PboBindDeviceCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nia="CryptoKeysSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mia="CryptoDeviceIdSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jia="DeviceProviderSymbol";},function(g,d){function a(c,f,d){if(null!=d){if(0<d(c,f))throw a.Xta(c,f);}else if(c.Cl&&0<c.Cl(f))throw a.Xta(c,f);this.start=c;this.end=f;}Object.defineProperty(d,"__esModule",{value:!0});a.Xta=function(a,f){return new RangeError("end ["+f+"] must be >= start ["+a+"]");};d.Sma=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Iia="DeviceIdGeneratorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.H1="MslReadyNotifierSymbol";},function(g,d,a){var c,f,m,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(11);f=a(19);m=a(15);q=a(74);d.qMa=function(a,c,d,g,q,h,D,B,I,C){var b,k;b=this;k={Type:c,Bitrate:g,DownloadableId:d};f.fb(b,{track:a,type:c,bd:d,R:g,Dc:q,Af:B,size:h,Sq:D,fo:null,pyb:function(a,c,f,d){if(m.jc(a)||m.jc(c))b.width=a,b.height=c,m.ka(f)&&m.ka(d)&&(b.i5=f/d*a),k.Resolution=(b.width||"")+":"+(b.height||"");},Lxb:function(a,c,f,d){m.jc(a)&&m.jc(c)&&m.jc(f)&&m.jc(d)&&(b.f7=a,b.XT=c,b.WT=f,b.VT=d);},fV:I,Gp:C,Bg:k,toJSON:function(){return k;}});};d.tFb=function(a,f,d,g,m){if(a==c.B1||a===q.Ig.audio)return f;if(a==c.RH||a===q.Ig.video)return d;if(a==q.Ig.f_)return g;if(a==q.Ig.Lga)return m;};},function(g,d,a){var f;function c(a){var g,b,k,p,m,u,h;k={};k[f.L_]=a.localName;p={};k[f.Fj]=p;m=[];k[f.K_]=m;u=a.attributes;g=u.length;for(b=0;b<g;b++){h=u[b];p[h.localName]=h.value;}a=a.childNodes;g=a.length;p={};for(b=0;b<g;b++)switch(u=a[b],u.nodeType){case d.xDb:u=c(u);h=u[f.L_];u[f.WJa]=k;m.push(u);k[h]?p[h][f.hH]=u:k[h]=u;p[h]=u;break;case d.yDb:case d.vDb:u=u.text||u.nodeValue,m.push(u),k[f.Sr]||(k[f.Sr]=u);}return k;}Object.defineProperty(d,"__esModule",{value:!0});f=a(127);d.uDb=function(a){return c(a.nodeType==d.wDb?a.documentElement:a);};d.XTb=c;d.xDb=1;d.WTb=2;d.yDb=3;d.vDb=4;d.wDb=9;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(5);f=a(15);d.tDb=function(a){var d,b;if(f.bA(a)){d=new DOMParser().parseFromString(a,"text/xml");b=d.getElementsByTagName("parsererror");if(b&&b[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(b[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(k){}throw Error("xml parser error");}return d;}throw Error("bad xml text");};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(206);f=a(205);d.Qrb=function(a,d,b,k){return new Promise(function(g,m){f.XJa(a,function(a){a.$?c.Hrb(a.object,d,b,k,function(a){a.$?g(a.entries):m(a);}):m(a);});});};},function(g,d,a){var c,f,m,q,b,k;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(6);m=a(3);q=a(718);b=a(717);k=function(){return function(){this.CD=new b.f2(100);this.PX=new b.f2(100);};}();g=function(){function a(a,b,c){var d,k,g;this.K=b;this.I=c;this.tS=a;d=this.Oy=this.tC=this.sC=0;k=0;g=0;this.tS.length>=this.K.EX&&(this.tS.forEach(function(a){!(a=a.get().$eb)||f.U(a.avtp)||f.U(a.neuhd)||(d+=a.avtp,k+=1*a.neuhd,g++);}),this.Oy=g,this.sC=d/g,this.tC=k/g);}Object.defineProperties(a.prototype,{gsa:{get:function(){return this.sC;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{hsa:{get:function(){return this.tC;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Exb:{get:function(){return this.Oy;},enumerable:!0,configurable:!0}});a.prototype.LW=function(){return this.Oy>=this.K.EX&&this.sC>=this.K.baselineHighAndStableThreshold.bwThreshold&&this.tC<this.K.baselineHighAndStableThreshold.nethreshold;};return a;}();d.m1=g;g=function(a){function b(b,c,f){b=a.call(this,b,c,f)||this;b.I2=[];b.oeb={};b.jIa=[];b.yt=new k();b.tS.length>=b.K.EX&&(b.Tqa("avtp",b.yt.CD),b.Tqa("neuhd",b.yt.PX));return b;}c.__extends(b,a);b.prototype.LW=function(){var a;this.Zhb();a=new q.ORa(this.I,this.jIa,this.N5a);a.Eda(this.I2);a=a.w7a(this.K.fW.rSb);return this.uCb&&1===a&&this.Oy>=this.K.EX;};b.prototype.wL=function(){var a,b,c,f;a={};b=m.time.now();c=new Date(b);f=c.getHours();a.currentMonoTime=b;a.currentTime=c.getTime();a.currentHour=f;return a;};b.prototype.txa=function(a,b,c){a="avtp"===a?this.sC:this.tC;for(var d=b.BT(),k=0,g="skew"===c?3:4,p=0;p<b.We.length;p++)f.U(a)||f.U(d)||(k+=Math.pow(b.We[p]-a,g));k/=b.We.length;return!f.U(d)&&0<d?k/Math.pow(d,g)-3*("skew"===c?0:1):NaN;};b.prototype.Dxa=function(a,b,c){var f;f=0;"lte"===c?f=a.reduce(function(a,c){return c<=b?a+1:a;},0)/(1*a.length):"gte"===c&&(f=a.reduce(function(a,c){return c>=b?a+1:a;},0)/(1*a.length));return f;};b.prototype.Mhb=function(a){var b,c;b=a.Pq(25);c=a.Pq(50);a=a.Pq(75);return f.U(b)||f.U(c)||f.U(a)?NaN:0<c?(a-b)/c:NaN;};b.prototype.Yfb=function(a,b){a="avtp"===a?this.sC:this.tC;b=b.BT();return!f.U(b)&&!f.U(a)&&(0<b||0<a)&&0<a?(a-b)/(a+b):NaN;};b.prototype.DL=function(a,b){a=a.Pq(b);return f.U(a)?NaN:a;};b.prototype.normalize=function(a,b,c){return!isNaN(a)&&0<c?(a-b)/c:NaN;};b.prototype.Zhb=function(){var a,b,c,d,k,g,p,m,t,q,h,l;a=this;b=this.K.fW.oBa.WQb;c=this.K.fW.oBa.UQb;d=this.K.fW.oBa.VQb;m=[];l=0;this.uCb=!Object.keys(b).some(function(u){var y;h=NaN;if(!(b.hasOwnProperty(u)&&c.hasOwnProperty(u)&&d.hasOwnProperty(u)&&!f.U(a.yt)&&a.yt.CD&&a.yt.PX)||1>a.Oy||"number"!==typeof b[u]||"number"!==typeof c[u]||"number"!==typeof d[u])return!0;k=b[u];g=c[u];p=d[u];m=u.split("_",2);t=m[0];q=m[1];switch(t){case"avtp":y=a.yt.CD;break;case"neuhd":y=a.yt.PX;break;default:y=void 0;}if("avtp"===t||"neuhd"===t){if(y)switch(q){case"last":h=y.We[a.Oy-1];break;case"mean":h="avtp"===t?a.sC:a.tC;break;case"niqr":h=a.Mhb(y);break;case"skew":h=a.txa(t,y,"skew");break;case"kurtosis":h=a.txa(t,y,"kurtosis");break;case"std":h=y.BT();break;case"b":h=a.Yfb(t,y);break;default:-1!==u.search("[p][1-9]?[1-9]")&&(h=a.DL(y,Number(u.split("_p",2)[1])));}}else switch(u){case"fracAbove20Mbps":y=a.yt.CD;h=f.U(y)?NaN:a.Dxa(y.We,2E4,"gte");break;case"fracBelow20p":y=a.yt.PX;h=f.U(y)?NaN:a.Dxa(y.We,.15,"lte");break;case"hour_current":h=a.wL().currentHour;break;case"session_ct":h=a.Oy;break;case"intercept":h=k,a.N5a=h;}h=a.normalize(h,g,p);if(isNaN(h))return!0;"intercept"!==u&&(a.I2.push(h),a.jIa.push(k),a.oeb[u]=l,l+=1);});};b.prototype.Tqa=function(a,b){this.tS.forEach(function(c){c=c.get().$eb;!c||"avtp"!==a&&"neuhd"!==a||f.U(c[a])||b.YS(Number(c[a]));});};return b;}(g);d.WPa=g;},function(g,d,a){var q;function c(){}function f(a,c,f){void 0===f&&(f=!1);q(a.length===c.length,"bitrates_kbps and durations_sec must be of the same length.");q(1E-8<m(a),"bitrate zero, won't be able to send anything.");this.Wv=a;this.lva=c;this.repeat=f;this.Xj=this.El=0;}function m(a){return a.reduce(function(a,b){return a+b;},0);}q=a(8).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.Vn=function(){var a;a=new f(this.Wv,this.lva,this.repeat);a.El=this.El;a.Xj=this.Xj;return a;};f.prototype.C$=function(){return this.Wv[this.El%this.Wv.length];};f.prototype.Fw=function(){return this.lva[this.El%this.Wv.length];};f.prototype.Xbb=function(a){q(0<a,"expect x_sec > 0.0");if(!(this.repeat||0<=this.El&&this.El<this.Wv.length))throw new c();q(this.Xj<this.Fw(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b;;){b=this.Fw()-this.Xj;b=a<b?a:b;a-=b;this.Xj+=b;if(this.Xj<this.Fw())break;this.Xj-=this.Fw();this.El+=1;if(!this.repeat&&this.El>=this.Wv.length){if(0<a)throw new c();break;}}};f.prototype.PDa=function(a){this.Xbb(a);};f.prototype.Ybb=function(a){q(0<a,"expect y_kb > 0.0");if(!(this.repeat||0<=this.El&&this.El<this.Wv.length))throw new c();q(this.Xj<this.Fw(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b,f=0;;){b=this.Fw()-this.Xj;b=a<b*this.C$()?a/this.C$():b;a-=this.C$()*b;f+=b;this.Xj+=b;if(this.Xj<this.Fw())return f;this.Xj-=this.Fw();this.El+=1;if(!this.repeat&&this.El>=this.Wv.length){if(0<a)throw new c();return f;}}};g.P={tXa:f,uXa:c};},function(g,d,a){var m;function c(a,b,c){this.ba=a;this.Co=b;this.yN=c;}function f(a,b){this.Eba=b;void 0===b&&(this.Eba=!0);this.Ei=a;this.IYa();}m=a(8).assert;c.prototype.constructor=c;c.prototype.Rt=function(){return 8*this.ba/1E3/this.Co;};f.prototype.constructor=f;f.prototype.Vn=function(a,b,c,d,g){void 0===b&&(b=0);void 0===c&&(c=a.TE());void 0===d&&(d=0);void 0===g&&(g=a.Ei.length);for(var k=[],p,m=d;m<g;m++){d=[];for(var t=b;t<c;t++)p=a.Ei[m][t],d.push(p);k.push(d);}return new f(k,a.Eba);};f.prototype.IYa=function(){var a,b;a=this.Ei[0].length;for(b in this.Ei.slice(1))m(this.Ei[b].length===a,"expect this.chunkss[chunksIndex].length === n but got "+this.Ei[b].length+" and "+a);this.Eba&&this.JYa();this.KYa();};f.prototype.TE=function(){return this.Ei[0].length;};f.prototype.JYa=function(){for(var a=0;a<this.Ei.length-1;a++)for(var b=0;b<this.TE();b++)m(this.Ei[a][b].ba<=this.Ei[a+1][b].ba,"Chunk size for epoch "+b+" is not monotonic");};f.prototype.KYa=function(){for(var a=0;a<this.Ei.length-1;a++)for(var b=0;b<this.TE();b++)m(1E-8>Math.abs(this.Ei[a][b].Co-this.Ei[a+1][b].Co),"Chunk duration for epoch "+b+" is not consistent");};f.prototype.njb=function(){var a;a=[];this.Ei[0].forEach(function(b){a.push(b.Co);});return a;};g.P={BMa:c,CMa:f};},function(g,d,a){var c,f,m,q,b,k,p,t;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(3);g=a(377);m=a(165);q=a(13);b=a(8);k=a(29);p=a(376);t=a(727);a=function(a){function d(b,c,d,g,p,m,q,u,h,y,l,n,r){d=a.call(this,g,u,d,g,g,p,k.Ta.Mm(m),q,l,n,r)||this;d.Za=b;d.Rf=c;d.Xe=h;d.Ie=y;d.T5=0;d.Ly.vJa=!1;d.config=u;d.wH=new t.sRa(g,d.Ie,u,d.I,d.M,d.Rf,d.Sa,d.Za);d.Emb=f.time.fa();d.xmb=void 0;d.nA=u.saa;d.EEa=f.time.fa();d.eHa(p);return d;}c.__extends(d,a);Object.defineProperties(d.prototype,{m5:{get:function(){return this.Sa.m5;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{OD:{get:function(){return this.Sa.OD;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{mz:{get:function(){return this.Sa.mz;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{TA:{get:function(){return this.Sa.TA;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Hg:{get:function(){return this.wH.Hg;},set:function(a){(this.wH.Hg=a)?this.Sa.Oxb():this.Sa.y7a();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{pn:{get:function(){return this.wH.pn;},set:function(a){this.wH.pn=a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{bX:{get:function(){return this.Lc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Zkb:{get:function(){return this.z_a.Ma;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{$N:{get:function(){return this.BS.$N;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{IG:{get:function(){return this.BS;},enumerable:!0,configurable:!0}});d.prototype.reset=function(){this.seeking=void 0;this.connected=this.Hg=!1;this.Ly.reset();};d.prototype.Tg=function(){this.reset();a.prototype.Tg.call(this);};d.prototype.CE=function(a,b){return p.CE(this.Og.M,this.K,a,b,this.$c,this.Za.Rob,this.rJ);};d.prototype.Ti=function(a){this.Sa.Ti(a);this.nA=this.K.saa;};d.prototype.AD=function(){this.Sa.QO();};d.prototype.eHa=function(a){var c,f;c=this.Za;f=this.M;b.assert(a.M===f);b.assert(a.O===this.Dd.O);this.Og=a;this.Dd.O.Wga(f,a.uc);0===f&&(this.rJ=m.zra(this.config,a.uc[0]));c.r_a(this,a.iA);this.C6a(a.uc);this.$p.Yxb(a);this.Dd.O.s6();this.Hg=!1;};d.prototype.M8=function(a){var b;b=this.Dd.O.Yf[this.M];if(b&&b.stream.ud&&(a=b.stream.X.Gl(a),-1!==a))return a;};d.prototype.eB=function(a){var b,c,f;if(this.xg&&this.xg.T===a)b=this.xg.index,c=a;else{f=this.Dd.O;b=f.Yf[this.M];if(!b||!b.stream.ud){this.EA=a;return;}c=b.stream.X;this.xg=this.kL(b.stream,a,void 0,!1);if(void 0===this.xg){if(b=c.length-1,c=c.Ah(b),this.Ia("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",f.se.mf),f.se.mf){this.EA=a;return;}}else b=this.xg.index,c=this.xg.T;}this.Sl=b;this.F4=c;this.EA=void 0;};d.prototype.OCb=function(a){var b,c;b=this.Og.ar(a);c="verifying streamId: "+a+" stream's track: "+(b?b.pa:"unknown")+" currentTrack: "+this.Og.cb;return b?!0:(this.Rf.Ni(c),this.Rf.Ni("unknown streamId: "+a),!1);};d.prototype.C6a=function(a){this.ekb=a.reduce(function(a,b){return b.inRange&&b.pf&&!b.Xg&&b.R>a.R?b:a;},a[0]);};d.prototype.AZ=function(a){this.jg=a;this.ga=a.ga;};d.prototype.Xnb=function(a,b,c,f){this.RIa(a,b,f);c&&++this.T5;this.Za.Sh();};d.prototype.ru=function(b){b.ga&&b.T&&(this.nA-=b.ga-b.T);a.prototype.ru.call(this,b);};d.prototype.Oi=function(a){this.Kya(a);this.up(a);};d.prototype.NBb=function(a){var b;b=f.time.fa();this.nA+=a*(b-this.EEa);this.EEa=b;};d.prototype.awb=function(){this.nA=this.K.saa;};d.prototype.LD=function(a){this.Sa.ata();this.$c||this.wH.LD(a,this.ga);};d.prototype.Kya=function(a){var b,c,f;b=this.bX;c=this.Za;if(!this.Xe.Jqa()){this.Rf.L0a(a.M,a.O.Ua,a.stream.track.CJ,this.Ik);this.$c&&(this.$c.nz+=a.XA,this.Ia("handleRequestDone, adding frames:",a.XA,"total frames:",this.$c.nz,"needed frames:",b.re(a.M).$c.vA));f=b.V.sd()||0;c.Wa.us()||(b=b.re(q.Fa.VIDEO))&&!b.vg&&b.bW&&c.Wa.r$(b);this.LD(f);this.Za.Jya(a);this.Xe.mR(this)&&this.Xe.Sh();}};d.prototype.$ca=function(a){this.Za.UV(a);};d.prototype.$sa=function(a,b,c,f,d){var k,g;k=this.K;g=k.$g;if(c>=k.$g&&(k.cZ&&(g=c+1E3),k.dZ&&!this.connected))return!1;k.Vf&&this.Rf.Ni("Pipeline checkBufferingComplete02, buffer length: "+f);if(this.$c){if(this.tT)return this.Ia("checkBufferingComplete02 ignored because stallAtFrameCount already hit"),!0;if(this.$c.nz>=this.$c.vA)return this.Ia("checkBufferingComplete02 with enough frames, declare bufferingComplete",this.$c.nz),this.tT=!0;}c=this.Hg&&0===this.Sa.oY&&0===this.Sa.Pr;return!c&&f<g?!1:c?d&&0===f?(this.Ia("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.cta(a,b);};return d;}(g.mma);d.y1=a;},function(g,d,a){var c,f,m,q,b,k,p,t,u,h,D;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(27);f=a(58);m=a(6);q=a(378);b=a(361);k=a(21);p=a(3);t=a(29);u=a(374);a=a(43);(function(a){a[a.Fwa=0]="forwards";a[a.I5=1]="backwards";a[a.Gca=2]="none";}(h=d.GQ||(d.GQ={})));D=function(a){function d(c,f,d,k,g,p,m,t,q,u,h,y,B,D,I,l,n){var C,K;C=a.call(this,f,k,q.O,c,q,u,h,D,y,m.sd.bind(m),B,n,void 0,void 0,!0)||this;C.Za=c;C.Rf=d;C.sb=g;C.AR=p;C.V=m;C.fD=t;C.sf=B;C.uL=I;C.Ie=l;C.Ay=n;C.active=!1;C.mpa=[];C.children=Object.create(null);C.Nr=[];C.fd=void 0;void 0===D&&(D=h);K=[C.K.C5,C.K.XZ];u.forEach(function(a){var d,k;d=a.M;k=g.Fxa.bind(g,C,d);a=new b.y1(c,C.Rf,C.I,C,a,D.Ma,K[d],f,C.AR,C.Ie,C.GR[d],null===B||void 0===B?void 0:B.re(d),k);C.Pj[d]=a;});return C;}c.__extends(d,a);Object.defineProperties(d.prototype,{u:{get:function(){return this.O.u;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Zk:{get:function(){return[this.gd[0].Zk,this.gd[1].Zk];},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Dm:{get:function(){return[this.gd[0].Dm,this.gd[1].Dm];},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Oc:{get:function(){return this.FG.Ma;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{$d:{get:function(){return this.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{qc:{get:function(){return this.FG.Ma+this.Ed;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{te:{get:function(){return this.ga+this.Ed;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{eb:{get:function(){return this.O.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{weight:{get:function(){return this.la.weight;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{la:{get:function(){return this.Bqa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{gd:{get:function(){return this.Pj;},enumerable:!0,configurable:!0}});d.prototype.Tg=function(){this.H7||(this.active=!1,this.sf&&(delete this.sf.children[this.la.id],this.sf=void 0),m.Ud(this.children,function(a){a&&a.sf&&(a.sf=void 0);}),this.children=Object.create(null),this.zC=void 0,a.prototype.Tg.call(this));};d.prototype.zea=function(a,b){void 0===b&&(b=h.I5);this.gd.forEach(function(b){(m.U(a)||b.M===a)&&b.reset();});switch(b){case h.I5:this.sf&&this.sf.zea(a,b);break;case h.Fwa:this.children&&m.Ud(this.children,function(c){c&&c.zea(a,b);});}};d.prototype.Mza=function(a){var b,c,f;if(!this.active)return!1;b=this.sf;if(b){c=b.re(a);f=c.Sa.TDa;if(0!==f&&(b.AD(a),f=c.Sa.TDa,0!==f))return!1;}return!0;};d.prototype.Ic=function(a){return this.gd[a];};d.prototype.Ujb=function(){return this.gd.every(function(a){return 0===a.TA;});};d.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.qc,playerEndPts:this.te,pipelines:this.gd,previousBranch:this.sf});};d.prototype.iHa=function(a,b){this.O.aJa(this);this.O=this.la.O=a;this.aHa(this.O);this.O.wFa(this);this.gd.forEach(function(a){var c;c=b[a.M];c&&a.eHa(c);});};d.prototype.fib=function(a){return this.Ay[a];};d.prototype.re=function(a){return this.gd[a];};d.prototype.qib=function(a){return this.gd[a].TA;};d.prototype.xfa=function(a,b,c){var f,d,k,g;f=this;d=this.la;a=this.AT(d.T,this.O,a,this.u===(a?a.u:this.sb.Nb.u));k=a.cG;g=a.Lt;void 0===b&&(b=[0,1]);0===g.length||b.forEach(function(a){var b,k;b=f.gd[a];c&&(b.xg=g[a]);k=f.lL(d.ga);b.AZ(k[a]);});return k;};d.prototype.sFa=function(a,c){var f,d,k,g;f=this.Za;d=this.gd[0];void 0===c&&(c=d.Zkb);this.sf&&(k=this.sf.Ic(0));g=this.sb.Fxa.bind(this.sb,this,0);f=new b.y1(f,this.Rf,this.I,this,a,c,d.$N,this.K,this.AR,this.Ie,this.GR[0],k,g);this.gd[0]=f;this.xfa(this.sf,[0],!0);f.eB(c);d.Tg();m.Ud(this.children,function(b){b&&b.sFa(a);});};d.prototype.Vq=function(a,b){if(b=this.gd[b])return b.Sa.Vq(a);};d.prototype.AD=function(a){void 0===a?this.gd.forEach(function(a){a.AD();}):this.gd[a].AD();};d.prototype.wN=function(a,b,c){(a=this.gd[a])&&a.Sa.wN(b,c);};d.prototype.FV=function(a,b){(b=this.gd[b])&&b.Sa.FV(a);};d.prototype.bob=function(a){this.mpa[a]=!0;};d.prototype.g7a=function(){var a;a=this;return[0,1].every(function(b){return!a.eb(b)||a.mpa[b];});};d.prototype.e7a=function(a,b,c,f){var d,g,p,m,t,q,h,y;d=this.K;g=this.Za;p=this.V.Yc();m=p===k.oa.Pe||p===k.oa.Lh;if(!m&&void 0===c)return{vg:!0};t=this.gd[0];q=this.gd[1];h=this.sb.Oq(this,0);y=this.sb.Oq(this,1);p=u.oEa(p);b=!t||t.$sa(p,this.V.sd(),b,h,f);a=!q||q.$sa(p,this.V.sd(),a,y,f);d.Vf&&this.Rf.Ni("Branch checkBufferingComplete02, audio: "+h+" video: "+y+" audio ready: "+b+" video ready: "+a);void 0!==c&&b&&(h=c.cb,y=this.O.getTrackById(h),this.MYa(h,y.UG),g.ct=void 0);if(b&&a)return this.fD(),{vg:!0,kp:q?q.gz:t.gz};h=this.Nk(0);y=this.Nk(1);if(m){g=!q||y>d.$g;if((!t||h>d.$g)&&g&&(t=this.uL(),t>=d.wr))return this.Ia("buffering longer than limit: "+t+" >= "+d.wr+", audio buffer: "+h+" ms, video buffer: "+y+" ms"),this.fD(),{vg:!0,kp:"prebufferTimeLimit"};this.Rf.o0a();}return{vg:!1};};d.prototype.m6=function(a,b){var c,f,d,k,g,p;c=this.K;f=this.gd[0];d=this.gd[1];b?(b=this.Nk(0,a),a=this.Nk(1,a)):(b=this.sb.Oq(this,0,a),a=this.sb.Oq(this,1,a));k=c.$g;g=!this.eb(0)||f.Hg&&0===f.Sa.tu&&0===f.Sa.Pr;f=!this.eb(1)||d.Hg&&0===d.Sa.tu&&0===d.Sa.Pr;p=g&&f;c=!g&&b<c.$g;if(!p&&(c||!f&&a<k))return!1;if(d&&d.vg||!this.eb(1))return!0;if(p)if(this.Za.dS&&0===b&&0===a)this.Ia("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};d.prototype.Jxb=function(a,b){var c,f;c=this;f=this.K;this.gd.forEach(function(a){a.seeking=void 0;});a&&f.Vf&&this.gd.forEach(function(a){var f;if(a){f=c.sb.kz(c,a.M);a="bufferingComplete: , mediaType: "+a.M+", bufferLevelBytes: "+a.Dm.ba+", completedMs: "+a.OD+", completedBytes: "+f+", partials: "+a.Sa.tu+", streamingPts: "+a.Bb+", completeStreamingPts: "+a.Ik+", fragments: "+JSON.stringify(a.Sa.X)+", toAppend: "+b(a.M);c.Rf.Ni(a);}});};d.prototype.dxa=function(){var a,b;a=!0;b={};this.gd.map(function(c){var f;f=1===c.M?"v":"a";c=c.Dm;b[f+"buflmsec"]=c.Ma;b[f+"buflbytes"]=c.ba;a=a&&0<c.Ma;});return{XV:a,dK:b};};d.prototype.PZ=function(a,b,c){var f,d,k;f=this;d=p.time.fa();k={};m.Ud(this.children,function(a){var b,c;if(a){a.fd?(a.fd.bcb=d-a.fd.tW,a.fd.tW=void 0,b=a.fd.weight):b=f.sb.pya(f.la.id,a.la.id);c=a.dxa();k[a.la.id]={weight:b,dK:c.dK,XV:c.XV};}});c={requestTime:d,oZ:a,abb:c,NZ:this.la.id,fd:k};a||(a=b.sd(),c.CHa=a-this.FG.Ma+this.Ed,c.jU=0,c.startTime=d);this.Nr.unshift(c);return c;};d.prototype.U7a=function(a){var b,c;b=this.Nr[0];b.oZ&&(b.CHa=this.ga-this.FG.Ma);c=a.dxa();b.JIa={};f(c.dK,b.JIa);b.XV=a.Dm.every(function(a){return 0<a.Ma;});this.Nr=[];return b;};d.prototype.Ti=function(a){var b;b=this.la;a-=this.Ed;if(b.T<a&&a<b.ga)this.Nr.shift();else if(b=this.Nr[0])b.Ti=!0;};d.prototype.AT=function(a,b,c,f){var d,k,g,p;d=this;void 0===b&&(b=this.O);k=!1;if(c){k=!0;g=c.gd[1].jg;c=c.gd[0].jg;if(!g||!c)return{cG:[],Lt:[]};g=g.ga;f||(g=void 0);}p=this.kwa(a,g,k,b);b.Ua===this.sb.Z$a&&[1,0].forEach(function(a){var b;b=d.re(a);b&&(b.xg=p[a]);});return{cG:p.map(function(a){return a.T;}),Lt:p};};d.prototype.kwa=function(a,b,c,f){var d;d=this;void 0===f&&(f=this.O);return this.Wqa(f)?[1,0].map(function(k){if(!d.eb(k))return{};k=d.gd[k].kL(f.Yf[k].stream,a,b,c);a=k.T;return k;}).reverse():[];};d.prototype.lL=function(a,b){var c;c=this;void 0===b&&(b=this.O);return this.Wqa(b)?[1,0].map(function(f){var d;if(!c.eb(f))return{};d=b.Yf[f].stream;f=c.gd[f].CE(d,a);a=c.K.$c?new t.Ta(f.yb,d.La.W).Ma:f.ga;return f;}).reverse():[];};d.prototype.LBb=function(a,b){var c;c=this.la.ga;c&&c<b&&(a=this.lL(c));b=this.Ic(1);c=this.Ic(0);b&&b.AZ(a[1]);c&&c.AZ(a[0]);};d.prototype.Wqa=function(a){var b;b=a.Yf;if(!b)return!1;a=b[1];a=!this.eb(1)||a&&a.stream.ud;b=b[0];b=!this.eb(0)||b&&b.stream.ud;return a&&b?!0:!1;};d.prototype.MYa=function(a,b){this.Rf.m0a(a,b);};return d;}(q.$_);d.rRa=D;a.Wi(g.EventEmitter,q.$_);},function(g,d,a){var q,b;function c(a,b,c,f,d,g){return new m(a,b,c,f,d,g);}function f(a){return a&&0<=a.indexOf(".__metadata__");}function m(a,b,c,f,d,g){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=f;this.creationTime=d;this.lastRefresh=g;return this.EIa();}q=a(6);b=a(113);a(112);new b.Console("MEDIACACHE","media|asejs");m.prototype.refresh=function(){this.lastRefresh=b.time.now();return this.EIa();};m.prototype.bHa=function(a){this.size=a;};m.prototype.Cta=function(){var a;a=b.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};m.prototype.EIa=function(){this.lastMetadataUpdate=b.time.now();return this;};m.prototype.constructor=m;g.P={create:c,m9:function(a){var b;b=a;"string"===typeof a&&(b=JSON.parse(a));if(b&&b.partition&&!q.U(b.lifespan)&&b.resourceIndex&&b.creationTime&&b.lastRefresh)return a=c(b.partition,b.resourceIndex,b.lifespan,-1,b.creationTime,b.lastRefresh),b.lastMetadataUpdate&&(a.lastMetadataUpdate=b.lastMetadataUpdate),!q.U(b.size)&&0<=b.size&&a.bHa(b.size),a.Cta(),a.convertToBinaryData=b.convertToBinaryData,a;},V6:function(a){return a+".__metadata__";},MU:function(a){return f(a)?a.slice(0,a.length-13):a;},cF:f};},function(g,d,a){var B,I,C,K,l,n,ca,R,S,N,r,W,fa;function c(){}function f(a,b){var f,d,k,g;f=B.Qb(b)?b:c;this.K=a||{};(function(a,b,c){this.Qh[a].Ad[b]=c;}.bind(this));(function(a,b){return this.Qh[a].Ad?this.Qh[a].Ad[b]:void 0;}.bind(this));this.on=this.addEventListener=W.addEventListener;this.removeEventListener=W.removeEventListener;this.emit=this.Ga=a.ROb?W.Ga:c;d=K.q$a(a);k=this.K.dailyDiskCacheWriteLimit;if(d){this.tq=d;g=u(a.$ba||fa,K.Bgb());this.Us=function(a){return B.U(g)||null===g||void 0===this.Qh[a]?!1:!B.U(g[a]);};g?(this.Qh={},b=I.Promise.all(Object.keys(g).map(function(b){return new I.Promise(function(c,f){var p;p=g[b];p.yJa=a.yJa;new l(b,d,p,function(a,b){a?f(a):c(b);},k);});})).then(function(a){a.map(function(a){var b;b=a.Fv;this.Qh[b]=a;g[b].kfb=g[b].lp-a.Ts;this.Qh[b].on(l.Ld.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.Ga("mediacache",a);}.bind(this));this.Qh[b].on(l.Ld.aoa,function(a){a=a||{};a.partition=b;a.type="save";this.Ga("mediacache",a);}.bind(this));this.Qh[b].on(l.Ld.ERROR,function(a){a=a||{};a.partition=b;a.type=l.Ld.ERROR;this.Ga("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this)).then(function(a){p(d,I.storage.bC,Object.keys(g));return a;}.bind(this)).then(function(a){Object.keys(a.Qh).map(function(b){a.Qh[b].K9().map(function(c){a["delete"](b,c);});});a.jo=!0;f(null,a);}.bind(this))["catch"](function(a){C.error("Failed to initialize media cache ",a);this.Vz=N.sia;f(this.Vz,this);}.bind(this)),r.zr(b)):(this.Vz=N.SQa,f(this.Vz,this));}else this.Vz=N.sia,f(this.Vz,this);}function m(a,b,c,f,d,k){var g;g=k?"mediacache-error":"mediacache";b={partition:c,type:b,resource:f,time:I.time.now()};k&&(b.error=k);d&&(B.ka(d.duration)&&(b.duration=d.duration),B.ka(d.mt)&&(b.bytesRead=d.mt));try{a.Ga(g,b);}catch(Ea){C.warn("caught exception while emitting basic event",Ea);}}function q(a,b,c,f,d){var k;k=d?"mediacache-error":"mediacache";b={partition:c,type:b,resources:f,time:I.time.now()};d&&(b.error=d);try{a.Ga(k,b);}catch(ia){C.warn("caught exception while emitting basic event",ia);}}function b(a){return!B.U(a)&&!B.Ja(a)&&B.ka(a.lifespan);}function k(a){return!n.cF(a)&&!R.vlb(a);}function p(a,b,f){a.query(b,"",function(d,k){d||Object.keys(k).filter(function(a){return 0>f.indexOf(a.slice(0,a.indexOf(".")));}).map(function(f){a.remove(b,f,c);});});}function t(a,b,c){var d,k;function f(b){a["delete"](d,function(f){f?c(f):(delete a.Ad[k],f=Object.keys(b.resourceIndex),f=I.Promise.all(f.map(function(b){return new I.Promise(function(c,f){a["delete"](b,function(a){a?f(a):c(b);});});})).then(function(){c();},function(a){c(a);}),r.zr(f));});}n.cF(b)?(d=b,k=n.MU(b)):(d=n.V6(b),k=b);(b=a.Ad[k])?f(b):a.read(d,function(a,b){a?c(a):f(b);});}function u(a,b){var c,f,d;c={};f=a.partitions.reduce(function(a,b){return a+b.capacity;},0);d=b/f;a.partitions.map(function(a){var b;b=a.key;c[b]={};c[b].lp=Math.floor(d*a.capacity);c[b].$$a=a.dailyWriteFactor||1;c[b].VRb=a.owner;c[b].Tdb=a.evictionPolicy;});return c;}function h(a,b,c){if(c)return R.Jbb(a,b).reduce(function(a,b){Object.keys(b).map(function(c){a[c]=b[c];});return a;},{});c={};c[a]=b;return c;}function D(a,b,c,f,d,k,g,p,m,t,q){return function(u,h){u?B.isArray(u)?(h=u.map(function(a){return a.error;}),h.some(function(a){return a.code===N.KB.code;})&&!h.some(function(a){return a.code===N.WQ.code;})?q(t,u,function(){m.save(b,c,f,d,k,g);}):(t["delete"](p),delete t.Ad[c],k({error:u[0].error,uu:u[0].uu,type:u[0].type,ura:u}))):k({error:u,uu:b,type:"save"}):(u=h.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.QW;},0),t.Ad[c].bHa(u),u={kfb:h.nj,cOb:h.$D,Di:0,items:h},0<h.Di&&(u.Di=h.Di),0<h.duration&&(u.duration=h.duration),k(null,u));};}B=a(6);I=a(113);C=new I.Console("MEDIACACHE","media|asejs");K=a(741);l=a(740);n=a(363);ca=a(112);R=a(733);S=a(732);N=a(209);r=a(208);W=a(111).EventEmitter;fa={cSb:[]};f.prototype.NA=function(a,b,f){var d;d=B.Qb(f)?f:c;this.Us(a)?this.Qh[a].query(b,function(a,b){a?(C.error("Failed to query resources",a),d([])):d(b.filter(k));}):d([]);};f.prototype.read=function(a,b,f){var d,k,g,p;d=B.Qb(f)?f:c;if(this.Us(a)){k=this.Qh[a];g=k.Ad[b];if(!n.cF(b)&&this.K.Mob){p=function(c){k.QY(Object.keys(c),function(c,f,k){c?d(N.hC.ln("Failed to read "+b,c)):(m(this,"read",a,b,k),d(null,R.clb(f)));}.bind(this),c);}.bind(this);g?p(g.resourceIndex):this.Dub(a,b,function(a,c){a?d(N.hC.ln("Failed to read "+b,a)):p(c.resourceIndex);});}else k.read(b,function(c,f,k){c?d(N.hC.ln("Failed to read "+b,c)):(g&&g.convertToBinaryData&&(f=S.v8a(f)),m(this,"read",a,b,k),d(null,f));}.bind(this));}else d(N.av);};f.prototype.QY=function(a,b,f){var d,k;d=B.Qb(f)?f:c;if(this.Us(a)){k={};b=I.Promise.all(b.map(function(b){return new I.Promise(function(c,f){this.read(a,b,function(a,d){a?(d={},d[b]=a,f(d)):(k[b]=d,c());});}.bind(this));}.bind(this))).then(function(){d(null,k);},function(a){d(a);});r.zr(b);}else d(N.av);};f.prototype.mGa=function(a,b,f){var d;d=B.Qb(f)?f:c;this.Us(a)?"[object Object]"!==Object.prototype.toString.call(b)?d(N.VQ.ln("items must be a map of keys to objects")):(f=new I.Promise(function(c){var f,d;f=this.Qh[a].K9();d=Object.keys(b);(f=f.filter(function(a){return-1===d.indexOf(a);}))&&0<f.length?this.Jua(a,f,function(){c();}):c();}.bind(this)).then(function(){return I.Promise.all(Object.keys(b).map(function(c){return new I.Promise(function(f,d){this.save(a,c,b[c].dn,b[c].vd,function(a,b){a?(C.error("Received an error saving",c,a),d(a)):f(b);},!0);}.bind(this));}.bind(this)));}.bind(this)).then(function(c){var f,k,g;try{f=Number.MAX_VALUE;k=Number.MAX_VALUE;g=c.reduce(function(a,b){b.nj&&b.nj<f&&(f=b.nj);b.$D&&b.$D<k&&(k=b.$D);f<Number.MAX_VALUE&&(a.freeSize=f);k<Number.MAX_VALUE&&(a.dailyBytesRemaining=k);B.ka(b.Di)&&(a.bytesWritten+=b.Di);B.ka(b.duration)&&(a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(b),time:I.time.now(),bytesWritten:0,duration:0});this.Ga("mediacache",g);d(null,g);}catch(wa){d(err);}}.bind(this),function(b){B.isArray(b.ura)?b.ura.forEach(function(b){this.Ga("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.ON});}.bind(this)):this.Ga("mediacache-error",{partition:a,type:"saveMultiple",error:b});d(b);}.bind(this)),r.zr(f)):(B.Qb(f)?f:c)(N.av);};f.prototype.save=function(a,f,d,k,g,p){var t,u,y,K,l,Q,T,R,A;t=B.Qb(g)?g:c;if(this.Us(a)){u=this.Qh[a];y=n.V6(f);g=u.K9();g=g.filter(function(a){return a!==f;});if(b(k)){K=h(f,d,this.K.Mob);l=u.Ad[f]||{};Q=l.resourceIndex;Q&&Object.keys(Q).map(function(a){B.U(K[a])&&u["delete"](a);});k.convertToBinaryData&&(d=S.w8a(K),K=h(f,d,!1));Q=I.time.now();T={};T.partition=a;T.resourceIndex=Object.keys(K).reduce(function(a,b){a[b]=ca.z$(K[b]);return a;},{});T.creationTime=l.creationTime||Q;T.lastRefresh=Q;T.lifespan=k.lifespan;T.lastMetadataUpdate=Q;T.size=l.size;T.convertToBinaryData=k.convertToBinaryData;R=function(a,b,c){a.ebb(function(d,k){d&&C.error("Evicting","Failed to delete some orphaned records",d);k.iea?c():(d=a.Pgb())?this["delete"](a.getName(),d,function(d){d?(p||(B.isArray(b)?b.forEach(function(b){q(this,"save",a.getName,b.ON,b.error);}.bind(this)):m(this,"save",a.getName(),f,void 0,b)),t(b)):c();}.bind(this)):t(N.KB);}.bind(this));}.bind(this);A=function(){var a,b,c;a=this.Qh;b=0;c=I.time.now();if(!B.U(a))for(var f in a)b+=a[f].Zfb(c);return b;}.bind(this);this.Jua(a,g,function(){u.replace(y,T,function(b,c){c?(u.Ad[f]=n.m9(T),u.Kvb(K,D(K,a,f,d,k,t,p,y,this,u,R),p,A)):b.code===N.KB.code?R(u,b,function(){this.save(a,f,d,k,t,p);}.bind(this)):t(b);}.bind(this),p,A);}.bind(this));}else t(N.WRa);}else t(N.av);};f.prototype["delete"]=function(a,b,f){var d;d=B.Qb(f)?f:c;this.Us(a)?t(this.Qh[a],b,function(c){m(this,"delete",a,b,void 0,c);d(c);}.bind(this)):d(N.av);};f.prototype.Jua=function(a,b,f){var d,k;d=B.Qb(f)?f:c;if(this.Us(a)){k=this.Qh[a];f=I.Promise.all(b.map(function(a){return new I.Promise(function(b){t(k,a,function(c){b({$:B.U(c),error:c,dn:a});}.bind(this));}.bind(this));}.bind(this))).then(function(b){var p,m;for(var c=[],f=[],k=[],g=0;g<b.length;g++){p=b[g];p.$?c.push(p.dn):p.error&&f.push(p);}0<c.length&&q(this,"delete",a,c);0<f.length&&(k=f.map(function(a){return a.dn;}),b=r.Hya(f),m=b[0],b.forEach(function(b){C.error("Failed to delete resources ",b.error,b.ON);q(this,"delete",a,b.ON,b.error);}.bind(this)));b={};b.ESb=c;0<k.length&&(b.FSb=k);m?d(m,b):d(void 0,b);}.bind(this),function(c){q(this,"delete",a,b,c);d(c);}.bind(this));r.zr(f);}else d(N.av);};f.prototype.clear=function(a,b){var f;f=B.Qb(b)?b:c;this.Us(a)?this.Qh[a].clear(function(a){f(a.filter(k));}):f(N.av);};f.prototype.Dub=function(a,b,f){var d,k;d=B.Qb(f)?f:c;if(this.Us(a)){f=n.V6(b);k=this.Qh[a];k.read(f,function(a,c){var f;if(a)d(N.XRa);else{f=n.m9(c)||{};k.gya(Object.keys(f.Aea),function(a){f.size=a;(a=k.Ad[b])&&(f.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=f.lastMetadataUpdate?k.Ad[b]=f:a.lastMetadataUpdate&&(a.lastMetadataUpdate>f.lastMetadataUpdate||B.U(f.lastMetadataUpdate))&&(f=a));d(null,f);});}});}else d(N.av);};f.prototype.r_=function(a){I.TL(a);};f.prototype.constructor=f;g.P=f;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jta=function(a,c){var f;if(!Array.isArray(a.Ita))return a;f=a.Vn?a.Vn():Object.create(a);a.Ita.forEach(function(a){if(void 0!==a.ypb&&c.duration>=a.ypb&&a.config)for(var d in a.config)f[d]=a.config[d];});return f;};},function(g){g.P="4.1.829";},function(g,d,a){var c,f,m,q,b,k,p,t,u,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(27);f=a(379);m=a(21);q=a(16);b=a(8);k=a(29);p=a(6);t=a(750);u=a(748);h=a(747);a=function(a){function d(b,c,f,k,g,p,t,y,B,D){var C;C=a.call(this)||this;C.console=b;C.bRb=c;C.Pd=f;C.Zp=g;C.V=B;C.config=D;C.i0a=f.hi.ab[d.rF(0)].va;C.$C=new q.uQ(m.oa.rg);C.$R=!1;C.o1a=!1;C.D_=new h.eYa(C.console,function(a){return C.Pd.hi.ab[a].va;});C.Pd.gyb(C.D_);f.jyb({cfa:function(){return k[0];}},{cfa:function(){return k[1];}});C.HOb=!1;C.GOb=!1;u.$nb(c,C,C.Pd);return C;}c.__extends(d,a);Object.defineProperties(d.prototype,{u:{get:function(){return this.i0a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{cu:{get:function(){return this;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ad:{get:function(){return{Dza:{1:{X:{ga:Infinity}}}};},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{xda:{get:function(){return this.o1a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!0,configurable:!0}});d.rF=function(a){return"s"+a;};d.Xea=function(a){return parseInt(a.slice(1));};d.prototype.o_=function(){b.assert(!1);};d.prototype.open=function(){var a,b;this.Pd.open();this.emit("openComplete",{type:"openComplete"});this.Pd.Wwb(this.Zp);a=d.Zsb.U4a(this.V,this.Pd);b=a.Uk;this.hj=a.hj;this.Uk=b;u.Znb(this,this.hj);};d.prototype.close=function(){this.Pd.close();};d.prototype.flush=function(){this.Pd.Osa();};d.prototype.paused=function(){this.$C.value===m.oa.Ec&&(this.$C.set(m.oa.jh),this.Uk.emit("paused",{type:"paused",Kc:this.Uk.Xc}));};d.prototype.UO=function(){this.$C.value===m.oa.jh&&(this.$C.set(m.oa.Ec),this.Uk.emit("playing",{type:"playing",Kc:this.Uk.Xc}));};d.prototype.ic=function(){};d.prototype.suspend=function(){b.assert(!1,"Not supported");};d.prototype.resume=function(){b.assert(!1,"Not supported");};d.prototype.play=function(){this.Pd.state!==f.Px.CLOSED&&(this.Uk.emit("playing",{type:"playing",Kc:this.Uk.Xc}),this.$C.set(m.oa.Ec),this.emit("play"));};d.prototype.stop=function(){this.$C.set(m.oa.jC);this.Uk.emit("paused",{type:"paused",Kc:this.Uk.Xc});this.emit("stop");};d.prototype.WK=function(a,b){var c;void 0===b&&(b=!0);if(!this.hj)return this.fail("Must call open prior to drmReady");c=parseInt(a);p.isFinite(c)?b?this.hj.sfa(c):this.hj.Nxb(c):this.Pd.close({Nva:"Invalid viewableId "+a});};d.prototype.dr=function(a,b){if(!this.hj)return!1;a||(a=this.Pd.hi.ab[void 0!==b?d.rF(b):this.hj.position.$a].va);return this.hj.Uza(a);};d.prototype.ZIa=function(){this.Uk.emit("underflow",{type:"underflow",Kc:this.Uk.Xc});};d.prototype.Ti=function(){return this.Tk("skipped");};d.prototype.Msa=function(){};d.prototype.xt=function(a,b){var c;if(this.hj){c=new k.Ta(b,1E3);return(c=this.hj.pEa(c))&&c.$a===d.rF(a||0)?this.Pd.hi.ab[c.$a].og+c.offset.Ma:this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex "+a+", playerPts: "+b);}return b;};d.prototype.xK=function(a,b){var c,f;f={$a:d.rF(a||0),offset:new k.Ta(b-this.Pd.hi.ab[d.rF(a||0)].og,1E3)};return(f=null===(c=this.hj)||void 0===c?void 0:c.Gya(f))?f.Ma:this.fail("convertPtsToPlayerPts failed to convert manifestIndex "+a+", playerPts: "+b);};d.prototype.AW=function(){return{};};d.prototype.sY=function(){this.$R=!0;};d.prototype.sd=function(){return this.V.sd();};d.prototype.jya=function(){return this.hj?this.hj.position.$a:this.fail("No player attached, please call open");};d.prototype.qV=function(){return this.Tk("getChildBranchInfo");};d.prototype.DV=function(){return this.Tk("getPresentingBranchInfo");};d.prototype.CFa=function(){return this.Tk("removeSession");};d.prototype.aB=function(){return this.Tk("seekByContentPts");};d.prototype.seek=function(){return this.Tk("seek");};d.prototype.tt=function(){return this.Tk("chooseNextSegment");};d.prototype.sD=function(){return this.Tk("addManifest");};d.prototype.DJ=function(){return this.Tk("activateManifest");};d.prototype.jDa=function(){return this.Tk("onAudioTrackSwitchStarted");};d.prototype.bIa=function(){return this.Tk("switchTracks");};d.prototype.fB=function(a,b){this.D_.fB(a,b);};d.prototype.pt=function(){return!1;};d.prototype.JU=function(){return this.Tk("evaluateQoE");};d.prototype.$fa=function(){return this.Tk("stopBuffering");};d.prototype.CG=function(){return this.Tk("startBuffering");};d.prototype.sya=function(){return this.Tk("getStreamingStatistics");};d.prototype.fail=function(a){this.Pd.close({Nva:a});};d.prototype.Tk=function(a){return this.fail("Method not implemented "+a);};d.Zsb=new t.qVa();return d;}(g.EventEmitter);d.nI=a;},function(g,d,a){var q,b,k,p;function c(a,b,c){this.wo=b;this.Bm=c;this.Iu=this.VL=this.pY=this.SDa=this.RDa=this.KF=this.uc=this.Ysb=this.Bm=this.fh=this.Bb=this.T=this.cP=this.dP=this.X=this.Gza=this.Uv=void 0;}function f(a,b,c){this.ga=b;this.gAa=c;this.Qra=this.LJa=this.W4=this.dP=this.mr=this.Mk=void 0;}function m(a,b,f,d,g,p){var m;m=new c(0,b,a.Bm);a.forEach(function(a){var c,f;c=a.buffer;f=c.X;a.M===q.Fa.AUDIO?m.Uv=f.length?f[0].R:void 0:a.M===q.Fa.VIDEO&&(m.Gza=f.length?f[0].R:void 0,m.X=f,m.dP=c.Dl-c.Xc,m.cP=c.Eh,m.T=c.Xc,m.Bb=c.Bb,m.fh=a.zx,m.Bm=a.Bm,m.Ysb=b-a.Bm,m.uc=a.uc.filter(function(a){return k(a,!0);}),m.KF=f.filter(function(a){return m.T<=a.bG;}).length);});this.eh=m;this.Fl=void 0;this.oua=d;this.P5=g;this.eea=this.SY=this.uDa=this.bq=this.uD=this.fwa=this.el=this.uc=this.Fl=void 0;this.c4a=p;}q=a(13);d=a(32);b=d.assert;k=d.aA;p=a(21).oa;c.prototype.constructor=c;f.prototype.constructor=f;m.prototype.constructor=m;m.prototype.AE=function(a,b){var c,d,k,g,m,t,u,h,l,n,S,N,r,W,fa,ma,A,sa,oa,O,ia;c=this.eh;d=[];g=a[q.Fa.VIDEO];m=a[q.Fa.AUDIO];if(void 0===g||void 0===m)return!1;t=g.buffer;u=m.buffer;h=c.uc.filter(function(a){return a.yV();});if(void 0===t||void 0===u||void 0===h||0===h.length)return!1;k=new f(0,g.Xc,b===p.Lh);l=0;n=0;S=0;N=0;W=c.T;a=a[q.Fa.VIDEO].Xc;fa=c.X;r=c.KF;for(var V=0;V<r;V++){ma=fa[V];A=ma.offset;sa=ma.offset+ma.ba-1;O=ma.Tq;oa=ma.Bu;ia=oa+O;ma&&oa<=a&&ia>W&&(O=ma.Tq,oa=Math.min(O,Math.min(a,ia)-Math.max(oa,W)+1),N+=oa,l+=oa/O*(sa-A+1),n+=ma.R*oa,S+=ma.Dc*oa);}c.RDa=l;c.SDa=N;c.pY=0<N?n/N:0;c.qsb=0<N?S/N:0;c.VL||(c.VL=0,h.some(function(a,b){if(a.R===c.Gza)return c.VL=b,!0;}));h.forEach(function(a){var b,f;a=a.yV();b=[];c.Iu||(c.Iu=a.Gl(c.T,void 0,!0));k.Mk||(k.Mk=a.Gl(k.ga,void 0,!0),k.mr=a.length-1);c.fh!==c.Iu+c.KF&&(c.fh=c.Iu+c.KF);r=Math.min(k.mr,k.Mk+1);for(var g=c.Iu;g<=r;g++)f=a.get(g),b[g]=f;d.push(b);});b===p.Lh&&(k.dP=t.Dl-t.Xc,k.W4=u.Dl-u.Xc,k.LJa=g.iFa,k.Qra=m.iFa);this.Fl=k;this.uc=h;this.el=d;return this.fwa=!0;};m.prototype.Ot=function(){var a,c,f,d,k,g,p,m,q,h,l,n,N,r,W;if(this.Tm)return this.Tm;c=this.bq;a=this.eh;d=this.Fl;k=this.uc;g=this.uDa;n=this.c4a;b(void 0!==c,"throughput object must be defined before retrieving the logdata from PlaySegment");if(c.trace&&0===c.trace.length||void 0===c.timestamp)d.gAa?(q=!1,p=!0):d.Mk-a.Iu+1<=a.KF?p=q=!0:(q=!0,p=!1),m=!0;if(g){h=g.ko;l=g.KU;for(var S=0;S<n.length;S++)f=n[S],(c=g[f])&&c.ex&&(p=!0);}a={bst:a.Bm,pst:a.wo,s:a.Iu,e:d.Mk,prebuf:a.KF,brsi:a.fh,pbdlbytes:a.RDa,pbdur:a.SDa,pbtwbr:a.pY,pbvmaf:a.qsb};m&&(a.nt=m);p&&(a.nd=p);h&&(a.invalid=h);l&&(a.exception=l);this.eea&&(a.rr=this.eea);this.SY&&(a.ra=this.SY);if(!p&&!h&&!l&&this.oua){a.bitrate=k.map(function(a){return a.R;});c=this.bq;f=c.trace;N=[];r=0;f.forEach(function(a){a=Number(a).toFixed(0);N.push(a-r);r=a;});a.tput={ts:c.timestamp,trace:N,bkms:c.yl};}if(p||m||h||l)a.feasible=q;else for(a.sols={},a.elapsed=g.BU,S=0;S<n.length;S++){f=n[S];c=g[f];p={};if(c&&c.Jr&&(p.algelapsed=c.b4a,p.maxHeapTotal=c.Ip,p.f=c&&c.di||!1,p.dltwbr=c.Nbb,p.dlvmaf=c.Yua,p.dlvdur=c.R7,p.dlvbytes=c.Q7,p.dlabytes=c.P7,this.oua)){r=0;W=[];c.Jr.filter(function(a){return a;}).map(function(a){return a.wd;}).forEach(function(a){W.push(a-r);r=a;});p.strmsel=W;}a.sols[f]=p;}return this.Tm=a;};g.P=m;},function(g,d,a){var c,f,m,q,b,k,p,t,u,h,D;Object.defineProperty(d,"__esModule",{value:!0});c=a(6);f=a(3);m=a(32).aA;q=a(16).Ww;b=a(368);k=a(383);p=a(232);t=a(21);g=function(){function a(a,b,c,f,d,k,g,p,m,t,q){var y;y=this;this.I=a;this.ff=b;this.K=c;this.eb=f;this.V=d;this.wG=k;this.Vb=g;this.Ra=p;this.Xe=m;this.bK=t;this.Kv=q;this.AS=[];this.E4=[];this.Ipa=[];this.qoa=void 0;[0,1].forEach(function(a){y.eb(a)&&(y.AS[a]=new D(y.I,a),y.E4[a]=new u(a),y.Ipa[a]=new h(a));});this.xv=void 0;}Object.defineProperties(a.prototype,{Be:{get:function(){return this.AS;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ju:{get:function(){return this.E4;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pr:{get:function(){return this.Ipa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ct:{get:function(){return this.qoa;},set:function(a){this.qoa=a;},enumerable:!0,configurable:!0}});a.prototype.kX=function(a){var b,d,k,g,p;b=this.K;d=a.M;k=f.Zj()[d];b=b.rCb?0===d?b.QJ:b.fP:1===d?b.QJ:b.fP;g=this.V.Yc();p=this.V.sd();d=this.bK.sBa(a.Sa.Dd,d);k={lp:k,T:d.qc,Xc:p,Bb:d.WF||p,Dl:d.Ik||p,Eh:d.Eh,Qi:d.Qi,i9:d.X.length,X:[]};b={state:g,Mw:this.V.Mw(),zx:a.Sl,buffer:k,V7:b,iBa:!!this.wG.tM,ZK:!!this.wG.Er,Mn:this.Vb&&this.Vb.Mn};void 0===b.zx&&(b.zx=a.M8(k.Bb));k.X=d.X;c.ka(k.T)?a.seeking&&k.Xc!=k.T&&(k.Xc=k.T):(k.T=0,k.Bb=0);this.ff.k7a(b);this.ff.I3a(b);return b;};a.prototype.j7a=function(a,b,c){var p,t;a=this.AS[a];for(var f=a.po,d="manifest",k=0,g=b.length-1;0<=g;g--){p=b[g];t=p.R;if(m(p)){k=Math.max(k,t);break;}else!p.inRange&&p.iE&&Array.isArray(p.iE)?d=p.iE.join("|"):this.K.YZ&&!p.xw?d="bc":p.pf?p.Xg&&(d="hf"):d="av";}if(void 0===f||k!==f){a.po=k;if(this.Kv.ao)try{this.xv&&this.Djb();}catch(U){this.Ra.Tl("Hindsight: Error when handling maxbitrate chagned: "+U);}this.Ra.wqb(f,k,d,c);}};a.prototype.Cib=function(a){return this.r$(a).Ch;};a.prototype.r$=function(a){var b,f,d,g,p,m,q,u,h,y,B,D,I;b=this.K;f=a.M;d=1==f;p=this.AS[f];m=this.E4[f];if(!p.Zl)return{Ch:void 0};q=this.kX(a);u=a.$p;h=u.au;y=a.bX;B=y.O;D=a.track.uc;I=h?h.Ch:p.Z8;if(h&&(g=h.R,h&&!h.track.equals(u.track))){I=k.mwa(D,g);void 0===I&&a.Ia("Unable to find stream for bitrate "+g);g=D[I];if(h.R!==g.R||1===f)q.state=t.oa.rg;h=g;}if(!B.ck.WO(B.va,D))return a.Md("location selector did not find any urls"),{Ch:void 0};if(!d&&(g=b.MG,!(g&&0<g.length)&&I&&D[I]&&h&&h.location===D[I].location))return{Ch:I};q=a.IG.tZ(q,D,void 0,this.ff.iib(f),p.Zl.config.Gsb,B.Zh);if(!q)return a.Md("stream selector did not find a stream"),{Ch:void 0};this.wG.Er&&this.wG.Er.O3a(a.M,q,D);d&&this.j7a(f,D,a.Bb);f=q.wd;D=D[f];h=D.R;f!=I&&(d&&b.qE&&this.Xe.hoa(a,h),d||this.ff.xG(h));c.ka(p.Z8)||(p.Z8=f);a.vg||(q.vg?(a.vg=!0,m.kp=q.wsa,a.gz=q.wsa):(a.uM=q.uM,a.YA=q.YA,a.xj=q.xj));this.us();d&&B.rfa(y,q.fE);return{pa:D.pa,Ch:f};};a.prototype.us=function(){var a,b,c,f,d,k;f=this.Be[0];d=this.Ju[1];k=this.Ju[0];f=this.bK.Nb.e7a((b=null===(a=this.Be[1])||void 0===a?void 0:a.Pp,null!==b&&void 0!==b?b:0),(c=null===f||void 0===f?void 0:f.Pp,null!==c&&void 0!==c?c:0),this.ct,this.wG.IA);f.kp&&(this.wG.qk&&d?d.kp=f.kp:k&&(k.kp=f.kp));return f.vg;};a.prototype.K8=function(a,b){var c,f,d,k;c=this;if(this.xv){f=this.xv;d=this.V.sd();k=[];b&&(d=b.ga);p.Of.forEach(function(b){var f,g;f=c.bK.Nb.Ic(b);if(f){g=c.kX(f);g.M=b;g.Xc=d;a===t.oa.Lh&&(g.iFa=f.Sa.p5(d));k[b]=g;}});f.fwa||f.AE(k,a)||this.xea();return f;}};a.prototype.Djb=function(){var a,c,d,k;a=this;c=this.xv;d=this.K;k=[];c&&(this.K8(void 0),c&&!c.uD&&this.ff.Wda.x8(c));p.Of.forEach(function(b){var c,d;c=a.bK.Nb.Ic(b);if(c){d=a.kX(c);d.Bm=f.time.fa();d.uc=c.track.uc;d.M=b;k[b]=d;}});c=f.Zj();c={a3a:c[0],bH:c[1],BM:d.lA};this.xv=c=new b(k,f.time.fa(),void 0,this.Kv.rE,c,d.NL);};a.prototype.xea=function(){this.xv=void 0;};a.prototype.RBb=function(a){var c,d,k,g,m;c=this;d=a.oldValue;k=a.newValue;g=this.xv;a=this.K;k===t.oa.Ec&&d!==t.oa.Ec?(g&&this.I.warn("override an existing play segment!"),m=[],p.Of.forEach(function(a){var b,f,d;b=c.bK.Nb.Ic(a);if(b){f=c.kX(b);d=c.Be[a];d.Rfa?(f.Bm=d.Rfa,d.Rfa=void 0):f.Bm=d.Bm;f.uc=b.track.uc;f.M=a;m[a]=f;}}),k=f.Zj(),k={a3a:k[0],bH:k[1],BM:a.lA},this.xv=g=new b(m,f.time.fa(),d,this.Kv.rE,k,a.NL)):k!==t.oa.Ec&&d===t.oa.Ec&&g&&(this.K8(k),g&&!g.uD&&this.ff.Wda.x8(g),this.xea());};return a;}();d.aXa=g;u=function(){function a(a){this.M=a;this.eK=this.co=this.Uz=this.kp=this.io=void 0;}a.prototype.WBb=function(a,b,c,f){this.io=a?a:this.io;this.kp=this.kp;this.Uz=b?b:this.Uz;this.co=c?c:this.co;this.Ukb=f?f:this.Ukb;};return a;}();d.yLb=u;h=function(){return function(a){this.M=a;this.XW=this.cba=this.XW=this.$aa=this.eA=void 0;};}();d.fla=h;D=function(){return function(a,b){this.M=b;this.I=q(f,a,"["+b+"]");this.Md=this.I.error.bind(this.I);this.Ia=this.I.warn.bind(this.I);this.fj=this.I.trace.bind(this.I);this.ob=this.I.log.bind(this.I);this.GC=this.I.debug.bind(this.I);this.Z8=this.Bm=this.vl=this.Zl=void 0;this.rN=this.Pp=0;this.fH=!1;this.po=void 0;};}();d.wLb=D;},function(g,d){function a(a,f){return a<f?-1:a>f?1:0;}Object.defineProperty(d,"__esModule",{value:!0});g=function(){function c(c,d){this.data=null!==c&&void 0!==c?c:[];this.compare=null!==d&&void 0!==d?d:a;if(!this.empty)for(c=(this.length>>1)-1;0<=c;c--)this.Poa(c);}Object.defineProperties(c.prototype,{length:{get:function(){return this.data.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{empty:{get:function(){return 0===this.data.length;},enumerable:!0,configurable:!0}});c.prototype.push=function(a){this.data.push(a);this.Sqa(this.length-1);};c.prototype.pop=function(){var a,c;if(!this.empty){a=this.data[0];c=this.data.pop();this.empty||(this.data[0]=c,this.Poa(0));return a;}};c.prototype.QF=function(){return this.data[0];};c.prototype.Jtb=function(a){a=this.data.indexOf(a);-1!==a&&this.Sqa(a);};c.prototype.Sqa=function(a){for(var c=this.data,f=this.compare,b=c[a],d,g;0<a;){d=a-1>>1;g=c[d];if(0<=f(b,g))break;c[a]=g;a=d;}c[a]=b;};c.prototype.Poa=function(a){for(var c=this.data,f=this.compare,b=this.length>>1,d=c[a],g,t,u;a<b;){g=(a<<1)+1;u=c[g];t=g+1;t<this.length&&0>f(c[t],u)&&(g=t,u=c[t]);if(0<=f(u,d))break;c[a]=u;a=g;}c[a]=d;};return c;}();d.gla=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(210);g=function(){var k4t;k4t=2;while(k4t!==3){switch(k4t){case 2:a.prototype.Wua=function(a,f){var v4t,b;v4t=2;while(v4t!==9){switch(v4t){case 2:b=null===this.B5?a*(100-this.config.c_)/100:c.Kra(a,this.B5);f=null!==f&&void 0!==f?f:this.sF;this.config.gba&&f?(a=c.Kra(a,f),a=Math.max(a,b)):a=b;v4t=3;break;case 3:return a;break;}}};a.prototype.xG=function(a){var u4t;u4t=2;while(u4t!==1){switch(u4t){case 4:this.B5=a;u4t=6;break;u4t=1;break;case 2:this.B5=a;u4t=1;break;}}};a.prototype.Sga=function(a){var d4t;d4t=2;while(d4t!==1){switch(d4t){case 4:this.config=a;d4t=2;break;d4t=1;break;case 2:this.config=a;d4t=1;break;}}};return a;break;}}function a(a,c){var O4t,M4t;O4t=2;while(O4t!==3){M4t="1SIYb";M4t+="Z";M4t+="rNJCp9";switch(O4t){case 2:this.config=a;this.sF=c;this.B5=null;O4t=4;break;case 4:M4t;O4t=3;break;}}}}();d.Mha=g;},function(g,d,a){var m,q,b,k,p,t;function c(a,b,c,f){k(!m.U(f),"Must have at least one selected stream");return new t(f);}function f(a,b,c,f){k(!m.U(f),"Must have at least one selected stream");return new t(f);}m=a(6);d=a(32);q=d.console;b=d.debug;k=d.assert;p=d.aA;t=d.yn;g.P={STARTING:function(a,c,f){var k,g,m,u;function d(f,d){var k,g,p,t;k=f.id;g=f.R;p=f.Da||0;t=!!p;b&&q.log("Checking feasibility of ["+d+"] "+k+" ("+g+" Kbps)");if(!f.pf)return b&&q.log("  Not available"),!1;if(!f.inRange)return b&&q.log("  Not in range"),!1;if(f.Xg)return b&&q.log("  Failed"),!1;if(g>a.yM)return b&&q.log("  Above maxInitAudioBitrate ("+a.yM+" Kbps)"),!1;if(!(g*a.FX/8<c.buffer.lp))return b&&q.log("  audio buffer too small to handle this stream"),!1;if(t){b&&q.log("  Have throughput history = "+t+" : available throughput = "+p+" Kbps");if(g<p/m)return b&&q.log(" +FEASIBLE: bitrate less than available throughput"),!0;b&&q.log(" bitrate requires more than available throughput");return!1;}f=a.NM;c.KW&&(f=Math.max(f,a.MM));if(g<=f)return b&&q.log("  Bitrate is less than max of minInitAudioBitrate ("+a.NM+" Kbps) "+(c.KW?" and also minHCInitAudioBitrate ("+a.MM+" Kbps)":"")),b&&q.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;b&&q.log("  No throughput history");return!1;}k=new t();m=a.TMb||1;for(u=f.length-1;0<=u;--u){g=f[u];if(d(g,u)){k.wd=u;break;}p(g)&&(k.wd=u);}return k;},BUFFERING:c,REBUFFERING:c,PLAYING:f,PAUSED:f};},function(g,d,a){var c,f,m,q,b,k,p,t,u;Object.defineProperty(d,"__esModule",{value:!0});c=a(86);f=a(6);m=a(70);q=a(13);g=a(32);b=a(776);k=a(21);p=g.assert;t=g.yn;d.rZ=u;(function(){var P4t,i8D;P4t=2;while(P4t!==5){i8D="1";i8D+="S";i8D+="IYbZ";i8D+="rNJ";i8D+="Cp9";switch(P4t){case 2:d.rZ=u=function(d,g,u,h,y,l){var p6z=j4tt;var g4t,C,I,K,Q,n,r,V,ma,A,sa,oa,O,ia,Ea,wa,Fa,Ga,ka,z,Ca,G,v8D,l8D,q8D,X8D;function D(a,c,f,k,m,t){var C4t,q,u,h,y,B,D,I,T,ca,R,A,N,S,U,fa,V8D,z8D,Z8D,M8D,p8D,B8D,d8D,P8D;C4t=2;while(C4t!==63){V8D="Sec";V8D+="ond ";V8D+="stream has failed";z8D="Secon";z8D+="d";z8D+=" strea";z8D+="m n";z8D+="ot in range";Z8D="First";Z8D+=" s";Z8D+="tream unavailable";M8D="Firs";M8D+="t str";M8D+="eam undefined";p8D="S";p8D+="e";p8D+="cond stream un";p8D+="available";B8D="Sec";B8D+="ond ";B8D+="stream undefine";B8D+="d";d8D="First s";d8D+="tream ha";d8D+="s failed";P8D="First s";P8D+="tream";P8D+=" no";P8D+="t in range";switch(C4t){case 53:fa||(c=a);S=[];C4t=51;break;case 6:C4t=h&&!d.YZ?14:12;break;case 14:C4t=q>=Math.max(a.rX,a.R*u)&&!a.rHa?13:10;break;case 39:C4t=!N||N<a.R*d.Q$||!U?38:53;break;case 12:C4t=q>=a.R*u?11:10;break;case 49:C4t=0<A?48:47;break;case 38:c=!1;C4t=37;break;case 37:c&&c.result&&(C.TQb=c.vM);ia={neb:c&&c.result,Da:q,R:a.R};return c&&c.result;break;case 24:ca=O;R=g.V7;A=!!g.iBa;N=a.Da;S=f.length;U=a.X&&a.X.length;C4t=33;break;case 9:return!1;break;case 11:return!0;break;case 29:p(a.inRange,P8D);p(!a.Xg,d8D);p(c,B8D);p(c.pf,p8D);C4t=42;break;case 50:A=k;C4t=49;break;case 64:k=Math.max(0,Math.min(k,a.X.length-B)),m=Math.max(0,Math.min(m,c.X.length-B-k)),0<k&&S.push(a.X.yG.subarray(B,B+k)),0<m&&S.push(c.X.yG.subarray(B+k,B+k+m));C4t=65;break;case 47:A=m;C4t=46;break;case 51:C4t=A?50:64;break;case 45:U=Math.min(A,c.X.length-B),S.push(c.X.yG.subarray(B,B+U)),A-=U,B+=U,B>=c.X.length&&(B=0);C4t=46;break;case 46:C4t=0<A?45:65;break;case 10:t=!d.M6||a===f||a.cc===f.cc&&l?0:(f=a.jb)&&f.bh&&f.bh.Ca?f.bh.Ca+d.J6*(f.bh.hh?Math.sqrt(f.bh.hh):0):0;f=Fa;p6z.I8D(2);t=p6z.j8D(t,K,Q);u=oa;p6z.n8D(1);h=p6z.b8D(r,K);p6z.I8D(1);y=p6z.j8D(n,K);B=V;C4t=27;break;case 33:fa=c.X&&c.X.length;d.Aba&&(ca=Math.min(ca,h-t));p(a,M8D);p(a.pf,Z8D);C4t=29;break;case 40:p6z.n8D(3);p(p6z.b8D(D,S));C4t=39;break;case 65:c=0<k||0<m?b(f.concat(S),D+k+m,t,h,u,I,y,D,D+k,R,T,N,ca,d.OM,d.YZ):N>a.rX?{result:!0,vM:0,xw:!0}:{result:!1,vM:0,xw:!0};C4t=37;break;case 48:U=Math.min(A,a.X.length-B),S.push(a.X.yG.subarray(B,B+U)),A-=U,B+=U,B>=a.X.length&&(B=0);C4t=49;break;case 8:t||h||(a.bga=!0);C4t=7;break;case 2:q=a.Da||0;u=t?d.I8:d.OU;h=a.X&&a.X.length;C4t=3;break;case 13:return!0;break;case 25:T=Ga;C4t=24;break;case 7:C4t=!t||!h?6:10;break;case 27:D=Fa.length;I=sa;C4t=25;break;case 42:p(c.inRange,z8D);p(!c.Xg,V8D);C4t=40;break;case 3:C4t=ia&&!ia.neb&&ia.Da>=q&&ia.R<=a.R?9:8;break;}}}function B(a,b,c){var b4t;b4t=2;while(b4t!==1){switch(b4t){case 2:return a.X?a.X.S6(b,c):0;break;case 4:return a.X?a.X.S6(b,c):7;break;b4t=1;break;}}}g4t=2;while(g4t!==41){v8D="nu";v8D+="m";v8D+="be";v8D+="r";l8D="n";l8D+="u";l8D+="mb";l8D+="e";l8D+="r";q8D="player missing ";q8D+="streamingIn";q8D+="dex";X8D="Mus";X8D+="t have at lea";X8D+="s";X8D+="t one selected st";X8D+="ream";switch(g4t){case 44:Ca=B(y,V,d.S$);p6z.I8D(0);G=B(y,p6z.j8D(Ca,V),d.wba);g4t=42;break;case 21:Ga=A-Fa.ba;g4t=35;break;case 6:Q=g.buffer.Xc;n=g.buffer.Bb;r=g.buffer.Dl;V=g.zx;g4t=11;break;case 2:p(!f.U(h),X8D);p(f.ka(g.zx),q8D);g4t=4;break;case 30:C.Xp=y||I;return C;break;case 34:g4t=h+1<u.length&&ma>d.fu&&(void 0===this.UW||this.bba&&this.bba>this.UW||n-this.UW>d.fX&&ma>d.zba)?33:30;break;case 19:oa=d.tX;O=d.gu?d.gu:1E3;g4t=17;break;case 26:return a.call(this,u);break;case 4:p(l8D===typeof g.buffer.lp);g4t=3;break;case 25:y.X&&y.X.length||(y.bga=!0);Fa=m.pi.P$a(g.buffer.X);A=g.buffer.lp;0<d.nr&&(A=Math.min(A,d.nr));g4t=21;break;case 35:g4t=D(y,u[Math.max(h-1,0)],y,Ea,wa,!1)?34:28;break;case 27:g4t=A===q.aQ.SXa||!y.Da?26:25;break;case 33:ka=B(y,V,d.T$);p6z.I8D(0);z=B(y,p6z.b8D(ka,V),d.xba);g4t=31;break;case 17:Ea=B(y,V,d.R$);p6z.n8D(0);wa=B(y,p6z.j8D(Ea,V),d.vba);this.Jpa||(this.Jpa=Math.min(y.R,d.AX));g4t=27;break;case 11:p6z.n8D(1);ma=p6z.j8D(r,Q);A=this.KR||q.aQ.rg;sa=g.state===k.oa.Ec||g.state===k.oa.jh?g.buffer.Qi:0;g4t=19;break;case 28:g4t=y.X&&y.X.length?44:30;break;case 3:p(v8D===typeof g.V7);C=new t();I=y=u[h];K=g.buffer.T;g4t=6;break;case 42:(y=c.Sv(u.slice(0,h).reverse(),function(a,b){var H4t;H4t=2;while(H4t!==1){switch(H4t){case 2:return D(a,u[Math.max(h-b-2,0)],I,Ca,G,!0);break;}}}))||(y=u[0]);g4t=30;break;case 31:y=c.Sv(u.slice(h+1,d.Ofa&&ma>=d.fha?u.length:h+2),function(a,b){var m4t;m4t=2;while(m4t!==1){switch(m4t){case 4:return D(a,u[h*b],I,ka,z,-4);break;m4t=1;break;case 2:return D(a,u[h+b],I,ka,z,!1);break;}}});g4t=30;break;}}};i8D;P4t=5;break;}}function a(a){var x4t,b,f;x4t=2;while(x4t!==9){switch(x4t){case 3:return b;break;case 2:b=new t();f=this.Jpa;b.Xp=c.Sv(a,function(a){var s4t;s4t=2;while(s4t!==1){switch(s4t){case 4:return a.R<=f;break;s4t=1;break;case 2:return a.R>=f;break;}}})||a[a.length-1];x4t=3;break;}}}}());},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(21);d.oEa=function(a){switch(a){case c.oa.Pe:a=c.Lf.Pe;break;case c.oa.Lh:a=c.Lf.Lh;break;case c.oa.rg:case c.oa.jm:case c.oa.jC:a=c.Lf.jm;break;default:a=c.Lf.JQ;}return a;};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(780),d);},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(8);f=a(170);d.o$=function(a,c){return!(1!==a||!c.Et)||0===a;};d.Wgb=function(a,c,b,f){a=a.Gl(c,void 0,!0);b&&(a=Math.floor(a/f)*f);return a;};d.kL=function(a,g,b,k,p,t){var m,q,h,B,I;f.fl.Il(a);c.assert(b.X,"findFirstFragment called without stream fragments");m=b.X;c.assert(k>=m.Ah(0));q=d.o$(a,g);h=k;0===a&&!t&&g.On&&!g.$y&&b.ii&&(k=Math.max(b.X.Ah(0),k+b.ii.Ma));B=d.Wgb(m,h,b.O.EU(a),g.YX);I=b.ai(B);if(I.ga<k)return I;q&&(q=1===a?h:k,(h=I.SU(q))?(0<h.bm&&I.yj({start:h.bm}),0!==a||g.gca||(0>h.Kc&&I.yj({start:h.bm}),h.Kc<(g.On&&!g.$y&&b.ii?Math.floor(b.ii.Ma):0)&&I.Y7())):q>=I.ga&&B<m.length-1&&(I=b.ai(B+1)));1===a&&p&&I.ga===p&&B<m.length-1&&(I=b.ai(B+1));0===a&&!I.Qa&&(g.XL||g.Jza||g.vcb)&&t&&I.yj({});I.gO(k);return I;};d.CE=function(a,c,b,k,g,t,u){var p;f.fl.Il(a);p=b.X;void 0===k&&(k=p.ga);if(g&&(g=g.Ceb(b,k,a,c,t)))return g;g=p.La;u=k?k+d.Edb(a,g,c.Fr,u):p.p8(p.length-1);p=p.Gl(u,void 0,!0);g=b.ai(p);0===p||g.T!==k||1!==a&&c.Fr||(--p,g=b.ai(p));d.o$(a,c)?(u=1===a?u:k,u<g.ga&&((t=g.Jeb(u))&&0!==t.bm?g.yj({end:t.bm}):0===a&&(t||u<g.T)&&0!==p?g=b.ai(p-1):1===a&&t&&0!==p&&(g=b.ai(p-1))),0!==a||g.Qa||!c.XL&&!c.Iza||g.yj()):0===a&&!c.Fr&&k-g.T<g.duration/2&&0!==p&&(g=b.ai(p-1));g.gO(k);return g;};d.Edb=function(a,c,b,f){var d;return 1===a||f?0:b?(d=null===c||void 0===c?void 0:c.Ma,null!==d&&void 0!==d?d:0):c?-c.Ma:0;};},function(g,d,a){var c,f,m,q,b,k,p,t,u,h,D,B,I;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(793);g=a(85);m=a(376);q=a(21);b=a(792);k=a(782);p=a(781);t=a(375);u=a(16);h=a(29);D=a(8);B=a(3);I=a(6);a=function(a){function d(c,d,g,m,q,h,y,D,C,I,l){var K;c=a.call(this,c)||this;c.K=d;c.Lc=q;c.Og=h;c.z_a=y;c.a_a=C;c.c_a=l;c.connected=!1;c.I=u.Ww(B,g,"["+c.M+"]");c.Md=c.I.error.bind(c.I);c.Ia=c.I.warn.bind(c.I);c.fj=c.I.trace.bind(c.I);c.uJ=y;c.qMb=y;c.F4=y.Ma;c.jCa=1===c.M?d.HX:d.BX;c.AF=(1===c.M?d.DF:d.yF)||d.AF;c.vg=!1;c.tT=!1;c.gz="";I&&(K=I.BS);c.$p=new p.dXa(h,I?I.$p:void 0);c.BS=new t.w2(D,d,K);c.Hs=new f.$Ua(c,m,c.K,c.I,c.M);c.Ly=new b.eWa(c,d,c.I,c.Hs,c.Lc,c.M);c.rJ=!1;d.$c&&(c.$c=new k.ZWa(d.$c,c.I));return c;}c.__extends(d,a);Object.defineProperties(d.prototype,{M:{get:function(){return this.Og.M;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{track:{get:function(){return this.Og;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Dd:{get:function(){return this.Lc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{$a:{get:function(){return this.Lc.la.id;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Sa:{get:function(){return this.Ly;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{uc:{get:function(){return this.Og.uc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Dm:{get:function(){return this.Ly.Dm;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Zk:{get:function(){return this.Ly.Zk;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Bb:{get:function(){return this.F4;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ik:{get:function(){return this.Sa.Ik;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Xaa:{get:function(){return!!this.jg&&this.Sl>this.jg.index;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{aT:{get:function(){return this.Xaa&&0===this.Ly.tu;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{IG:{get:function(){return this.BS;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{au:{get:function(){return this.$p.au;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{bW:{get:function(){return this.Sa.bW;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{jB:{get:function(){return this.Sa.jB;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Xfa:{get:function(){return this.Sa.Xfa;},enumerable:!0,configurable:!0}});d.prototype.Tg=function(){this.Ly.Tg();};d.prototype.toJSON=function(){return{started:this.jB,startOfSequence:this.Xfa,segmentId:this.$a,requestedBufferLevel:this.Zk,viewableId:this.Lc.O.va,hasFragments:this.bW};};d.prototype.hq=function(){return this.Sa.hq();};d.prototype.CZ=function(a,b){this.F4=a;void 0!==b&&(this.Sl=b);};d.prototype.FL=function(){return this.Sa.FL();};d.prototype.n8=function(){this.Sa.close();};Object.defineProperties(d.prototype,{weight:{get:function(){return this.Lc.weight;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{rT:{get:function(){return this.uJ;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{qT:{get:function(){return h.Ta.Mm(this.Dm.Ma);},enumerable:!0,configurable:!0}});d.prototype.tBb=function(a,b){var c;c=a.yV();return c?this.RIa(a,c,b):a.WG();};d.prototype.gwa=function(a){D.assert(this.track.ud,"Pipeline cannot be normalized until its track has recieved headers.");return this.xg=this.kL(this.track.uW,a,void 0,void 0);};d.prototype.hwa=function(a){D.assert(this.track.ud,"Pipeline cannot be normalized until its track has recieved headers.");return this.jg=this.CE(this.track.uW,a);};d.prototype.kL=function(a,b,c,f){return m.kL(this.Og.M,this.K,a,b,c,f);};d.prototype.Fza=function(){D.assert(this.xg);D.assert(this.jg);D.assert(void 0===this.Sl);this.CZ(this.xg.Oc,this.xg.index);};d.prototype.CE=function(a,b){return m.CE(this.Og.M,this.K,a,b,this.$c);};d.prototype.Cfa=function(){return m.o$(this.Og.M,this.K);};d.prototype.Vlb=function(){return this.Tza()?!1:this.Blb()?!0:this.track.Tpb;};d.prototype.Blb=function(){return void 0!==this.xg&&void 0!==this.jg;};d.prototype.Tza=function(){return this.jg?this.Sl>this.jg.index:!1;};d.prototype.Cm=function(a,b,c,f,d){var k,g;k=this.K;g=k.$g;if(c>=k.$g&&(k.cZ&&(g=c+1E3),k.dZ&&!this.connected))return!1;if(this.$c){if(this.tT)return this.Ia("checkBufferingComplete02 ignored because stallAtFrameCount already hit"),!0;if(this.$c.nz>=this.$c.vA)return this.Ia("checkBufferingComplete02 with enough frames, declare bufferingComplete",this.$c.nz),this.tT=!0;}c=this.Tza()&&0===this.Sa.oY&&0===this.Sa.Pr;return!c&&f<g?!1:c?d&&0===f?(this.Ia("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.cta(a,b);};d.prototype.cta=function(a,b){if(this.vg||0===this.M)return!0;if(void 0===this.au)return!1;b=this.b_a(b,a);a=this.IG.Cm(b,a,this.au,this.Dd.O.Zh);a.complete?(this.vg=!0,this.gz=a.reason):(this.vg=!1,this.gz="");return this.vg;};d.prototype.Oi=function(a){this.Hs.zqb(a);this.up(a);};d.prototype.ru=function(a){a.Xb||this.Hs.VCa(a.stream,a.T,a.Oc);this.Hs.vqb(this.$a,a.stream,a.Xb);this.Jz(a);};d.prototype.eN=function(a){a.j5||(this.connected=!0);this.Iz(a);};d.prototype.Xgb=function(a){var b;b=this.Sa.X;if(0===b.length)return{X:[],hda:0,Qi:0};a=b.BE(a.Ma);return{X:b.exb(a),hda:b.W7a-a,Qi:b.Qi};};d.prototype.RIa=function(a,b,c){var f,d,k,g,p;d=this.Lc;k=d.O;g=this.M;p=this.Sl;if(p>=b.length)return this.Ia("makeRequest nextFragmentIndex:",p,"past fragments length:",b.length),!1;if(!this.xg||!this.jg)return this.Ia("makeRequest delayed, first or last fragment not set","first:",!!this.xg,"last:",!!this.jg),!1;b=this.a_a.Exa(a,p,this,k.Yt());if(!b)return this.Ia("makeRequest unable to get valid fragment"),!1;p=b.a8.Ct(a.La);this.$c&&(this.$c.XA+=p);b.$t&&1===g&&this.Hs.c4(d.la,b.ga);b.$Ga(new h.Ta(d.Ed,1E3));g=null===(f=this.c_a)||void 0===f?void 0:f.call(this);this.K.kA&&void 0!==g&&g<b.ba&&(b.kA=this.K.kA);B.time.fa();a=this.Sa.O$a(d,b,c,a);if(!a.vr()){this.Ia("MediaRequest.open error: "+a.$h+" native: "+a.ek);if(7===a.readyState)return!1;this.Ia("makeRequest caught:",a.$h);k.ji("MediaRequest open failed (1)",k.Ua,"NFErr_MC_StreamingFailure");return!1;}a.XA=p;this.Hs.Aqb(a);this.CZ(a.$d,b.VM);return!0;};d.prototype.b_a=function(a,b){var c,f,d,k,g;k=B.Zj()[this.M];g=this.Sa.FV();a={lp:k,T:(c=g.qc,null!==c&&void 0!==c?c:0),Xc:a,Bb:(f=g.WF||a,null!==f&&void 0!==f?f:0),Dl:(d=g.Ik||a,null!==d&&void 0!==d?d:0),Eh:g.Eh,Qi:g.Qi,i9:g.X.length,X:g.X};I.ka(a.T)?b===q.Lf.Pe&&a.Xc!==a.T&&(a.Xc=a.T):(a.T=0,a.Bb=0);return a;};return d;}(g.Vr);d.mma=a;},function(g,d,a){var c,f,m,q,b,k,p,t,u,h,D,B;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(27);m=a(377);g=a(85);q=a(767);b=a(21);k=a(8);p=a(29);t=a(3);u=a(16);h=a(766);D=u.Ww;B=a(128);a=function(a){function d(b,c,d,g,u,y,B,C,I,l,n,r,A,sa,oa){var K,Q;K=a.call(this,d)||this;K.K=b;K.O=d;K.Uoa=g;K.Bqa=u;K.y2a=y;K.FG=B;K.Ed=I;K.gpa=l;K.Ay=r;K.eR=A;K.n4=!1;K.T2a=1;K.xR=!1;K.sJ=!1;K.soa=0;k.assert(d.va===K.la.va||isNaN(d.va)&&isNaN(K.la.va));K.O.wFa(K);K.I=D(t,c,u.id&&u.id.length?"{"+u.id+"}":"");K.Md=K.I.error.bind(K.I);K.Ia=K.I.warn.bind(K.I);K.fj=K.I.trace.bind(K.I);K.VI=null!==C&&void 0!==C?C:B;K.GR=[];y.forEach(function(a){var b;a=a.M;b=K.O.EU(a)?new q.$Pa(K.K.YX):new q.rTa();K.GR[a]=b;});K.Pj=[];if(!oa){Q=[K.K.C5,K.K.XZ];y.forEach(function(a){var b;b=a.M;K.Pj[b]=new m.mma(K,K.K,K.I,K.Uoa,K,a,K.VI,Q[b],K.GR[b],null===n||void 0===n?void 0:n.re(b),sa);});K.jN=new h.ZUa({O:K.O,gd:K.Pj,QD:K.VI,uK:void 0!==K.ga?p.Ta.Mm(K.ga):void 0});K.jN.Ub(K.frb.bind(K));}K.Uga(K.VI.Ma);K.events=new f.EventEmitter();void 0!==K.eR&&K.eR.addListener(K.Zqb.bind(K));return K;}c.__extends(d,a);Object.defineProperties(d.prototype,{H7:{get:function(){return this.xR;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Op:{get:function(){return this.n4;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{weight:{get:function(){return this.T2a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ga:{get:function(){return this.la.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{la:{get:function(){return this.Bqa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Xaa:{get:function(){return this.Pj.every(function(a){return a.Xaa;});},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{aT:{get:function(){return this.Pj.every(function(a){return a.aT;});},enumerable:!0,configurable:!0}});d.prototype.FL=function(a){return(a=this.re(a))?a.FL():B.HB.Lgb();};d.prototype.n8=function(){var a;a=this;this.y2a.forEach(function(b){a.re(b.M).n8();});};d.prototype.Tg=function(){var a;this.xR||(this.O.aJa(this),null===(a=this.jN)||void 0===a?void 0:a.ic(),this.jN=void 0,this.Pj.forEach(function(a){a.Tg();}),this.Pj=[],this.Bn&&(clearTimeout(this.Bn),this.Bn=void 0),this.xR=!0);};d.prototype.Mza=function(){return!0;};d.prototype.re=function(a){return this.Pj[a];};d.prototype.Wxa=function(){return this.Pj.filter(function(a){return a.Vlb();});};d.prototype.Nk=function(a,b){var c;a=this.Pj[a];if(!a)return 0;if(b)return a.Zk;b=a.Ik;if(void 0===b)return 0;a=(c=this.gpa(),null!==c&&void 0!==c?c:this.VI.Ma);return b-a;};d.prototype.Uga=function(a){this.Rkb=a+this.K.oAb;this.Wkb=t.time.fa();};d.prototype.hq=function(a){return this.re(a).hq();};d.prototype.Zqb=function(a){var c;c=this.K;a=a.newValue;if(a===b.Lf.Pe||a===b.Lf.Lh)this.sJ=!1,this.soa=t.time.fa(),this.Pj.forEach(function(a){a.vg=!1;}),this.Cm(),this.Bn&&(clearTimeout(this.Bn),this.Bn=void 0),!1===this.sJ&&(this.Bn=setTimeout(this.Cm.bind(this),c.wr));};d.prototype.Oi=function(a){this.xR?this.Ia("oncomplete ignored, pipelines shutdown, mediaRequest:",a):(a.j5||k.assert(!a.Xb),!1===this.sJ&&this.Cm(),this.aT&&this.b1a(),this.up(a));};d.prototype.frb=function(){var a,b;null===(a=this.jN)||void 0===a?void 0:a.ic();this.jN=void 0;a=(b=this.Pj[1],null!==b&&void 0!==b?b:this.Pj[0]);this.Uoa.emit("segmentNormalized",{type:"segmentNormalized",segmentId:this.la.id,normalizedStart:a.xg.VF,normalizedEnd:a.jg.sda,contentEnd:a.track.Lo.cL});};d.prototype.lDa=function(a){this.Bn&&(clearTimeout(this.Bn),this.Bn=void 0);a={type:"branchBufferingComplete",audioBufferLevel:this.Nk(0),videoBufferLevel:this.Nk(1),reason:a};this.events.emit(a.type,a);this.sJ=!0;};d.prototype.b1a=function(){var a;a={type:"branchStreamingComplete"};this.events.emit(a.type,a);};d.prototype.Cm=function(){var a,c,f,d,k,g,p,m,q,u,h;if(!0!==this.sJ){g=this.K;p=this.Pj[0];m=this.Pj[1];q=this.Nk(0);u=this.Nk(1);h=(a=this.gpa(),null!==a&&void 0!==a?a:this.VI.Ma);a=!p||p.Cm((f=null===(c=this.eR)||void 0===c?void 0:c.value,null!==f&&void 0!==f?f:b.Lf.jm),h,0,q);c=!m||m.Cm((k=null===(d=this.eR)||void 0===d?void 0:d.value,null!==k&&void 0!==k?k:b.Lf.jm),h,0,u);a&&c?this.lDa(m?m.gz:p.gz):(d=t.time.fa()-this.soa,d>=g.wr&&(m=!m||u>g.$g,(!p||q>g.$g)&&m?(this.Ia("buffering longer than limit: "+d+" >= "+g.wr+", audio buffer: "+q+" ms, video buffer: "+u+" ms"),this.lDa("prebufferTimeLimit")):(this.Bn&&clearTimeout(this.Bn),this.Bn=setTimeout(this.Cm.bind(this),g.wr))));}};d.prototype.toJSON=function(){return{segment:this.la.id,branchOffset:this.Ed,viewableId:this.O.va,contentStartPts:this.FG,contentEndPts:this.ga};};return d;}(g.Vr);d.$_=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Px||(d.Px={});g[g.CLOSED=0]="CLOSED";g[g.OPEN=1]="OPEN";g[g.qFb=2]="COMPLETED";g[g.jh=3]="PAUSED";g[g.Ux=4]="CANCELLED";},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(3).Promise;g=function(){function a(a,c,b){this.A4a=a;this.b4=c;this.xZa=b;this.Woa={};this.reset();}a.prototype.Cm=function(){var a,c;a=this;c=this.A4a.filter(function(b){return!b.Sza(a.xZa());});0===c.length&&this.I3?this.p0a():c.forEach(function(b){if(!a.Woa[b.M])b.once("requestAppended",function(){a.Woa[b.M]=!1;a.Cm();});});};a.prototype.reset=function(){var a;a=this;this.I3=!1;new c(function(c){a.p0a=c;}).then(function(){return a.b4();});};a.prototype.Lba=function(){this.I3||(this.I3=!0,this.Cm());};return a;}();d.k2=g;},function(g,d,a){var c,f,m,q,b,k,p;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(27);f=a(82);m=a(3);q=a(16);b=a(797);k=a(128);p=a(796);a=function(a){function d(c,f,d,k){var g;g=a.call(this)||this;g.wC=c;g.Ve=f;g.I=k;g.I=q.Ww(m,g.I,"AsePlayerBuffer:");g.oJ=new b.JLa(g.I,d,f);g.resume();g.wC.on("requestAppended",function(){return g.emit("requestAppended");});return g;}c.__extends(d,a);Object.defineProperties(d.prototype,{M:{get:function(){return this.Ve;},enumerable:!0,configurable:!0}});d.prototype.resume=function(){f.nb&&this.I.trace("resume");this.Ufa();};d.prototype.Sza=function(a){var b,c;return(null===(b=this.X4a)||void 0===b?void 0:b.EAa)>=a&&((null===(c=this.wC.BAa)||void 0===c?void 0:c.te)>=a||this.wC.QJa);};Object.defineProperties(d.prototype,{X4a:{get:function(){return this.BI;},enumerable:!0,configurable:!0}});d.prototype.reset=function(a){void 0===a&&(a=!1);f.nb&&this.I.trace("reset");this.stop();a||(this.BI=void 0);};d.prototype.jwb=function(){var a;a=!0;void 0===a&&(a=!1);this.reset(a);this.Ufa(!0);};d.prototype.stop=function(){this.oJ.KHa();};d.prototype.Ufa=function(a){if(!this.oJ.Plb||a)this.oJ.kwb(),k.HB.imb(this.oJ,this.RW.bind(this));};d.prototype.RW=function(a){a.done||this.uea(a.value);};d.prototype.uea=function(a){var b,c,d,k;b=this;if(this.wC.endOfStream)f.nb&&this.I.error("Buffer manager has declared EOS, ignoring request",a.toString());else{c=a[0];if(c){d=a[a.length-1];this.BI?(this.BI.Amb=d.$d,this.BI.EAa=d.te):this.BI={jPb:c.Oc,kPb:c.qc,Amb:d.$d,EAa:d.te};}k=[];a.forEach(function(a){try{b.wC.V4a(a);}catch(Q){f.nb&&b.I.error("Couldn't attach request",a.toString());k.push(Q);}});if(k.length)throw new p.DKa("Couldn't attach requests",k);c&&this.emit("requestAppended");}};return d;}(g.EventEmitter);g=function(a){function b(){var b;b=null!==a&&a.apply(this,arguments)||this;b.vqa=0;b.s4=0;b.nR=0;b.Doa=0;return b;}c.__extends(b,a);b.prototype.uea=function(b){var c,f,d,k;c=this;a.prototype.uea.call(this,b);this.vqa+=b.length;this.s4+=b.length;m.time.fa();f=b[b.length-1];d=b[0];!this.z3&&d&&(this.z3={$d:d.$d,Oc:d.Oc,index:d.index},this.$Za||(this.$Za=this.z3));k=this.K_a;b.forEach(function(a){var b;b=!1;k&&100>Math.abs(k.$d-a.Oc)&&(c.nR+=a.$d-k.$d,c.Doa++,b=!0);b||(c.nR=a.Tq,c.Doa=1);k=a;});this.K_a=f;};b.prototype.stop=function(){a.prototype.stop.call(this);this.nR=this.s4=0;this.z3=void 0;};return b;}(a);d.Eha=f.nb?g:a;},function(g,d,a){var c,f,m,q,b,k;Object.defineProperty(d,"__esModule",{value:!0});c=a(168);f=a(217);m=a(800);q=a(114);b=a(8);g=function(){function a(a,b){var d;d=this;this.Yg=new f(a,b);this.Ym=new m(a);this.Vb=new q(this.Ym,this.Yg,a);c.Qu.d8a(a);a.rY&&setInterval(function(){d.Yg.save();d.Ym.save();},a.rY);}a.fya=function(c,f){void 0===k?(a.config=c,a.d_=f,k=new a(c,f)):(b.assert(a.config===c),b.assert(a.d_===f));return k;};a.reset=function(){a.config=void 0;k=a.d_=void 0;};return a;}();d.g0=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mwa=function(a,c){for(var f,d,g=a.length-1;0<=g;--g)if(d=a[g],d.pf&&!d.Xg&&d.inRange){if(d.R<=c)return g;f=g;}return f;};},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);a(3);g=function(a){function f(c,b,f,d,g){c=a.call(this,c,b,f,d,g)||this;c.cpa=!1;c.bpa=!1;c.MI=!1;c.wa=[];c.Aq=!1;c.WI=!1;c.Uc=!1;c.ig=!1;c.yc=!1;c.oC=!1;c.QC=void 0;c.uq=void 0;return c;}c.__extends(f,a);Object.defineProperties(f.prototype,{Baa:{get:function(){return this.Aq&&!this.MI;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{active:{get:function(){return this.Uc;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{oFa:{get:function(){return this.ig;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{complete:{get:function(){return this.yc||(this.yc=this.wa.every(function(a){return a.complete;}));},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Fq:{get:function(){return this.oC;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Eh:{get:function(){return this.wa.reduce(function(a,b){return a+b.Eh;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ye:{get:function(){return this.wa.reduce(function(a,b){return a+b.ye;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Qc:{get:function(){return this.QC||0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{url:{get:function(){return this.wa[0]&&this.wa[0].url;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{readyState:{get:function(){return this.Sf||this.wa.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{status:{get:function(){return this.uq&&this.uq.status||0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{$h:{get:function(){return this.uq&&this.uq.$h;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{zE:{get:function(){return this.uq&&this.uq.zE;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ek:{get:function(){return this.uq&&this.uq.ek;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Rm:{get:function(){return!!this.wa.length&&this.wa[0].Rm;},enumerable:!0,configurable:!0}});f.prototype.push=function(a){this.WI&&a.Ub(this.Sa);this.wa.push(a);this.Aq&&a.vr();};f.prototype.Ub=function(c){a.prototype.Ub.call(this,c);this.wa.forEach(function(a){return a.Ub(c);});this.WI=!0;};f.prototype.Lza=function(){return 7===this.Sf;};f.prototype.vr=function(){(this.Aq=this.wa.every(function(a){return a.vr();}))&&this.oL(this);return this.Aq;};f.prototype.ic=function(){this.wa.forEach(function(a){return a.ic();});};f.prototype.zO=function(a){this.Sf=this.uq=void 0;return this.wa.every(function(b){return 5!==b.readyState&&7!==b.readyState?b.zO(a):!0;});};f.prototype.abort=function(){var a,b;a=this.active;this.Sf=7;this.oC=!0;this.ig=this.Uc=!1;b=this.wa.map(function(a){return a.abort();}).every(function(a){return a;});this.bV(this,a,this.Baa);return b;};f.prototype.getResponseHeader=function(a){var b;b=null;this.wa.some(function(c){return!!(b=c.getResponseHeader(a));});return b;};f.prototype.getAllResponseHeaders=function(){var a;a=null;this.wa.some(function(b){return!!(a=b.getAllResponseHeaders());});return a;};f.prototype.gY=function(){};f.prototype.ru=function(a){this.Uc||(this.Uc=!0);this.cpa||(this.cpa=!0,this.Xk=0,this.QC=this.Yk=a.Qc,this.Jz(this));};f.prototype.eN=function(a){this.ig||(this.ig=!0);this.bpa||(this.bpa=!0,this.QC=a.Qc,this.Iz(this));};f.prototype.fN=function(a){this.QC=a.Qc;this.EE(this);this.Xk=this.ye;this.Yk=a.Qc;};f.prototype.Oi=function(a){this.QC=a.Qc;this.complete?(this.yc=!0,this.Sf=5,this.ig=this.Uc=!1,this.MI=!0,this.up(this)):this.EE(this);this.Xk=this.ye;this.Yk=a.Qc;};f.prototype.dN=function(a){this.QC=a.Qc;this.uq=a;this.Sf=6;this.cV(this);};f.prototype.cN=function(){};f.prototype.qj=function(){return this.wa[0].qj()+"-"+this.wa[this.wa.length-1].qj();};f.prototype.toString=function(){return"Compound["+this.wa.map(function(a){return a.toString();}).join(",")+"]";};f.prototype.toJSON=function(){return{requests:this.wa};};return f;}(a(166).GB);d.Aha=g;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(8);g=function(a){function d(b,c,f){b=a.call(this,b,c)||this;b.BG=!1;b.Wq=!1;b.HF=!1;b.rw=!1;b.xh=void 0;b.LC=c.bi;b.om=c.gda;b.Voa=c.lj;b.I=f;return b;}c.__extends(d,a);Object.defineProperties(d.prototype,{Xb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{bi:{get:function(){return this.LC;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{gda:{get:function(){return this.om;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{lj:{get:function(){return this.Voa;},enumerable:!0,configurable:!0}});d.prototype.ic=function(){};d.prototype.u_=function(){};d.prototype.$3a=function(a){f.assert(this.Bd.pa===a.pa);!a.ud&&this.Bd.ud&&a.QT(this.Bd);!a.location&&this.Bd.location&&(a.location=this.Bd.location,a.cc=this.Bd.cc,a.bB=this.Bd.bB,a.url=this.Bd.url,a.jb=this.Bd.jb);this.Bd=a;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.X});};return d;}(a(172).Qx);d.P_=g;},function(g){(function(){var e8D,J7D;e8D=2;while(e8D!==8){J7D="1SIYbZ";J7D+="r";J7D+="NJ";J7D+="Cp";J7D+="9";switch(e8D){case 2:d.prototype.start=function(a){var h8D;h8D=2;while(h8D!==1){switch(h8D){case 2:this.Zd?a<this.Zd?(this.Iv+=this.Zd-a,this.Zd=a):a>this.Oa&&(this.Oa=this.Zd=a):this.Oa=this.Zd=a;h8D=1;break;}}};d.prototype.stop=function(a){var r8D;r8D=2;while(r8D!==1){switch(r8D){case 2:this.Oa&&a>this.Oa&&(this.Iv+=a-this.Oa,this.Oa=a);r8D=1;break;}}};d.prototype.add=function(a,c,f){var F8D;F8D=2;while(F8D!==4){switch(F8D){case 2:this.start(c);this.stop(f);this.Wb+=a;F8D=4;break;}}};d.prototype.get=function(){var k7D;k7D=2;while(k7D!==1){switch(k7D){case 2:return{Ca:this.Iv?Math.floor(8*this.Wb/this.Iv):null,O7:this.Iv?this.Iv:0};break;}}};g.P=d;J7D;e8D=8;break;}}function d(){var a8D;a8D=2;while(a8D!==5){switch(a8D){case 2:this.Iv=this.Wb=0;this.Oa=this.Zd=void 0;a8D=5;break;}}}}());},function(g,d,a){var f,m;function c(a){this.K={AM:a.maxc||25,H6:a.c||.5,Oub:a.rc||"none",vjb:a.hl||7200};this.pJ();this.B1a=this.K.Oub;this.QI=this.K.vjb;this.T2=Math.exp(Math.log(2)/this.QI);this.T2=Math.max(this.T2,1);this.rR=1;}f=a(6);m=a(221).TDigest;new(a(3)).Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.Yc=function(){var a;if(0===this.ne.size())return null;a=this.ne.vh([.25,.75]);if(a[0]===a[1])return null;this.ne.size()>this.K.AM&&this.ne.vt();a=this.ne.Jx(!1).reduce(function(a,c){f.ka(c.af)&&f.ka(c.n)&&a.push({mean:c.af,n:c.n/this.rR});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};c.prototype.Yd=function(a){var b;if(f.Ja(a)||!f.has(a,"tdigest")||!f.ee(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(k){return!1;}b.forEach(function(a){f.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{af:a.mean,n:a.n};});this.rR=1;this.ne.Vda(a);void 0===this.ne.vh(0)&&this.pJ();};c.prototype.get=function(){var a,b;a=this.ne;b=a.vh([0,.1,.25,.5,.75,.9,1]);return{min:b[0],ada:b[1],gk:b[2],Pi:b[3],hk:b[4],bda:b[5],max:b[6],Qg:a.Jx(!1)};};c.$hb=function(a){var b;b=new c({});f.Ja(a)||f.U(a)||!f.isArray(a.Qg)||(b.ne.Vda(a.Qg),void 0===b.ne.vh(0)&&b.pJ());a=b.ne.vh([.25,.75]);return a[0]===a[1]?null:function(a){return b.ne.vh(a);};};c.prototype.add=function(a){var b;b=1;"ewma"===this.B1a&&(this.rR=b=this.rR*this.T2);this.ne.push(a,b);};c.prototype.toString=function(){return"TDigestHist("+this.ne.summary()+")";};c.prototype.pJ=function(){this.ne=new m(this.K.H6,this.K.AM);};g.P={Cna:c};},function(g,d,a){var f,m;function c(a){this.K={AM:a.maxc||25,H6:a.c||.5,kDb:a.w||15E3,yl:a.b||5E3};f.call(this,this.K.kDb,this.K.yl);this.pJ();}f=a(167);m=a(221).TDigest;c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var a;a=this.QF(0);f.prototype.shift.call(this);null!==a&&(this.ne.push(a,1),this.Ln=!0);return a;};c.prototype.flush=function(){var a;a=this.get();this.ne.push(a,1);this.Ln=!0;f.prototype.reset.call(this);return a;};c.prototype.get=function(){return this.xya();};c.prototype.Ot=function(){var a;a=this.xya();return{min:a.min,p10:a.ada,p25:a.gk,p50:a.Pi,p75:a.hk,p90:a.bda,max:a.max,centroidSize:a.$6a,sampleSize:a.$A,centroids:a.Qg};};c.prototype.xya=function(){var a;if(0===this.ne.size())return null;a=this.ne.vh([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.Ln||!this.me)this.Ln=!1,this.me={min:a[0],ada:a[1],gk:a[2],Pi:a[3],hk:a[4],bda:a[5],max:a[6],vh:this.ne.vh.bind(this.ne),$6a:this.ne.size(),$A:this.ne.n,Qg:this.fgb(),Ot:this.Ot.bind(this)};return this.me;};c.prototype.fgb=function(){var a;if(0===this.ne.size())return null;if(!this.Ln&&this.me)return this.me.centroids;a=this.ne.vh([.25,.75]);if(a[0]===a[1])return null;this.ne.size()>this.K.AM&&this.ne.vt();a=this.ne.Jx(!1).map(function(a){return{mean:a.af,n:a.n};});return JSON.stringify(a);};c.prototype.size=function(){return this.ne.size();};c.prototype.toString=function(){return"btdtput("+this.qD+","+this.Fc+","+this.Th+"): "+this.ne.summary();};c.prototype.pJ=function(){this.ne=new m(this.K.H6,this.K.AM);};g.P=c;},function(g,d,a){var f,m;function c(a,b,c,d){f.call(this,c,d);this.yq=new m(a);this.b0a=b;}f=a(167);m=a(406);c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var a;a=this.QF(0);f.prototype.shift.call(this);null!==a&&this.yq.YS(a);return a;};c.prototype.flush=function(){var a;a=this.get();this.yq.YS(a);f.prototype.reset.call(this);return a;};c.prototype.get=function(){var a;a=this.DL();return{$A:this.OE(),qY:a,XM:a.Pi?(a.hk-a.gk)/a.Pi:void 0};};c.prototype.OE=function(){return this.yq.OE();};c.prototype.DL=function(){return this.yq.OE()<this.b0a?{gk:void 0,Pi:void 0,hk:void 0,$A:void 0,vh:void 0}:{gk:this.yq.Pq(25),Pi:this.yq.Pq(50),hk:this.yq.Pq(75),$A:this.yq.OE(),vh:this.yq.Pq.bind(this.yq)};};c.prototype.toString=function(){return"biqr("+this.qD+","+this.Fc+","+this.Th+")";};g.P=c;},function(g,d,a){var q;function c(a){this.reset();this.Zxb(a);}function f(a){this.setInterval(a);this.reset();}function m(a){this.yv=new f(a);this.Nd=0;this.Kb=null;}q=a(6);c.prototype.Zxb=function(a){this.rC=Math.pow(.5,1/a);this.QI=a;};c.prototype.reset=function(a){a&&a.Ca&&q.ka(a.Ca)?a.hh&&q.ka(a.hh)?(this.sq=this.y_a,this.lm=a.Ca,this.tv=a.hh+a.Ca*a.Ca):(this.sq=this.y_a,this.lm=a.Ca,this.tv=a.Ca*a.Ca):this.tv=this.lm=this.sq=0;};c.prototype.add=function(a){var b;if(q.ka(a)){this.sq++;b=this.rC;this.lm=b*this.lm+(1-b)*a;this.tv=b*this.tv+(1-b)*a*a;}};c.prototype.get=function(){var a,c,f;if(0===this.sq)return{Ca:0,hh:0};a=this.lm;c=this.tv;f=1-Math.pow(this.rC,this.sq);a=a/f;c=c/f;f=a*a;return{Ca:Math.floor(a),hh:Math.floor(c>f?c-f:0)};};c.prototype.Yc=function(){return 0===this.sq?null:{a:Math.round(this.lm),s:Math.round(this.tv),n:this.sq};};c.prototype.Yd=function(a){if(q.Ja(a)||!q.has(a,"a")||!q.has(a,"s")||!q.isFinite(a.a)||!q.isFinite(a.s))return this.tv=this.lm=this.sq=0,!1;this.lm=a.a;this.tv=a.s;q.has(a,"n")&&q.ka(a.n)?this.sq=a.n:this.sq=16*this.QI;return!0;};f.prototype.setInterval=function(a){this.QI=a;this.rC=-Math.log(.5)/a;};f.prototype.reset=function(a){this.Oa=this.Zd=null;a&&q.isFinite(a.Ca)?this.lm=a.Ca:this.lm=0;};f.prototype.start=function(a){q.Ja(this.Zd)&&(this.Oa=this.Zd=a);};f.prototype.add=function(a,c,f){var b,d;q.Ja(this.Zd)&&(this.Oa=this.Zd=c);this.Zd=Math.min(this.Zd,c);c=Math.max(f-c,1);b=this.rC;d=f>this.Oa?f:this.Oa;this.lm=this.lm*(d>this.Oa?Math.exp(-b*(d-this.Oa)):1)+8*a/c*(1-Math.exp(-b*c))*(f>d?Math.exp(-b*(d-f)):1);this.Oa=d;};f.prototype.get=function(a){var b;a=Math.max(a,this.Oa);b=this.lm*Math.exp(-this.rC*(a-this.Oa));a=1-Math.exp(-this.rC*(a-this.Zd));0<a&&(b/=a);return{Ca:Math.floor(b)};};f.prototype.toString=function(){return"ewmav("+this.QI+")";};m.prototype.setInterval=function(a){this.yv.setInterval(a);};m.prototype.reset=function(a){this.yv.reset(a);this.Nd=0;this.Kb=null;};m.prototype.start=function(a){!q.Ja(this.Kb)&&a>this.Kb&&(this.Nd+=a-this.Kb,this.Kb=null);this.yv.start(a-this.Nd);};m.prototype.add=function(a,c,f){!q.Ja(this.Kb)&&f>this.Kb&&(this.Nd+=c>this.Kb?c-this.Kb:0,this.Kb=null);this.yv.add(a,c-this.Nd,f-this.Nd);};m.prototype.stop=function(a){this.Kb=Math.max(q.Ja(this.yv.Oa)?0:this.yv.Oa+this.Nd,q.Ja(this.Kb)?a:Math.min(this.Kb,a));};m.prototype.get=function(a){return this.yv.get((q.Ja(this.Kb)?a:this.Kb)-this.Nd);};m.prototype.toString=function(){return this.yv.toString();};g.P={mOa:c,EFb:f,kOa:m};},function(g,d,a){g.P={aPb:a(390),gTb:a(220),fFb:a(813),eFb:a(389),gFb:a(388),sja:a(810)};},function(g){function d(){}function a(a){this.Nqa=a;this.km=[];this.gf=null;}d.prototype.clear=function(){this.Od=null;this.size=0;};d.prototype.find=function(a){var d;for(var c=this.Od;null!==c;){d=this.Ak(a,c.data);if(0===d)return c.data;c=c.Wf(0<d);}return null;};d.prototype.lowerBound=function(a){var b;for(var c=this.Od,d=this.iterator(),g=this.Ak;null!==c;){b=g(a,c.data);if(0===b)return d.gf=c,d;d.km.push(c);c=c.Wf(0<b);}for(b=d.km.length-1;0<=b;--b)if(c=d.km[b],0>g(a,c.data))return d.gf=c,d.km.length=b,d;d.km.length=0;return d;};d.prototype.upperBound=function(a){for(var c=this.lowerBound(a),d=this.Ak;null!==c.data()&&0===d(c.data(),a);)c.next();return c;};d.prototype.min=function(){var a;a=this.Od;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};d.prototype.max=function(){var a;a=this.Od;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};d.prototype.iterator=function(){return new a(this);};d.prototype.Ud=function(a){for(var c=this.iterator(),d;null!==(d=c.next());)a(d);};a.prototype.data=function(){return null!==this.gf?this.gf.data:null;};a.prototype.next=function(){var a;if(null===this.gf){a=this.Nqa.Od;null!==a&&this.Lpa(a);}else if(null===this.gf.right){do if(a=this.gf,this.km.length)this.gf=this.km.pop();else{this.gf=null;break;}while(this.gf.right===a);}else this.km.push(this.gf),this.Lpa(this.gf.right);return null!==this.gf?this.gf.data:null;};a.prototype.LA=function(){var a;if(null===this.gf){a=this.Nqa.Od;null!==a&&this.Fpa(a);}else if(null===this.gf.left){do if(a=this.gf,this.km.length)this.gf=this.km.pop();else{this.gf=null;break;}while(this.gf.left===a);}else this.km.push(this.gf),this.Fpa(this.gf.left);return null!==this.gf?this.gf.data:null;};a.prototype.Lpa=function(a){for(;null!==a.left;)this.km.push(a),a=a.left;this.gf=a;};a.prototype.Fpa=function(a){for(;null!==a.right;)this.km.push(a),a=a.right;this.gf=a;};g.P=d;},function(g,d,a){var c,f,m,q,b,k,p,t,u,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(97);m=a(13);q=a(3);g=a(27);b=a(16);k=a(43);p=a(8);t=a(222);u=a(385);a=a(384);h=q.MediaSource;a=function(a){function d(b,c,f,d,k,g,p){c=a.call(this,b,d,k,c,p)||this;u.P_.call(c,b,d,p);c.xh=f;c.track=f.track;c.Wq=!!d.Wq;c.HF=!!d.HF;c.rw=!!d.rw;c.wrb=d.ba;c.BG=!!d.BG;c.K3=(g?"(cache)":"")+c.pa+" header";c.iD(b.url||d.url,d.offset,d.ba);return c;}c.__extends(d,a);Object.defineProperties(d.prototype,{Xb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{nY:{get:function(){return this.i1a;},enumerable:!0,configurable:!0}});d.prototype.ic=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.ic.call(this);};d.prototype.oL=function(b){this.stream.Tca();a.prototype.oL.call(this,b);};d.prototype.Oi=function(c){this.om=this.om?b.Qq(this.om,c.response):c.response;c.HN();this.f1a()?a.prototype.Oi.call(this,c):this.moa?(this.iD(c.url,c.offset+c.ba,this.moa),a.prototype.Oi.call(this,c)):this.cV(this);};d.prototype.iD=function(a,b,c){a=new t.vP(this.stream,this.track,this.K3+" ("+this.wa.length+")",{offset:b,ba:c,url:a,location:this.location,Fb:this.Fb,responseType:0},this,this.Vc,this.I);this.push(a);this.Wb=this.wa.reduce(function(a,b){return a+b.ba;},0);};d.prototype.f1a=function(){var a,c,k,g;a=this.Vc;k=a.TCb;g=a.a5a;this.M===m.Fa.VIDEO&&k&&!a.Et?c=k:this.M===m.Fa.AUDIO&&g&&(c=g);k=new f.my(d.Hpb,this.stream,this.om,["sidx"],this.M===m.Fa.VIDEO&&a.Et||this.M===m.Fa.AUDIO,{dTb:this.stream.track.X7,IZ:c,NDa:void 0===this.La,LIa:!h.oc||!h.oc.ota,Iga:a.Iga,On:a.On,aH:this.Vc.aH,owb:!0,MZ:!h.oc||!h.oc.wCa});c=k.parse({La:this.La});this.BCb=a.aH&&k.Tjb;c.hx?(p.assert(c.bi),this.LC=c.bi,this.i1a=c.nY,this.Voa=!!c.FU,void 0===this.La&&void 0===c.La&&this.I.error("No frame duration available for "+this.pa),void 0===this.La&&void 0===c.La&&this.I.error("No frame duration available for "+this.pa),k=c.La?new b.Ta(c.La):this.La,this.stream.cY(c.bi,c.W,k,c.X,c.EF,c.Uh,a.RF&&a.RF.enabled?c.Nx:void 0),this.om=void 0):this.moa=c.U3a||0;return!!c.hx;};d.Hpb=new q.Console("MP4","media|asejs");return d;}(a.Aha);d.Dha=a;k.Wi(u.P_,a,!1,!1);k.Wi(g.EventEmitter,a);},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(97);a(8);a(32);g=function(){function a(a,c,b,f){this.W=b;this.Gd=a;this.sizes=c;this.length=Math.min(a.length,c.length);this.Wb=f;}Object.defineProperties(a.prototype,{ba:{get:function(){return void 0!==this.Wb?this.Wb:this.Wb=this.Z2();},enumerable:!0,configurable:!0}});a.prototype.subarray=function(c,f){return new a(this.Gd.subarray(c,f),this.sizes.subarray(c,f),this.W);};a.prototype.concat=function(){var d,f,b,k;for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];d=[this];f=d.concat.apply(d,f);d=f.reduce(function(a,b){return a+b.length;},0);b=new Uint32Array(d);k=new Uint32Array(d);d=f.reduce(function(a,b){return a||b.W;},void 0);f.reduce(function(a,f){c.D2.set(b,f.Gd,a);c.D2.set(k,f.sizes,a);return a+f.length;},0);return new a(b,k,d);};a.prototype.Z2=function(){for(var a=this.sizes,c=this.length,b=0,f=0;f<c;++f)b+=a[f];return b;};return a;}();d.lna=g;},function(g,d,a){var c,f,m;Object.defineProperty(d,"__esModule",{value:!0});c=a(397);f=a(230);m=a(396);g=function(){function a(a,c,f){this.console=a;this.stream=c;this.view=f instanceof ArrayBuffer?new DataView(f):new DataView(f.data,f.offset,f.length);}a.prototype.parse=function(a){var b;b=new m.Hia(this.view.byteLength);this.ag=new c.Z_(f.GF.Hc,b,this.view,this.console,{fda:!0});a=this.ag.parse(a);this.Hc=this.ag.Hc;return a.done;};return a;}();d.XH=g;},function(g,d,a){var f;function c(a,c){a=c.indexOf(a);-1!==a&&c.splice(a,1);}Object.defineProperty(d,"__esModule",{value:!0});f=a(84);g=function(){function a(a){this.endOffset=a;this.done=!1;}a.prototype.Gwa=function(){return this.done;};a.prototype.cva=function(a,b,c){return this.done=b+c>=this.endOffset;};return a;}();d.Hia=g;g=function(){function a(a,b,c,f){void 0===b&&(b=[]);void 0===c&&(c=[]);void 0===f&&(f=!1);this.Vp=a;this.mU=b;this.fIa=c;this.ODa=f;this.done=!1;this.wj={};}a.prototype.Gwa=function(c,b,f){-1!==a.Zjb.indexOf(c)&&(this.wj[c]={offset:b,size:f});if(-1!==this.fIa.indexOf(c))if(this.wj[c]={offset:b,size:f},this.ODa)this.endOffset=b+f;else return this.endOffset=b,this.done=!0;else this.Vp&&-1!==this.Vp.indexOf(c)?(c=1<this.Vp.length?4096:0,this.endOffset=Math.max(b+f+c,this.endOffset||0)):-1!==this.mU.indexOf(c)&&(c=this.Vp?4096:0,this.endOffset=Math.max(b+f+c,this.endOffset||0));return this.done;};a.prototype.cva=function(a,b,d,g){var k;k=this;if(-1!==this.fIa.indexOf(a))return this.done=!0;a===f.K1&&this.ZGa(g.wj);a===f.L1&&this.ZGa(g.wj);this.Vp&&c(a,this.Vp);c(a,this.mU);return this.Vp&&0===this.Vp.length&&!this.mU.some(function(a){return k.wj[a];})?this.done=!0:this.done;};a.prototype.ZGa=function(a){var b;b=this;this.wj=a;this.endOffset=(this.Vp||[]).concat(this.mU).reduce(function(a,c){return b.wj[c]?(c=b.wj[c],Math.max(c.offset+(c.size||4096),a)):a;},this.endOffset||0);};a.Zjb=["moov","sidx"];return a;}();d.VPa=g;},function(g,d,a){var c,f,m;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(26);m=a(71);g=function(a){function b(b,c,f,d,g){f=a.call(this,f,d,g)||this;f.Z5a=b;f.GG=c;f.Hc={};return f;}c.__extends(b,a);b.prototype.parse=function(a){var b,c,f,d,k,g;this.offset=0;b=[];for(a=a||{};this.offset<this.view.byteLength&&!(8>this.view.byteLength-this.offset);){c=this.offset;f=this.xb();if(0===f)return{done:!1,offset:this.offset,error:"Invalid zero-length box"};d=m.Cy(this.xb());if(null===d)return{done:!1,offset:this.offset,error:"Invalid box type"};if("uuid"===d){if(16>this.view.byteLength-this.offset)break;d=this.RY();}if(0===b.length&&this.GG.Gwa(d,c,f))break;if(c+f>this.view.byteLength)break;k=this.Z5a[d];g=void 0;if(k)if(g=new k(this,d,c,f,b[0]),(b[0]||this).GJ(g),g.parse(a))this.config.fda&&k.$b?b.unshift(g):this.offset=c+f;else return{done:!1,offset:this.offset,error:"parse error in "+d+" box"};else this.offset=c+f;for(;b.length&&this.offset>b[0].byteOffset+b[0].BA-8;){g=b.shift();if(!g.AE(a))return{done:!1,offset:this.offset,error:"finalize error in "+g.type+" box"};this.offset=g.byteOffset+g.BA;}if(0===b.length&&this.GG.cva(d,c,f,g))break;}return!this.GG.done&&(a=this.GG.endOffset?this.GG.endOffset-this.view.byteLength:4096,0<a)?{done:!1,offset:this.offset,ACa:a}:{done:!0,offset:Math.min(this.GG.endOffset||Infinity,this.offset)};};b.prototype.GJ=function(a){f.Kf.GJ(this,a);};return b;}(a(823).gYa);d.Z_=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.concat=function(){var a,c,f;for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a=Array.prototype.concat.apply([],a);c=a.reduce(function(a,c){return a+c.byteLength;},0);f=new Uint8Array(c);a.reduce(function(a,c){f.set(new Uint8Array(c),a);return a+c.byteLength;},0);return f.buffer;};},function(g){var d,a,c,f;d={name:"heaac-2-dash reset sample",profile:53,Al:2,sampleRate:24E3,duration:1024,Hu:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,Al:2,sampleRate:24E3,duration:1024,Hu:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,Al:6,sampleRate:48E3,duration:1536,Hu:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,Al:2,sampleRate:48E3,duration:1536,Hu:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};g.P={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":d,"heaac-2hq-dash":d},"heaac-2-dash":d,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(84);a=a(26);f=g.L1;a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){var a,d,g;this.Hf();1<=this.version&&(this.dwa=this.L.RY());a=this.L.xb();this.wj={};for(var c=this.startOffset+this.length,f=0;f<a;++f){d=this.L.px();"uuid"===d&&(d=this.L.RY());g=this.L.Ri();this.wj[d]={offset:c,size:g};c+=g;}return!0;};d.Je=f;d.$b=!1;return d;}(a.Kf);d["default"]=a;},function(g,d,a){var c,f,m;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(84);g=a(26);m=f.K1;g=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Hf();this.fileSize=this.L.Ri();this.W=this.L.Ri();this.duration=this.L.Ri(!1,!0);this.gDa=this.L.Ri();this.L.Ri();this.Xqb=this.L.Ri();this.eqb=this.L.xb();this.hDa=this.L.Ri();this.twa=this.L.xb();this.dwa=this.L.RY();this.wj={moof:{offset:this.gDa},sidx:{offset:this.hDa,size:this.twa}};this.wj[f.kla]={offset:this.Xqb,size:this.eqb};this.L.offset-this.startOffset<=this.length-24&&(this.Wqb=this.L.Ri(),this.Xpb=this.L.xb(),this.Vqb=this.L.Ri(),this.Wpb=this.L.xb(),this.wj[f.pQ]={offset:this.Wqb,size:this.Xpb},this.wj[f.oQ]={offset:this.Vqb,size:this.Wpb});return!0;};b.Je=m;b.$b=!1;return b;}(g.Kf);d["default"]=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function f(){var c;c=null!==a&&a.apply(this,arguments)||this;c.eV=1536;return c;}c.__extends(f,a);f.$b=!0;return f;}(a(173)["default"]);d["default"]=g;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(f,a);f.Je="ac-3";return f;}(g);d.ZJa=a;g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(f,a);f.Je="ec-3";return f;}(g);d.COa=g;},function(g){var d;d=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f*a.byteLength/a.length);}:function(a,c,f){a.set(c,f);};g.P={from:function(a,c,f,d){a=new a(c.length);for(var g="function"===typeof f,b=0;b<c.length;++b)a[b]=g?f.call(d,c[b],b,c):c[b];return a;},set:d};},function(g,d,a){var f,m,q;function c(a){return void 0===a?!0:a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(843);m=a(29);a(8);q=a(70);g=function(){function a(a,b,f){this.K=b;this.I=f;this.Og=a.track;this.k2a=a.Ch;this.Xw=a.Xw;this.E_a=-1===this.profile.indexOf("none");this.LC=this.Ba=void 0;this.pf=c(a.pf);this.inRange=c(a.inRange);this.iE=a.iE;this.zv=void 0;this.Dpa=this.ss=0;this.url=this.bB=this.cc=this.Fo=this.kba=this.location=this.Da=this.jb=void 0;this.Xg=!1;this.Jaa=this.ce=void 0;a=this.K&&"object"===typeof this.K.LEa&&this.K.LEa[this.profile];"object"===typeof a&&(a=a[this.R])&&(this.aD=new m.Ta(a));}Object.defineProperties(a.prototype,{ud:{get:function(){return!!this.Ba;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Og.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.Og.u;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Og.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{La:{get:function(){return this.Og.La;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{W:{get:function(){return this.Og.W;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{FF:{get:function(){return this.Og.FF;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{cb:{get:function(){return this.Og.cb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.Og;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ch:{get:function(){return this.k2a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pa:{get:function(){return this.Xw.downloadable_id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.pa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Gp:{get:function(){return this.E_a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Xw.bitrate;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Dc:{get:function(){return this.Xw.vmaf||null;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Xw.content_profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Af:{get:function(){return this.profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Hr:{get:function(){return this.Xw.sidx;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ii:{get:function(){return this.aD;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.Ba;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{rX:{get:function(){return this.Ba&&this.Ba.rX;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{k9:{get:function(){return this.Og.k9;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{j9:{get:function(){return this.Og.j9;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{rHa:{get:function(){return this.Ulb();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xw:{get:function(){return void 0!==this.zv?this.zv:this.PW();},set:function(a){this.zv=a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bi:{get:function(){return this.LC;},enumerable:!0,configurable:!0}});a.prototype.oj=function(){return this.O.oj(this.M,this.pa);};a.prototype.yV=function(){var a;a=this.oj();return a&&a.stream.X;};a.prototype.WG=function(){return this.O.WG(this);};a.prototype.Tca=function(){this.track.Tca();};a.prototype.cY=function(a,b,c,d,g,m,q){d&&void 0!==d.Aj&&(this.track.ud||void 0!==d.Gd&&d.Gd.length)&&void 0!==d.offset&&void 0!==d.sizes&&d.sizes.length?(this.K.On&&this.ii&&0===d.Aj&&(d.Aj+=this.ii.pg(d.W).Cb),this.ud||(this.track.cY(this,b,c,d,m),this.Ba=new f.cXa(this.track.Lo,d,g,m,q,this.u)),this.LC=a):d?this.I.error("AseStream.onHeaderReceived: fragmentsData was missing data:"+(void 0!==d.Aj)+","+this.track.ud+","+this.track.X7+","+(void 0!==d.Gd)+","+!(!d.Gd||!d.Gd.length)+","+(void 0!==d.offset)+","+(void 0!==d.sizes)+","+!(!d.sizes||!d.sizes.length)):this.I.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};a.prototype.QT=function(a){this.ud||(this.track.A8a(a.track),this.Ba=a.X,this.LC=a.bi);};a.prototype.ai=function(a){return new q.pi(this,this.X.get(a));};a.prototype.Cxa=function(a){var b;b=this.ai(a.index);a.Qa&&(b.yj(a.Qa),b.gO(a.Ex));return b;};a.prototype.fJa=function(a,b){this.ss=a;this.Dpa=b;};a.prototype.B7a=function(){this.Da=this.jb=this.cc=this.location=this.url=void 0;};a.prototype.toJSON=function(){return{movieId:this.u,mediaType:this.M,streamId:this.pa,bitrate:this.R};};a.prototype.toString=function(){return(0===this.M?"a":"v")+":"+this.pa+":"+this.R;};a.prototype.PW=function(){var a;if(!this.ud)return!0;if(this.track.U$>=this.R)return this.zv=!0;if(this.track.mBa<=this.R)return this.zv=!1;a=this.Ba.PW(this.K.OM,this.ss,this.Dpa);if(a){if(!this.track.X7||this.Gp)this.track.U$=this.R;}else this.track.mBa=this.R;return this.zv=a;};a.prototype.Ulb=function(){return void 0!==this.zv?!this.zv:!this.PW();};return a;}();d.ZKa=g;},function(g,d,a){var f,m,q,b;function c(a){return function(){for(var b=Array(this.length),c=0;c<this.length;++c)b[c]=a.call(this,c);return b;};}Object.defineProperty(d,"__esModule",{value:!0});f=a(8);g=a(3);m=a(29);q=new g.Console("FRAGMENTS","media|asejs");b=function(){function a(a,b){this.Yb=a;this.dj=b;}Object.defineProperties(a.prototype,{index:{get:function(){return this.dj;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gb:{get:function(){return this.Yb.xS+this.Yb.Nv[this.dj];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{yb:{get:function(){return this.gb+this.Yb.Fn[this.dj];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$n:{get:function(){return this.Yb.Fn[this.dj];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{La:{get:function(){return this.Yb.La;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{W:{get:function(){return this.Yb.W;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return Math.floor(1E3*this.gb/this.W);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return Math.floor(1E3*(this.gb+this.$n)/this.W);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return this.ga-this.T;},enumerable:!0,configurable:!0}});a.prototype.toJSON=function(){return{startPts:1E3*this.gb/this.La.W,endPts:1E3*this.yb/this.La.W,duration:1E3*this.$n/this.La.W,index:this.index};};return a;}();d.DXa=b;a=function(){function a(a,b,c,f){this.M=a;this.length=c.Gd.length;this.sl=c.W;this.Fn=c.Gd;this.$S=f&&f.XF;this.rra=f&&f.pG;this.IC=b;this.Pga=this.Qga=this.Bpa=void 0;this.xS=c.Aj;this.Nv=new Uint32Array(this.length+1);if(this.length){for(b=a=0;b<this.length;++b)this.Nv[b]=a,a+=this.Fn[b];this.Nv[b]=a;this.S2=Math.floor((this.ga-this.T)/this.length);}}Object.defineProperties(a.prototype,{Aj:{get:function(){return this.JHa(0);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{o8:{get:function(){return this.JHa(this.length);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.Ah(0);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Ah(this.length);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{cL:{get:function(){return new m.Ta(this.o8,this.W);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rba:{get:function(){return this.Bpa||this.VYa();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{La:{get:function(){return this.IC;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{W:{get:function(){return this.sl;},enumerable:!0,configurable:!0}});a.prototype.JHa=function(a){return this.xS+this.Nv[a];};a.prototype.Ah=function(a){return Math.floor(1E3*(this.xS+this.Nv[a])/this.W);};a.prototype.p8=function(a){return this.Ah(a+1);};a.prototype.Gd=function(a){return this.p8(a)-this.Ah(a);};a.prototype.get=function(a){return new b(this,a);};a.prototype.Gl=function(a,b,c){if(0===this.length||a<this.Ah(0))return-1;a=Math.max(a,b||0);for(var f=0,d=this.length-1,k,g;d>=f;)if(k=f+(d-f>>1),g=this.Ah(k),a<g)d=k-1;else if(a>=g+this.Gd(k))f=k+1;else{for(;b&&k<this.length&&this.Ah(k)<b;)++k;return k<this.length?k:c?this.length-1:-1;}return c?this.length-1:-1;};a.prototype.RU=function(a,b,c){a=this.Gl(a,b,c);return 0<=a?this.get(a):void 0;};a.prototype.S6=function(a,b){var c,f;c=Math.floor(b*this.W/1E3);b=Math.min(a+Math.ceil(b/this.S2),this.length);f=this.Nv[b]-this.Nv[a];if(f>c){for(;f>=c;)--b,f-=this.Fn[b];return b-a+1;}for(;f<c&&b<=this.length;)f+=this.Fn[b],++b;return b-a;};a.prototype.subarray=function(b,c){f.assert(void 0===b||0<=b&&b<this.length);f.assert(void 0===c||c>b&&c<=this.length);return new a(this.M,this.La,{W:this.W,Aj:this.xS+this.Nv[b],Gd:this.Fn.subarray(b,c)},this.$S&&{XF:this.$S.subarray(b,c+1),pG:this.rra});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.S2};};a.prototype.dump=function(){var b;q.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.S2+"ms");for(var a=0;a<this.length;++a){b=this.get(a);q.trace("TrackFragments: "+a+": ["+b.T+"-"+b.ga+"]");}};a.prototype.VYa=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.Fn[b],a);return this.Bpa=a;};return a;}();d.Hna=a;d.Bba=c;a.prototype.IHa=c(a.prototype.Ah);d.SMb=function(a){return"["+Array(a.length).map(function(b,c){return a[c].toString();}).join(",")+"]";};},function(g){function d(a){this.V3=a;this.We=[];this.Ln=!1;this.Py=void 0;this.Rh={};}d.prototype.YS=function(a){this.We.length===this.V3&&this.We.shift();Array.isArray(a)?this.We=this.We.concat(a):this.We.push(a);this.Ln=!0;};d.prototype.OE=function(){return this.We.length;};d.prototype.c6=function(){var a;a=this.We;return 0<a.length?a.reduce(function(a,f){return a+f;},0)/this.We.length:void 0;};d.prototype.BT=function(){var a,c;a=this.We;if(0<a.length){c=this.c6();a=a.reduce(function(a,c){return a+c*c;},0)/a.length;return Math.sqrt(a-c*c);}};d.prototype.Pq=function(a){var c,f,d;if(this.Ln||void 0===this.Py)this.Py=this.We.slice(0).sort(function(a,b){return a-b;}),this.Rh={},this.Ln=!1;if(void 0===this.Rh[a]){c=this.Py;f=Math.floor(a/100*(c.length-1)+1)-1;d=(a/100*(c.length-1)+1)%1;this.Rh[a]=f===c.length-1?c[f]:c[f]+d*(c[f+1]-c[f]);}return this.Rh[a];};g.P=d;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(852);d.Ae=g.Ae;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(6);d.dT=function(a,d,g){var b,f;b=!0;g.forEach(function(k){var g;if(b&&a===k.profile){g=k.ranges;b=c.U(g)?d>=k.min&&d<=k.max:g.some(function(a){return d>=a.min&&d<=a.max;});!b&&k.disallowed&&k.disallowed.some(function(a){if(a.stream.bitrate===d)return f=a.disallowedBy,!0;});}});return{inRange:b,iE:f};};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(0);g.__exportStar(a(232),d);g.__exportStar(a(408),d);g.__exportStar(a(857),d);g.__exportStar(a(856),d);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vka="ManifestVerifyErrorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lna="TrickPlayFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ina="TrackStreamFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ama="PlayerTextTrackFactorySymbol";},function(g,d){function a(a,f){this.log=a;this.i_=f;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.IIa=function(a,f){var c;c=this;if(!a)return this.log.warn("There are no media streams for "+f.type+" track - "+f.cb),[];a=a.map(function(a){var b;b=c.i_(f,f.type,a.mE,a.R,a.Dc,a.size,c.Fgb(a.ld),a.pz,a.Owa/a.Nwa,a.Gp);b.pyb(a.QFa,a.PFa,a.aEa,a.$Da);b.Lxb(a.dua,a.eua,a.cua,a.bua);f.Lk&&(b.Lk=f.Lk);a.pz&&(b.Af=a.pz);return b;});a.sort(function(a,b){return a.R-b.R;});return a;};a.prototype.Fgb=function(a){return a.reduce(function(a,c){a[c.Rsa]=c.url;return a;},{});};d.mQ=a;},function(g,d,a){var c,f,m;c=a(237);f=a(116);d=a(52);m=a(878);a=d(function(a,b){return 1===a?f(b):c(a,m(a,[],b));});g.P=a;},function(g){g.P=function(d,a){for(var c=0,f=a.length,g=Array(f);c<f;)g[c]=d(a[c]),c+=1;return g;};},function(g,d,a){var c,f,m,q,b;d=a(116);c=a(239);f=a(881);m=!{toString:null}.propertyIsEnumerable("toString");q="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");b=function(){return arguments.propertyIsEnumerable("length");}();a=d("function"!==typeof Object.keys||b?function(a){var d,k,g,h;if(Object(a)!==a)return[];g=[];k=b&&f(a);for(d in a)!c(d,a)||k&&"length"===d||(g[g.length]=d);if(m)for(k=q.length-1;0<=k;){d=q[k];if(h=c(d,a)){a:{for(h=0;h<g.length;){if(g[h]===d){h=!0;break a;}h+=1;}h=!1;}h=!h;}h&&(g[g.length]=d);--k;}return g;}:function(a){return Object(a)!==a?[]:Object.keys(a);});g.P=a;},function(g){g.P={Ub:function(){return this.qP["@@transducer/init"]();},result:function(d){return this.qP["@@transducer/result"](d);}};},function(g){g.P=Array.isArray||function(d){return null!=d&&0<=d.length&&"[object Array]"===Object.prototype.toString.call(d);};},function(g,d,a){var c,f;c=a(419);f=a(888);g.P=function(a,d,b){return function(){var k,g;if(0===arguments.length)return b();k=Array.prototype.slice.call(arguments,0);g=k.pop();if(!c(g)){for(var m=0;m<a.length;){if("function"===typeof g[a[m]])return g[a[m]].apply(g,k);m+=1;}if(f(g))return d.apply(null,k)(g);}return b.apply(this,arguments);};};},function(g,d,a){var c,f,m,q,b,k;d=a(52);c=a(420);f=a(887);m=a(422);q=a(238);b=a(882);k=a(417);a=d(c(["filter"],b,function(a,b){return m(b)?q(function(c,f){a(b[f])&&(c[f]=b[f]);return c;},{},k(b)):f(a,b);}));g.P=a;},function(g){g.P=function(d){return"[object Object]"===Object.prototype.toString.call(d);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Tka="ManifestProviderConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rka="ManifestEncoderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uka="ManifestParserFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uha="CDMAttestedDescriptorProvider";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Oha="BookmarkConfigParserSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Pha="BookmarkConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mia="DiskStorageRegistrySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dla="MemoryStorageSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xka="LocalStorageSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lia="CorruptedStorageValidatorConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.v2="Storage";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.iQ="IndexedDBConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hma="PresentationAPISymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Xka="MediaCapabilitiesLogHelperSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yka="MediaCapabilitiesSymbol";},function(g,d,a){var f,m,q;function c(a,c){var b;b=m.FP.call(this,a,c,f.WH.Audio)||this;b.config=a;b.fca=c;b.type=f.Rx.Wx;return b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(31);m=a(440);q=a(60);a(137);new(a(100)).uy();da(c,m.FP);c.prototype.vO=function(){return Promise.resolve(!1);};c.prototype.rz=function(){var a;a={};a[q.Xi.ZP]="mp4a.40.2";a[q.Xi.IPa]="mp4a.40.2";a[q.Xi.P0]="mp4a.40.5";a[q.Xi.$P]="mp4a.40.2";this.config().f8&&(a[q.Xi.HP]="ec-3");this.config().e8&&(a[q.Xi.i0]="ec-3");this.config().$K&&(a[q.Xi.IP]="ec-3");return a;};c.prototype.kya=function(){return this.config().RJ;};d.p0=c;c.XG="audio/mp4;codecs={0};";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});d.Ih=a;a.Aja=/^hevc-main/;a.zja=/^hevc-hdr-|hevc-dv/;a.as=/^hevc-hdr-/;a.Yr=/^hevc-dv/;a.QB=/-h264mpl/;a.yH=/-h264mpl30/;a.RB=/-h264mpl31/;a.CB=/-h264hpl/;a.pv=/^vp9-/;a.oi=/^av1-/;a.rP=/^heaac-2-/;a.qHb=/^heaac-2hq-dash/;a.UMa=/ddplus-2/;a.VMa=/ddplus-5/;a.WMa=/ddplus-atmos/;},function(g,d,a){var f,m,q;function c(a,c,d){this.config=a;this.fca=c;this.M=d;this.hca={};this.hca[f.WH.Audio]="audio";this.hca[f.WH.Yna]="video";}Object.defineProperty(d,"__esModule",{value:!0});f=a(31);g=a(100);m=a(439);q=new g.uy().format;c.prototype.wya=function(){return this.ubb(this.kya());};c.prototype.ot=function(a){return this.fca.isTypeSupported(a);};c.prototype.qxa=function(){return[m.Ih.rP,m.Ih.QB];};c.prototype.taa=function(){this.Yl=[];this.Rp=[];this.config().EDa&&this.Rp.push(m.Ih.Aja);this.config().DDa&&this.Rp.push(m.Ih.zja);this.config().hN&&this.Rp.push(m.Ih.CB);this.config().FDa&&this.Rp.push(m.Ih.pv);this.config().CDa&&this.Rp.push(m.Ih.oi);this.Rp=this.Rp.concat(this.qxa());!this.config().f8&&this.Yl.push(m.Ih.UMa);!this.config().e8&&this.Yl.push(m.Ih.VMa);!this.config().$K&&this.Yl.push(m.Ih.WMa);!this.config().Pcb&&this.Yl.push(/prk$/);this.config().EDa||this.config().Fcb||this.Yl.push(m.Ih.Aja);this.config().DDa||this.config().h8||this.Yl.push(m.Ih.zja);this.config().hN||this.config().CU||this.Yl.push(m.Ih.CB);this.config().FDa||this.config().Ucb||this.Yl.push(m.Ih.pv);this.config().CDa||this.config().Acb||this.Yl.push(m.Ih.oi);};c.prototype.PU=function(a){var b;b=this;a=a.filter(function(a){for(var c=P(b.Rp),f=c.next();!f.done;f=c.next())if(f.value.test(a))return!0;c=P(b.Yl);for(f=c.next();!f.done;f=c.next())if(f.value.test(a))return!1;a=b.Pda[a];f="";if(a)return Array.isArray(a)&&(f=1<a.length?" "+a[1]:"",a=a[0]),a=q("{0}/mp4;codecs={1};{2}",b.hca[b.M],a,f),b.ot(a);});return Promise.resolve(a);};c.prototype.ubb=function(a){var b;b={};this.taa();return this.PU(a).then(function(a){return a.map(function(a){return b[a]=1;});}).then(function(){return Object.keys(b);});};ra.Object.defineProperties(c.prototype,{Pda:{configurable:!0,enumerable:!0,get:function(){this.kqa||(this.kqa=this.rz());return this.kqa;}}});d.FP=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gha={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aia="CapabilityDetectorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mja="ExtraPlatformInfoProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cia="CdnThroughputTracker";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fna="ThroughputTrackerConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lia="DiagnosticsFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jna="TransitionLoggerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zna="VideoPlayerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yma="PlaybackFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jna="SegmentConfigFactorySymbol";},function(g,d,a){var f;function c(a,c,b,f,d,g){this.level=a;this.zl=c;this.timestamp=b;this.message=f;this.rd=d;this.index=void 0===g?0:g;this.lRa={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(d,"__esModule",{value:!0});f=a(4);c.prototype.g_=function(a,c){var b;b=""+this.message;this.rd.forEach(function(f){b+=f.tB(a,c);});return(this.timestamp.ea(f.ja)/1E3).toFixed(3)+"|"+this.index+"|"+(this.lRa[this.level]||this.level)+"|"+this.zl+"| "+b;};d.Bka=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cia="DebouncerFactorySymbol";},function(g,d,a){var f,m;function c(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(465);a=a(1);c.prototype.create=function(){return new f.tk();};m=c;m=g.__decorate([a.N()],m);d.hPa=m;d.RP="EventSourceFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.RP="EventSourceFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Pna="UserAgentUtilities";},function(g,d,a){var f,m,q;function c(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(5);m=a(17);q=a(11);c.prototype.wp=function(){return this.mlb()?q.yOa:/widevine/i.test(this.config().Xd)?q.Sia:/fps/i.test(this.config().Xd)?"fairplay":q.v0;};c.prototype.mlb=function(){return/clearkey/i.test(this.config().Xd);};ra.Object.defineProperties(c.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.K||(this.K=f.aa.get(m.xd));return this.K;}}});d.Zka=new c();},function(g,d,a){var f,m,q,b;function c(a,b,c,f,d,g,h){this.debug=a;this.config=b;this.platform=c;this.YBa=f;this.debug.assert(d&&d!=m.J.xk,"There should always be a specific error code");this.errorCode=d||m.J.xk;g&&q.qf(g)?(this.ca=g.ca||g.Rc,this.Vd=g.Vd||g.Vg,this.u8=g.u8||g.pE,this.kb=g.kb||g.gE,this.xz=g.t8,this.vE=g.vE||g.uCa||g.sr,this.IU=g.IU||g.data,g.EM&&(this.EM=g.EM),this.Hi=g.Hi,this.method=g.method,this.NX=g.NX,this.alert=g.alert,this.l5=g.l5,this.debug.assert(!this.Hi||this.Hi==this.Vd)):(this.ca=g,this.Vd=h);this.stack=[this.errorCode];this.ca?this.stack.push(this.ca):this.Vd&&this.stack.push(m.G.xk);this.Vd&&this.stack.push(this.Vd);this.qU=this.platform.Dz+this.stack.join("-");}Object.defineProperty(d,"__esModule",{value:!0});f=a(11);m=a(2);q=a(20);b=a(15);a(19);c.prototype.toString=function(){var a;a="[PlayerError #"+this.qU+"]";this.kb&&(a+=" "+this.kb);this.xz&&(a+=" (CustomMessage: "+this.xz+")");return a;};c.prototype.Cga=function(){var a,b;this.xz&&(a=["streaming_error"]);a||this.YBa.wp()!==f.v0||("80080017"==this.Vd&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.Vd&&(a=["pause_timeout"]));a||this.YBa.wp()!==f.Sia||this.errorCode!==m.J.Xia&&this.errorCode!==m.J.w0||(a=["no_cdm","platform_error","plugin_error"]);this.Slb()&&(a=["received_soad"]);b=this.cgb();b&&(a=[b],this.xz=void 0);if(!a)switch(this.errorCode){case m.J.vQ:case m.J.gQ:case m.J.qKa:case m.J.Lla:a=["pause_timeout"];break;case m.J.eka:case m.J.fka:a=this.ca?["platform_error"]:["multiple_tabs"];break;case m.J.pRa:case m.J.EWa:case m.J.KQa:case m.J.JQa:case m.J.MQa:a=["should_signout_and_signin"];break;case m.J.p1:case m.J.Ola:case m.J.Nla:case m.J.Y1:case m.J.YTa:a=["platform_error","plugin_error"];break;case m.J.hUa:a=["no_cdm","platform_error","plugin_error"];break;case m.J.W1:a=this.ca?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case m.J.QP:case m.J.xQ:case m.J.Pla:switch(this.Vd){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case m.J.Mla:case m.J.V1:a=["unsupported_output"];}!a&&m.fPa(this.ca)&&(a=this.ca==m.G.IH?["geo"]:["internet_connection_problem"]);a||this.errorCode!==m.J.w0||this.ca!==m.G.ih||"S"!==this.platform.Dz||(a=["private_mode"]);if(!a)switch(this.THa(this.ca)){case m.G.H2:a=["should_upgrade"];break;case m.G.Ela:a=["should_reset_device"];break;case m.G.Dla:a=["should_reload_device"];break;case m.G.Cla:a=["should_exit_device"];break;case m.G.bTa:case m.G.Pka:a=["should_signout_and_signin"];break;case m.G.cTa:a=["internet_connection_problem"];break;case m.G.Sla:case m.G.Qla:case m.G.Tla:case m.G.Rla:case m.G.ria:a=["platform_error","plugin_error"];break;case m.G.k0:case m.G.Kja:case m.G.Lja:a=["private_mode"];}a=a||[];a.push(this.platform.Dz+this.errorCode);if(this.ca)switch(this.THa(this.ca)){case m.G.Fla:a.push("incorrect_pin");break;default:a.push(""+this.ca);}a={display:{code:this.qU,text:this.xz},messageIdList:a,alert:this.alert,alertTag:this.l5};if(this.vE||this.uCa)a.mslErrorCode=this.vE||this.uCa||this.sr;return a;};c.prototype.THa=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};c.prototype.Slb=function(){var a;a=b.ka(this.Vd)?this.Vd.toString():b.ee(this.Vd)?this.Vd:"";return this.vE===m.I1.E2&&(a.endsWith("2018")||a.endsWith("2020"));};c.prototype.cgb=function(){if(this.errorCode===m.J.dy&&(this.ca===m.G.U1||this.ca===m.G.Bla))return this.dgb(this.ca===m.G.U1);};c.prototype.dgb=function(a){var b,c,f;b=(this.config().browserInfo||{}).os||{};c=b.name;f=(b.version||"").split(".");b=parseInt(f&&f[0]);f=parseInt(f&&f[1]);switch(c){case"Windows":return 6>b||6===b&&1>f?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"Mac OS X":return 10>b||10===b&&10>f?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};d.sVa=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ona="UrlFactorySymbol";},function(g,d,a){var f;function c(a){this.G_a=void 0===a?!1:a;this.Od={0:[]};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c.prototype.add=function(a,c){var b;c=void 0===c?0:c;b=this.Od[c];b?this.G_a&&-1!==b.indexOf(a)||b.push(a):this.Od[c]=[a];};c.prototype.remove=function(a,c){this.Ks(a,void 0===c?0:c);};c.prototype.removeAll=function(a){this.Ks(a);};c.prototype.Mt=function(){var a;a=this;return Object.keys(this.Od).sort().reduce(function(c,b){return c.concat(a.Od[b]);},[]);};c.prototype.Ks=function(a,c){var b;b=this;Object.keys(this.Od).forEach(function(f){var d;if(void 0===c||c===parseInt(f)){f=b.Od[f];-1<(d=f.indexOf(a))&&f.splice(d,1);}});};f=c;f=g.__decorate([a.N()],f);d.Ima=f;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zIb=function(){};d.ila="MseConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gia="DecoderTimeoutPathologistSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.oia="CsvEncoderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rna="StringUtilsSymbol";},function(g,d,a){(function(c){var V,ma,A,sa,oa,O;function f(a,b){var c;c={Wea:[],Cj:q};3<=arguments.length&&(c.depth=arguments[2]);4<=arguments.length&&(c.MD=arguments[3]);I(b)?c.Ffa=b:b&&d.UZa(c,b);n(c.Ffa)&&(c.Ffa=!1);n(c.depth)&&(c.depth=2);n(c.MD)&&(c.MD=!1);n(c.iua)&&(c.iua=!0);c.MD&&(c.Cj=g);return k(c,a,c.depth);}function g(a,b){return(b=f.Pzb[b])?"\u001b["+f.MD[b][0]+"m"+a+"\u001b["+f.MD[b][1]+"m":a;}function q(a){return a;}function b(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function k(a,c,f){var g,m,q,h,C;if(a.iua&&c&&N(c.ZL)&&c.ZL!==d.ZL&&(!c.constructor||c.constructor.prototype!==c)){g=c.ZL(f,a);l(g)||(g=k(a,g,f));return g;}if(g=p(a,c))return g;m=Object.keys(c);q=b(m);a.Ffa&&(m=Object.getOwnPropertyNames(c));if(S(c)&&(0<=m.indexOf("message")||0<=m.indexOf("description")))return t(c);if(0===m.length){if(N(c))return a.Cj("[Function"+(c.name?": "+c.name:"")+"]","special");if(T(c))return a.Cj(RegExp.prototype.toString.call(c),"regexp");if(R(c))return a.Cj(Date.prototype.toString.call(c),"date");if(S(c))return t(c);}g="";h=!1;C=["{","}"];B(c)&&(h=!0,C=["[","]"]);N(c)&&(g=" [Function"+(c.name?": "+c.name:"")+"]");T(c)&&(g=" "+RegExp.prototype.toString.call(c));R(c)&&(g=" "+Date.prototype.toUTCString.call(c));S(c)&&(g=" "+t(c));if(0===m.length&&(!h||0==c.length))return C[0]+g+C[1];if(0>f)return T(c)?a.Cj(RegExp.prototype.toString.call(c),"regexp"):a.Cj("[Object]","special");a.Wea.push(c);m=h?u(a,c,f,q,m):m.map(function(b){return y(a,c,f,q,b,h);});a.Wea.pop();return D(m,g,C);}function p(a,b){if(n(b))return a.Cj("undefined","undefined");if(l(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.Cj(b,"string");if(C(b))return a.Cj(""+b,"number");if(I(b))return a.Cj(""+b,"boolean");if(null===b)return a.Cj("null","null");}function t(a){return"["+Error.prototype.toString.call(a)+"]";}function u(a,b,c,f,d){for(var k=[],g=0,p=b.length;g<p;++g)Object.prototype.hasOwnProperty.call(b,String(g))?k.push(y(a,b,c,f,String(g),!0)):k.push("");d.forEach(function(d){d.match(/^\d+$/)||k.push(y(a,b,c,f,d,!0));});return k;}function y(a,b,c,f,d,g){var p,m;b=Object.getOwnPropertyDescriptor(b,d)||{value:b[d]};b.get?m=b.set?a.Cj("[Getter/Setter]","special"):a.Cj("[Getter]","special"):b.set&&(m=a.Cj("[Setter]","special"));Object.prototype.hasOwnProperty.call(f,d)||(p="["+d+"]");m||(0>a.Wea.indexOf(b.value)?(m=null===c?k(a,b.value,null):k(a,b.value,c-1),-1<m.indexOf("\n")&&(m=g?m.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+m.split("\n").map(function(a){return"   "+a;}).join("\n"))):m=a.Cj("[Circular]","special"));if(n(p)){if(g&&d.match(/^\d+$/))return m;p=JSON.stringify(""+d);p.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(p=p.substr(1,p.length-2),p=a.Cj(p,"name")):(p=p.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),p=a.Cj(p,"string"));}return p+": "+m;}function D(a,b,c){var f;f=0;return 60<a.reduce(function(a,b){f++;0<=b.indexOf("\n")&&f++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1];}function B(a){return Array.isArray(a);}function I(a){return"boolean"===typeof a;}function C(a){return"number"===typeof a;}function l(a){return"string"===typeof a;}function n(a){return void 0===a;}function T(a){return ca(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function ca(a){return"object"===typeof a&&null!==a;}function R(a){return ca(a)&&"[object Date]"===Object.prototype.toString.call(a);}function S(a){return ca(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function N(a){return"function"===typeof a;}function r(a){return 10>a?"0"+a.toString(10):a.toString(10);}function W(){var a,b;a=new Date();b=[r(a.getHours()),r(a.getMinutes()),r(a.getSeconds())].join(":");return[a.getDate(),oa[a.getMonth()],b].join(" ");}function fa(a,b){var c;if(!a){c=Error("Promise was rejected with a falsy value");c.reason=a;a=c;}return b(a);}V=Object.HPb||function(a){for(var b=Object.keys(a),c={},f=0;f<b.length;f++)c[b[f]]=Object.getOwnPropertyDescriptor(a,b[f]);return c;};ma=/%[sdj%]/g;d.format=function(a){if(!l(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(f(arguments[c]));return b.join(" ");}for(var c=1,d=arguments,k=d.length,b=String(a).replace(ma,function(a){if("%%"===a)return"%";if(c>=k)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++]);}catch(Ca){return"[Circular]";}default:return a;}}),g=d[c];c<k;g=d[++c])b=null!==g&&ca(g)?b+(" "+f(g)):b+(" "+g);return b;};d.gbb=function(a,b){var f;if("undefined"!==typeof c&&!0===c.IRb)return a;if("undefined"===typeof c)return function(){return d.gbb(a,b).apply(this,arguments);};f=!1;return function(){if(!f){if(c.sTb)throw Error(b);c.vTb?console.trace(b):console.error(b);f=!0;}return a.apply(this,arguments);};};A={};d.qOb=function(a){var b;n(sa)&&(sa=c.Ldb.TIb||"");a=a.toUpperCase();if(!A[a])if(new RegExp("\\b"+a+"\\b","i").test(sa)){b=c.hSb;A[a]=function(){var c;c=d.format.apply(d,arguments);console.error("%s %d: %s",a,b,c);};}else A[a]=function(){};return A[a];};d.ZL=f;f.MD={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};f.Pzb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};d.isArray=B;d.llb=I;d.Ja=function(a){return null===a;};d.yQb=function(a){return null==a;};d.ka=C;d.ee=l;d.DQb=function(a){return"symbol"===typeof a;};d.U=n;d.hAa=T;d.qf=ca;d.aM=R;d.FW=S;d.Qb=N;d.eAa=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};d.isBuffer=a(966);oa="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");d.log=function(){console.log("%s - %s",W(),d.format.apply(d,arguments));};d.Okb=a(965);d.UZa=function(a,b){if(b&&ca(b))for(var c=Object.keys(b),f=c.length;f--;)a[c[f]]=b[c[f]];};h();h();O="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;d.bub=function(a){function b(){for(var b,c,f=new Promise(function(a,f){b=a;c=f;}),d=[],k=0;k<arguments.length;k++)d.push(arguments[k]);d.push(function(a,f){a?c(a):b(f);});try{a.apply(this,d);}catch(Ca){c(Ca);}return f;}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');if(O&&a[O]){b=a[O];if("function"!==typeof b)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(b,O,{value:b,enumerable:!1,writable:!1,configurable:!0});return b;}Object.setPrototypeOf(b,Object.getPrototypeOf(a));O&&Object.defineProperty(b,O,{value:b,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(b,V(a));};d.bub.$Nb=O;d.yNb=function(a){function b(){var k,g;function b(){return k.apply(g,arguments);}for(var f=[],d=0;d<arguments.length;d++)f.push(arguments[d]);k=f.pop();if("function"!==typeof k)throw new TypeError("The last argument must be of type Function");g=this;a.apply(this,f).then(function(a){c.FCa(b,null,a);},function(a){c.FCa(fa,a,b);});}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(b,Object.getPrototypeOf(a));Object.defineProperties(b,V(a));return b;};}.call(this,a(251)));},function(g,d,a){var f,m;function c(){this.Jm={};this.id="$es$"+f.yK++;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c.prototype.addListener=function(a,b,c){var f,d;f="$netflix$player$order"+this.id+"$"+a;if(this.Jm){d=this.Jm[a]?this.Jm[a].slice():[];c&&(b[f]=c);0>d.indexOf(b)&&(d.push(b),d.sort(function(a,b){return(a[f]||0)-(b[f]||0);}));this.Jm[a]=d;}};c.prototype.removeListener=function(a,b){if(this.Jm&&this.Jm[a]){for(var c=this.Jm[a].slice(),f;0<=(f=c.indexOf(b));)c.splice(f,1);this.Jm[a]=c;}};c.prototype.Pb=function(a,b,c){var f;if(this.Jm){f=this.J9(a);for(a={rj:0};a.rj<f.length;a={rj:a.rj},a.rj++)c?function(a){return function(){var c;c=f[a.rj];setTimeout(function(){c(b);},0);};}(a)():f[a.rj].call(this,b);}};c.prototype.Uf=function(){this.Jm=void 0;};c.prototype.on=function(a,b,c){this.addListener(a,b,c);};c.prototype.J9=function(a){return this.Jm&&(this.Jm[a]||(this.Jm[a]=[]));};m=f=c;m.yK=0;m=f=g.__decorate([a.N()],m);d.tk=m;},function(g,d,a){var f,m,q,b;function c(a,b){this.is=a;this.Vh=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a(2);m=a(23);q=a(102);b=a(9);c.prototype.Wm=function(a,b,c){var f,d,g,k;f=this;if(b)if(c){d=c.pF;g=c.prefix;k=c.qu;this.tw(b,function(b,c){if(!k||f.is.Sd(c))a[(g||"")+(d?b.toLowerCase():b)]=c;});}else this.tw(b,function(b,c){a[b]=c;});return a;};c.prototype.tw=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};c.prototype.gw=function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};c.prototype.n8a=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};c.prototype.Ye=function(a){var b,c,f;if(a){b=a.stack;c=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!==a.indexOf(f)&&(a=f+"\n"+a)):a=f;c&&(a+="\nnumber:"+c);return a;}};c.prototype.mva=function(a,b){var c,f;a=a.target.keyStatuses.entries();for(c=a.next();!c.done;)f=c.value[0],c=c.value[1],b&&b(f,c),c=a.next();};c.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};c.prototype.mxa=function(a){return this.getFunctionName(a.constructor);};c.prototype.dDa=function(a){var b,c;b=this;c="";this.is.Ys(a)||this.is.Cra(a)?c=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.xm(a)?c=a:this.tw(a,function(a,f){c+=(c?", ":"")+"{"+a+": "+(b.is.SS(f)?b.getFunctionName(f)||"function":f)+"}";});return"["+this.mxa(a)+" "+c+"]";};c.prototype.createElement=function(a,c,f,d){var g;g=b.ke.createElement(a);c&&(g.style.cssText=c);f&&(g.innerHTML=f);d&&this.tw(d,function(a,b){g.setAttribute(a,b);});return g;};c.prototype.teb=function(a,b){return function(c){return c[a]===b;};};c.prototype.mY=function(a){var b;b={};(a||"").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0<=c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c+1)):b[a.toLowerCase()]=void 0;});return b;};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(m.Qe)),g.__param(1,f.l(q.Sx))],a);d.Qna=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xla="OneWayCounterFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fia="ClockConfigSymbol";},function(g,d){var a;Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.MAa=0]="licenseStarted";a[a.kFa=1]="receivedLicenseChallenge";a[a.jFa=2]="receivedLicense";a[a.lFa=3]="receivedRenewalChallengeComplete";a[a.mFa=4]="receivedRenewalLicenseComplete";a[a.nFa=5]="receivedRenewalLicenseFailed";a[a.Mub=6]="receivedIndivChallengeComplete";a[a.Nub=7]="receivedIndivLicenseComplete";a[a.hra=8]="addLicenseComplete";a[a.jra=9]="addRenewalLicenseComplete";a[a.kra=10]="addRenewalLicenseFailed";}(a=d.lq||(d.lq={})));d.ecb=function(c){switch(c){case a.MAa:return"lg";case a.kFa:return"lc";case a.jFa:return"lr";case a.lFa:return"renew_lc";case a.mFa:return"renew_lr";case a.nFa:return"renew_lr_failed";case a.Mub:return"ilc";case a.Nub:return"ilr";case a.hra:return"ld";case a.jra:return"renew_ld";case a.kra:return"renew_ld_failed";default:return"unknown";}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mYa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";d.nja="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gja="EmeSessionFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qia="DrmProviderSymbol";},function(g,d,a){var c;c=a(104);d.bAa=function(a){return!c.isArray(a)&&0<=a-parseFloat(a)+1;};},function(g,d,a){var c,f,m,q,b,k;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(479);m=a(104);g=a(77);q=a(76);d.yA=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];1===a.length&&m.isArray(a[0])&&(a=a[0]);return function(c){return c.Ag(new b(a));};};d.erb=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];1===a.length&&m.isArray(a[0])&&(a=a[0]);c=a.shift();return new f.tja(c,null).Ag(new b(a));};b=function(){function a(a){this.Dca=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Dca));};return a;}();k=function(a){function b(b,c){a.call(this,b);this.destination=b;this.Dca=c;}c(b,a);b.prototype.Kca=function(){this.$Z();};b.prototype.Ul=function(){this.$Z();};b.prototype.Md=function(){this.$Z();};b.prototype.yc=function(){this.$Z();};b.prototype.$Z=function(){var a;a=this.Dca.shift();a?this.add(q.Ku(this,a)):this.destination.complete();};return b;}(g.ls);},function(g,d){d.aM=function(a){return a instanceof Date&&!isNaN(+a);};},function(g,d,a){var c,f,m,q;c=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=a(76);g=a(77);d.wF=function(a,c,f){void 0===f&&(f=Number.POSITIVE_INFINITY);return function(b){"number"===typeof c&&(f=c,c=null);return b.Ag(new m(a,c,f));};};m=function(){function a(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);this.ah=a;this.$k=b;this.I6=c;}a.prototype.call=function(a,b){return b.subscribe(new q(a,this.ah,this.$k,this.I6));};return a;}();d.xIb=m;q=function(a){function b(b,c,f,d){void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b);this.ah=c;this.$k=f;this.I6=d;this.UE=!1;this.buffer=[];this.index=this.active=0;}c(b,a);b.prototype.Ph=function(a){this.active<this.I6?this.C2a(a):this.buffer.push(a);};b.prototype.C2a=function(a){var b,c;c=this.index++;try{b=this.ah(a,c);}catch(y){this.destination.error(y);return;}this.active++;this.F3(b,a,c);};b.prototype.F3=function(a,b,c){this.add(f.Ku(this,a,b,c));};b.prototype.yc=function(){this.UE=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};b.prototype.wA=function(a,b,c,f){this.$k?this.E0a(a,b,c,f):this.destination.next(b);};b.prototype.E0a=function(a,b,c,f){var d;try{d=this.$k(a,b,c,f);}catch(B){this.destination.error(B);return;}this.destination.next(d);};b.prototype.Ul=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.Ph(b.shift()):0===this.active&&this.UE&&this.destination.complete();};return b;}(g.ls);d.yIb=q;},function(g,d,a){var c;c=a(255);d.sK=function(){return c.bx(1);};},function(g,d,a){var m,q;function c(a){var b;b=a.value;a=a.cg;a.closed||(a.next(b),a.complete());}function f(a){var b;b=a.Cz;a=a.cg;a.closed||a.error(b);}m=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};q=a(78);g=function(a){function b(b,c){a.call(this);this.yr=b;this.ha=c;}m(b,a);b.create=function(a,c){return new b(a,c);};b.prototype.ug=function(a){var b,d,g;b=this;d=this.yr;g=this.ha;if(null==g)this.Cs?a.closed||(a.next(this.value),a.complete()):d.then(function(c){b.value=c;b.Cs=!0;a.closed||(a.next(c),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){q.root.setTimeout(function(){throw a;});});else if(this.Cs){if(!a.closed)return g.Ab(c,0,{value:this.value,cg:a});}else d.then(function(f){b.value=f;b.Cs=!0;a.closed||a.add(g.Ab(c,0,{value:f,cg:a}));},function(b){a.closed||a.add(g.Ab(f,0,{Cz:b,cg:a}));}).then(null,function(a){q.root.setTimeout(function(){throw a;});});};return b;}(a(10).Aa);d.Kma=g;},function(g,d,a){var c,f,m,q,b,k,p,t,h,y,D,B;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(104);m=a(483);q=a(482);b=a(478);k=a(1067);p=a(103);t=a(1066);h=a(181);y=a(10);D=a(488);B=a(260);g=function(a){function d(b,c){a.call(this,null);this.emb=b;this.ha=c;}c(d,a);d.create=function(a,c){if(null!=a){if("function"===typeof a[B.observable])return a instanceof y.Aa&&!c?a:new d(a,c);if(f.isArray(a))return new p.Ox(a,c);if(q.fAa(a))return new b.Kma(a,c);if("function"===typeof a[h.iterator]||"string"===typeof a)return new k.iRa(a,c);if(m.Nza(a))return new t.MKa(a,c);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};d.prototype.ug=function(a){var b,c;b=this.emb;c=this.ha;return null==c?b[B.observable]().subscribe(a):b[B.observable]().subscribe(new D.wla(a,c,0));};return d;}(y.Aa);d.tja=g;},function(g,d,a){g=a(479);d.from=g.tja.create;},function(g,d,a){g=a(103);d.of=g.Ox.of;},function(g,d){d.fAa=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(g,d){d.Nza=function(a){return a&&"number"===typeof a.length;};},function(g,d){d.Ora=function(a,c){var t;for(var f=0,d=c.length;f<d;f++)for(var g=c[f],b=Object.getOwnPropertyNames(g.prototype),k=0,p=b.length;k<p;k++){t=b[k];a.prototype[t]=g.prototype[t];}};},function(g,d){d.oI=function(){return function(a){this.Tzb=a;};}();},function(g,d,a){var c;c=a(485);g=function(){function a(){this.uO=[];}a.prototype.cBa=function(){this.uO.push(new c.oI(this.ha.now()));return this.uO.length-1;};a.prototype.dBa=function(a){var f;f=this.uO;f[a]=new c.oI(f[a].Tzb,this.ha.now());};return a;}();d.tna=g;},function(g,d,a){var c,f,m,q,b,k,p;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(182);f=a(10);m=a(49);q=a(66);b=a(1079);a=function(a){function f(b,c){a.call(this);this.source=b;this.ZZ=c;this.Jv=0;this.zq=!1;}c(f,a);f.prototype.ug=function(a){return this.KV().subscribe(a);};f.prototype.KV=function(){var a;a=this.ES;if(!a||a.Ff)this.ES=this.ZZ();return this.ES;};f.prototype.connect=function(){var a;a=this.vv;a||(this.zq=!1,a=this.vv=new q.kl(),a.add(this.source.subscribe(new k(this.KV(),this))),a.closed?(this.vv=null,a=q.kl.EMPTY):this.vv=a);return a;};f.prototype.UY=function(){return b.UY()(this);};return f;}(f.Aa);d.gia=a;a=a.prototype;d.f8a={zA:{value:null},Jv:{value:0,writable:!0},ES:{value:null,writable:!0},vv:{value:null,writable:!0},ug:{value:a.ug},zq:{value:a.zq,writable:!0},KV:{value:a.KV},connect:{value:a.connect},UY:{value:a.UY}};k=function(a){function b(b,c){a.call(this,b);this.Em=c;}c(b,a);b.prototype.Md=function(b){this.Ss();a.prototype.Md.call(this,b);};b.prototype.yc=function(){this.Em.zq=!0;this.Ss();a.prototype.yc.call(this);};b.prototype.Ss=function(){var a,b;a=this.Em;if(a){this.Em=null;b=a.vv;a.Jv=0;a.ES=null;a.vv=null;b&&b.unsubscribe();}};return b;}(g.hXa);(function(){function a(a){this.Em=a;}a.prototype.call=function(a,b){var c;c=this.Em;c.Jv++;a=new p(a,c);b=b.subscribe(a);a.closed||(a.mp=c.connect());return b;};return a;}());p=function(a){function b(b,c){a.call(this,b);this.Em=c;}c(b,a);b.prototype.Ss=function(){var a,b;a=this.Em;if(a){this.Em=null;b=a.Jv;0>=b?this.mp=null:(a.Jv=b-1,1<b?this.mp=null:(b=this.mp,a=a.vv,this.mp=null,!a||b&&a!==b||a.unsubscribe()));}else this.mp=null;};return b;}(m.Zi);},function(g,d,a){var c,f,m,q,b;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(49);f=a(257);d.ORb=function(a,b){void 0===b&&(b=0);return function(c){return c.Ag(new m(a,b));};};m=function(){function a(a,b){void 0===b&&(b=0);this.ha=a;this.Td=b;}a.prototype.call=function(a,b){return b.subscribe(new q(a,this.ha,this.Td));};return a;}();d.yJb=m;q=function(a){function d(b,c,f){void 0===f&&(f=0);a.call(this,b);this.ha=c;this.Td=f;}c(d,a);d.Lb=function(a){a.notification.observe(a.destination);this.unsubscribe();};d.prototype.Nea=function(a){this.add(this.ha.Ab(d.Lb,this.Td,new b(a,this.destination)));};d.prototype.Ph=function(a){this.Nea(f.Notification.X6(a));};d.prototype.Md=function(a){this.Nea(f.Notification.Rta(a));};d.prototype.yc=function(){this.Nea(f.Notification.T6());};return d;}(g.Zi);d.wla=q;b=function(){return function(a,b){this.notification=a;this.destination=b;};}();d.xJb=b;},function(g,d,a){var c,f,m,q,b,k,p;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(182);f=a(1084);m=a(66);q=a(488);b=a(491);k=a(490);a=function(a){function d(b,c,f){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this);this.ha=f;this.Mg=[];this.TYa=1>b?1:b;this.U2a=1>c?1:c;}c(d,a);d.prototype.next=function(b){var c;c=this.jpa();this.Mg.push(new p(c,b));this.Oqa();a.prototype.next.call(this,b);};d.prototype.ug=function(a){var c,f,d;c=this.Oqa();f=this.ha;if(this.closed)throw new b.dC();this.LL?d=m.kl.EMPTY:this.Ff?d=m.kl.EMPTY:(this.ou.push(a),d=new k.sna(this,a));f&&a.add(a=new q.wla(a,f));for(var f=c.length,g=0;g<f&&!a.closed;g++)a.next(c[g].value);this.LL?a.error(this.uga):this.Ff&&a.complete();return d;};d.prototype.jpa=function(){return(this.ha||f.xh).now();};d.prototype.Oqa=function(){for(var a=this.jpa(),b=this.TYa,c=this.U2a,f=this.Mg,d=f.length,g=0;g<d&&!(a-f[g].time<c);)g++;d>b&&(g=Math.max(g,d-b));0<g&&f.splice(0,g);return f;};return d;}(g.Nj);d.FQ=a;p=function(){return function(a,b){this.time=a;this.value=b;};}();},function(g,d,a){var c;c=this&&this.__extends||function(a,c){function f(){this.constructor=a;}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f());};g=function(a){function f(c,b){a.call(this);this.tO=c;this.cg=b;this.closed=!1;}c(f,a);f.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.tO;b=a.ou;this.tO=null;!b||0===b.length||a.Ff||a.closed||(a=b.indexOf(this.cg),-1!==a&&b.splice(a,1));}};return f;}(a(66).kl);d.sna=g;},function(g,d){var a;a=this&&this.__extends||function(a,f){function c(){this.constructor=a;}for(var d in f)f.hasOwnProperty(d)&&(a[d]=f[d]);a.prototype=null===f?Object.create(f):(c.prototype=f.prototype,new c());};g=function(c){function f(){var a;a=c.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(f,c);return f;}(Error);d.dC=g;},function(g,d){d.uw={e:{}};},function(g,d){d.Qb=function(a){return"function"===typeof a;};},function(g,d){d.qf=function(a){return null!=a&&"object"===typeof a;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nla="NetworkMonitorConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.m2="QueryStringDataProviderSymbol";},function(g,d,a){var f,m;function c(a,b,c,f,d){this.version=a;this.SF=b;this.OHa=c;this.Bj=f;this.Mr=d;this.Nq=[];}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);m=a(46);c.prototype.load=function(a){return this.enb(a);};c.prototype.add=function(a){this.Nq.push(a);return this.jda();};c.prototype.remove=function(a,b){a=this.hxa(this.vp(a,b));return 0<=a?(this.Nq.splice(a,1),this.jda()):Promise.resolve();};c.prototype.update=function(a,b){b=this.hxa(this.vp(a,b));return 0<=b?(this.Nq[b]=a,this.jda()):Promise.resolve();};c.prototype.enb=function(a){var b;b=this;this.TAa||(this.TAa=new Promise(function(c,d){function g(a){b.cbb().then(function(){d(a);})["catch"](function(){d(a);});}b.q$().then(function(a){b.storage=a;return b.storage.load(b.SF);}).then(function(f){var d;f=f.value;try{d=a(f);b.version=d.version;b.Nq=d.data;c();}catch(D){g(D);}})["catch"](function(a){a.ca!==f.G.ov?d(a):c();});}));return this.TAa;};c.prototype.jda=function(){var a,b,c,f,d;a=this;if(!this.OHa)return Promise.resolve();if(this.VZ){f=new Promise(function(a,f){b=a;c=f;});d=function(){a.VZ=f;a.NHa().then(function(){b();})["catch"](function(a){c(a);});};this.VZ.then(d)["catch"](d);return f;}return this.VZ=this.NHa();};c.prototype.NHa=function(){var a,b;a=this;b=this.Mr();return new Promise(function(d,g){a.q$().then(function(c){return c.save(a.SF,b,!1);}).then(function(){d();})["catch"](function(a){g(c.OAb(f.J.VTa,a));});});};c.prototype.cbb=function(){var a;a=this;return this.OHa?new Promise(function(b,c){a.q$().then(function(b){return b.remove(a.SF);}).then(function(){b();})["catch"](function(a){c(a);});}):Promise.resolve();};c.prototype.q$=function(){return this.storage?Promise.resolve(this.storage):this.Bj.create();};c.prototype.vp=function(a,b){for(var c=0;c<this.Nq.length;++c)if(b(this.Nq[c],a))return this.Nq[c];};c.prototype.hxa=function(a){return a?this.Nq.indexOf(a):-1;};c.OAb=function(a,b){var c;if(b.ca&&b.cause)return new m.wc(a,b.ca,void 0,void 0,void 0,void 0,void 0,b.cause);if(void 0!==b.Rc){c=(b.message?b.message+" ":"")+"";b.code=a;b.message=""===c?void 0:c;return b;}return b instanceof Error?new m.wc(a,f.G.ih,void 0,void 0,void 0,void 0,b.stack,b):new m.wc(a,f.G.xk,void 0,void 0,void 0,void 0,void 0,b);};d.gka=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Pia="DrmDataFactorySymbol";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});d.xP=a;a.yUa="PSK";a.YRa="MGK";a.kIb="MGK_WITH_FALLBACK";a.jIb="MGK_JWE";a.SHb="JWEJS_RSA";a.oka="JWK_RSA";a.THb="JWK_RSAES";},function(g,d,a){var m;function c(a,b){this.df=b;this.hu=Math.floor(a);this.display=this.hu+" "+this.df.name;}function f(a,b,c){this.df=a;this.name=b;this.zm=c?c:this;m.Vm(this,"base");}Object.defineProperty(d,"__esModule",{value:!0});m=a(54);f.prototype.fL=function(a){return this.df==a.df;};f.prototype.toJSON=function(){return this.name;};d.SQ=f;c.prototype.ea=function(a){return this.df.fL(a)?this.hu:Math.floor(this.hu*this.df.df/a.df);};c.prototype.BY=function(a){return this.df.fL(a)?this.hu:this.hu*this.df.df/a.df;};c.prototype.to=function(a){return new c(this.ea(a),a);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return{magnitude:this.hu,units:this.df.name};};c.prototype.add=function(a){return this.uta(a);};c.prototype.kd=function(a){return this.uta(a,function(a){return-a;});};c.prototype.scale=function(a){return new c(this.ea(this.df.zm)*a,this.df.zm);};c.prototype.Cl=function(a){return this.ea(this.df.zm)-a.ea(this.df.zm);};c.prototype.fL=function(a){return 0==this.Cl(a);};c.prototype.qAa=function(){return 0==this.hu;};c.prototype.$za=function(){return 0>this.hu;};c.prototype.Hlb=function(){return 0<this.hu;};c.prototype.uta=function(a,b){b=void 0===b?function(a){return a;}:b;return new c(this.ea(this.df.zm)+b(a.ea(this.df.zm)),this.df.zm);};d.pq=c;},function(g,d,a){var m;function c(a){return function(b){function c(c){return null!==c&&null!==c.target&&c.target.Nba(a)(b);}c.cCa=new m.Metadata(a,b);return c;};}function f(a,b){a=a.su;return null!==a?b(a)?!0:f(a,b):!1;}Object.defineProperty(d,"__esModule",{value:!0});g=a(35);m=a(64);d.OIa=f;d.eIa=c;d.zCa=c(g.hv);d.VIa=function(a){return function(b){var c;return null!==b?(c=b.ZJ[0],"string"===typeof a?c.cf===a:a===b.ZJ[0].ak):!1;};};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(267);f=a(266);g=function(){function a(a){this.Hb=a;this.CI=new f.X_(this.Hb);this.U2=new c.AP(this.Hb);}a.prototype.when=function(a){return this.CI.when(a);};a.prototype.lP=function(){return this.CI.lP();};a.prototype.ur=function(a){return this.U2.ur(a);};return a;}();d.Tx=g;},function(g,d,a){var c,f,m,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(35);f=a(106);m=a(64);q=a(1123);g=function(){function a(a,b,d,g){this.id=f.id();this.type=a;this.cf=d;this.name=new q.PVa(b||"");this.vd=[];a=null;"string"===typeof g?a=new m.Metadata(c.hv,g):g instanceof m.Metadata&&(a=g);null!==a&&this.vd.push(a);}a.prototype.Wya=function(a){for(var b=0,c=this.vd;b<c.length;b++)if(c[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.Wya(c.iy);};a.prototype.fob=function(a){return this.Nba(c.iy)(a);};a.prototype.Aaa=function(){return this.Wya(c.hv);};a.prototype.Faa=function(){return this.vd.some(function(a){return a.key!==c.MH&&a.key!==c.iy&&a.key!==c.nQ&&a.key!==c.qI&&a.key!==c.hv;});};a.prototype.cAa=function(){return this.Nba(c.vla)(!0);};a.prototype.Nhb=function(){return this.Aaa()?this.vd.filter(function(a){return a.key===c.hv;})[0]:null;};a.prototype.sgb=function(){return this.Faa()?this.vd.filter(function(a){return a.key!==c.MH&&a.key!==c.iy&&a.key!==c.nQ&&a.key!==c.qI&&a.key!==c.hv;}):null;};a.prototype.Nba=function(a){var b;b=this;return function(c){var g;for(var f=0,d=b.vd;f<d.length;f++){g=d[f];if(g.key===a&&g.value===c)return!0;}return!1;};};return a;}();d.NQ=g;},function(g,d,a){var c,f,m,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(55);f=a(35);m=a(64);q=a(92);g=function(){function a(a){this.eZa=a;}a.prototype.DBb=function(){return this.eZa();};return a;}();d.x1=g;d.l=function(a){return function(b,d,g){var k;if(void 0===a)throw Error(c.QXa(b.name));k=new m.Metadata(f.MH,a);"number"===typeof g?q.oB(b,d,g,k):q.DO(b,d,k);};};},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(55);d.kAa=function(a){return a instanceof RangeError||a.message===c.wWa;};},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(35);g=function(){function a(){}a.prototype.lxa=function(a){var f;f=Reflect.getMetadata(c.T1,a);a=Reflect.getMetadata(c.vna,a);return{wta:f,DCb:a||{}};};a.prototype.lib=function(a){return Reflect.getMetadata(c.wna,a)||[];};return a;}();d.F1=g;},function(g,d,a){var c,f,m,q,b,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(91);f=a(1104);m=a(265);q=a(1099);b=a(1091);k=a(976);a=a(553);d.ed=new g.GP({hB:!0});k.fnb(d.ed);d.ed.load(f.platform);d.ed.load(q.config);m.YK.load(b.wcb);d.ed.load(a.k4a);d.ed.load(a.profile);d.ed.bind(c.ika).ni(d.ed);},function(g,d,a){var c;c=a(509);g.P=function(){return"function"===typeof Object.values?Object.values:c;};},function(g,d,a){var c,f,m;c=a(1139);f=a(1137);m=a(1133)("Object.prototype.propertyIsEnumerable");g.P=function(a){var b,d;a=f(a);b=[];for(d in a)c(a,d)&&m(a,d)&&b.push(a[d]);return b;};},function(g){var d;d=Object.prototype.toString;g.P=function(a){var c,f;c=d.call(a);f="[object Arguments]"===c;f||(f="[object Array]"!==c&&null!==a&&"object"===typeof a&&"number"===typeof a.length&&0<=a.length&&"[object Function]"===d.call(a.callee));return f;};},function(g,d,a){var f,m,q,b,k,p;function c(a,c){var d,g,h,u,l,n;d=2<arguments.length?arguments[2]:{};g=f(c);m&&(g=b.call(g,Object.getOwnPropertySymbols(c)));for(var t=0;t<g.length;t+=1){h=a;u=g[t];l=c[g[t]];n=d[g[t]];if(!(u in h)||"function"===typeof n&&"[object Function]"===q.call(n)&&n())p?k(h,u,{configurable:!0,enumerable:!1,value:l,writable:!0}):h[u]=l;}}f=a(1141);h();h();m="function"===typeof Symbol&&"symbol"===typeof Symbol("foo");q=Object.prototype.toString;b=Array.prototype.concat;k=Object.defineProperty;p=k&&function(){var a;a={};try{k(a,"x",{enumerable:!1,value:a});for(var b in a)return!1;return a.x===a;}catch(y){return!1;}}();c.lTb=!!p;g.P=c;},function(g,d,a){var c,f,m,q,b,k;Object.defineProperty(d,"__esModule",{value:!0});c=a(126);f=a(11);g=a(2);m=a(5);q=a(117);b=a(62);a=a(24);m.aa.get(a.yf).register(g.J.Uja,function(a){var d,g;d=M._cad_global.videoPreparer;g=M._cad_global.playerPredictionModel;d&&M._cad_global.playerPredictionModel&&(k=m.aa.get(q.Fma).create(g,d.utb.bind(d)),M._cad_global.prefetchEvents=k,d.mh.on("deletedCacheItem",function(a){k.hK(b.md.gI[a.type],parseInt(a.movieId,10),a.reason);}),c.xl.addEventListener("cacheEvict",function(a){k.hK(q.He.Gj.DH,a.movieId,"ase_cacheEvict");k.hK(q.He.Gj.MEDIA,a.movieId,"ase_cacheEvict");}),c.xl.addEventListener("flushedBytes",function(){c.xl.jK().forEach(function(a){k.hK(q.He.Gj.MEDIA,a.u,"ase_flushedBytes");},this);}),d.Jo.addEventListener(d.Jo.events.zna,function(a){k.t6a(b.md.gI[a.type],a.u,a.reason);}),d.Jo.addEventListener(d.Jo.events.xna,function(a){k.q6a(b.md.gI[a.type],a.u,a.reason);}),d.Jo.addEventListener(d.Jo.events.yna,function(a){k.s6a(b.md.gI[a.type],a.u,a.reason);}),d.Jo.addEventListener(d.Jo.events.Ana,function(a){k.v6a(b.md.gI[a.type],a.u,a.reason);}));a(f.pd);});},function(g,d,a){var m,q,b,k,p,t,h,y,D,B;function c(a,b){this.ki=a;this.Wj=b;}function f(a){this.I=a;this.reset();}m=a(185);q=a(184);d=a(271);b=a(270).config;k=d.kgb;p=d.Vfb;t=d.sbb;h=d.Uqb;y=d.Tqb;D=d.Sqb;B=d.nwa;f.prototype.constructor=f;f.prototype.reset=function(){this.hqa=void 0;this.Ai=[];this.Upa=this.Vpa=!1;};f.prototype.update=function(a,c){var f;this.Ai&&(this.Ai=this.Ai.filter(this.Eyb,this));if(!1===this.Vpa){f=k(a.ya).slice(0,b.jua);0<f.length&&(this.pA(f,q.Xr.Yi),this.Vpa=!0,this.Ai=this.wB(f.concat(this.Ai)));}!1===this.Upa&&(f=p(a.ya).slice(0,b.jua),0<f.length&&(this.pA(f,q.Xr.Yi),this.Upa=!0,this.Ai=this.wB(f.concat(this.Ai))));switch(c){case q.Tr.oja:c=this.zjb(a);break;case q.Tr.Wma:c=this.Jjb(a);break;case q.Tr.IQ:c=this.Kjb(a);break;case q.Tr.eI:c=this.Fjb(a);break;default:c=this.wjb(a);}this.hqa=a;return c;};f.prototype.zjb=function(a){a=h(a.ya,b.dGa,b.rta);this.pA(a,q.Xr.Yi);return this.Ai=this.wB(this.Ai.concat(a));};f.prototype.Jjb=function(a){var c,f;this.I.log("handleScrollHorizontal");c=a.ya;a=h(c,b.fGa,b.sta);f=t(c,this.hqa.ya);c=c[f].list.slice(0,b.swb);c.concat(a);this.pA(c,q.Xr.A2);return this.wB(c.concat(this.Ai));};f.prototype.pA=function(a,b){a.forEach(function(a){if(void 0===a.aw||a.aw<b)a.aw=b;void 0===a.OG&&(a.OG=m());void 0===a.mj&&(a.mj=m());});};f.prototype.Kjb=function(a){this.I.log("handleSearch");a=y(a.ya,b.Mwb);this.pA(a,q.Xr.Yma);this.Ai=a.concat(this.Ai);return this.Ai=this.wB(this.Ai);};f.prototype.Fjb=function(a){var f,d,g,k,m;this.I.log("handlePlayFocus: ",b.OL);f=a.direction;d=a.ya;a=[];g=B(d);if(void 0!==g.ki)switch(a.push(g),f){case q.oq.Qma:for(f=1;f<b.OL;f++)a.push(new c(g.ki,g.Wj+f));a.push(new c(g.ki-1,g.Wj));a.push(new c(g.ki+1,g.Wj));break;case q.oq.ska:for(f=1;f<b.OL;f++)a.push(new c(g.ki,g.Wj-f));a.push(new c(g.ki-1,g.Wj));a.push(new c(g.ki+1,g.Wj));break;case q.oq.TXa:a.push(new c(g.ki-1,g.Wj));for(f=1;f<=b.OL/2;f++)a.push(new c(g.ki,g.Wj+f)),a.push(new c(g.ki,g.Wj-f));break;case q.oq.SNa:for(a.push(new c(g.ki+1,g.Wj)),f=1;f<=b.OL/2;f++)a.push(new c(g.ki,g.Wj+f)),a.push(new c(g.ki,g.Wj-f));}k=[];a.forEach(function(a){m=D(d,a.ki,a.Wj);void 0!==m&&k.push(m);});this.pA(k,q.Xr.A2);return this.wB(k.concat(this.Ai));};f.prototype.wjb=function(a){this.I.log("ModelOne: handleDefaultCase");a=h(a.ya,b.fGa,b.sta);this.pA(a,q.Xr.A2);return this.wB(a.concat(this.Ai));};f.prototype.Eyb=function(a){return a.aw==q.Xr.Yi|a.aw==q.Xr.Yma&m()-a.OG<b.jkb;};f.prototype.wB=function(a){var b,c,f,d,g,k,m;b=[];c={};k=0;m=a.length;for(g=0;g<m;g++)f=a[g].va,d=a[g],!1===f in c?(b.push(d),c[f]=k,k++):(f=b[c[f]],d.mj<f.mj&&(f.mj=d.mj),d.aw>f.aw&&(f.aw=d.aw),d.OG>f.OG&&(f.OG=d.OG));return b;};g.P=f;},function(g,d,a){var q,b,k,p,t,h,y;function c(a,b,c,f,d,g){this.u=this.va=a;this.he=b;this.Kc=c;g&&g.je&&(this.je=g.je);void 0!==f&&(this.FA=f);this.mj=d;this.bb=g;}function f(a,b,c,f,d){k(void 0!==f,"video preparer is null");k(void 0!==d,"ui preparer is null");this.I=b||console;this.I=b;this.tb=c;this.P2a=f;this.G2a=d;this.gqa=h.Cda;this.kD=[];this.P4=!1;this.En=0;new y().on(h,"changed",m,this);this.reset();}function m(){this.I.log("config changed");h.Cda&&(this.gqa=h.Cda);h.PM!==this.WC&&(this.reset(),this.Mvb());}q=a(185);b=a(184);d=a(271);k=d.assert;p=d.nwa;t=a(513);h=a(270).config;y=a(111).Yx;h.declare({Cda:["ppmConfig",{dFb:{bDa:0,aDa:2,ZCa:0,$Ca:5,jHa:0},pLb:{bDa:0,aDa:1,ZCa:0,$Ca:3,jHa:1E3},vFb:{bDa:0,aDa:1,ZCa:0,$Ca:3,jHa:1E3}}]});f.prototype.constructor=f;f.prototype.reset=function(){this.y3=!0;this.WC=h.PM;this.I.log("create model: "+h.PM,h.dGa,h.rta);switch(h.PM){case"modelone":this.WC=new t(this.I);break;default:this.WC=new t(this.I);}};f.prototype.Mvb=function(){var b,c;if(!1===this.P4){this.P4=!0;for(var a=0;a<this.kD.length;a++){this.I.log("PlayPredictionModel replay: ",JSON.stringify(this.kD[a]));b=this.Mta(this.kD[a]);c=this.Uwa(b);this.WC.update(b,c);this.y3=!1;}this.kD=[];}};f.prototype.update=function(a){var b,c,f;this.I.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.ya&&a.ya[0]){!1===this.P4&&this.kD.length<h.vob&&this.kD.push(a);b=this.Mta(a);c=this.Uwa(b);this.I.log("actionType",c);b="mlmodel"==h.PM?this.WC.update(a,c):this.WC.update(b,c);b=this.xfb(b,h.hmb||1);this.I.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.En&&(this.En=q(),this.tb&&this.tb.LN&&this.tb.LN({nU:this.En}));if(this.tb&&this.tb.FFa){f={nU:this.En,offset:this.uV(),xEa:[]};b.forEach(function(a){f.xEa.push({aq:a.va});});f.uEa=JSON.stringify(a);f.vEa=JSON.stringify(b);this.tb.FFa(f);}this.P2a.zu(b);this.G2a.zu(b);this.y3=!1;}};f.prototype.Zvb=function(){this.En=0;};f.prototype.uV=function(){return q()-this.En;};f.prototype.LN=function(){this.En=q();this.tb&&this.tb.LN&&this.tb.LN({nU:this.En});};f.prototype.Mta=function(a){var c,f,d,g,k;c={};g=a.ya||[];k=function(a){var g,k;g={};f=b.NH.name.indexOf(a.context);g.context=0<=f?f:b.NH.ks;g.rowIndex=a.rowIndex;g.requestId=a.requestId;g.list=[];d=a.list||[];d.forEach(function(a){k={va:a.va,Kc:a.Kc,index:a.index,FA:a.FA,$F:a.$F,list:a.list,bb:a.bb};void 0!==a.property&&(f=b.VB.name.indexOf(a.property),k.property=0<=f?f:b.VB.ks);g.list.push(k);}.bind(this));c.ya.push(g);}.bind(this);void 0!==a.direction&&(f=b.oq.name.indexOf(a.direction),c.direction=0<=f?f:b.oq.ks);void 0!==a.mL&&(c.oPb=a.mL.rowIndex,c.nPb=a.mL.L7a);c.mL=a.mL;c.ya=[];g.forEach(k);return c;};f.prototype.Uwa=function(a){var c,f,d;c=a.direction||b.oq.ks;f=a.mL;d=a.ya||[];!0===this.y3?a=b.Tr.oja:!0===d.some(this.Vjb)?(a=b.Tr.eI,this.ZY(d,c,f)):a=d[0].context===b.NH.IQ?b.Tr.IQ:c===b.oq.Qma||c===b.oq.ska?b.Tr.Wma:b.Tr.ks;return a;};f.prototype.Vjb=function(a){return(a.list||[]).some(function(a){return a.property===b.VB.eI||a.property===b.VB.pia;});};f.prototype.ZY=function(a,c,f){var d,g;this.I.log("reportPlayFocusEvent: ",c,f);d={};g=p(a);this.tb&&this.tb.ZY&&(d.$Ob=q(),d.direction=b.oq.name[c],f&&(d.rowIndex=f.rowIndex,d.B6=f.L7a),void 0!==g.ki&&(d.requestId=a[g.ki].requestId),this.tb.ZY&&this.tb.ZY(d));};f.prototype.xfb=function(a,b){for(var c=a.length,f=[],d,g,k,m,p=0;p<c;p++){g=a[p];d=Math.floor(p/b)+1;if(void 0!==g.list){k=g.list;m=k.length;for(var t=0;t<Math.min(h.J7a,m)&&!(k[t].mj=g.mj,this.ira(k[t],d,f),f.length>=h.MBa);t++);}else this.ira(g,d,f);if(f.length>=h.MBa)break;}return f;};f.prototype.ira=function(a,b,f){var g,k;function d(a){a.je&&(a.bb||(a.bb={}),a.bb.je=a.je);return a.bb;}g=a.$F;void 0!==g&&g instanceof Array?g.forEach(function(g){void 0!==g.va&&(k=d(g),f.push(new c(g.va,b,g.Kc,g.FA,a.mj,k)));}):void 0!==g&&void 0!==g.va&&(g=a.$F,k=d(g),f.push(new c(g.va,b,g.Kc,g.FA,a.mj,k)));void 0!==a.va&&(k=d(a),f.push(new c(a.va,b,a.Kc,a.FA,a.mj,k)));};f.prototype.zw=function(a){var b;b=this.gqa;return a?b[a]:b;};g.P=f;},function(g,d,a){var c,f,m,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(12);f=a(11);g=a(2);m=a(5);d=a(24);m.aa.get(d.yf).register(g.J.Vja,function(b){var d,g;if(c.config.$sb){d=m.zg("PlayerPredictionModel");M._cad_global.videoPreparer||(d.error("videoPreparer is not defined"),b(f.pd));g=a(514);d.log=d.trace.bind(d);q=new g({},d,{LN:function(a){M._cad_global.prefetchEvents.qbb(a.nU);},FFa:function(a){M._cad_global.prefetchEvents.vtb(a);}},M._cad_global.videoPreparer,{zu:function(){}});M._cad_global.playerPredictionModel=q;d.info("ppm v2 initialized");}b(f.pd);});},function(g){g.P={vw:{ta:12E5,jM:9E5,vd:12E5},$v:{ta:10,jM:10,vd:10},Zv:{ta:10240,jM:10240,vd:10240}};},function(g){function d(a){var c;c=[];return function m(a){if(a&&"object"===typeof a){if(-1!==c.indexOf(a))return!0;c.push(a);for(var b in a)if(a.hasOwnProperty(b)&&m(a[b]))return!0;}return!1;}(a);}g.P=function(a,c){var g;if(c&&d(a))return-1;c=[];a=[a];for(var f=0;a.length;){g=a.pop();if("boolean"===typeof g)f+=4;else if("string"===typeof g)f+=2*g.length;else if("number"===typeof g)f+=8;else if("object"===typeof g&&-1===c.indexOf(g)){c.push(g);for(var q in g)a.push(g[q]);}}return f;};},function(g,d,a){var b,k;function c(){return Object.create(null);}function f(a){this.log=a.log;this.Ka=a.Ka;this.qA=c();this.Promise=a.Promise;this.vt=a.vt;this.Oga=a.Oga;this.th=a.th||!1;this.vw=c();this.$v=c();this.Zv=c();this.b2a(a);a.yE&&(this.yE=a.yE,b(this.yE,f.prototype));}function m(a){return"undefined"!==typeof a;}function q(a){var f;for(var b=0,c=arguments.length;b<c;){f=arguments[b++];if(m(f))return f;}}b=a(58);a(517);k=a(516);f.prototype.b2a=function(a){this.vw.manifest=q(a.C8,k.vw.ta);this.vw.ldl=q(a.B8,k.vw.jM);this.vw.metadata=q(a.cPb,k.vw.vd);this.$v.manifest=q(a.b6,k.$v.ta);this.$v.ldl=q(a.a6,k.$v.jM);this.$v.metadata=q(a.wNb,k.$v.vd);this.Zv.manifest=q(a.uNb,k.Zv.ta);this.Zv.ldl=q(a.tNb,k.Zv.jM);this.Zv.metadata=q(a.vNb,k.Zv.vd);};f.prototype.$V=function(a,b,c){this.ph("undefined"!==typeof a);this.ph("undefined"!==typeof b);return!!this.$oa(a,b,c).value;};f.prototype.$oa=function(a,b,c){var f,d;f={value:null,reason:"",log:""};d=this.qA[b];if("undefined"===typeof d)return f.log="cache miss: no data exists for field:"+b,f.reason="unavailable",f;"undefined"===typeof d[a]?(f.log="cache miss: no data exists for movieId:"+a,f.reason="unavailable"):(c=d[a][c?c:"DEFAULTCAPS"])&&c.value?this.GW(b,c.oh)?(f.log="cache miss: "+b+" data expired for movieId:"+a,f.reason="expired"):(f.log=this.Promise&&c.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,f.value=c.value):(f.log="cache miss: "+b+" data not available for movieId:"+a,f.reason="unavailable");return f;};f.prototype.getData=function(a,b,c){this.ph("undefined"!==typeof a);this.ph("undefined"!==typeof b);a=this.$oa(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.Oga?JSON.parse(this.Oga(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};f.prototype.setData=function(a,b,f,d,g){var k;this.ph("undefined"!==typeof a);this.ph("undefined"!==typeof b);k=this.qA;g=g?g:"DEFAULTCAPS";k[b]||(k[b]=c(),Object.defineProperty(k[b],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(k[b],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));f=this.vt?this.vt(JSON.stringify(f),"gzip",!0):f;k=k[b];this.T_a(a,b,g,k);b={oh:this.Ka.getTime(),value:f,size:0,type:b,F7:d};k[a]=k[a]||c();k[a][g]=k[a][g]||c();k[a][g]=b;k.size+=0;k.numEntries++;this.yE&&this.emit("addedCacheItem",b);return b;};f.prototype.T_a=function(a,b,c,f){var d,g,k,m,p,t,q,h,u;d=this;g=f.numEntries;k=this.$v[b];t=f[a]&&f[a][c];if(t&&t.value)m=a,p="promise_or_expired";else if(g>=k){h=Number.POSITIVE_INFINITY;Object.keys(f).every(function(a){var g;g=f[a]&&f[a][c];g&&g.value&&d.GW(b,g.oh)&&(u=a);g&&g.value&&g.oh<h&&(h=g.oh,q=a);return!0;});m=u||q;p="cache_full";}this.th&&this.log.debug("makespace ",{maxCount:k,currentCount:f.numEntries,field:b,movieId:a,movieToBeRemoved:m});m&&(d.clearData(m,b,c,void 0,p),this.log.debug("removed from cache: ",m,b));};f.prototype.q6=function(a,b){var c,f;c=this;c.ph("undefined"!==typeof a);f=a+"";b.forEach(function(a){var b;b=c.qA[a];b&&Object.keys(b).forEach(function(b){b!=f&&c.clearData(b,a,void 0,void 0,"clear_all");});});};f.prototype.clearData=function(a,b,c,f,d){var g;this.ph("undefined"!==typeof a);this.ph("undefined"!==typeof b);g=this.qA[b];b=g?g[a]:void 0;c=c?c:"DEFAULTCAPS";if(b&&b[c]){g.size-=b[c].size;g.numEntries--;if(g=b&&b[c])b[c]=void 0,!f&&g.F7&&g.F7();this.yE&&(a={creationTime:g.oh,destroyFn:g.F7,size:g.size,type:g.type,value:g.value,reason:d,movieId:a},this.emit("deletedCacheItem",a));}};f.prototype.flush=function(a){var b;this.ph("undefined"!==typeof a);b=this.qA;b[a]=c();b[a].numEntries=0;b[a].size=0;};f.prototype.GW=function(a,b){return this.Ka.getTime()-b>this.vw[a];};f.prototype.getStats=function(a,b,c){var f,d,g,k,p;f={};d=this;g=d.qA;k=m(a)&&m(b);p=c||"DEFAULTCAPS";Object.keys(g).forEach(function(c){var t,q;t=Object.keys(g[c]);q=g[c];t.forEach(function(g){!(g=q&&q[g]&&q[g][p])||!m(g.value)||g.value instanceof this.Promise||(f[c]=(f[c]|0)+1,d.GW(g.type,g.oh)&&(f[c+"_expired"]=(f[c+"_expired"]|0)+1),k&&g.oh>=a&&g.oh<b&&(f[c+"_delta"]=(f[c+"_delta"]|0)+1));});});return f;};f.prototype.Yc=function(a){var b,c,f,d;b=[];c=this;f=c.qA;d=a||"DEFAULTCAPS";Object.keys(f).forEach(function(a){var g,k;g=Object.keys(f[a]);k=f[a];g.forEach(function(f){var g,p;g=k&&k[f]&&k[f][d];g&&m(g.value)&&(p=c.GW(g.type,g.oh)?"expired":g.value instanceof this.Promise?"loading":"cached",b.push({movieId:f,state:p,type:a,size:g.size}));});});return b;};f.prototype.wfa=function(a,b){this.ph("undefined"!==typeof a);this.ph("undefined"!==typeof b);this.Zv[a]=b;};f.prototype.ph=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.th))throw Error("Debug Assert Failed ");};g.P=f;},function(g,d,a){var f,m;function c(a,b,c,d,g,h,y){this.u=a;this.he=b;this.type=c;this.id=++m;this.op=d;this.status=f.Ge.Zha;this.Asb=void 0===g?!1:g;this.QCa=y;}Object.defineProperty(d,"__esModule",{value:!0});f=a(62);m=0;c.prototype.$q=function(){var a;a={id:this.id,type:this.type,created:this.op,status:this.status,movieId:this.u};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};c.prototype.Ul=function(a){this.QCa&&this.QCa(a);};d.OQ=c;},function(g,d,a){var q,b,k;function c(){}function f(a){this.log=a.log;this.Ka=a.Ka;this.YT=this.GK=0;this.Fx=[];this.paused=!1;this.RZ=[];this.Ata=[];this.YL=a.YL||c.kha;this.ed=a.ed;this.Oj=this.ed.get(b.D0);this.addEventListener=this.Oj.addListener.bind(this.Oj);this.events={zna:"taskstart",xna:"taskabort",yna:"taskfail",Ana:"tasksuccess"};}function m(a){return a.$q();}Object.defineProperty(d,"__esModule",{value:!0});g=a(149);q=a(62);b=a(65);c.vUa="prepend";c.kha="append";c.cQa="ignore";k=g.bv;d.oXa=f;f.prototype.mra=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.Fx=this.C_a(a);this.GK=0;this.YT+=1;this.Lb();};f.prototype.C_a=function(a){var b,f;b=this.Fx.filter(function(a){return a.Asb&&a.status===q.Ge.Zha;});f=this.YL;if(f===c.cQa)return[].concat(a);if(f===c.vUa)return b.concat(a);if(f===c.kha)return a.concat(b);};f.prototype.pause=function(){this.paused=!0;};f.prototype.Lb=function(){var a,b;if(this.GK===this.Fx.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.GK,numberOfTasks:this.Fx.length});else{a=this.Qhb();b=this.YT;a.startTime=this.Ka.getTime();a.status=q.Ge.ana;this.Oj.Pb(this.events.zna,{u:a.u,type:a.type});this.RZ.push(a);a.rf(function(c){a.endTime=this.Ka.getTime();c?0<=[q.Ge.Ux,q.Ge.DP,q.Ge.mH,q.Ge.CP].indexOf(c.status)?(a.status=c.status,this.p4(a,this.events.xna,"cancelled task")):(a.status=q.Ge.Yu,this.p4(a,this.events.yna,"task failed",c)):(a.status=q.Ge.gna,this.p4(a,this.events.Ana,"task succeeded"));this.Ata.push(a);this.RZ.splice(this.RZ.indexOf(a),1);this.YT===b&&(this.GK++,this.Lb());}.bind(this));}};f.prototype.Qhb=function(){return this.Fx[this.GK];};f.prototype.p4=function(a,b,c,f){var d;d=a.$q();f?this.log.warn(c,d,f):this.log.trace(c,d);this.Oj.Pb(b,{u:a.u,type:a.type,reason:a.status});a.Ul(d);};f.prototype.getStats=function(a,b,c){var f,d,g,p;f=this.Ata.map(m);d=this.RZ.map(m);g=k.Sd(a)&&k.Sd(b);p={};if(k.Sd(c))return p.V7a=f.filter(function(a){return a.movieId===c;}),p;f.concat(d).forEach(function(c){var f;p[c.type+"_"+c.status]=(p[c.type+"_"+c.status]|0)+1;f=c.status==q.Ge.ana?c.startTime:c.endTime;g&&f>=a&&f<b&&(p[c.type+"_"+c.status+"_delta"]=(p[c.type+"_"+c.status+"_delta"]|0)+1);});return p;};},function(g,d,a){var f,m,q,b,k,p,t,h,y,D;function c(a){this.log=a.log;this.Ka=a.Ka;this.X9=a.X9;this.AV=a.AV;this.zV=a.zV;this.ME=a.ME;this.eu=a.eu;this.MK=a.MK;this.ed=a.ed;this.config=this.ed.get(p.xd)();this.OK=a.OK;this.NK=a.NK;this.hha=a.hha;this.Vca=a.Vca;this.Wca=a.Wca;this.aN=a.aN;this.G9=a.G9;this.th=a.th||!1;this.S4={};this.WR={};this.yS={num_of_calls:0,num_of_movies:0};this.l6=a.l6;this.qca=a.qca;this.Ffb=a.Ffb;this.u9=a.u9;this.mh=new t({log:this.log,Ka:this.Ka,Promise:Promise,th:this.th,b6:a.b6,a6:a.a6,C8:a.C8,B8:a.B8,yE:h});this.Jo=new f.oXa({log:this.log,Ka:this.Ka,YL:a.YL,ed:this.ed});this.vp=this.mh.getData.bind(this.mh);this.vx=this.mh.setData.bind(this.mh);this.YV=this.mh.$V.bind(this.mh);}Object.defineProperty(d,"__esModule",{value:!0});f=a(520);m=a(519);g=a(149);q=a(252);b=a(466);k=a(117);p=a(17);t=a(518);h=a(111).EventEmitter;y=g.bv;D=new b.Qna(y,new q.V_());d.cYa=c;c.prototype.gxa=function(a){var b;b=this.mh.getData(a,"ldl");this.mh.clearData(a,"ldl",void 0,!0);return b;};c.prototype.zu=function(a,b){var c,f,d;c=this;a=a.map(function(a){a.bb=a.bb||{TJ:{YDa:!1},Fh:0};y.vz(a.bb.Fh)||(a.bb.Fh=0);y.vz(a.Kc)&&(a.bb.T=a.Kc);return a;});f=a.map(function(a){return c.Foa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);d=f.map(function(a){return a.u+"-"+a.type;});this.log.trace("prepare tasks",d);this.Jo.mra(f);this.yS.num_of_calls++;this.yS.num_of_movies+=a.length;};c.prototype.rtb=function(a,b){var c,f,d;c=this;f=a.map(function(a){return a.u+"";});a=a.map(function(a){a.bb=a.bb||{TJ:{YDa:!1},Fh:0};a.bb.ve=!0;a.bb.qCa=f;return c.Foa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);d=a.map(function(a){return a.u+"-"+a.type;});this.log.trace("predownload tasks",d);this.Jo.mra(a);};c.prototype.YBb=function(a,b){this.WR[a]||(this.WR[a]={});a=this.WR[a];a.yEa=(a.yEa|0)+1;a.mj=b;};c.prototype.getStats=function(a,b,c){var f;f=c&&this.WR[c]||{};f.Fx=this.Jo.getStats(a,b,c);f.cache=this.mh.getStats(a,b);f.Qwa=D.Wm(this.G9(),this.yS);return f||{};};c.prototype.Foa=function(a,b){var c,f,d,g,k;a.je&&(a.bb.je=a.je);c=[];f=a.u;d=!!a.bb.ve;this.YBb(f,a.mj);g=null;if(this.mh.$V(f,"manifest"))this.log.trace("manifest exists in cache for "+f);else{k=new m.OQ(f,a.he,"manifest",this.Ka.getTime(),d,void 0,b);g=k.id;k.rf=this.X9.bind(this,f,a);c.push(k);}this.AV&&(this.mh.$V(f,"ldl")?this.th&&this.log.trace("ldl exists in cache for "+f):(k=new m.OQ(f,a.he,"ldl",this.Ka.getTime(),d,g,b),k.rf=this.AV.bind(this,f,a),c.push(k)));this.zV&&this.ME&&this.l6()&&(this.qca(f)?this.th&&this.log.trace("headers/media exists in cache for "+f):(f=new m.OQ(a.u,a.he,"getHeaders",this.Ka.getTime(),d,g,b),f.rf=this.zV.bind(this,a.u,a),c.push(f),b=new m.OQ(a.u,a.he,"getMedia",this.Ka.getTime(),d,g,b),b.rf=this.ME.bind(this,a.u,a),c.push(b)));return c;};c.prototype.Ijb=function(a){this.Wca(a);};c.prototype.Hjb=function(a){this.log.trace("task scheduler paused on playback created");this.Jo.pause();this.OK&&this.mh.q6(a,["manifest"]);this.NK&&this.mh.q6(a,["ldl"]);this.Vca(a);};c.prototype.Lya=function(){this.log.info("track changed, clearing all manifests from cache");this.mh.q6("none",["manifest"]);};c.prototype.Gjb=function(a){var b;b=this;this.MK?this.mh.clearData(a,"manifest"):this.mh.$V(a,"manifest")&&this.mh.getData(a,"manifest").then(function(c){c.isSupplemental||b.mh.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",c);});this.w6(a);this.aN();};c.prototype.w6=function(a){this.S4[a]=void 0;};c.prototype.B$=function(a){return this.S4[a];};c.prototype.aua=function(a){return this.S4[a]=this.hha();};c.prototype.utb=function(){var a;a=[];a=this.mh.Yc().map(function(a){return{aq:parseInt(a.movieId,10),state:a.state,Zs:a.type,size:a.size||void 0};});this.u9().map(function(b){2===b.Bp?a.push({aq:b.u,state:"cached",Zs:k.He.Gj.DH,size:void 0}):b.Ueb&&!b.Bmb&&a.push({aq:b.u,state:"loading",Zs:k.He.Gj.DH,size:void 0});b.FJa&&0<b.FJa&&b.Yra&&0<b.Yra?a.push({aq:b.u,state:"cached",Zs:k.He.Gj.MEDIA,size:void 0}):b.mtb&&!b.ltb&&a.push({aq:b.u,state:"loading",Zs:k.He.Gj.MEDIA,size:void 0});});return a;};c.prototype.Pza=function(a){return a&&0<=a.indexOf("billboard");};},function(g,d,a){var c,f,m,q,b,k,p,t,h,y,D,B,I,C,l,n,T,ca,R,S,N,r,W,fa,V;Object.defineProperty(d,"__esModule",{value:!0});c=a(50);f=a(126);m=a(12);q=a(11);b=a(30);g=a(2);k=a(5);p=a(23);t=a(241);h=a(4);y=a(88);D=a(123);B=a(118);I=a(62);C=a(187);l=a(20);n=a(44);T=a(521);ca=a(195);R=a(235);S=a(159);N=a(133);r=a(42);W=a(61);d=a(24);fa=a(144);k.aa.get(d.yf).register(g.J.Zja,function(a){var U,ma,z,Ga,ka,G,Ca,ab,P,X,Z,Wa,da,gb;function d(){var a,b,c;if(m.config.xo){a={};a.trigger=I.md.uUa.TTa;b=U.getTime();c=V.getStats(da,b);a.startoffset=da;da=a.endoffset=b;a.cache=JSON.stringify(c.cache);a.tasks=JSON.stringify(c.Fx);a.general=JSON.stringify(c.Qwa);b=k.aa.get(r.uk);a=k.aa.get(W.Vo).Fm("prepare","info",a);b.Ac(a);}}function g(a,b,c){var d,g;g=a.video_tracks;g&&g.length&&g[0].streams&&g[0].streams.length&&(d=g[0].streams[0].content_profile);g=m.Gta(b.je);d=m.Fta(!!a.choiceMap,!1,d);d=f.Vc.Vn(Object.assign(Object.assign({},g),d));return{u:c,he:0,zhb:function(){return{ta:a,mf:!1,BD:a.defaultTrackOrderList[0].audioTrackId};},config:d,ve:!!b.ve,qCa:b.qCa};}function u(a,b,c){V.vp(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Ca.trace("ldl not available in cache",f);V.vp(a,"manifest").then(function(f){var g,p,t,q;function d(b){Ca.warn("ldl is now invalid",b);q.close();V.vx(a,"ldl",void 0);V.w6(a);}if(V.YV(a,"ldl"))c({status:I.md.Ge.Ux});else if(f.hasDrmStreams)if(m.config.$ua&&ab&&ab!==a&&!b.force)c({status:I.md.Ge.DP});else if(m.config.ava&&P&&P!==a&&!b.force)c({status:I.md.Ge.mH});else{ab&&ab!==a&&(X[a]=(X[a]|0)+1);P&&P!==a&&(Z[a]=(Z[a]|0)+1);g=f.video_tracks[0].prkDrmHeaders;p=f.video_tracks[0].drmHeader;t=(g?g:[p]).map(function(a){return k.Am(a.bytes);});q=Q({Pkb:"cenc",rva:Ca,AL:function(b){var c;c=[];b.Wh.forEach(function(a){c.push({sessionId:a.sessionId,dataBase64:k.dt(a.data)});});b={Wh:c,wU:[f.drmContextId],ei:I.md.Lta(b.ei),kg:f.playbackContextId,ia:V.aua(a),Zf:f.Zf};Ca.trace("xid created ",{MovieId:a,xid:b.ia});return Ga.Wy(b);},vzb:void 0,Mdb:d,Zc:void 0,Mca:l.Re,Ka:ka});V.vx(a,"ldl",q,function(){q.close();});g=G.shift();k.log.trace("cached mediakeys count "+G.length);return q.create(m.config.Xd,g).then(function(){return q.sj(y.Jj.cv,t,!0);}).then(function(){c(null,q);})["catch"](function(a){d(a);c(a);});}else c({status:I.md.Ge.CP});})["catch"](function(a){Ca.warn("Manifest not available for ldl request",a);c({status:I.md.Ge.Ux});});});}function K(a,b,c){V.vp(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Ca.trace("ldl not available in cache",f);V.vp(a,"manifest").then(function(f){var g,p,t,q;function d(b,c){Ca.warn(b+" LDL is now invalid.",c);V.vx(a,"ldl",void 0);V.w6(a);}if(V.YV(a,"ldl"))c({status:I.md.Ge.Ux});else if(f.hasDrmStreams)if(m.config.$ua&&ab&&ab!==a&&!b.force)c({status:I.md.Ge.DP});else if(m.config.ava&&P&&P!==a&&!b.force)c({status:I.md.Ge.mH});else{ab&&ab!==a&&(X[a]=(X[a]|0)+1);P&&P!==a&&(Z[a]=(Z[a]|0)+1);g=f.video_tracks[0].prkDrmHeaders;p=f.video_tracks[0].drmHeader;t=(g?g:[p]).map(function(a){return k.Am(a.bytes);});q=k.aa.get(D.OP)().then(function(b){var c;c={type:y.Jj.cv,qW:t,context:{Xd:m.config.Xd},wh:{u:a,ia:V.aua(a),kg:f.playbackContextId,Lk:f.drmContextId,Zf:f.Zf}};return b.zu(c,k.aa.get(fa.UH)());}).then(function(a){c(null,a);return a;})["catch"](function(a){d("Unable to prepare an EME session.",a);});V.vx(a,"ldl",q,function(){try{q.then(function(a){a.close().subscribe(void 0,function(a){d("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){d("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(Ge){d("Unable to cleanup LDL session, unexpected exception.",Ge);}});}else c({status:I.md.Ge.CP});})["catch"](function(a){Ca.warn("Manifest not available for ldl request",a);c({status:I.md.Ge.Ux});});});}function Q(a){var b,c;b=new n.kh.Uu(a.rva,a.AL,a.vzb,{th:!1,bM:!1});c=k.aa.get(B.kC);return n.kh.Wu(a.rva,a.Pkb,a.Zc,{th:!1,bM:!1,iAa:m.config.li,xGa:{bCa:m.config.wGa,Xsa:m.config.Tea},rx:b,MEa:m.config.Rda,Ya:void 0,ZG:m.config.ZG,zB:m.config.g8,onerror:a.Mdb,Mca:a.Mca,Ka:a.Ka,Ssb:!1,nW:m.config.nW,Zra:c.zK([]),GJa:c.FK([]),YE:m.config.YE});}U={getTime:b.Rg,xPb:b.HT};ma=k.aa.get(p.Qe);z=k.aa.get(ca.c2);Ga=k.aa.get(S.PH);ka=U;G=[];Ca=k.zg("VideoPreparer");X={};Z={};if(!n.kh.Wu||!n.kh.Uu){Wa={};n.kh.Wu=Wa.Gb;n.kh.Uu=Wa.request;}Ca.info("instance created");V=new T.cYa({log:Ca,Ka:U,hha:b.E7a,X9:function(a,b,c){var d;function f(){var b,c;ma.Zy(d)||(d={trackingId:d});b={Va:d,va:a,DE:I.md.un.Vla};Ca.trace("manifest request for:"+a);c=k.aa.get(N.hI)();return z.Km(Ca,c,b);}d=b.bb;Ca.trace("getManifest: "+a);m.config.b3a&&d&&d.ta&&!V.YV(a,"manifest")&&(!d.ta.clientGenesis||Date.now()-d.ta.clientGenesis<m.config.zEa)?(d.ta.VA=U.getTime(),d.ta.iG=U.getTime(),b=d.ta.runtime?k.aa.get(R.D1).decode(d.ta):d.ta,V.vx(a,"manifest",b),c(null,b)):V.vp(a,"manifest").then(function(a){c(null,a);})["catch"](function(b){var d;Ca.trace("manifest not available in cache",b);if(V.YV(a,"manifest"))c({status:I.md.Ge.Ux});else{d=U.getTime();b=f();V.vx(a,"manifest",b);b.then(function(b){b.VA=d;b.iG=U.getTime();V.vx(a,"manifest",b);c(null,b);})["catch"](function(b){c(b);V.vx(a,"manifest",void 0);});}});},AV:m.config.sE?m.config.iq?K:u:void 0,zV:function(a,b,c){var d;d=b.bb;V.vp(a,"manifest").then(function(b){b=g(b,d,a);f.xl.xT(b,function(){c(null,{});});})["catch"](function(a){Ca.error("Exception in getHeaders",a);c(a);});},ME:function(a,b,c){var d;d=b.bb;V.vp(a,"manifest").then(function(m){var q,u,y;q=g(m,d,a);u=m.duration;m=k.aa.get(t.Y_).sra({xB:h.Eb(m.bookmark),u:a,mN:h.Eb(u),Va:d}).ea(h.ja);k.aa.get(p.Qe).Hq(d.T)&&(m=d.T);q.Kc=m;if(ab!=a||d.ve||b.force){y=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(f.xl.removeEventListener("prebuffstats",y),c(null,{}));};f.xl.addEventListener("prebuffstats",y);f.xl.xT(q);}else c({status:I.md.Ge.mH});})["catch"](function(a){Ca.error("Exception in getMedia",a);c(a);});},eu:function(){return f.xl.eu();},l6:function(){return m.config.DU;},qca:function(a){var b;b=!1;f.xl.jK().forEach(function(c){c.u==a&&(b=!0);});return b;},u9:function(){return f.xl.jK().map(function(a){var b,d;b=f.xl.tba(a.u);d=b[c.Pc.Kj.AUDIO]&&b[c.Pc.Kj.AUDIO].data;b=b[c.Pc.Kj.VIDEO]&&b[c.Pc.Kj.VIDEO].data;return{u:a.u,Bp:a.Bp,Yra:d&&d.length,FJa:b&&b.length,Ueb:ma.Hq(a.Sb.WU),Bmb:ma.Hq(a.Sb.$W),mtb:ma.Hq(a.Sb.YF),ltb:ma.Hq(a.Sb.AY)};});},Vca:function(a){ab=a;},Wca:function(a){gb&&(gb.v6(),d());P=a;},aN:function(){gb&&gb.Bfa();P=ab=void 0;},G9:function(){return{ldls_after_create:X,ldls_after_start:Z};},MK:m.config.MK,OK:m.config.OK,NK:m.config.NK,YL:m.config.wtb,b6:m.config.ztb,a6:m.config.xtb,C8:m.config.zEa,B8:m.config.ytb,th:!1,ed:k.aa});M._cad_global.videoPreparer=V;Wa=m.config.zsb;da=U.getTime();Wa&&(gb=new C.Tma(Wa,d),gb.Bfa());a(q.pd);});},function(g,d,a){var c,f,m,q,b,k,p,t,h,y,D,B;Object.defineProperty(d,"__esModule",{value:!0});c=a(124);f=a(107);m=a(11);q=a(38);g=a(2);b=a(5);k=a(158);p=a(18);t=a(20);h=a(9);d=a(24);y=a(30);D=a(91);B=a(135);b.aa.get(d.yf).register(g.J.aka,function(a){function d(a,c){function f(a){a=new k.rH(b.Am(a));a.ue();return{Qw:a.YEa(),Cdb:a.YEa()};}return{encrypt:function(c,f){var d;c=t.ee(c)?b.$O(c):c;d=h.jv.getRandomValues(new Uint8Array(16));q.NF(h.Wn.encrypt({name:"AES-CBC",iv:d},a,c)).then(function(a){var c,g;a=new Uint8Array(a);c=[];g=new k.rH(c);g.pP(2);g.UJa(d);g.UJa(a);a=b.dt(c);f({success:!0,encryptedDataAsn1Base64:a});},function(a){p.Pa(!1,"Encrypt error: "+a);f({success:!1});});},decrypt:function(c,d){c=f(c);q.NF(h.Wn.decrypt({name:"AES-CBC",iv:c.Qw},a,c.Cdb)).then(function(a){a=new Uint8Array(a);d({success:!0,text:b.y_(a)});},function(a){p.Pa(!1,"Decrypt error: "+a);d({success:!1});});},hmac:function(a,f){a=t.ee(a)?b.$O(a):a;q.NF(h.Wn.sign({name:"HMAC",hash:{name:"SHA-256"}},c,a)).then(function(a){a=new Uint8Array(a);f({success:!0,hmacBase64:b.dt(a)});},function(a){p.Pa(!1,"Hmac error: "+a);f({success:!1});});}};}c.UQ.OJ.mdx={getEsn:function(){return f.Yh.Ug;},createCryptoContext:function(a){var c;c=b.aa.get(D.lI);b.aa.get(B.YH)().then(function(f){var d,g;d=f.QM.getStateForMdx(c);g=d.cryptoContext;f=d.masterToken;d=d.userIdToken;f&&d?(p.Pa(g),f=["1",b.dt(JSON.stringify(f.toJSON())),b.dt(JSON.stringify(d.toJSON()))].join(),a({success:!0,cryptoContext:{cTicket:f,encrypt:function(a,c){a=t.ee(a)?b.$O(a):a;g.encrypt(a,{result:function(a){a=b.dt(a);c({success:!0,mslEncryptionEnvelopeBase64:a});},timeout:function(){c({success:!1});},error:function(a){p.Pa(!1,"Encrypt error: "+a);c({success:!1});}});},decrypt:function(a,c){a=b.Am(a);g.decrypt(a,{result:function(a){c({success:!0,text:b.y_(a)});},timeout:function(){c({success:!1});},error:function(a){p.Pa(!1,"Decrypt error: "+a);c({success:!1});}});},hmac:function(a,c){a=t.ee(a)?b.$O(a):a;g.sign(a,{result:function(a){c({success:!0,hmacBase64:b.dt(a)});},timeout:function(){c({success:!1});},error:function(a){p.Pa(!1,"Hmac error: "+a);c({success:!1});}});}}})):(p.Pa(!1,"Must login first"),a({success:!1}));});},createCryptoContextFromSharedSecret:function(a,c){var f;f=b.Am(a);a=f.subarray(32,48);f=f.subarray(0,32);if(16!=a.length||32!=f.length)throw Error("Bad shared secret");Promise.all([q.NF(h.Wn.importKey("raw",a,{name:"AES-CBC"},!1,["encrypt","decrypt"])),q.NF(h.Wn.importKey("raw",f,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(a){c({success:!0,cryptoContext:d(a[0],a[1])});},function(){c({success:!1});});},getServerEpoch:function(){return y.y6();}};a(m.pd);});},function(g,d,a){var c,f,m,q,b,k,p,t,h;Object.defineProperty(d,"__esModule",{value:!0});g=a(124);c=a(11);f=a(12);m=a(57);d=a(7);q=a(5);b=a(42);k=a(98);p=a(18);t=a(20);h=a(9);M.netflix=M.netflix||{};p.Pa(!M.netflix.player);M.netflix.player={VideoSession:g.UQ,diag:{togglePanel:function(a,b){var c;c=[];if(!f.config||f.config.IN){switch(a){case"info":c=m.vn.map(function(a){return a.uY;});break;case"streams":c=m.vn.map(function(a){return a.vY;});break;case"log":c=[];}c.forEach(function(a){t.jc(b)?b?a.show():a.Vt():a.toggle();});}},addLogMessageSink:function(a){q.aa.get(b.uk).addListener({ZSb:function(){},Vob:function(b){a({data:b.data});}});}},log:q.zg("Ext"),LogLevel:d.vi,addLogSink:function(a,b){q.aa.get(k.XB).VY(a,b);},getVersion:function(){return"6.0022.359.011";},isWidevineSupported:function(a){var f;function b(a){return function(b,c){return c.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");f=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.rn,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.hy,robustness:"SW_SECURE_CRYPTO"}]}];try{h.gl.requestMediaKeySystemAccess("com.widevine.alpha",f).then(function(f){var d;d=f.getConfiguration();f=d.videoCapabilities||[];d=(d.audioCapabilities||[]).reduce(b(c.hy),!1);f=f.reduce(b(c.rn),!1);a(d&&f);})["catch"](function(){a(!1);});}catch(I){a(!1);}}};},function(g,d,a){var c,f,m,q,b,k,p,t,h,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(24);d=a(2);c=a(7);f=a(79);m=a(154);q=a(11);b=a(12);k=a(5);p=a(126);t=a(57);h=a(124);y=a(191);k.aa.get(g.yf).register(d.J.bka,function(a){var g,u,D;function d(a,b){return void 0===a||void 0===b?Promise.reject("Invalid email and/or password"):k.aa.get(y.a2).Cf(this.log,{},{qva:a,password:b}).then(function(){});}if(b.config.aeb){g=k.aa.get(m.zQ);u=k.aa.get(f.ms);D=k.aa.get(c.Db).wb("Test");h.UQ.OJ.test={pboRequests:g.rx.map(function(a){return JSON.parse(JSON.stringify(a));}),playbacks:t.vn,getPlayback:function(a){return t.vn.find(function(b){return b.ia===a;});},playgraphManager:{isNextSegmentReady:function(a,b){var c,f;return void 0!==(null===(f=null===(c=t.vn.find(function(b){return b.ia===a;}))||void 0===c?void 0:c.qb)||void 0===f?void 0:f.qV(b));}},aseManager:{cacheDestroy:function(){return p.xl.wT();}},device:{esn:M._cad_global.device.Ug,esnPrefix:u.It,errorPrefix:u.Dz},log:{info:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return D.info(a,c);},error:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return D.error(a,c);},warn:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return D.warn(a,c);},trace:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return D.trace(a,c);},log:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return D.log(a,c);},debug:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return D.debug(a,c);}},login:d};}a(q.pd);});},function(g,d,a){var c,f,m,q,b,k,p,t,h,y,D;Object.defineProperty(d,"__esModule",{value:!0});c=a(107);f=a(124);m=a(11);q=a(12);g=a(2);b=a(5);k=a(18);p=a(19);t=a(20);h=a(15);y=a(42);D=a(61);a=a(24);b.aa.get(a.yf).register(g.J.$ja,function(a){var d,g;d=b.zg("NccpApi");g=p.y4a();f.UQ.OJ.nccp={getEsn:function(){return c.Yh.Ug;},getPreferredLanguages:function(){return q.config.Dt.Fda;},setPreferredLanguages:function(a){k.Pa(h.isArray(a)&&t.bA(a[0]));q.config.Dt.Fda=a;},queueLogblob:function(a,c,f){var k;if(a&&c)if(c=c.toLowerCase(),g[c]){k=b.aa.get(y.uk);a=b.aa.get(D.Vo).Fm(a,c,f);k.Ac(a);}else d.warn("Invalid severity",{severity:c});},flushLogblobs:function(){b.aa.get(y.uk).flush(!0);}};a(m.pd);});},function(g,d,a){var c,f,m,q,b;Object.defineProperty(d,"__esModule",{value:!0});c=a(73);f=a(38);m=a(18);q=a(19);b=a(20);d.JMa=function(a,b){m.Pa(a);m.Pa(b);m.KK(b.Gdb,"endpointURL property is required");m.Pa(b.Mq);this.log=a;this.nEa=b;};d.JMa.prototype.zw=function(){var a,d,g;a=this;a.log.trace("Downloading config data.");d={browserInfo:JSON.stringify(a.nEa.Mq)};g=a.nEa.Gdb+"?"+f.$M(d);return new Promise(function(f,d){function k(b){var c;try{if(b.$){c=new Uint8Array(b.content);return{$:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return{$:!1,message:"Unable to download the config. "+b.kb,PL:b.Hi};}catch(T){return b=q.Ye(T),a.log.error("Unable to download the config. Received an exception parsing response",{message:T.message,exception:b,url:g}),{$:!1,kb:b,message:"Unable to download the config. "+T.message};}}function m(c,f,d){return f>d?(a.log.error("Config download failed, retry limit exceeded, giving up",b.fb({Attempts:f-1,MaxRetries:d},c)),!1):!0;}function p(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function t(g,h,u){c.Ef.download(g,function(c){var y;c=k(c);if(c.$)f(c);else{a.log.warn("Config download failed, retrying",b.fb({Attempt:h,WaitTime:y,MaxRetries:u},c));if(m(c,h+1,u))return y=q.VEa(1E3,1E3*Math.pow(2,Math.min(h-1,u))),p(y).then(function(){return t(g,h+1,u);});d(c);}});}return c.Ef?t({url:g,responseType:3,withCredentials:!0,hE:"config-download"},1,3):Promise.reject({$:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(g,d,a){var c,f,m,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(12);f=a(11);g=a(2);m=a(5);q=a(183);a=a(24);m.aa.get(a.yf).register(g.J.Pja,function(a){c.config.sfb&&m.aa.get(q.wja).start();a(f.pd);});},function(g,d,a){var c,f,m,q,b,k,p,t,h,y,D,B,I,C;Object.defineProperty(d,"__esModule",{value:!0});c=a(161);f=a(272);g=a(57);m=a(12);q=a(56);b=a(11);k=a(38);p=a(30);t=a(19);h=a(9);y=a(5);D=a(122);B=a(14);I=a(44);C=a(24);g.xma(g.sma,function(a){var W,fa,V,ma,A,sa;function d(b){b.newValue>=B.mb.LOADING&&(a.state.removeListener(d),r("type=openplay&sev=info&locstor="+h.N1(n())),V=p.Rg(),l());}function g(){sa("type=startplay&sev=info&outcome=success");}function u(){var b,f;b=a.Ii;if(b){f="type=startplay&sev=error&outcome=error";b=c.hya(I.OOa,b);t.dd(b,function(a,b){f+="&"+h.N1(a)+"="+h.N1(b||"");});sa(f);}else sa("type=startplay&sev=info&outcome=abort");}function l(){var a,b;a=ma.shift();if(0<a){b=h.sn(a-(p.Rg()-V),0);fa=setTimeout(function(){r("type=startstall&sev=info&kt="+a);l();},b);}}function K(){sa("type=startplay&sev=info&outcome=unload");}function n(){var a,b,c;try{b=""+p.HT();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==c?"success":"mism";}catch(Ea){a="ex: "+Ea;}return a;}function r(b){b=A+"&soffms="+a.h$()+"&"+b;a.Jc&&Object.keys(a.Jc).length&&(b+="&"+k.$M(t.fb({},a.Jc,{prefix:"sm_"})));f.YAb("playback",b,W);}W=y.aa.get(D.DB).host+m.config.Gga;if(m.config.GIa&&W&&m.config.HIa.playback){ma=m.config.ZAb.slice();A="xid="+a.ia+"&pbi="+a.index+"&uiLabel="+(a.je||"");a.state.addListener(d);a.addEventListener(B.S.Zm,g);a.addEventListener(B.S.kf,u);q.Le.addListener(q.Kl,K,b.cC);sa=function(c){var f;sa=b.Re;f=y.aa.get(C.yf);c+="&initstart="+f.startTime+"&initend="+f.endTime;r(c);clearTimeout(fa);a.removeEventListener(B.S.Zm,g);a.removeEventListener(B.S.kf,u);q.Le.removeListener(q.Kl,K);};}});},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(93);c=a(12);f=a(5);g.VH(function(a,d){var b,g,m,t;b={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(b,c.config.uBb);g=b[d.je];if(c.config.vBb&&g){m={};t=f.Wg(a,"MediaStreamFilter");return{jL:"uiLabel",Gu:function(a){if(a.lower&&a.height>g)return m[a.height]||(m[a.height]=!0,t.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:a.height}),d.Sn.set({reason:"uiLabel",height:a.height})),!0;}};}});},function(g,d,a){var f,m,q,b;function c(a){var d,g;function c(f){f=f.b7a;a.removeEventListener(b.S.tca,c);try{m.Llb(f.data[0])&&(g=!0,a.lyb());d.trace("RA check",{HasRA:g});}catch(D){d.error("RA check exception",D);}}d=f.Wg(a,"RAF");a.addEventListener(b.S.tca,c);return{jL:"ra",Gu:function(a){if(!g&&a.Gp)return a=a.Af,!(0<a.toLowerCase().indexOf("l30")||0<a.toLowerCase().indexOf("l31"));}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(93);f=a(5);m=a(273);q=a(44);b=a(14);q.Oma&&g.VH(c);d.wIb=c;},function(g,d,a){var f,m;function c(a,b){var c,d;c=m.Wg(a,"MSS");if(f.config.dpb)return{jL:"mss",Gu:function(a){var f,g;if(a.lower&&2160<=a.height)a:{for(f=a;f.lower;){if(2160>f.height&&1080<f.height){f=!0;break a;}if(1080>=f.height)break;f=f.lower;}f=!1;}else f=void 0;if(f){if(void 0===d){try{g=M.MSMediaKeys;d=g&&g.isTypeSupportedWithFeatures?"probably"===g.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(D){c.error("hasUltraHdDisplay exception");d=!0;}d||(c.warn("Restricting resolution due screen size",{MaxHeight:a.height}),b.Sn.set({reason:"microsoftScreenSize",height:a.height}));}return!d;}}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(93);f=a(12);m=a(5);g.VH(c);d.vIb=c;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(93).VH(function(){return{jL:"op",Gu:function(){}};});},function(g,d,a){var f,m,q,b,k,p,t,h,y;function c(a,c){var u,D,B,l,n,S,N,r,W,fa,V;function d(){var b;b=a.Ib.value===h.hb.Ec&&a.state.value===h.mb.od&&a.u===c.u;V?b||(clearInterval(V),S=V=void 0):b&&(V=M.setInterval(g,1E3));}function g(){var c,f,d,g,k,m;c=a.bf.value;c=(c=c&&c.stream)&&c.height;if(null!==c&&0<c){f=b.Rg();d=a.Mi.Lz();if(d){if(S&&2E3>f-S.time&&c===S.height){g=d-S.jcb;k=D[c];k||(D[c]=k=[],c>r&&(n.push(c),q.M_(n)));0<g&&!(fa&&fa<c)&&(fa=c);k.push(g);k.length>N&&k.shift();(k=l[c])||(l[c]=k={});m=k[g];k[g]=m?m+1:1;}S={time:f,jcb:d,height:c};a.uY&&a.uY.Mxb(D);}}}u=k.Wg(a,"DFF");D={};B=f.config.ncb;l={};n=[];N=f.config.lcb;r=f.config.mcb;W=m.SRa;if(f.config.kcb)return c.Z7={Ofb:function(){var a;a={};l&&n.forEach(function(b){var c,f,d;c=l[b];if(c){f=0;d=0;y.dd(c,function(a,b){d+=p.fe(a);f+=b;});a[b]=d/f;}});return a;},DL:function(a){var b;b={};a.forEach(function(a){b[a]={};});l&&(q.M_(a),n.forEach(function(c){var f,d,g,k;f=l[c];if(f){d=0;g=0;y.dd(f,function(a,b){d+=b;});k=Object.keys(f).map(Number);q.M_(k);for(var m=k.length-1,p=k[m],h=a.length-1;0<=h;h--){for(var u=a[h];p>=u&&0<=m;)(p=f[p])&&(g+=p),p=k[--m];b[u][c]=t.wi(g/d*100);}}}));return b;}},a.state.addListener(d),a.Ib.addListener(d),a.addEventListener(h.S.no,d),{jL:"df",Gu:function(a){var b,d,g,k;if(a.lower&&a.height>r){a=a.height;a:{if(fa){b=n.length;for(var f=0;f<b;f++){d=n[f];if(d>=fa&&d<W){g=D[d];if(k=g)b:{k=B.length;for(var m=g.length,p=0;p<k;p++)for(var t=B[p],q=t[0],t=t[1],h=0;h<m;h++)if(g[h]>=t&&0>=--q){k=!0;break b;}k=!1;}if(k&&W!=d){u.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:d});c.Sn.set({reason:"droppedFrames",height:d});b=W=d;break a;}}}fa=void 0;}b=W;}a=a>=b;}else a=!1;return a;}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(93);f=a(12);m=a(11);q=a(38);b=a(30);k=a(5);p=a(20);t=a(9);h=a(14);y=a(19);g.VH(c);d.uIb=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(5);a=a(341);a=g.aa.get(a.xha);a;},function(g,d,a){var c,f,m,q,b,k,p,t,h,y,D,B,l,C,n;Object.defineProperty(d,"__esModule",{value:!0});c=a(161);f=a(11);m=a(12);q=a(57);b=a(30);g=a(2);k=a(5);p=a(119);t=a(9);h=a(51);y=a(15);D=a(42);B=a(61);a=a(24);n=k.aa.get(a.yf);n.register(g.J.Rja,function(a){var g;function d(){var a,f,d,k;a=n.startTime;f={browserua:t.wk,browserhref:t.O1.href,initstart:a,initdelay:n.endTime-a};(a=t.ke.documentMode)&&(f.browserdm=""+a);"undefined"!==typeof M.nrdp&&M.nrdp.device&&(f.firmware_version=M.nrdp.device.firmwareVersion);y.bA(m.config.cwa)&&(f.fesn=m.config.cwa);Object.assign(f,c.oya());d=t.gs&&t.gs.timing;d&&m.config.Dnb.map(function(a){var c;c=d[a];c&&(f["pt_"+a]=c-b.F7a());});k=g.Rxa();Object.keys(k).forEach(function(a){return f["m_"+a]=k[a];});a=C.Fm("startup","info",f,q.kI.W8);l.Ac(a);}C=k.aa.get(B.Vo);l=k.aa.get(D.uk);g=k.aa.get(p.wy);n.pM(function(){l.Ub();h.Lb(d);});a(f.pd);});},function(g,d,a){var c,f,m,q,b,k,p,t,h,y,D,B,l,C,n,Q,T,ca,R;Object.defineProperty(d,"__esModule",{value:!0});c=a(194);f=a(107);m=a(12);q=a(11);g=a(44);b=a(2);k=a(18);p=a(5);t=a(119);h=a(62);y=a(67);D=a(19);B=a(9);l=a(15);C=a(38);n=a(99);Q=a(4);d=a(24);T=a(353);ca={};R=p.aa.get(d.yf);g.Oka&&R.register(b.J.Tja,function(a){var I,K,r,A,S,oa,O,ia,z,wa,Fa,Ga,ka,G;function d(c){c&&c.userList&&m.config.Cyb&&(c.userList=[]);A({esn:f.Yh.Ug,esnPrefix:f.Yh.It,authenticationType:m.config.UJ,authenticationKeyNames:m.config.dsa,systemKeyWrapFormat:m.config.kAb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:ka,storeState:c,notifyMilestone:R.Zc.bind(R),log:O,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:b.G.nSa,MSL_READ_TIMEOUT:b.G.mSa}},{result:function(a){g(a);},timeout:function(){a({ca:b.G.Qka});},error:function(c){a(u(b.G.Qka,void 0,c));}});}function g(c){var d,g,t;function f(){Ga&&p.aa.get(y.Ur).create().then(function(a){return a.save(wa,g,!1);})["catch"](function(a){O.error("Error persisting msl store",b.So(a));});}d=p.aa.get(n.lC)(Q.Eb(100));t=S.extend({init:function(a){this.Npa=a;},getResponse:function(a,b,c){var f,d;b=this.Npa;f=b.tCa.Ef||f;a=l.oAa(a.body)?p.y_(a.body):a.body;k.KK(a,"Msl should not be sending empty request");a={url:b.url,Ada:a,withCredentials:!0,hE:"nq-"+b.method,headers:b.headers};b=this.Npa.timeout;a.MT=b;a.Fca=b;d=f.download(a,function(a){try{if(a.$)c.result({body:a.content});else if(400===a.Hi&&a.kb)c.result({body:a.kb});else throw D.fb(new oa("HTTP error, SubCode: "+a.ca+(a.Hi?", HttpCode: "+a.Hi:"")),{cadmiumResponse:a});}catch(sd){c.error(sd);}});return{abort:function(){d.abort();}};}});z&&c.addEventHandler("shouldpersist",function(a){g=a.storeState;d.Ab(f);});D.fb(ca,{kQb:function(){Fa=!0;},send:function(a){function f(){var b,c;b=a.tCa;c={method:a.method,nonReplayable:a.gqb,encrypted:a.lj,userId:a.ECb,body:a.body,timeout:2*a.timeout,url:new t(a),allowTokenRefresh:Ga,sendUserAuthIfRequired:G,shouldSendUserAuthData:m.config.Hyb};b.qva?(c.email=b.qva,c.password=b.password||""):b.TAb?(c.token=b.TAb,c.mechanism=b.kRb,b.uca&&(c.netflixId=b.uca,c.secureNetflixId=b.Owb),b.Oda&&(c.profileGuid=b.Oda)):b.uca?(c.netflixId=b.uca,c.secureNetflixId=b.Owb):b.Gob?(c.mdxControllerToken=b.Gob,c.mdxPin=b.iRb,c.mdxNonce=b.hRb,c.mdxEncryptedPinB64=b.gRb,c.mdxSignature=b.jRb):Fa||b.useNetflixUserAuthData?c.useNetflixUserAuthData=!0:b.Oda&&(c.profileGuid=b.Oda);return c;}return new Promise(function(a,d){var g;g=f();c.send(g).then(function(b){Fa&&(Fa=!1);a({$:!0,body:b.body});})["catch"](function(a){var f,g;if(a.error){f=a.error.cadmiumResponse&&a.error.cadmiumResponse.ca?a.error.cadmiumResponse.ca:c.isErrorReauth(a.error)?b.G.Pka:c.isErrorHeader(a.error)?b.G.gSa:b.G.fSa;g=c.getErrorCode(a.error);d(u(f,g,a.error));}else O.error("Unknown MSL error",a),a.Rc=a.subCode,d({ca:a.Rc?a.Rc:b.G.oSa});});});},QM:c});a(q.pd);p.aa.get(T.H1).Ppb(ca);}function u(a,b,c){var f,d,g,k;k={ca:a,vE:b};if(c){f=function(a){var b;a=a||""+c;if(c.stack){b=""+c.stack;a=0<=b.indexOf(a)?b:a+b;}return a;};if(g=c.cadmiumResponse){if(d=g.Vd&&g.Vd.toString())g.Vd=d;g.ca=a;g.vE=b;g.kb=f(c.message);g.error={Rc:a,Vg:d,sr:b,data:c.cause,message:c.message};return g;}f=f(c.errorMessage);d=D.fe(c.internalCode)||D.fe(c.error&&c.error.internalCode);g=void 0!==c.Odb?C.dDa(c.Odb):void 0;}f&&(k.kb=f);d&&(k.Vd=d);k.error={Rc:a,Vg:d.toString(),sr:b,data:g,message:f};return k;}k.Pa(m.config);I=p.aa.get(t.wy);K=h.md.$i;if(B.jv&&B.Wn&&B.Wn.unwrapKey){try{r=M.netflix.msl;A=r.createMslClient;S=r.IHttpLocation;oa=r.MslIoException;}catch(Ca){a({ca:b.G.hSa});return;}O=p.zg("Msl");ia=m.config.Lpb;z=m.config.Npb;wa=m.config.Uq?"mslstoretest":"mslstore";r=c.HG.PGa;Fa=m.config.Ikb;Ga=!r||r.$;ka=p.Am(m.config.Uq?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");G=!!m.config.jfa;p.aa.get(y.Ur).create().then(function(c){ia?c.remove(wa).then(function(){d();})["catch"](function(a){O.error("Unable to delete MSL store",b.So(a));d();}):z?c.load(wa).then(function(a){I.mark(K.jSa);d(a.value);})["catch"](function(f){f.ca==b.G.ov?(I.mark(K.lSa),d()):(O.error("Error loading msl store",b.So(f)),I.mark(K.kSa),c.remove(wa).then(function(){d();})["catch"](function(b){a(b);}));}):d();})["catch"](function(c){O.error("Error creating app storage while loading msl store",b.So(c));a(c);});}else a({ca:b.G.iSa});});},function(g,d,a){var q,b,k,p;function c(a,c,d,g){var t,h,u;q.Pa(p.qf(a)&&!p.isArray(a));g=g||"";t="";h=a.hasOwnProperty(k.Fj)&&a[k.Fj];h&&b.dd(h,function(a,b){t&&(t+=" ");t+=a+'="'+m(b)+'"';});d=(c?c+":":"")+d;h=g+"<"+d+(t?" "+t:"");u=a.hasOwnProperty(k.Sr)&&a[k.Sr].trim&&""!==a[k.Sr].trim()&&a[k.Sr];if(u)return h+">"+m(u)+"</"+d+">";a=f(a,c,g+"  ");return h+(a?">\n"+a+"\n"+g+"</"+d+">":"/>");}function f(a,f,d){var g;q.Pa(p.qf(a)&&!p.isArray(a));d=d||"";g="";b.dd(a,function(a,k){var h;if("$"!=a[0])for(var t=b.Bba(k),q=0;q<t.length;q++)if(k=t[q],g&&(g+="\n"),p.qf(k))g+=c(k,f,a,d);else{h=(f?f+":":"")+a;g+=d+"<"+h+">"+m(k)+"</"+h+">";}});return g;}function m(a){if(p.ee(a))return b.$$(a);if(p.ka(a))return q.aU(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";q.Pa(!1,"Invalid xml value.");return"";}Object.defineProperty(d,"__esModule",{value:!0});q=a(18);b=a(19);k=a(127);p=a(15);d.FQb=c;d.GQb=f;d.uTb=m;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(2);c=a(5);f=a(321);a=a(24);c.aa.get(a.yf).register(g.J.Qja,function(a){c.aa.get(f.Uia)().then(function(){a({$:!0});})["catch"](function(f){c.log.error("error in initializing indexedDb debug tool",f);a({$:!0});});});},function(g,d,a){var c,f,m,q,b,k,p,t;Object.defineProperty(d,"__esModule",{value:!0});c=a(38);f=a(11);m=a(12);q=a(2);b=a(499);k=a(44);p=a(9);g=a(5);a=a(24);t=g.aa.get(a.yf);k.Oka&&t.register(q.J.cka,function(a){p.Wn&&p.Wn.generateKey&&p.Wn.importKey&&p.Wn.unwrapKey?!k.kh.qia&&m.config.UJ!=b.xP.yUa&&m.config.UJ!=b.xP.YRa||p.M1?(t.Zc("wcs"),c.NF(p.Wn.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){t.Zc("wcdone");a(f.pd);},function(b){var c;b=""+b;0<=b.indexOf("missing crypto.subtle")?c=q.G.H2:0<=b.indexOf("timeout waiting for iframe to load")&&(c=q.G.lYa);a({ca:c,kb:b});})):a({ca:q.G.kYa}):a({ca:q.G.H2});});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(12);a(11);g=a(5);a(98);a(199);a(2);a(99);a(4);a=a(24);g.aa.get(a.yf);},function(g,d,a){var p,t,h,y,D;function c(a){var b,f;t.KK(a);if(h.ee(a)&&d.UQa.test(a)){b=a.split(".");if(4===b.length){for(var c=0;c<b.length;c++){f=h.fe(b[c]);if(0>f||!D.Nw(f,0,255)||1!==b[c].length&&0===b[c].indexOf("0"))return;}return a;}}}function f(a){var b;b=0;if(c(a)===a)return a=a.split("."),b+=h.fe(a[0])<<24,b+=h.fe(a[1])<<16,b+=h.fe(a[2])<<8,b+h.fe(a[3]);}function m(a){var c;t.KK(a);if(h.ee(a)&&a.match(d.VQa)){c=a.split(":");-1!==c[c.length-1].indexOf(".")&&(a=q(c[c.length-1]),c.pop(),c.push(a[0]),c.push(a[1]),a=c.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==c.length)&&(c=1<a.length?b(a):c,a=c.length,8===a)){for(;a--;)if(!D.Nw(parseInt(c[a],16),0,p.TRa))return;return c.join(":");}}}function q(a){var b;a=f(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function b(a){var b,c,f;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);c=8-(b.length+a.length);if(1>c)return[];for(f=0;f<c;f++)b.push("0");for(f=0;f<a.length;f++)b.push(a[f]);return b;}function k(a){return-1<<32-a;}Object.defineProperty(d,"__esModule",{value:!0});p=a(11);t=a(18);h=a(20);y=a(9);D=a(15);d.UQa=/^[0-9.]*$/;d.VQa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;d.UB="0000000000000000";d.MHb=c;d.IHb=f;d.NHb=m;d.KHb=q;d.LHb=b;d.OHb=function(a,b,g){var p,t,q,h;p=c(a);t=m(a);q=c(b);h=m(b);if(!p&&!t||!q&&!h||p&&!q||t&&!h)return!1;if(a===p)return g=k(g),(f(a)&g)!==(f(b)&g)?!1:!0;if(a===t){a=a.split(":");b=b.split(":");for(p=y.jy(g/d.UB.length);p--;)if(a[p]!==b[p])return!1;g%=d.UB.length;if(0!==g)for(a=parseInt(a[p],16).toString(2),b=parseInt(b[p],16).toString(2),a=d.UB.substring(0,d.UB.length-a.length)+a,b=d.UB.substring(0,d.UB.length-b.length)+b,p=0;p<g;p++)if(a[p]!==b[p])return!1;return!0;}return!1;};d.JHb=k;},function(g,d,a){var c,f,m,q,b,k,p,t;Object.defineProperty(d,"__esModule",{value:!0});c=a(5);f=a(18);a(19);m=a(20);q=a(2);b=a(44);k=a(51);p=a(9);a(15);t=a(138);d.PQb=function(a,d){var u,y,l;function g(a){var b;b=d;d=m.Re;b(a);}function h(a){var b,c,d,m;try{b=JSON.parse(a.data);c=b.method;d=b.success;m=b.payload;f.Pa("ready"==c);"ready"==c&&(y.removeEventListener("message",h),l.Bh(),k.Lb(function(){u.info("Plugin sent ready message");d?g({success:!0,pluginObject:y,pluginVersion:m&&m.version}):g({ca:q.G.Qla,Vd:b.errorCode});}));}catch(N){u.error("Exception while parsing message from plugin",N);g({ca:q.G.Rla});}}u=c.zg("Plugin");f.Pa(a);if(a){a=a[0].type;u.info("Injecting plugin OBJECT",{Type:a});y=m.createElement("OBJECT",b.kh.rUa,void 0,{type:a,"class":"netflix-plugin"});y.addEventListener("message",h);l=c.aa.get(t.mC)(8E3,function(){u.error("Plugin load timeout");g({ca:q.G.Tla});});p.ke.body.appendChild(y);l.Ht();}else g({ca:q.G.Sla});};d.RQb=function(){};d.QQb=function(a){var b,f,d;b=c.zg("Plugin");f=1;d={};a.addEventListener("message",function(a){var c,f,g,k;try{c=JSON.parse(a.data);f=c.success;g=c.payload;k=d[c.idx];k&&(f?k({$:!0,QMb:g}):k({$:!1,ca:q.G.pUa,kb:c.errorMessage,Vd:c.errorCode}));}catch(ca){b.error("Exception while parsing message from plugin",ca);}},!1);return function(g,k,m){var h,u,y,D;function p(a){a.$||b.info("Plugin called back with error",{Method:g},q.So(a));y.Bh();delete d[h];m(a);}try{h=f++;u={idx:h,method:g};u.argsObj=k||{};y=c.aa.get(t.mC)(8E3,function(){b.error("Plugin never called back",{Method:g});delete d[h];m({ca:q.G.qUa});});y.Ht();D=JSON.stringify(u);d[h]=p;a.postMessage(D);}catch(N){b.error("Exception calling plugin",N);m({ca:q.G.sUa});}};};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(5);d=a(98);a=a(199);g.aa.get(d.XB).VY(a.Hka.gMa,function(a){var c,d;c=a.level;if(!M._cad_global.config||c<=M._cad_global.config.Hnb){a=a.g_();d=M.console;1>=c?d.error(a):2>=c?d.warn(a):d.log(a);}});},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(20);f=a(9);d.BLb=function(a,c,b){for(b=(b-a.length)/c.length;0<b--;)a+=c;return a;};d.zLb=function(a,f,b){b=c.ee(b)?b:"...";return a.length<=f?a:a.substr(0,a.length-(a.length+b.length-f))+b;};d.ALb=function(a,c){var d;for(var b=1;b<arguments.length;++b);d=f.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof d[b]?d[b]:a;});};d.CLb=function(a){for(var c=a.length,b=new Uint16Array(c),f=0;f<c;f++)b[f]=a.charCodeAt(f);return b.buffer;};d.KTb=function(a){var c;c=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,f){c[f]=a.charCodeAt(0);});return c;};},function(g){function d(a,c){return a.id===c.id&&a.displayTime+a.duration===c.displayTime;}function a(a){return a.duration;}function c(a,c){return a+c;}g.P={O7a:function(a,c,d){for(var b=0;b<a.length;b++)if(a[b]!==c[b])return d.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:c}),!1;return!0;},d7:function(a,c,d){var b;b={};b.displayTime=a.kj;b.duration=a.duration;b.originX=a.iY;b.originY=a.jY;b.sizeX=a.JZ;b.sizeY=a.KZ;b.imageData=c;b.id=a.er;b.rootContainerExtentX=d.gZ;b.rootContainerExtentY=d.hZ;return b;},Dgb:function(a,c){return"o_"+a+"s_"+c;},DJa:function(a,c){c("P"==String.fromCharCode(a[1]));c("N"==String.fromCharCode(a[2]));c("G"==String.fromCharCode(a[3]));},jc:function(a){return"undefined"!==typeof a;},Lwb:function(a,c){return a.some(function(a){return a.id===c;});},qcb:function(f,g){return f.filter(d.bind(null,g)).map(a).reduce(c,0);},zL:function(a,c){var f,b;f=Object.create({});for(b in a)f[b]=a[b];a instanceof Error&&(f.message=a.message,f.stack=a.stack);f.errorString=c;return f;},assert:function(a,c){if(!a)throw c&&c.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(g){function d(a){this.buffer=a;this.position=0;}d.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},$j:function(){return this.buffer.length-this.position;},ue:function(){return this.buffer[this.position++];},Hd:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},tc:function(a){for(var c=0;a--;)c=256*c+this.buffer[this.position++];return c;},Cr:function(a){for(var c="";a--;)c+=String.fromCharCode(this.buffer[this.position++]);return c;},bea:function(){for(var a="",c;c=this.ue();)a+=String.fromCharCode(c);return a;},Jb:function(){return this.tc(2);},Na:function(){return this.tc(4);},ng:function(){return this.tc(8);},PY:function(){return this.tc(2)/256;},DN:function(){return this.tc(4)/65536;},uf:function(a){for(var c,f="";a--;)c=this.ue(),f+="0123456789ABCDEF"[c>>>4]+"0123456789ABCDEF"[c&15];return f;},qx:function(){return this.uf(4)+"-"+this.uf(2)+"-"+this.uf(2)+"-"+this.uf(2)+"-"+this.uf(6);},EN:function(a){for(var c=0,f=0;f<a;f++)c+=this.ue()<<(f<<3);return c;},PA:function(){return this.EN(4);},pP:function(a){this.buffer[this.position++]=a;},J_:function(a,c){this.position+=c;for(var f=1;f<=c;f++)this.buffer[this.position-f]=a&255,a=Math.floor(a/256);},oP:function(a){for(var c=a.length,f=0;f<c;f++)this.buffer[this.position++]=a[f];},AB:function(a,c){this.oP(a.Hd(c));}};g.P=d;},function(g,d,a){var R,r,N,U,W,fa;function c(a){R.call(this);this.ogb=p;this.Fk=a.url;this.nJ=a.request;this.hS=a.Kc||0;this.PR=a.th;this.tb=a.ma;this.Qj=this.Oh=null;this.II={};this.wv=0;this.aJ=a.bufferSize||4194304;this.h4={};this.Xqa=a.version||1;a.key&&(this.Hoa=a.crypto,this.Gy=this.Hoa.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.ro?this.Oh=a.ro:(this.Nd=a.offset,this.gD=a.size);}function f(){}function m(){}function h(a,c){var d,g,k,m,p,t,h,q;if(a)this.emit(W.ERROR,U.zL(a,fa.ZRa));else try{if(2===this.Xqa){g=new f();k=N.$da(c)[0];m=k.Aw("636F6D2E-6E65-7466-6C69-782E68696E66");p=k.Aw("636F6D2E-6E65-7466-6C69-782E6D696478");g.pW=m.iT;g.oh=m.oh;g.so=m.so;g.u=m.u;g.gZ=m.gZ;g.hZ=m.hZ;g.language=m.umb;g.sAb=m.Vzb;g.startOffset=p.axb;t=[];h=0;for(a=0;a<p.ab.length;a++){q=p.ab[a];c={};c.duration=q.duration;c.size=q.size;t.push(c);h+=c.duration;}g.entries=t;g.endTime=h;d=g;}else{t=new r(c);h=new f();h.identifier=t.Cr(4);U.assert("midx"===h.identifier);h.version=t.tc(4);U.assert(0===h.version);h.pW=t.Hd(36);h.oh=t.ng();h.so=t.ng();h.u=t.ng();h.gZ=t.Jb();h.hZ=t.Jb();h.language=t.Hd(16);h.sAb=t.Hd(16);h.startOffset=t.ng();h.Hm=t.Jb();g=[];for(q=p=0;q<h.Hm;q++)a={},a.duration=t.tc(4),a.size=t.Jb(),g.push(a),p+=a.duration;h.entries=g;h.endTime=p;d=h;}this.Oh=d;b.call(this);}catch(Ga){this.emit(W.ERROR,U.zL(Ga,fa.$Ra));}}function b(){var a,b;a=this.Oh;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.Fk,offset:b,size:a},this.emit(W.aSa,this.Oh),this.nJ(b,k.bind(this))):this.emit(W.ERROR,U.zL({},fa.eTa));}function k(a,b){var c,f,d,g;c=this;if(a)c.emit(W.ERROR,U.zL(a,fa.qWa));else{f=0;d=[];g=0;try{c.Oh.entries.forEach(function(a){var k,p,t,h,q,y,D;p=f;t=c.Oh.pW;h=c.tb;if(2===c.Xqa){k=new m();q=N.$da(b);k.entries=[];k.images=[];for(var u=0;u<q.length;u++)for(t=q[u],p=t.Aw("636F6D2E-6E65-7466-6C69-782E73696478"),t=t.Aw("636F6D2E-6E65-7466-6C69-782E73656E63"),h=0;h<p.Bo.length;h++){y={};D=p.Bo[h];y.kj=D.kj;y.duration=D.duration;y.iY=D.iY;y.jY=D.jY;y.JZ=D.JZ;y.KZ=D.KZ;y.er=D.er;y.WE=D.WE;if(D=t&&t.Bo[h])y.FU={Qw:D.Qw.slice(0),mode:D.Gva};k.entries.push(y);}}else{k=new r(b);q=new m();u=0;k.position=p;q.identifier=k.Cr(4);U.assert("sidx"===q.identifier);q.pW=k.Hd(36);U.O7a(q.pW,t,h);q.duration=k.tc(4);q.Hm=k.Jb();q.entries=[];for(q.images=[];u<q.Hm;)p={},p.kj=k.tc(4),p.duration=k.tc(4),p.iY=k.Jb(),p.jY=k.Jb(),p.JZ=k.Jb(),p.KZ=k.Jb(),p.er=k.ng(),p.WE=k.tc(4),u++,q.entries.push(p);k=q;}d.push(k);a.Hfa=k;k.Yda=g;k.BN=g+a.duration;g=k.BN;q=k.entries;q.length&&(k.startTime=q[0].kj,k.endTime=q[q.length-1].kj+q[q.length-1].duration);f+=a.size;});}catch(ia){c.emit(W.ERROR,U.zL(ia,fa.rWa));return;}c.Qj=d;c.emit(W.sWa,this.Qj);a=t.call(c,c.hS,2);a.length?B.call(c,a,c.hS,function(a){a&&c.tb.error("initial sidx download failed");c.emit(W.Nma);}):c.emit(W.Nma);}}function p(a){var b,c,f,d,g;b=t.call(this,a,2);c=(c=this.Oh)?c.endTime:void 0;if(a>c)return[];f=this.II.Hr;d=this.II.index;c=[];d=U.jc(d)&&this.Qj[d+1];if(!(d&&d.entries.length||f&&!(a>f.endTime)))return[];b.length&&B.call(this,b,a);f&&f.images.length&&(c=y(f,a,[],this.Oh));d&&d.images.length&&(b=y(d,a,c,this.Oh),c.push.apply(c,b));b=D(c);if(this.Qj&&0!=this.Qj.length){c=this.Qj[Math.floor(a/6E4)];if(!(c.Yda<=a&&a<=c.BN))a:{c=this.Qj.length;if(!this.Ndb){this.Ndb=!0;b:{try{g=String.fromCharCode.apply(String,this.Oh.language);break b;}catch(ia){}g="";}this.tb.error("bruteforce search for ",{movieId:this.Oh.u,packageId:this.Oh.so,lang:g});}for(g=0;g<c;g++)if(f=this.Qj[g],f.Yda<=a&&a<=f.BN){c=f;break a;}c=void 0;}g=c;}else g=void 0;if(c=g&&0<g.entries.length&&0===g.images.length)a:{c=g.entries.length;for(d=0;d<c;d++)if(f=g.entries[d],f.kj<=a&&f.kj+f.duration>=a){c=!0;break a;}c=!1;}return c?null:b;}function t(a,b){var c,g;c=[];if(a=u.call(this,a))this.II=a;else return this.II={},c;for(var f=0,d=this.Qj?this.Qj.length:0;f<b&&a.index+f<d;){g=this.Qj[a.index+f];g&&!g.images.length&&c.push(g);f++;}return c;}function u(a){var b,c,f,d,g,k,m;c=this.II;f=c.Hr;d=c.index;g=this.Qj;this.ph(U.jc(a));f&&(0===d&&a<=f.startTime?(m=!0,b=c):a>=f.startTime&&a<=f.endTime?(m=!0,b=c):(k=g[d-1],g=g[d+1],k&&a>k.endTime&&a<=f.startTime?(m=!0,b=c):g&&a>=f.endTime&&a<=g.endTime&&(m=!0,b={Hr:g,index:d+1})));if(!m)for(c=this.Oh.entries,f=c.length,d=0;d<f;d++)if(k=c[d].Hfa,a<=k.startTime||a>k.startTime&&a<=k.endTime){b={Hr:c[d].Hfa,index:d};break;}return b;}function y(a,b,c,f){var d,g,k,m,p,t;d=a.entries;g=d.length;k=[];p=0;if(!d.length)return k;for(;p<g;){m=d[p];if(m.kj<=b)m.kj+m.duration>=b&&k.push(U.d7(m,a.images[p].data,f));else{t=k.length&&k[k.length-1]||c.length&&c[c.length-1];if(t&&t.kj>b&&t.kj!==m.kj)break;t.er!==m.er&&k.push(U.d7(m,a.images[p].data,f));}p++;}return k;}function D(a){return a.map(function(b,c){b.duration+=U.qcb(a.slice(c+1),b);return b;}).reduce(function(a,b){U.Lwb(a,b.id)||a.push(b);return a;},[]);}function B(a,b,c){var f,d,g,k,m,p;f=this;d=a[0];g=a[a.length-1];0<d.entries.length&&(k=d.entries[0].er,m=d.entries[d.entries.length-1]);0<g.entries.length&&(U.jc(k)||(k=g.entries[0].er),m=g.entries[g.entries.length-1]);if(k){d=m.er+m.WE-k;p=U.Dgb(k,d);f.h4[p]||(f.h4[p]=!0,l.call(f,a,b),f.nJ({url:f.Fk,offset:k,size:d},function(b,d){var g,m,t,h;setTimeout(function(){delete f.h4[p];},1E3);if(b)c&&c(b);else{g=new r(d);m=0;h=[];a.forEach(function(a){a.entries.forEach(function(b,c){var d,p;g.position=b.er-k;d={data:g.Hd(b.WE)};p=b.FU;p&&(d.Qw=p.Qw,d.Gva=p.mode,t=!0,h.push(d));a.images[c]=d;!b.FU&&U.DJa(a.images[c].data,f.ph.bind(f));m+=a.images[c].data.length;});});f.wv+=m;t?f.Gy.then(function(a){return ca.call(f,h,a);}).then(function(){c&&c(null);})["catch"](function(a){f.tb.error("decrypterror",a);c&&c({$:!1});}):c&&c(null);}}));}else c&&c(null);}function l(a,b){var g,k,m,p,t,h;function c(){return{pts:b,hasEnoughSpace:g.wv+k<=g.aJ,required:k,currentSize:g.wv,max:g.aJ,currentIndex:u.call(g,b).index,sidxWithImages:n.call(g),newSidxes:a.map(function(a){return g.Qj.indexOf(a);})};}function f(a,b){g.PR&&!a&&g.tb.info("not done in iteration",b);}function d(a){var b,c,f;b=g.Qj[a];c=b.images&&b.images.length;if(0<c){f=C([b]);b.images=[];g.wv-=f;g.PR&&g.tb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:f,images:c});if(g.wv+k<=g.aJ)return!0;}}g=this;k=C(a);g.tb.info("make space start:",c());if(!(g.wv+k<=g.aJ)){m=u.call(g,b).index;p=!1;t=0;h=g.Qj.length-1;if(0>m){g.tb.error("inconsistent sidx index");return;}for(;!p&&t<m-2;)p=d(t),t++;for(f(p,1);!p&&h>m+2;)p=d(h),h--;for(f(p,2);!p&&t<m;)p=d(t),t++;for(f(p,3);!p&&h>m;)p=d(h),h--;f(p,4);p||g.tb.error("could not make enough space",{maxBuffer:this.aJ});}g.tb.info("make space end",c());}function C(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.WE+a;},0);},0);}function n(){var a;a=[];this.Oh&&this.Oh.entries&&this.Oh.entries.reduce(function(b,c,f){var d;c=c.Hfa;d=0;c&&c.images.length&&(a.push(f),d=c.images.reduce(function(a,b){return a+b.data.length;},0));return b+d;},0);return a.join(", ");}function Q(a,b){return a&&a.Yda<=b&&a.BN>=b;}function T(a,b){var c,f,d,g,k,m;c=this;f=c.Oh;d=c.Qj;g=d&&d.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(f&&d){if(0===g)return[];f=d[0].duration;if(U.jc(f)&&0<f)f=Math.floor(a/f),k=f<g&&Q(d[f],a)?d[f]:void 0;else for(c.PR&&c.tb.warn("duration not defined, so use brute force to get starting sidx"),f=0;f<g;f++){m=d[f];if(Q(m,a)){k=m;break;}}if(U.jc(k)){k=[];for(var p=function(c){var f;f=c.kj<=a&&a<=c.kj+c.duration;return a<=c.kj&&c.kj<=b||f;};f<g;){m=d[f];k=k.concat(m.entries.filter(p));if(b<m.BN)break;f++;}k=k.map(function(a){return U.d7(a,null,c.Oh);});return D(k);}}}function ca(a,b){var f,d;function c(a,b){var c,f;c=this;f=new Uint8Array(16);f.set(a.Qw);return c.Hoa.decrypt({name:"AES-CTR",counter:f,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));U.DJa(a.data,c.ph.bind(c));});}f=this;try{d=[];a.forEach(function(a){a.Qw&&(a=c.call(f,a,b),d.push(a));});return(void 0).all(d);}catch(O){return f.tb.error("decrypterror",O),(void 0).reject(O);}}R=a(132).EventEmitter;r=a(548);N=a(314);U=a(547);W=c.events={aSa:"midxready",sWa:"sidxready",Nma:"ready",ERROR:"error"};fa=c.YOb={ZRa:"midxdownloaderror",$Ra:"midxparseerror",eTa:"nosidxfoundinmidx",qWa:"sidxdownloaderror",rWa:"sidxparseerror"};c.prototype=Object.create(R.prototype);c.prototype.constructor=c;c.prototype.start=function(){var a;if(this.Oh)this.tb.warn("midx was prefectched and provided"),b.call(this);else{a={url:this.Fk,offset:this.Nd,size:this.gD,responseType:"binary"};this.tb.warn("downloading midx...");this.nJ(a,h.bind(this));}};c.prototype.close=function(){};c.prototype.ph=function(a){this.PR&&U.assert(a,this.tb);};c.prototype.Dw=function(a,b){return T.call(this,a,b);};c.prototype.t$=function(a,b){return(a=this.Dw(a,b))?a.length:a;};g.P=c;},function(g,d,a){var m;function c(a,b){return b.reduce(f.bind(this,a),[]);}function f(a,b,c){var f,d;f=c.displayTime-a;a=c.displayTime+c.duration-a;d=0<b.length?b[0].timeout:Infinity;return 0<f&&f<d?[{timeout:f,type:"showsubtitle",pe:c}]:f===d?b.concat([{timeout:f,type:"showsubtitle",pe:c}]):0<a&&a<d?[{timeout:a,type:"removesubtitle",pe:c}]:a===d?b.concat([{timeout:a,type:"removesubtitle",pe:c}]):b;}m=a(132).EventEmitter;d=a(274)({});a=function b(a,c,f){if(!(this instanceof b))return new b(a,c,f);m.call(this);this.zs=a;this.i_a=c;this.Ns={};this.hD={};this.tb=f||console;this.dR=!1;};a.prototype=Object.create(m.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.Ek);Object.keys(a.Ns).forEach(function(b){a.emit("removesubtitle",a.Ns[b]);});a.Ns={};};a.prototype.pause=function(){clearTimeout(this.Ek);};a.prototype.gq=function(a,f){var b,d;b=this;d=b.zs();clearTimeout(this.Ek);a=b.i_a(d);null!==a&&b.dR&&(b.dR=!1,b.emit("bufferingComplete"));f="number"===typeof f?f:0;Object.keys(b.Ns).forEach(function(a){a=b.Ns[a];a.displayTime<=d&&d<a.displayTime+a.duration||(delete b.Ns[a.id],b.emit("removesubtitle",a));});Object.keys(b.hD).forEach(function(a){a=b.hD[a];d>=a.displayTime+a.duration&&delete b.hD[a.id];});null!==a&&0<a.length?(f=a.length,b.tb.info("found "+f+" entries for pts "+d),a.forEach(function(a){a.displayTime<=d&&d<a.displayTime+a.duration&&!b.Ns[a.id]&&(b.emit("showsubtitle",a),b.Ns[a.id]=a,delete b.hD[a.id]);}),f=a[a.length-1],b.Ns[f.id]||b.hD[f.id]||(b.emit("stagesubtitle",f),b.hD[f.id]=f),f=c(d,a),0<f.length?b.pS(f[0].timeout):b.pS(2E4)):null===a?(a=250*Math.pow(2,f),2E3<a&&(a=2E3),b.tb.warn("checking buffer again in "+a+"ms"),b.dR||(b.dR=!0,b.emit("underflow")),b.pS(a,f+1)):b.pS(2E4);};a.prototype.pS=function(a,c){var b;b=this;b.tb.trace("Scheduling pts check.");b.Ek=setTimeout(function(){b.gq(b.zs(),c);},a);};g.P=d(["function","function","object"],a);},function(g,d,a){var b,k,p;function c(a){var b;b=1;"dfxp-ls-sdh"===this.gS&&(b=a.iNb.length);this.tb.info("show subtitle called at "+this.zs()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.Bv[this.Bv.length-1].FZ+=b;}function f(a){this.tb.info("remove subtitle called at "+this.zs()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function m(){this.tb.info("underflow fired by the subtitle timer");this.emit("underflow");}function h(){this.tb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}b=a(132).EventEmitter;k=a(550);d=a(274)();p=a(549);a=function u(a,d){var g,q;g=this;q=a.th||!1;if(!(g instanceof u))return new u(a,d);b.call(g);g.tb=a.ma||console;g.nJ=a.request;g.zs=a.lya;g.Ek=null;g.Gs=!0;g.Bv=[];g.gS=d.profile;g.Fk=d.url;g.hS=d.Kc;g.p1a=d.ttb;g.CZa=d.Zn;a={url:g.Fk,request:g.nJ,Kc:g.hS,xml:d.xml,ttb:g.p1a,Zn:g.CZa,ma:g.tb,th:q,bufferSize:d.bufferSize,crypto:d.crypto,key:d.key,ro:d.ro};if("nflx-cmisc"===g.gS)a.offset=d.LM,a.size=d.zX,g.Bd=new p(a);else if("nflx-cmisc-enc"===g.gS)a.version=2,a.offset=d.LM,a.size=d.zX,g.Bd=new p(a);else throw Error("SubtitleManager: "+g.gS+" is an unsupported profile");g.Bd.on("ready",function(){var a,b;a=!!d.s5a;g.tb.info("ready event fired by subtitle stream");g.emit("ready");b=g.Bd.ogb.bind(g.Bd);g.Ek=new k(g.zs,b,g.tb);g.Ek.on("showsubtitle",c.bind(g));g.Ek.on("removesubtitle",f.bind(g));g.Ek.on("underflow",m.bind(g));g.Ek.on("bufferingComplete",h.bind(g));a&&(g.tb.info("autostarting subtitles"),setTimeout(function(){g.gq(g.zs());},10));});g.Bd.on("error",g.emit.bind(g,"error"));};a.prototype=Object.create(b.prototype);a.prototype.start=function(){this.Bd.start();};a.prototype.gq=function(a){this.Gs&&(this.Gs=!1,this.tb.info("creating a new subtitle interval at "+a),this.Bv.push({T:a,FZ:0}));null!==this.Ek&&this.Ek.gq(a);};a.prototype.stop=function(){var a;this.zs();this.tb.info("stop called");this.Gs||this.pause();this.Bd.removeAllListeners(["ready"]);null!==this.Ek&&this.Ek.stop();a=this.Bv.reduce(function(a,b){a.qHa+=b.FZ;a.bo+=b.Tva;a.elb.push(b);return a;},{qHa:0,bo:0,elb:[]});"object"===typeof this.Bd&&this.Bd.close();this.tb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.zs();if(this.Gs)this.tb.warn("pause called on subtitle manager, but it was already paused!");else{this.tb.info("pause called at "+a);this.Gs=!0;this.tb.info("ending subtitle interval at "+a);b=this.Bv[this.Bv.length-1];b.ga=a;b.ga<b.T&&(this.tb.warn("correcting for interval where endPts is smaller than startPts"),b.T=0<b.ga?b.ga-1:0);b.Tva=this.Bd.t$(b.T,b.ga);this.tb.info("showed "+b.FZ+" during this interval");this.tb.info("expected "+b.Tva+" for this interval");}null!==this.Ek&&this.Ek.pause();};a.prototype.Dw=function(a,b){return this.Bd.Dw(a,b);};a.prototype.t$=function(a,b){return this.Bd.t$(a,b);};a=d([{request:"function",lya:"function",ma:"object"},"object"],a);g.P=a;},function(g,d,a){var f,m,h,b,k,p;function c(a,c,f,d){a=b.le.call(this,a,void 0===d?"AppInfoConfigImpl":d)||this;a.config=c;a.k_=f;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(40);h=a(34);b=a(36);k=a(28);a=a(240);da(c,b.le);c.prototype.Thb=function(a){return""+this.Iva+(this.k_.Efa(a)?"/msl_v1":"");};c.prototype.aib=function(a){return""+this.host+(this.k_.Efa(a)?"/msl":"")+"/playapi";};ra.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},Iva:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.eL){case m.Xu.YWa:a="www.stage";break;case m.Xu.Dna:a="www-qa.test";break;case m.Xu.kka:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}},nsa:{configurable:!0,enumerable:!0,get:function(){return"pbo_events";}}});p=c;g.__decorate([h.config(h.string,"apiEndpoint")],p.prototype,"endpoint",null);g.__decorate([h.config(h.string,"nqEndpoint")],p.prototype,"Iva",null);g.__decorate([h.config(h.string,"bindService")],p.prototype,"nsa",null);p=g.__decorate([f.N(),g.__param(0,f.l(k.aj)),g.__param(1,f.l(m.Uo)),g.__param(2,f.l(a.QQ)),g.__param(3,f.l(k.LB)),g.__param(3,f.optional())],p);d.GKa=p;},function(g,d,a){var c,f,m,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(552);f=a(122);g=a(1);m=a(91);h=a(17);d.k4a=new g.xc(function(a){a(f.DB).to(c.GKa).Z();});d.profile=new g.xc(function(a){a(m.lI).TG(function(a){return(a=a.ub.get(h.xd)())&&a.Uq?"browsertest":"browser";});});},function(g,d,a){var c,f,m;Object.defineProperty(d,"__esModule",{value:!0});c=a(2);f=[c.J.yQa,c.J.Yja,c.J.Wja,c.J.Xja,c.J.cka,c.J.Sja,c.J.Qja,c.J.p1,c.J.dka,c.J.Tja,c.J.vQa,c.J.wQa,c.J.Rja,c.J.$u,c.J.Nja,c.J.Pja,c.J.$ja,c.J.aka,c.J.bka,c.J.zQa,c.J.BQa,c.J.FQa,c.J.DQa,c.J.CQa,c.J.AQa,c.J.EQa,c.J.Zja,c.J.Vja,c.J.Uja,c.J.Oja];(function(a){a.oTa=function(a){var d;for(var b={},f=0;f<a.length;f++){d=a[f];if(b[d.errorCode])return{errorCode:d.errorCode,ca:c.G.iKa};b[d.errorCode]=1;}};a.pTa=function(a){var d;for(var b=0;b<a.length;b++){d=a[b];if(-1===f.indexOf(d.errorCode))return{errorCode:d.errorCode,ca:c.G.jKa};}};}(m||(m={})));d.Itb=function(a){return new Promise(function(b,c){var d;d=m.pTa(a);d&&c(d);(d=m.oTa(a))&&c(d);b(a.sort(function(a,b){return f.indexOf(a.errorCode)-f.indexOf(b.errorCode);}));});};},function(g,d,a){var f,m,h,b,k,p,t,u,y,D,B,l,C;function c(a,b,c,f,d,g){var k;k=this;this.Ui=a;this.config=c;this.lk=f;this.debug=d;this.sa=g;this.AIa=[];this.Jc={};this.log=b.wb("loadAsync");this.Vnb=B.wPa(function(a){k.pvb=!0;k.startTime=k.sa.pc().ea(y.ja);k.load(k.AIa).then(function(){k.endTime=k.sa.pc().ea(y.ja);a(C.pd);})["catch"](function(b){k.endTime=k.sa.pc().ea(y.ja);a(b);});});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(119);m=a(2);h=a(554);b=a(62);k=a(1);p=a(7);t=a(17);u=a(63);y=a(4);D=a(89);B=a(275);l=a(25);C=a(11);c.prototype.pM=function(a){this.Vnb(a);};c.prototype.register=function(a,b){this.debug.assert(!this.pvb);this.AIa.push({knb:this.L6a(b),errorCode:a});};c.prototype.Zc=function(a){this.debug.assert(void 0===this.Jc[a]);this.Jc[a]=this.sa.pc().ea(y.ja);};c.prototype.load=function(a){var c;c=this;return h.Itb(a).then(function(a){c.Ui.mark(b.md.$i.oKa);return a.reduce(function(a,b){return a.then(function(){return c.gnb(b);});},Promise.resolve()).then(function(){c.Ui.mark(b.md.$i.mKa);});});};c.prototype.gnb=function(a){var c,f;c=this;f=a.knb;return this.lk.$l(y.Eb(this.config().R4a),f())["catch"](function(f){c.log.error("Failed to load component "+a.errorCode,f);c.Ui.mark(b.md.$i.nKa);if(f instanceof u.zn)throw{ca:m.G.lKa,errorCode:a.errorCode};f.errorCode=f.errorCode||a.errorCode;f.ca=f.ca||m.G.kKa;throw f;});};c.prototype.L6a=function(a){return function(){return new Promise(function(b,c){a(function(a){a.$?b():c(a);});});};};a=c;a=g.__decorate([k.N(),g.__param(0,k.l(f.wy)),g.__param(1,k.l(p.Db)),g.__param(2,k.l(t.xd)),g.__param(3,k.l(u.py)),g.__param(4,k.l(D.Zr)),g.__param(5,k.l(l.xf))],a);d.bLa=a;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(555);f=a(24);d.S4a=new g.xc(function(a){a(f.yf).to(c.bLa).Z();});},function(g,d,a){var f,m,h,b,k;function c(a){return m.le.call(this,a,"PlaygraphConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(36);h=a(28);b=a(34);k=a(4);da(c,m.le);ra.Object.defineProperties(c.prototype,{BEa:{configurable:!0,enumerable:!0,get:function(){return 2;}},AEa:{configurable:!0,enumerable:!0,get:function(){return k.JX(3);}},ZO:{configurable:!0,enumerable:!0,get:function(){return!1;}},w_:{configurable:!0,enumerable:!0,get:function(){return!1;}}});a=c;g.__decorate([b.config(b.Kx,"prepareSegmentsUpfront")],a.prototype,"BEa",null);g.__decorate([b.config(b.Zg,"prepareSegmentsDuration")],a.prototype,"AEa",null);g.__decorate([b.config(b.Qd,"usePlaygraphForPostPlay")],a.prototype,"ZO",null);g.__decorate([b.config(b.Qd,"usePlaygraphForSkipSegment")],a.prototype,"w_",null);a=g.__decorate([f.N(),g.__param(0,f.l(h.aj))],a);d.uVa=a;},function(g,d,a){var f,m;function c(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(151);c.prototype.L$a=function(a){var f,d,g;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];f=this;if(0===b.length)throw Error("Empty playgraph");d=new m.AQ().ufa(this.iV(b[0]));b.reverse().forEach(function(a){var b;b=f.iV(a);d.hp(b,Object.assign({va:a,og:0},g?{Yn:g}:{}));g=b;});return d.Vj();};c.prototype.iV=function(a,b){return a+":[startPts:"+(void 0===b?0:b)+"]";};c.prototype.o4a=function(a,b){var c,f,d,g;c=void 0===c?this.iV(b.u,b.T):c;f=void 0===f?"pauseAtStart":f;d=this.shb(a);g=new m.AQ(a);g.hp(c,{va:b.u,og:b.T||0,we:f});a=a.ab[d];b={};g.hp(d,Object.assign({},a,{Yn:c,next:Object.assign({},a.next||{},(b[c]={},b))}));return g.Vj();};c.prototype.shb=function(a){for(var b=a.rh,c=b;c=a.ab[c].Yn;)b=c;return b;};a=c;a=g.__decorate([f.N()],a);d.wVa=a;},function(g,d,a){var f,m;function c(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);c.prototype.create=function(c,b,f){return new(a(276)).aYa(c,b,f);};m=c;m=g.__decorate([f.N()],m);d.EVa=m;},function(g,d,a){var f,m;function c(a,b,c){this.jk=a;this.mg=b;this.fm=c;}Object.defineProperty(d,"__esModule",{value:!0});f=a(4);m=a(278);c.prototype.Fyb=function(){var a,b,c,d,g;a=this.fm.GCa;if(!a)return{result:m.Yo.bI};b=this.mg.Oe;if(b.Sg===a.$a)return{result:m.Yo.J2,JJa:a};c=this.yib(b,b.Sg,a.$a);if(!c)return{result:m.Yo.bI};d=c.duration;if(c.Bt>=this.jk.BEa)return{result:m.Yo.bI};c=this.zxa(b.Sg);if(!c)return{result:m.Yo.bI};b=this.mg.pj().sV()||0;c=Math.max(0,c-b);d=c+d;g=this.jk.AEa.ea(f.ja);if(d<=g)return{result:m.Yo.J2,JJa:a};a=d-g;return c<a?{result:m.Yo.bI}:{result:m.Yo.uka,Fi:b+a};};c.prototype.yib=function(a,b,c){var g,k,d;b=a.CL(b);for(var f=0,d=0;b!==c&&void 0!==b;){f++;g=a.Ki(b);k=this.zxa(b)||Infinity;d=d+(k-g.og);b=a.CL(b);}return b?{Bt:f,duration:d}:void 0;};c.prototype.zxa=function(a){var b,c;b=this.mg.Oe;c=b.Fib(a);if(void 0!==c)return c;a=b.Ki(a);if(a=this.mg.Nm(a.va))return a.Rq.ea(f.ja);};d.BVa=c;},function(g,d,a){var f;function c(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(151);c.prototype.cBb=function(a){var c;if(!this.Rlb(a.ab))return a;c=new f.AQ().ufa(a.rh);Object.keys(a.ab).forEach(function(b){b===a.rh?c.hp(b,Object.assign(Object.assign({},a.ab[b]),{next:void 0,qh:void 0,Yn:void 0})):c.hp(b,a.ab[b]);});return c.Vj();};c.prototype.Rlb=function(a){var c;c=Object.keys(a).map(function(b){return a[b].va;});return 1===new Set(c).size;};d.zVa=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.rh,segments:a.xab(c.ab)},void 0!==c.we?{transitionType:c.we}:{});};a.encode=function(c){return Object.assign({rh:c.initialSegment,ab:a.mdb(c.segments)},void 0!==c.transitionType?{we:c.transitionType}:{});};a.uQb=function(a){return void 0!==a.rh&&void 0!==a.ab;};a.CQb=function(a){return void 0!==a.va&&void 0!==a.og;};a.mdb=function(c){return Object.keys(c).reduce(function(f,d){f[d]=a.ldb(c[d]);return f;},{});};a.ldb=function(c){return Object.assign({va:c.viewableId,og:c.startTimeMs},c.endTimeMs?{qh:c.endTimeMs}:{},c.defaultNext?{Yn:c.defaultNext}:{},c.transitionType?{we:c.transitionType}:{},c.next?{next:a.jdb(c.next)}:{},c.transitionDelayZones?{j_:c.transitionDelayZones}:{});};a.jdb=function(c){return Object.keys(c).reduce(function(f,d){f[d]=a.kdb(c[d]);return f;},{});};a.kdb=function(a){return Object.assign({},void 0!==a.weight?{weight:a.weight}:{},a.transitionType?{we:a.transitionType}:{});};a.xab=function(c){return Object.keys(c).reduce(function(f,d){f[d]=a.wab(c[d]);return f;},{});};a.wab=function(c){return Object.assign({viewableId:c.va,startTimeMs:c.og},c.qh?{endTimeMs:c.qh}:{},c.Yn?{defaultNext:c.Yn}:{},c.we?{transitionType:c.we}:{},c.next?{next:a.uab(c.next)}:{},c.j_?{transitionDelayZones:c.j_}:{});};a.uab=function(c){return Object.keys(c).reduce(function(f,d){f[d]=a.vab(c[d]);return f;},{});};a.vab=function(a){return Object.assign({},void 0!==a.weight?{weight:a.weight}:{},a.we?{transitionType:a.we}:{});};return a;}();d.vVa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){a&&(this.ufa(a.rh),this.kyb(a.we),this.dyb(a.ab));}a.prototype.ufa=function(a){this.rh=a;return this;};a.prototype.kyb=function(a){this.we=a;};a.prototype.hp=function(a,f){this.ab||(this.ab={});this.ab[a]=this.vua(f);return this;};a.prototype.dyb=function(a){var c;c=this;this.ab={};Object.keys(a).forEach(function(f){return c.hp(f,a[f]);});};a.prototype.Vj=function(){if(!this.ab)throw Error("Invalid playgraph - `segments` is not defined");if(!this.rh)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.ab[this.rh])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");return Object.assign({rh:this.rh,ab:this.ab},this.we?{we:this.we}:{});};a.prototype.vua=function(a){var c;c=this;return a&&"object"===typeof a?Object.keys(a).reduce(function(f,d){f[d]="object"===typeof a[d]?c.vua(a[d]):a[d];return f;},{}):a;};return a;}();d.AQ=g;},function(g,d,a){var f;function c(a){this.XR={};this.Pfa={};this.vo=a;this.Sg=a.rh;}Object.defineProperty(d,"__esModule",{value:!0});f=a(151);c.prototype.fO=function(a){var f;for(var c=[],b=0;b<arguments.length;++b)c[b-0]=arguments[b];f=this;c.filter(function(a){return f.WN(a.$a);}).filter(function(a){a=a.WM;return!a||f.WN(a);}).forEach(function(a){f.XR[a.$a]=f.Pca(a.WM);});};c.prototype.Ura=function(a){var c;c=this;a.filter(function(a){return c.WN(a);}).forEach(function(a){c.XR[a]=c.Pca(c.Ki(a).Yn);});};c.prototype.Mo=function(a,c){var b,d,g;b=this.Ki(a);if(b&&b.next){d=new f.AQ(this.vo);g=Object.keys(b.next).reduce(function(a,f){a[f]=void 0===c[f]?b.next[f]:Object.assign({},b.next[f],{weight:c[f]});return a;},{});g=Object.assign({},b,{next:g});d.hp(a,g);this.vo=d.Vj();}};c.prototype.WN=function(a,c){c=void 0===c?this.vo.ab:c;return a in c;};c.prototype.CL=function(a){return this.XR[a];};c.prototype.Ki=function(a){return this.vo.ab[a];};c.prototype.Fib=function(a){return void 0===this.Pfa[a]?this.Pca(this.Ki(a).qh):this.Pfa[a];};c.prototype.XBb=function(a,c){this.Pfa[a]=c;};c.prototype.Pca=function(a){return null===a?void 0:a;};ra.Object.defineProperties(c.prototype,{vo:{configurable:!0,enumerable:!0,get:function(){return this.n1a;},set:function(a){if(this.Sg&&!this.WN(this.Sg,a.ab))throw Error("Provided playgraphMap does not contain the current segmentId "+this.Sg);this.n1a=a;this.XR={};a=Object.keys(a.ab);this.Ura(a);}},Sg:{configurable:!0,enumerable:!0,get:function(){return this.yZa;},set:function(a){if(!this.WN(a))throw Error("Provided currentSegmentId "+a+" does not exist in the current playgraph");this.yZa=a;}},da:{configurable:!0,enumerable:!0,get:function(){return this.Ki(this.Sg);}}});d.DVa=c;},function(g,d,a){var f;function c(a){this.hi=a;this.Qr={};this.Xca();}Object.defineProperty(d,"__esModule",{value:!0});f=a(279);c.prototype.Xca=function(){var a,c;a=this;c=this.hi.vo.ab;Object.keys(c).map(function(b){var d,g;b=c[b].va;if(!a.Qr[b]){d=void 0;g=new Promise(function(a){d=a;});a.Qr[b]={state:f.Zo.rla,Hub:g,WFa:d};}});this.q_();};c.prototype.QV=function(a){return this.Qr[a];};c.prototype.Sxb=function(a){this.Qr[a].state=f.Zo.rja;this.q_();};c.prototype.Rxb=function(a,c){a=this.Qr[a];a.state=f.Zo.Error;a.error=c;a.WFa(!1);this.q_();};c.prototype.TGa=function(a){a=this.Qr[a];a.state=f.Zo.s0;a.WFa(!0);this.q_();};c.prototype.F3a=function(a,c){this.Qr[a].bb=c;};c.prototype.q_=function(){var c;this.GCa=void 0;for(var a=this.hi.Sg;a=this.hi.CL(a);){c=this.A$(a);if(this.Qr[c].state===f.Zo.Error)break;if(this.Qr[c].state===f.Zo.rja)break;if(this.Qr[c].state===f.Zo.rla){this.GCa={va:c,$a:a};break;}}};c.prototype.A$=function(a){return this.hi.vo.ab[a].va;};d.FVa=c;},function(g,d,a){var f,m,h,b,k,p,t,u,y;function c(a,c,f,d,g,t,h,q,u,l,n){var D;D=this;this.sa=c;this.qN=h;this.jk=q;this.Hga=u;this.ge=l;this.Ida=Promise.resolve();this.swa=!1;q.w_&&(a=new p.zVa().cBb(a));this.Oe=new k.DVa(a);this.fm=new b.FVa(this.Oe);this.fm.TGa(this.Oe.da.va);this.log=f.wb("PlaygraphManager");this.ctb=new y.BVa(this.jk,this,this.fm);this.nCa=n.Y6({e$:function(){return m.Eb(100);}},function(){return D.pj().sV()||0;});this.Ob=g.create();this.Wp=d.C$a(t);this.uyb();}Object.defineProperty(d,"__esModule",{value:!0});f=a(14);m=a(4);h=a(279);b=a(565);k=a(564);p=a(561);t=a(2);u=a(278);y=a(560);c.prototype.D9=function(){return this.Oe.da;};c.prototype.qgb=function(){return this.Oe.Sg;};c.prototype.a$=function(){return this.Oe.vo;};c.prototype.fO=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.Oe.fO.apply(this.Oe,[].concat(ea(b)));};c.prototype.A7a=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.Oe.Ura(b);};c.prototype.TBb=function(a){this.YGa(a);this.ZF();};c.prototype.Mo=function(a,b){this.Oe.Mo(a,b);};c.prototype.Fya=function(a,b){var c,d,g,k,p;if(a!==this.Oe.Sg)throw Error("Invalid currentSegmentId");if(b!==this.Oe.CL(a))throw Error("Invalid nextSegmentId");c=this.Oe.Ki(b);if(this.jk.w_&&this.Oe.da.va===c.va)return Promise.resolve(this.pj().seek(c.og,f.gg.mv,void 0));d=this.fm.QV(c.va);g=this.pj().Pt();if(d.state!==h.Zo.s0){k=d.state===h.Zo.Error?d.error:this.ge(t.J.WTa,{kb:b});g.ojb({va:c.va,$a:b,Va:d.bb||{}},k);g.Nn("Transition "+a+"->"+b+" error "+k.xz);return Promise.reject();}c=g.qb;if(!c)throw this.log.debug("No streaming session. Aborting transition"),Error("No streaming session");this.log.debug("going to next segment: "+a+" -> "+b);g.Nn("Transition "+a+"->"+b);p=g.Qt(b);p.jn=this.sa.pc().ea(m.ja);return(void 0!==c.qV(b)?this.pjb(b,p.u):this.UN(b,p.u)).then(function(){g.Cwa(p.u);});};c.prototype.addListener=function(a,b,c){this.Ob.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Ob.removeListener(a,b);};c.prototype.EV=function(){return this.Wp.EV();};c.prototype.xp=function(){return this.Wp.xp();};c.prototype.pj=function(){return this.Wp.pj();};c.prototype.hp=function(a){var b,c,d;b=this;if(this.jk.ZO&&this.swa){this.log.info("Adding segment - movieId: "+a.u+", startPts: "+a.T+", logicalEnd: "+(""+a.Um));if(Object.keys(this.Oe.vo.ab).find(function(c){return b.Oe.vo.ab[c].va===a.u;}))return a.Um&&(this.Oe.XBb(this.Oe.Sg,a.Um),this.fm.Xca()),null;this.pj().Pt().Nn("addSegment movieId: "+a.u+", startPts: "+a.T+", logicalEnd: "+a.Um);c=this.qN.o4a(this.Oe.vo,a);this.YGa(c);this.fm.F3a(a.u,a.bb);this.ZF();return this.fm.QV(a.u).Hub;}this.log.info("Adding segment to SegmentManager - movieId: "+a.u+", startPts: "+a.T+", "+("logicalEnd: "+a.Um));c=this.Wp.hp(a);this.swa=!0;d=this.pj().Pt();d.addEventListener(f.S.qZ,function(a){return b.Yca(a);});this.Ida=d.Ib.when(function(a){return a!==f.hb.Pf;}).then(function(){});return c;};c.prototype.transition=function(a){if(this.jk.ZO){a=this.Oe.CL(this.Oe.Sg);this.log.info("Transition initiated: "+this.Oe.Sg+" -> "+a);if(a)return this.Fya(this.Oe.Sg,a);this.log.error("Next segment is not defined");return Promise.reject();}return this.Wp.transition(a);};c.prototype.close=function(a){return this.Wp.close(a);};c.prototype.Nm=function(a){if(this.fm.QV(a).state==h.Zo.s0)return this.pj().Pt().Nm(a);};c.prototype.YGa=function(a){this.Oe.vo=a;this.fm.Xca();};c.prototype.uyb=function(){var a;a=this;this.Wp.addListener(f.rb.loaded,function(){return a.ZF();});this.addListener(f.gC.XN,function(){return a.nrb();});this.Wp.addListener(f.gC.XN,function(){return a.Ob.Pb(f.gC.XN);});Object.keys(f.rb).forEach(function(b){var c;c=f.rb[b];a.Wp.addListener(c,function(b){return a.Ob.Pb(c,b);});});};c.prototype.UN=function(a,b){var c;c=this.a$().ab[a].og;this.log.debug("Segment is not pre-buffered - performing a regular seek");this.pj().Pt().Nn("NO DATA "+a+", SEEKING "+c+", viewableId: "+b);return Promise.resolve(this.pj().seek(c,f.gg.mv,a,!0));};c.prototype.pjb=function(a,b){var c,d,g,k,m;c=this;d=this.pj().Pt();g=d.qb;if(!g)throw Error("No streaming session");k=new Promise(function(a){function b(){c.log.debug("Stopped ASE");g.removeEventListener("stop",b);a();}g.addEventListener("stop",b);});m=new Promise(function(a){function b(){c.log.debug("Repositioned");d.removeEventListener(f.S.yo,b);a();}function k(){c.log.debug("Repositioning");d.removeEventListener(f.S.RA,k);g.stop();}d.addEventListener(f.S.RA,k);d.addEventListener(f.S.yo,b);});k=Promise.all([k,m]).then(function(){if(!g.tt(a,!1,!0))return d.Nn("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),c.UN(a,b);d.fireEvent(f.S.RX,{Sg:c.Oe.Sg,WM:a});});m=g.xK(void 0,this.a$().ab[a].og,a);this.log.debug("Calling seek on internal player to "+m);this.pj().seek(m,f.gg.iC,a,!0);return k;};c.prototype.nrb=function(){var a;a=this.pj().getError();a?this.Ob.Pb(f.rb.Y5,a):(this.Ob.Pb(f.rb.$ra),this.Ob.Pb(f.rb.SJ),this.Ob.Pb(f.rb.sB),this.Ob.Pb(f.rb.RG),this.Ob.Pb(f.rb.NO),this.Ob.Pb(f.rb.Y5));};c.prototype.Yca=function(a){var b,c,f;b=a.metrics;if(b){c=this.pj().Pt();f=c.Qt(a.segmentId);b=c.Qt(b.srcsegment);this.Hga.Xtb(a,f,b);}};c.prototype.ZF=function(){var a,b;a=this;if(this.EV()){this.nCa.cancel();b=this.ctb.Fyb();b.result===u.Yo.uka?this.nCa.observe(b.Fi,function(){a.ZF();}):b.result===u.Yo.J2&&this.Btb(b.JJa);}};c.prototype.Btb=function(a){var c,d,g,k,m,p,t;function b(a){a.u===m&&(c.Oe.Sg=d,c.ZF(),k.removeEventListener(f.S.no,b),c.Ob.Pb(f.gC.XN));}c=this;d=a.$a;g=this.Oe.Ki(d);k=this.pj().Pt();a=Object.assign(this.fm.QV(a.va).bb||{},{T:g.og,ga:g.qh,ci:!1,n_:Date.now(),OW:!0});m=k.e5({va:g.va,$a:d,Va:a});p=k.Nm(m);this.log.debug("Creating new playback xid: "+p.ia+", movieId: "+p.u);k.addEventListener(f.S.no,b);t="pauseAtStart"!==g.we;this.fm.Sxb(g.va);k.Nn("queueManifest",p.$a);this.Ida=a=this.Ida.then(function(){return k.qub(m,t);}).then(function(){k.Nn("queueManifest done",p.$a);c.fm.TGa(g.va);})["catch"](function(a){k.Nn("queueManifest error "+a.xz,p.$a);c.fm.Rxb(g.va,a);throw a;});a.then(function(){return c.ZF();});};d.yVa=c;},function(g,d,a){var f,m,h,b,k,p,t,u,y,D,B,l,C,n;function c(b,c,f,d,g,k,m,p,t,h,q){this.sa=b;this.$f=c;this.$wb=d;this.z8=g;this.jk=k;this.qN=m;this.Hga=t;this.ge=h;this.dx=q;c=a(44).Xo;this.Ywb=f.zw(!1,"6.0022.359.011",b.id,c,p);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(566);h=a(7);b=a(25);k=a(160);p=a(450);t=a(248);u=a(17);y=a(454);D=a(186);B=a(447);l=a(59);C=a(249);c.prototype.create=function(a){return new m.yVa(a,this.sa,this.$f,this.$wb,this.z8,this.Ywb,this.qN,this.jk,this.Hga,this.ge,this.dx);};n=c;n=g.__decorate([f.N(),g.__param(0,f.l(b.xf)),g.__param(1,f.l(h.Db)),g.__param(2,f.l(p.jna)),g.__param(3,f.l(t.t2)),g.__param(4,f.l(y.RP)),g.__param(5,f.l(k.BQ)),g.__param(6,f.l(D.CQ)),g.__param(7,f.l(u.xd)),g.__param(8,f.l(B.Jna)),g.__param(9,f.l(l.jl)),g.__param(10,f.l(C.G1))],n);d.xVa=n;},function(g,d,a){var c,f,m,h,b,k,p,t;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(280);f=a(567);m=a(277);h=a(559);b=a(186);k=a(558);p=a(557);t=a(160);d.mg=new g.xc(function(a){a(c.Bma).to(f.xVa).Z();a(m.Cma).to(h.EVa).Z();a(b.CQ).to(k.wVa).Z();a(t.BQ).to(p.uVa).Z();});},function(g,d,a){var f,m,h,b,k,p,t,u,y,D;function c(a,c,f,d,g){f=u.zP.call(this,f,d,g)||this;f.config=a;f.Cc=c;f.log=m.Wg(f.j,"LegacyLicenseBroker");f.Xd=f.config().Xd;f.config().Rda?b.Klb()?f.x_=!0:f.log.error("Promise based eme requested but platform does not support it",{browserua:k.wk}):f.x_=!1;return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);m=a(5);h=a(118);b=a(38);k=a(9);p=a(1);t=a(198);u=a(281);y=a(88);da(c,u.zP);c.prototype.Qta=function(a){var b;b=void 0===b?this.j:b;return new this.kN.Uu(a,function(a){return b.vK.AL(a);},function(a){return b.vK.release(a);},{th:!1,bM:!1});};c.prototype.BK=function(b,c){var d,g,k,p,t,q;c=void 0===c?this.j:c;d=this;p=a(30).Rg;this.kN.Uu||this.Rd(f.J.dy,f.G.FOa);k=m.Wg(c,"Eme");g=this.Qta(k);t=m.aa.get(h.kC);q=t.zK(c.Wc.value.dc);t=t.FK(c.eg.value.dc);return this.kN.Wu(k,b,function(a){return c.Zc(a);},{th:!1,bM:!1,iAa:this.config().li,xGa:{bCa:this.config().wGa,Xsa:this.config().Tea},Ka:{getTime:p},rx:g,MEa:this.x_,Ya:this.zb.Ya,ZG:this.config().ZG,zB:this.config().g8,onerror:function(a,b,c){return d.Rd(a,b,c);},Mca:function(a){return d.VV(a);},Ssb:!0,nW:this.config().nW,Zra:q,GJa:t,YE:this.config().YE});};c.prototype.dB=function(a){var b;b=this;return this.x_?new Promise(function(c,d){if(b.zb.Ya)b.zb.Ya.setMediaKeys(a).then(function(){c();})["catch"](function(a){var c;c=b.Dya(a);d({$:!1,code:f.J.X1,Rc:c.ca,Vg:c.Vd,kb:c.kb,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};c.prototype.Ova=function(a){return{code:a.code,subCode:a.Rc,extCode:a.Vg,edgeCode:a.pE,message:a.message,errorDetails:a.kb,errorData:a.IU,state:a.state};};c.prototype.vfa=function(a,b,c){var d,g;function f(){g.JN()["catch"](function(a){d.log.error("Unable to set the license",d.Ova(a));a.cause&&a.cause.kb&&(a.kb=a.kb?a.kb+a.cause.kb:a.cause.kb);d.Rd(a.code,a,a.Vg);});}c=void 0===c?this.j:c;d=this;g=c.Bf;this.log.info("Setting the license");c=b?function(){return Promise.resolve();}:function(){return g.sj(d.U9(),a);};return(b?function(){return g.PMb(d.zb.Ya);}:function(){return g.create(d.Xd).then(function(){return Promise.resolve();});})().then(function(){return d.config().XGa?d.dB(g.Sk):Promise.resolve();}).then(c).then(function(){return d.config().XGa?Promise.resolve():d.dB(g.Sk);}).then(function(){d.log.info("license set");d.N8();d.zb.PJa.then(function(){d.config().Tw&&(b||d.config().nL)&&(d.EFa=M.setTimeout(f,d.config().Tw));});})["catch"](function(a){d.log.error("Unable to set the license",d.Ova(a));a.cause&&a.cause.kb&&(a.kb=a.kb?a.kb+a.cause.kb:a.cause.kb);if(b)throw Error(a&&a.message?a.message:"failed to set license");d.Rd(a.code,a,a.Vg);});};c.prototype.VDa=function(){return Promise.resolve();};c.prototype.Uca=function(a){var c;function b(){var b;c.j.Bf=c.BK(a.initDataType);b=[];c.j.Sp.forEach(function(a){b.push(m.Am(a));});c.vfa(b);}c=this;this.log.trace("Received event: "+a.type);this.lM||(this.lM=!0,this.kN.Wu?this.j.Sp?this.config().sE&&this.config().xo&&this.Cc()?this.Cc().gxa(this.j.u).then(function(a){c.j.Bf=a;return a.TTb.then(function(){var b;b=[];c.j.Sp.forEach(function(a){b.push(m.Am(a));});return c.vfa(b,!0).then(function(){var b;if(a.MNb)c.Rd(f.J.JOa);else{b=m.Wg(c.j,"Eme");a.GTb({log:b,QRb:function(a){return c.j.Zc(a);}},{rx:c.Qta(b),onerror:function(a,b,f){return c.Rd(a,b,f);}});(b=a.eSb)&&c.VV(b);c.j.Jw(a.Jc||{});c.j.cw="videopreparer";}});});})["catch"](function(a){c.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Rd(f.J.eUa)):this.Rd(f.J.dy,f.G.GOa));};c.prototype.IFa=function(a){var b;a=void 0===a?this.j:a;a.Bf=this.BK("cenc");b=[];a.Sp.forEach(function(a){b.push(m.Am(a));});return this.vfa(b,!1,a);};c.prototype.U9=function(){return this.config().nL?y.Jj.cv:y.Jj.wn;};ra.Object.defineProperties(c.prototype,{kN:{configurable:!0,enumerable:!0,get:function(){return a(44).kh;}},uA:{configurable:!0,enumerable:!0,get:function(){return this.x_?"encrypted":this.zb.B0+"needkey";}}});D=c;g.__decorate([t.aX],D.prototype,"kN",null);g.__decorate([t.aX],D.prototype,"uA",null);D=g.__decorate([p.N()],D);d.tRa=D;},function(g,d,a){var f,m,h,b,k,p,t,u,y,D;function c(a,b,c,f,d,g,k,p){f=u.zP.call(this,f,d,g)||this;f.config=a;f.ze=b;f.Cc=c;f.nE=k;f.dca=p;f.log=m.Wg(f.j,"LicenseBroker");f.lM=new Set();f.$Ba=!1;return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);m=a(5);h=a(11);b=a(469);k=a(4);p=a(1);t=a(198);u=a(281);y=a(88);D=a(14);da(c,u.zP);c.prototype.Uca=function(){var a,b;a=this;b=this.j.da;this.lM.has(b.u)||(this.lM.add(b.u),(this.config.sE&&this.ze.xo&&this.Cc()?this.uhb():Promise.reject())["catch"](function(){return a.JFa(b);}).then(function(){return a.Nra(b);})["catch"](function(c){return a.Mra(b,c);})["catch"](function(b){return a.Rd(b.code,b,b.Vg,a.j);}));};c.prototype.uhb=function(){var a,b;a=this;b=this.j.da;return this.Cc().gxa(b.u).then(function(c){a.FEa(c,b);b.cw="videopreparer";a.dca.dB(c.Sk);return c.t5().KO();})["catch"](function(b){a.log.warn("eme not in cache",b);throw b;});};c.prototype.hfb=function(a){var c;c={};a.forEach(function(a){c[b.ecb(a.ipb)]=a.time.ea(k.ja);});return c;};c.prototype.Bjb=function(a,b){this.log.trace("Key status",{viewable:a.u,keyId:m.dt(b.Rw),status:b.value});};c.prototype.FEa=function(a,b){var c,f,d;c=this;b.Bf=a;f={next:function(a){c.Bjb(b,a);},error:h.Re,complete:h.Re};d={next:function(a){c.Rd(a.code,a,a.Vg,c.j);},error:h.Re,complete:h.Re};a.nmb().subscribe(f);(a=a.xE())&&a.subscribe(d);};c.prototype.Nra=function(a){var b;this.log.info("Successfully applied license for xid: "+a.ia+", viewable: "+a.u+", segment: "+a.$a);b=a.Bf;b&&b.fba&&this.VV(b.fba);this.Jw(a);this.dB();};c.prototype.Mra=function(a,b){this.Jw(a);throw b;};c.prototype.Jw=function(a){a.Bf&&a.Jw(this.hfb(a.Bf.Jc));};c.prototype.JFa=function(a){var b,c;b=this;c={next:function(c){b.lM.add(a.u);b.VV(c);},error:h.Re,complete:h.Re};return this.nE().then(function(f){var d;d={type:b.U9(),qW:a.Sp.map(function(a){return m.Am(a);}),context:{Xd:b.config.Xd,Ya:b.zb.Ya},wh:{u:a.u,ia:a.ia,kg:a.kg,Lk:a.Lk,Zf:a.ta.Zf}};f.nM().subscribe(c);return f.sj(d,b.dca).Xq(function(c){b.FEa(c,a);b.j.fireEvent(D.S.oM,{u:a.u});return c.t5();}).KO();});};c.prototype.dB=function(){var a;a=this;if(this.$Ba)this.log.trace("Media Keys already set");else{this.$Ba=!0;try{this.zb.Ya?this.zb.Ya.setMediaKeys(this.j.Bf.Sk).then(function(){a.N8();})["catch"](function(b){b=a.Dya(b);a.Rd(f.J.X1,b,b.Vd,a.j);}):this.N8();}catch(I){this.Rd(f.J.X1,I,void 0,this.j);}}};c.prototype.VDa=function(){var a,b;a=this;b=this.j.da.Bf;return b?this.nE().then(function(c){return new Promise(function(f){c.wzb(b,a.dca).Xq(function(a){return a.r4a();}).Xq(function(b){a.log.trace("Fulfilled the last secure stop");a.ze.li&&a.j.du.pZ({success:!0,persisted:!1});return b.close();}).subscribe({error:function(b){a.log.error("Unable to get/add secure stop data",b);a.ze.li&&a.j.du.pZ({success:b.$,ErrorCode:b.code,ErrorSubCode:b.Rc,ErrorExternalCode:b.Vg,ErrorEdgeCode:b.pE,ErrorDetails:b.gE});f();},complete:function(){f();}});});}):Promise.resolve();};c.prototype.IFa=function(a){var b;a=void 0===a?this.j:a;b=this;return this.JFa(a).then(function(){return b.Nra(a);})["catch"](function(c){return b.Mra(a,c);});};c.prototype.U9=function(){return this.ze.nL?y.Jj.cv:y.Jj.wn;};ra.Object.defineProperties(c.prototype,{uA:{configurable:!0,enumerable:!0,get:function(){return"encrypted";}},Xd:{configurable:!0,enumerable:!0,get:function(){return this.config.Xd;}}});a=c;g.__decorate([t.aX],a.prototype,"uA",null);a=g.__decorate([p.N()],a);d.wRa=a;},function(g,d,a){var f,m,h,b,k,p,t,u,y;function c(a,b,c,f,d,g){this.nE=a;this.ze=b;this.ge=c;this.config=f;this.FM=d;this.Cc=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(123);h=a(570);b=a(569);k=a(53);p=a(59);t=a(17);u=a(144);a=a(109);c.prototype.create=function(a,c,f){return a?new h.wRa(this.config(),this.ze,this.Cc,this.ge,c,f,this.nE,this.FM()):new b.tRa(this.config,this.Cc,this.ge,c,f);};y=c;y=g.__decorate([f.N(),g.__param(0,f.l(m.OP)),g.__param(1,f.l(k.hm)),g.__param(2,f.l(p.jl)),g.__param(3,f.l(t.xd)),g.__param(4,f.l(u.UH)),g.__param(5,f.l(a.nC))],y);d.vRa=y;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(295);f=a(571);d.bk=new g.xc(function(a){a(c.wka).to(f.vRa);});},function(g,d,a){var f,m,h,b,k;function c(a){return m.le.call(this,a,"TransportConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(36);h=a(28);b=a(34);k=a(40);da(c,m.le);c.prototype.Efa=function(a){var b,c;b=this.$ga;c=this.yra;switch(a){case k.gv.DQ:return b;case k.gv.Dma:return b&&!c;case k.gv.qTa:return!1;}};ra.Object.defineProperties(c.prototype,{$ga:{configurable:!0,enumerable:!0,get:function(){return!0;}},yra:{configurable:!0,enumerable:!0,get:function(){return!1;}}});a=c;g.__decorate([b.config(b.Qd,"usesMsl")],a.prototype,"$ga",null);g.__decorate([b.config(b.Qd,"allowRequestsWithoutMsl")],a.prototype,"yra",null);a=g.__decorate([f.N(),g.__param(0,f.l(h.aj))],a);d.GXa=a;},function(g,d,a){var f,m,h,b,k;function c(a,b,c){this.receiver=b;this.Ef=c;this.log=a.wb("SslTransport");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(4);h=a(7);b=a(154);a=a(95);c.prototype.send=function(a,b){var c,f;c=this;f={url:a.url.href,hE:"nq-"+a.Bl,Ada:JSON.stringify(b),MT:a.timeout.ea(m.ja),headers:a.headers,withCredentials:!0};return new Promise(function(a,b){c.Ef.download(f,function(c){c.$?a(c):b(c);});}).then(function(f){f={status:"success",body:f.content};c.receiver.dG({command:a.Bl,inputs:b,outputs:f});return f;})["catch"](function(f){var d;if(!f.error)throw f.Rc=f.ca||f.Rc,c.receiver.dG({command:a.Bl,inputs:b,outputs:f}),f;d=f.error;d.sx=f.sx;c.log.error("Error sending SSL request",{subCode:d.Rc,data:d.content,message:d.message});c.receiver.dG({command:a.Bl,inputs:b,outputs:d});throw d;});};c.prototype.N6=function(){return{};};k=c;k=g.__decorate([f.N(),g.__param(0,f.l(h.Db)),g.__param(1,f.l(b.zQ)),g.__param(2,f.l(a.ey))],k);d.XWa=k;},function(g,d,a){var f,m,h,b,k,p,t;function c(a,b,c,f){var d;d=this;this.rA=b;this.receiver=c;this.profile=f;this.log=a.wb("MslTransport");this.rA().then(function(a){return d.sca=a;});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(7);h=a(135);b=a(4);k=a(154);a=a(91);p={license:!0};c.prototype.send=function(a,c){var f,d;f=this;d={tCa:Object.assign({Ef:a.Ef,log:a.log,profile:this.profile},a.Q5a),method:a.Bl,url:a.url.href,body:JSON.stringify(c),timeout:a.timeout.ea(b.ja),ECb:this.profile,BSb:!p[a.Bl],gqb:!!p[a.Bl],lj:!0,PN:a.Fea,headers:a.headers};return this.rA().then(function(b){return b.send(d).then(function(b){f.receiver.dG({command:a.Bl,inputs:c,outputs:b});return b;})["catch"](function(b){var d;if(!b.error)throw b.Rc=b.ca||b.Rc,f.receiver.dG({command:a.Bl,inputs:c,outputs:b}),b;d=b.error;d.sx=b.sx;f.log.error("Error sending MSL request",{mslCode:d.sr,subCode:d.Rc,data:d.data,message:d.message});f.receiver.dG({command:a.Bl,inputs:c,outputs:d});throw d;});});};c.prototype.N6=function(){var a;return{userTokens:null===(a=this.sca)||void 0===a?void 0:a.QM.getUserIdTokenKeys()};};t=c;t=g.__decorate([f.N(),g.__param(0,f.l(m.Db)),g.__param(1,f.l(h.YH)),g.__param(2,f.l(k.zQ)),g.__param(3,f.l(a.lI))],t);d.ZSa=t;},function(g,d,a){var c,f,m,h,b,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(240);f=a(310);m=a(575);h=a(574);b=a(573);k=a(40);d.hBb=new g.xc(function(a){a(c.QQ).to(b.GXa).Z();a(f.jla).to(m.ZSa);a(f.nna).to(h.XWa);a(f.Kna).If(function(a){return function(b){var d;return a.ub.get(c.QQ).Efa(null!==(d=null===b||void 0===b?void 0:b.Mpb)&&void 0!==d?d:k.gv.DQ)?a.ub.get(f.jla):a.ub.get(f.nna);};});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.QUa="PboPingCommandSymbol";},function(g,d,a){var f,m,h,b,k;function c(a){return b.ri.call(this,a,m.J.UTa,1,h.yi.ping,h.Jg.cs,h.yi.ping)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);b=a(68);a=a(48);da(c,b.ri);c.prototype.Cf=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.eo(a);});};c.prototype.Km=function(){return Promise.reject(Error("Links are unsupported with ping"));};k=c;k=g.__decorate([f.N(),g.__param(0,f.l(a.il))],k);d.PUa=k;},function(g,d,a){var f,m,h,b,k;function c(a){return b.ri.call(this,a,m.J.jLa,2,h.yi.bind,h.Jg.cs,h.yi.bind)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);b=a(68);a=a(48);da(c,b.ri);c.prototype.Cf=function(a,b,c){var f;f=this;return this.send(a,"/bindDevice",b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.eo(a);});};c.prototype.Km=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};k=c;k=g.__decorate([f.N(),g.__param(0,f.l(a.il))],k);d.BUa=k;},function(g,d,a){var f,m,h,b,k;function c(a){return b.ri.call(this,a,m.J.CTa,2,h.yi.IDa,h.Jg.cs,h.yi.IDa)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);b=a(68);a=a(48);da(c,b.ri);c.prototype.Cf=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.eo(a);});};c.prototype.Km=function(){return Promise.reject(Error("Links are unsupported with pair"));};k=c;k=g.__decorate([f.N(),g.__param(0,f.l(a.il))],k);d.NUa=k;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.OUa="PboPairCommandSymbol";},function(g,d,a){var f,m,h,b,k;function c(a){return b.ri.call(this,a,m.J.iLa,2,h.yi.bind,h.Jg.cs,h.yi.bind)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);b=a(68);a=a(48);da(c,b.ri);c.prototype.Cf=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.eo(a);});};c.prototype.Km=function(){return Promise.reject(Error("Links are unsupported with bind"));};k=c;k=g.__decorate([f.N(),g.__param(0,f.l(a.il))],k);d.AUa=k;},function(g,d,a){var f,m,h,b,k,p,t,u,y;function c(a,b,c,f,d,g,k,m,p){this.Tf=a;this.Ef=b;this.vj=c;this.Kbb=f;this.VE=d;this.oCb=g;this.bU=k;this.Svb=m;this.nw=p;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(122);h=a(96);b=a(308);k=a(311);p=a(120);t=a(95);u=a(458);y=a(65);a=a(81);c=g.__decorate([f.N(),g.__param(0,f.l(m.DB)),g.__param(1,f.l(t.ey)),g.__param(2,f.l(h.oy)),g.__param(3,f.l(k.$la)),g.__param(4,f.l(p.WB)),g.__param(5,f.l(u.Ona)),g.__param(6,f.l(y.sH)),g.__param(7,f.l(b.lma)),g.__param(8,f.l(a.Tu))],c);d.DUa=c;},function(g,d,a){var f,m,h,b,k,p;function c(a){return h.Qo.call(this,a,m.J.NOa,b.im.dL,3,p.Jg.YB)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(125);b=a(75);k=a(48);p=a(41);da(c,h.Qo);c.prototype.uT=function(a){return Object.assign(Object.assign({},h.Qo.prototype.uT.call(this,a)),{action:a.action});};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(k.il))],a);d.aPa=a;},function(g,d,a){var f,m,h,b,k,p;function c(a){return h.Qo.call(this,a,m.J.Zma,b.im.splice,1,p.Jg.YB)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(125);b=a(75);k=a(48);p=a(41);da(c,h.Qo);a=c;a=g.__decorate([f.N(),g.__param(0,f.l(k.il))],a);d.WWa=a;},function(g,d,a){var f,m,h,b,k,p;function c(a){return h.Qo.call(this,a,m.J.w1,b.im.fM,1,p.Jg.YB)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(125);b=a(75);k=a(48);p=a(41);da(c,h.Qo);a=c;a=g.__decorate([f.N(),g.__param(0,f.l(k.il))],a);d.jRa=a;},function(g,d,a){var f,m,h,b,k,p;function c(a){return h.Qo.call(this,a,m.J.cna,b.im.stop,3,p.Jg.E1)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(125);b=a(75);k=a(48);p=a(41);da(c,h.Qo);a=c;a=g.__decorate([f.N(),g.__param(0,f.l(k.il))],a);d.bXa=a;},function(g,d,a){var f,m,h,b,k,p;function c(a){return h.Qo.call(this,a,m.J.xWa,b.im.start,3,p.Jg.cs)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(125);b=a(75);k=a(48);p=a(41);da(c,h.Qo);a=c;a=g.__decorate([f.N(),g.__param(0,f.l(k.il))],a);d.$Wa=a;},function(g,d,a){var f,m,h;function c(a,c){this.vc=a;this.et=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(22);a=a(39);c.prototype.aBb=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.vc.mY(a.substring(a.indexOf("?")+1));});return{$:!0,kc:a.map(function(a,b){return{id:a.sessionId,Sw:c[b].drmlicensecontextid,nF:c[b].licenseid};}),Ol:a.map(function(a){return{data:b.et.decode(a.licenseResponseBase64),sessionId:a.sessionId};})};};c.prototype.eBb=function(a){return{$:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.sessionId)&&c&&(a[b]=c);return a;},{})}};};h=c;h=g.__decorate([f.N(),g.__param(0,f.l(m.ef)),g.__param(1,f.l(a.Hj))],h);d.JUa=h;},function(g,d,a){var f,m,h;function c(a){this.Ka=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(45);h=a(4);c.prototype.$Ab=function(a){var b;b=this.Ka.lf.ea(h.xn);return{inputs:a.Wh.map(function(c){return{sessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.ia.toString(),mdxControllerEsn:a.DM};}),QAa:"standard"===a.ei.toLowerCase()?"license":"ldl"};};c.prototype.dBb=function(a){var b,c,f,d;b=this;c=a.Pwb||{};f=[];d=a.kc.map(function(d){var g;f.push(d.id);g=c[d.id];delete c[d.id];return{url:b.Dsa(d.Sw,d.nF),echo:"sessionId",params:{sessionId:d.id,secureStop:g,secureStopId:g?d.nF:void 0,xid:a.ia.toString()}};});Object.keys(c).forEach(function(f){d.push({url:b.Dsa(a.kc[0].Sw),echo:"sessionId",params:{sessionId:f,secureStop:c[f],secureStopId:void 0,xid:a.ia.toString()}});});return d;};c.prototype.Dsa=function(a,c){return"/releaseLicense?drmLicenseContextId="+a+(c?"&licenseId="+c:"");};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(m.sk))],a);d.IUa=a;},function(g,d,a){var f,m,h,b,k;function c(a){return b.ri.call(this,a,m.J.lWa,3,h.yi.sj,h.Jg.E1,h.yi.sj)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);b=a(68);a=a(48);da(c,b.ri);c.prototype.Cf=function(a,b){var c;c=this;return this.send(a,"/bundle",b).then(function(a){a=a.result;c.bta(a);return a;})["catch"](function(a){throw c.eo(a);});};c.prototype.Km=function(){return Promise.reject(Error("Links are unsupported with release"));};k=c;k=g.__decorate([f.N(),g.__param(0,f.l(a.il))],k);d.XUa=k;},function(g,d,a){var f,m,h,b,k;function c(a){return b.ri.call(this,a,m.J.dy,3,h.yi.sj,h.Jg.cs,h.yi.sj)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);b=a(68);a=a(48);da(c,b.ri);c.prototype.Cf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.Km=function(a,b,c){var f;f=this;b=b.V9(c.QAa).href;return this.send(a,b,c.inputs,"sessionId","license"===c.QAa?h.Jg.cs:h.Jg.YB).then(function(a){a=a.result;f.bta(a);f.h7a(a);return a;})["catch"](function(a){throw f.eo(a);});};c.prototype.h7a=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};k=c;k=g.__decorate([f.N(),g.__param(0,f.l(a.il))],k);d.zUa=k;},function(g,d,a){var f,m,h,b,k,p,t,u,y,D,B,l,C,n,Q,T;function c(a,b,c,f,d,g,k){a=y.ri.call(this,a,m.J.MANIFEST,3,h.yi.ta,h.Jg.cs,h.yi.ta)||this;a.platform=b;a.config=c;a.bU=f;a.T6a=d;a.Tsb=g;a.Rk=k;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);b=a(456);k=a(5);p=a(17);t=a(62);u=a(65);a(162);y=a(68);D=a(48);B=a(236);l=a(426);C=a(307);n=a(105);Q=a(79);T=a(40);da(c,y.ri);c.prototype.Cf=function(a,b){var c;c=this;return this.Ydb(b).then(function(f){return c.send(a,"/"+c.name,f,void 0,c.rib(b.DE),void 0,b.DE===t.un.r2?T.gv.Dma:T.gv.DQ);}).then(function(a){return a.result;})["catch"](function(a){throw c.eo(a);});};c.prototype.Km=function(a,b,c){return this.Cf(a,c).then(function(a){b.XS(a.links);a.Zf=b;return a;});};c.prototype.Ydb=function(a){var c,f,d,g,m,p,h,q;c=this;f=a.Va;d=Object.assign({},f.TJ,f.en);g={};m=a.va;g[m]={unletterboxed:!!d.preferUnletterboxed};p=this.config().yCb?30:25;h=k.HE();q=this.config().iq?this.Rk.Igb():Promise.resolve(b.Zka.wp());return Promise.all([h.Nib(),h.Oib(),h.NE(),h.EL(),this.bgb(a.ia),q]).then(function(b){var k,h,q,u,y;k=P(b);h=k.next().value;q=k.next().value;b=k.next().value;u=k.next().value;y=k.next().value;k=k.next().value;h=(h||[]).concat(q||[]).concat(c.config().Lu).concat(["BIF240","BIF320"]).filter(Boolean);q=u&&void 0!==u.SUPPORTS_SECURE_STOP?!!u.SUPPORTS_SECURE_STOP:void 0;u=u?u.DEVICE_SECURITY_LEVEL:void 0;b={type:"standard",viewableId:m,profiles:h,flavor:t.md.x8a(a.DE),drmType:k,drmVersion:p,usePsshBox:!0,isBranching:!!a.Va.ci,useHttpsStreams:!0,supportsUnequalizedDownloadables:c.config().iAb,imageSubtitleHeight:B.y2.f$(),uiVersion:c.context.vj.SO,uiPlatform:c.context.vj.m_,clientVersion:c.platform.version,supportsPreReleasePin:c.config().Dt.cAb,supportsWatermark:c.config().Dt.dAb,showAllSubDubTracks:c.config().Dt.Myb||!!d.showAllSubDubTracks,packageId:c.Yhb(f),deviceSupportsSecureStop:q,deviceSecurityLevel:u,videoOutputInfo:b,titleSpecificData:g,preferAssistiveAudio:!!d.assistiveAudioPreferred,preferredTextLocale:d.preferredTextLocale,preferredAudioLocale:d.preferredAudioLocale,isUIAutoPlay:!!d.isUIAutoPlay,challenge:y,isNonMember:c.context.vj.dF,pin:f.XDa,desiredVmaf:c.config().vCb?c.config().obb:c.config().pbb};f.Uva&&(b.extraParams=f.Uva);return b;});};c.prototype.Yhb=function(a){if(this.config().KY.enabled){if(void 0!==a.so)return a.so;if(void 0!==this.config().KY.so)return Number(this.config().KY.so);}};c.prototype.rib=function(a){switch(a){case t.un.wn:case t.un.TNa:return h.Jg.cs;case t.un.Mma:case t.un.r2:return h.Jg.E1;case t.un.Vla:return h.Jg.YB;}};c.prototype.bgb=function(a){var b;b=this;return this.T6a.jxa().then(function(c){var f;f=a&&b.Tsb.dib(a);f&&f.ym("cad");return c;});};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(D.il)),g.__param(1,f.l(Q.ms)),g.__param(2,f.l(p.xd)),g.__param(3,f.l(u.sH)),g.__param(4,f.l(l.Uha)),g.__param(5,f.l(C.i2)),g.__param(6,f.l(n.ev))],a);d.MUa=a;},function(g,d,a){var f,m,h,b,k;function c(a){return b.ri.call(this,a,m.J.oRa,1,h.yi.fBa,h.Jg.YB,h.yi.fBa)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(2);h=a(41);b=a(68);a=a(48);da(c,b.ri);c.prototype.Cf=function(a,b){var c;c=this;return this.send(a,"/"+this.name,b).then(function(a){return a.result;})["catch"](function(a){throw c.eo(a);});};c.prototype.Km=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};k=c;k=g.__decorate([f.N(),g.__param(0,f.l(a.il))],k);d.LUa=k;},function(g,d,a){var c,f,m,h,b,k,p,t,u,y,D,B,l,C,n,Q,T,ca,r,S,N,U,W,fa,V,ma,A,sa,z,O;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(343);f=a(594);m=a(195);h=a(593);b=a(331);k=a(592);p=a(329);t=a(591);u=a(328);y=a(590);D=a(327);B=a(589);l=a(75);C=a(588);n=a(587);Q=a(46);T=a(2);ca=a(586);r=a(585);S=a(584);N=a(48);U=a(583);W=a(191);fa=a(582);V=a(581);ma=a(580);A=a(347);sa=a(579);z=a(578);O=a(577);d.M7a=new g.xc(function(a){a(N.il).to(U.DUa);a(c.fma).to(f.LUa);a(W.a2).to(fa.AUa);a(A.Yla).to(sa.BUa);a(V.OUa).to(ma.NUa);a(m.c2).to(h.MUa);a(b.Xla).to(k.zUa);a(p.kma).to(t.XUa);a(u.cma).to(y.IUa);a(D.dma).to(B.JUa);a(l.ona).to(C.$Wa);a(l.pna).to(n.bXa);a(l.qka).to(ca.jRa);a(l.mna).to(r.WWa);a(l.ija).to(S.aPa);a(O.QUa).to(z.PUa);a(l.C0).If(function(a){return function(b){switch(b){case l.im.start:return a.ub.get(l.ona);case l.im.stop:return a.ub.get(l.pna);case l.im.fM:return a.ub.get(l.qka);case l.im.splice:return a.ub.get(l.mna);case l.im.dL:return a.ub.get(l.ija);}throw new Q.wc(T.J.JTa,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(g,d,a){var f;function c(a,c,b,f){this.I7=a;this.debug=c;this.sa=b;this.j=f;this.lY=[];this.KX={};this.M7={};this.O8=!1;this.kLa=7.8125;}Object.defineProperty(d,"__esModule",{value:!0});f=a(4);a(14);a(15);a(73);c.prototype.register=function(a,c){this.debug.assert(!(0<=this.lY.indexOf(a)),"panel already registered");this.KX[a]=c;this.lY.push(a);};c.prototype.XCa=function(a){var c;c=this;this.M7[a]=!0;this.O8||(this.O8=!0,setTimeout(function(){return c.Reb();},0));};c.prototype.Ihb=function(a){return(a=this.KX[a])?a():void 0;};c.prototype.M9=function(){var a;a=this.j.uY;return a?a.M9():[];};c.prototype.addEventListener=function(a,c){this.I7.addListener(a,c);this.KX[a]&&this.XCa(a);};c.prototype.removeEventListener=function(a,c){this.I7.removeListener(a,c);};c.prototype.getTime=function(){return this.sa.pc().ea(f.ja);};c.prototype.Reb=function(){this.O8=!1;for(var a=this.lY.length,c;a--;)c=this.lY[a],this.M7[c]&&(this.M7[c]=!1,this.I7.Pb(c+"changed",{getModel:this.KX[c]}));};d.iOa=c;},function(g,d,a){var f,m,h,b,k,p,t;function c(a,b,c,d,g,m,q,l,n){var u;u=this;this.oBb=a;this.j=b;this.id=c;this.height=d;this.width=g;this.Isb=m;this.Jsb=q;this.size=l;this.ld=n;this.type=f.Ig.Lga;this.Eu=!0;this.state=k.An.rQ;this.Bg={};this.lT={};this.Wtb=function(a){if(a.$)try{u.data=u.oBb.parse(a.content);u.state=k.An.LOADED;u.log.trace("TrickPlay parsed",{Images:u.data.images.length},u.Bg);u.j.fireEvent(p.S.NO);}catch(S){u.state=k.An.Ala;u.log.error("TrickPlay parse failed.",S);}else u.state=k.An.rQ,u.log.error("TrickPlay download failed.",t.So(a),u.Bg);};this.log=h.Wg(b,"TrickPlay");}Object.defineProperty(d,"__esModule",{value:!0});f=a(74);m=a(12);h=a(5);b=a(73);k=a(305);p=a(14);t=a(2);c.prototype.Ygb=function(a){if(this.data&&(a=Math.floor(a/this.data.fo.yIa),0<=a&&a<this.data.images.length))return{image:this.data.images[a],time:a*this.data.fo.yIa,height:this.height,width:this.width,pixelAspectHeight:this.Isb,pixelAspectWidth:this.Jsb};};c.prototype.IV=function(){switch(this.state){case k.An.LOADED:return"downloaded";case k.An.LOADING:return"loading";case k.An.OH:return"downloadfailed";case k.An.Ala:return"parsefailed";default:return"notstarted";}};c.prototype.download=function(){var a;a=this.gjb();a?(this.state=k.An.LOADING,this.Tbb(a)):this.Eu=!1;};c.prototype.Yc=function(){return this.state;};c.prototype.gjb=function(){var a,b,c;a=this;b=Object.keys(this.ld).find(function(b){return(a.lT[a.ld[b]]||0)<=m.config.kBb;});if(b){c=this.ld[b];c in this.lT?this.lT[c]++:this.lT[c]=1;return{url:c,fw:b};}};c.prototype.Tbb=function(a){this.log.trace("Downloading",a.url,this.Bg);a={responseType:b.iW,Zb:this.y9(a.fw),url:a.url,track:this};this.j.jW.download(a,this.Wtb);};c.prototype.y9=function(a){return this.j.ij.find(function(b){return b&&b.id===a;});};d.IXa=c;},function(g,d,a){var f,m,h;function c(a,c){this.config=a;this.j=c;this.Zt=!1;this.Yaa=0;}Object.defineProperty(d,"__esModule",{value:!0});f=a(14);m=a(4);h=a(94);c.prototype.Ohb=function(a,c,d,g){var b,k,h,p,t;d=void 0===d?this.j.$a:d;g=void 0===g?!1:g;b=c===f.gg.iC;k=this.j.Mxa(d);g=this.H6a(b?a:this.v7a(a,d),g,d,k);b?(a=g,g=this.j.qb.xt(k,g,d)):a=this.j.qb.xK(k,g,d);c===f.gg.LH&&(this.j.tsa=g);h=this.pt(a,c);p=(c===f.gg.mv||c===f.gg.LQ)&&!this.j.jAa;p=(b=b||h||p)?a:g;if(this.j.yu){t=this.config().hY;this.j.Pya(p,t)||c!==f.gg.mv||(p=this.j.yu.ea(m.ja)-t-1E3,b?(a=p,g=this.j.qb.xt(k,p,d)):(a=this.j.qb.xK(k,p,d),g=p));}return{UM:p,Fi:g,atb:a,pt:h};};c.prototype.H6a=function(a,c,f,d){a=this.Ilb()||c?Math.round(a):this.Hib(a,f,d);this.config().Uea&&(a+=this.config().Uea);return a;};c.prototype.pt=function(a,c){return c===f.gg.iC||this.j.Va.ci&&this.Zt?!1:(c=this.j.qb)&&c.pt(a)||!1;};c.prototype.Ilb=function(){return this.j.Va.ci?!0:"boolean"===typeof this.j.Va.sN?this.j.Va.sN:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?this.config().sN&&this.config().otb:this.config().sN;};c.prototype.v7a=function(a,c){c=this.j.Qt(c).Rq.ea(m.ja)-this.config().pDb;return h.js(a,0,c);};c.prototype.Hib=function(a,c,f){var b;b=this.j.Va.ci?this.config().ova:this.config().Et;return this.j.qb.Msa(a,f,b,c);};d.LWa=c;},function(g,d,a){var f,m,h;function c(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(158);a=a(1);c.prototype.parse=function(a){var b,c;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);c=new m.rH(b);a=this.Srb(c);b=this.Urb(c,b,a);return{fo:a,images:b};};c.prototype.Srb=function(a){var b,c,d,g;if(a.$j()<this.Wvb())throw Error("array buffer too short");f.Ika.forEach(function(b){if(b!=a.ue())throw Error("BIF has invalid magic.");});b=a.PA();if(b>f.VERSION)throw Error("BIF version in unsupported");c=a.PA();if(0==c)throw Error("BIF has no frames.");d=a.PA();g=a.Hd(f.Pma);return{version:b,Jqb:c,yIa:d,Yvb:g};};c.prototype.Urb=function(a,c,f){var g,k;for(var b=[],d=0;d<=f.Jqb;d++){k={timestamp:a.PA(),offset:a.PA()};void 0!=g&&b.push(c.subarray(g.offset,k.offset));g=k;}return b;};c.prototype.Wvb=function(){return f.Ika.length+4+4+4+f.Pma;};h=f=c;h.Ika=[137,66,73,70,13,10,26,10];h.VERSION=0;h.Pma=44;h=f=g.__decorate([a.N()],h);d.LXa=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nna="TrickPlayParserSymbol";},function(g,d,a){var f,m;function c(a,b,c,d,g,m,h,D,l,n,C){this.index=a;this.u=b;this.$a=c;this.Va=d;this.ia=g;this.Wl=m;this.pba=h;this.p8a=l;this.eCa=C;this.Wc=new f.Tc(null);this.eg=new f.Tc(null);this.Bc=new f.Tc(null);this.gj=new f.Tc(null);this.Lr=new f.Tc(void 0);this.Ce=new f.Tc(null);this.Tj=new f.Tc(null);this.bg=new f.Tc(null);this.bf=new f.Tc(null);this.ac=new f.Tc(void 0);this.Sn=new f.Tc(null);this.dw=this.cw="notcached";this.background=!1;D&&(this.Ce.set(D.Ce.value),this.Tj.set(D.Tj.value));this.Vl=n(this);this.pda=this.eCa.ovb(this.ia,this.Wl);}Object.defineProperty(d,"__esModule",{value:!0});f=a(190);m=a(4);c.prototype.Zc=function(a){this.pda.ym(a);};c.prototype.Jw=function(a){var b;b=this;Object.keys(a).forEach(function(c){b.pda.ym(c,m.Eb(a[c]-b.Wl.ea(m.ja)));});};c.prototype.WX=function(){this.eCa.Cvb(this.ia);};ra.Object.defineProperties(c.prototype,{je:{configurable:!0,enumerable:!0,get:function(){return this.Va.je;}},Lk:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.Lk;}},Qn:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.Qn;}},kn:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.kn;}},Ou:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.Ou;}},pk:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.pk;}},kg:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.kg;}},Ow:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.Ow;}},Sp:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.Sp;}},ij:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.ij;}},DY:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.DY;}},Rq:{configurable:!0,enumerable:!0,get:function(){return this.g3&&0<this.g3.ea(m.ja)?this.g3:m.Eb(this.ta?this.ta.duration:0);},set:function(a){this.g3=a;}},Fh:{configurable:!0,enumerable:!0,get:function(){return this.Va.Fh||0;}},l7:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.NT?this.NT:void 0===this.ac.value?null:this.p8a(this.ac.value,this.$a);}},SD:{configurable:!0,enumerable:!0,get:function(){return this.ta&&this.ta.cdnResponseData?this.ta.cdnResponseData.pbcid:void 0;}},cB:{configurable:!0,enumerable:!0,get:function(){return this.ta&&this.ta.cdnResponseData?this.ta.cdnResponseData.sessionABTestCell:void 0;}},Jc:{configurable:!0,enumerable:!0,get:function(){return this.pda.Jc;}}});d.nVa=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pma="PlayTimeTrackerFactorySymbol";},function(g,d,a){var m,h,b,k,p,t,u,y;function c(a,b,c,f,d){var g;g=this;this.ik=a;this.config=c;this.Ea=f;this.debug=d;this.xY=[];this.Np=[];this.rda=[];this.cz={};this.dva=!1;this.XJ={};this.yaa=0;this.log=b.wb("PlayTimeTracker");this.startTime=this.ik.ac.value;this.hX=this.config().$2a;this.mP();this.cz.abrdel=0;this.hX.forEach(function(a){a="abrdel"+a;g.XJ[a]=0;g.cz[a]=0;});}function f(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(1);h=a(7);b=a(17);k=a(91);a(4);p=a(23);t=a(89);u=a(11);y=a(19);f.prototype.encode=function(a){return{key:a.key,downloadableId:a.bd,bitrate:a.R,vmaf:a.Dc,duration:a.duration,metric:a.KM,cdnId:a.fw};};f.prototype.decode=function(a){return{key:a.key,bd:a.downloadableId,R:a.bitrate,Dc:a.vmaf,duration:a.duration,KM:a.metric,fw:a.cdnId};};c.prototype.GL=function(){var a;this.nO(this.ik.ac.value);a=0;this.Np.forEach(function(b){a+=b.endTime-b.startTime;});this.debug.assert(a===Math.floor(a),"Value of totalPlayTime is not an integer.");return Math.floor(a);};c.prototype.Jfb=function(){this.nO(this.ik.ac.value);return{audio:this.yL(this.xY,this.vxa),video:this.yL(this.Np,this.vxa)};};c.prototype.bib=function(){var a;a={total:this.GL(),audio:this.yL(this.xY,this.vV),video:this.yL(this.Np,this.vV),timedtext:this.yL(this.rda,this.vV)};this.debug.assert(!(!a.audio||!a.video));return a;};c.prototype.$wa=function(){var a,b;this.nO(this.ik.ac.value);a=this.t9(this.Np,this.Wfb);try{b=this.axa(a);}catch(I){return this.log.warn("Failed to calc average bitrate."),null;}this.cz.abrdel=Math.round(b);return this.cz.abrdel;};c.prototype.Nfb=function(){var a,b;this.nO(this.ik.ac.value);a=this.t9(this.Np,this.ljb);try{b=this.axa(a);}catch(I){return this.log.warn("Failed to calc average vmaf."),null;}return Math.round(b);};c.prototype.Mfb=function(){var a,b;a=this;if(!this.dva){b=this.GL();this.hX.forEach(function(c){var f,d,g;if(0===a.XJ["abrdel"+c]&&b>c*u.vk){f=0;d=0;g=0;a.Np.some(function(a){f+=a.stream.R*(a.endTime-a.startTime);d+=a.endTime-a.startTime;g=a.stream.R;if(d>c*u.vk)return!0;});f&&(a.XJ["abrdel"+c]=Math.round((f-g*(d-c*u.vk))/(c*u.vk)));}});0!==this.XJ["abrdel"+this.hX[this.hX.length-1]]&&(this.dva=!0);y.dd(this.XJ,function(b,c){a.cz[b]=0===c?a.cz.abrdel:c;});}return this.cz;};c.prototype.t3a=function(a){this.yaa+=a;};c.prototype.Wjb=function(){return!!(this.Np[0]&&this.Np[0].stream&&this.Ea.Sd(this.Np[0].stream.Dc));};c.prototype.mP=function(){var a;a=this;this.ik.bg.addListener(function(b){a.WD=a.Wsa(a.WD,a.xY,b.newValue);});this.ik.bf.addListener(function(b){a.ZD=a.Wsa(a.ZD,a.Np,b.newValue);});this.ik.gj.addListener(this.Yqb.bind(this));};c.prototype.yqb=function(a,b){this.nO(a);this.startTime=b;this.ZD=this.WD=void 0;this.YD&&(this.YD.startTime=this.startTime);};c.prototype.Yqb=function(a){this.xN(this.YD,this.rda,this.ik.ac.value);this.YD=a.newValue?{track:a.newValue,startTime:this.ik.ac.value,endTime:k.gy}:void 0;};c.prototype.nO=function(a){a&&this.WD&&this.ZD&&(a=Math.min(a,this.WD.endTime,this.ZD.endTime),this.xN(this.WD,this.xY,a),this.WD.startTime=a,this.xN(this.ZD,this.Np,a),this.ZD.startTime=a,this.YD&&(this.xN(this.YD,this.rda,a),this.YD.startTime=a),this.startTime=a);};c.prototype.Wsa=function(a,b,c){a&&this.xN(a,b,Math.min(a.endTime,this.ik.ac.value));if(c&&c.stream)return a=c.Un,b=c.stream,{Zb:c.Zb,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime};};c.prototype.xN=function(a,b,c){a&&c&&c>=a.startTime&&(a={Zb:a.Zb,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c},(c=b[b.length-1])&&c.track===a.track&&c.stream===a.stream&&c.Zb===a.Zb&&c.endTime===a.startTime?c.endTime=a.endTime:b.push(a));};c.prototype.t9=function(a,b){var c,f;c=this;f={};return a.reduce(function(a,d){var g,k,m;g=b.bind(c,d)();k=g.key;d=d.endTime-d.startTime;m=f[k];m?m.duration+=d:(delete g.key,m=g,m.duration=d,a.push(m),f[k]=m);return a;},[]);};c.prototype.yL=function(a,b){return this.t9(a,b).map(function(a){return new f().encode(a);});};c.prototype.vV=function(a){var b,c,f;f=a.stream;f?(a=f.bd,b=f.R,c=f.Dc):a=a.track.bd;return{key:a+"$"+(b||0),bd:a,R:b,Dc:c};};c.prototype.vxa=function(a){var b;b=this.vV(a);a=a.Zb.id;return Object.assign({},b,{key:b.key+"$"+a,fw:a});};c.prototype.Wfb=function(a){a=(a=a.stream)?a.R:0;return{key:a,KM:a};};c.prototype.ljb=function(a){a=(a=a.stream)?a.Dc:0;return{key:a,KM:a};};c.prototype.axa=function(a){var b,c,f;b=this;c=0;a.forEach(function(a){if(b.Ea.Sd(a.duration)&&b.Ea.Sd(a.KM))c+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!c)return 0;f=0;a.forEach(function(a){f+=a.KM*a.duration/c;});return f;};a=c;a=g.__decorate([m.N(),g.__param(1,m.l(h.Db)),g.__param(2,m.l(b.xd)),g.__param(3,m.l(p.Qe)),g.__param(4,m.l(t.Zr))],a);d.eVa=a;},function(g,d,a){var f,m,h,b,k,p;function c(a){var c,d;c=this;this.j=a;this.crb=function(){var a;h.Le.removeListener(h.E$,c.sDa);a=c.ho.xp();a&&a.parentNode&&a.parentNode.removeChild(a);};this.Zca=function(a){c.ho.Pxb(a.newValue);};this.qrb=function(a){c.ho.Uxb(a.newValue?a.newValue.aF:void 0);};this.sDa=function(){c.ho.hG();};this.ho=new k.wXa(b.config.xga,a.Bc.value?a.Bc.value.aF:void 0);d=a.dH;m.Pa(.1<d.width/d.height);this.ho.Hxb(d.width/d.height);a.wf.appendChild(this.ho.xp());a.Lr.addListener(this.Zca);a.Bc.addListener(this.qrb);a.addEventListener(p.S.kf,this.crb,f.cC);h.Le.addListener(h.E$,this.sDa);}Object.defineProperty(d,"__esModule",{value:!0});f=a(11);m=a(18);h=a(56);b=a(12);k=a(290);p=a(14);c.prototype.Afa=function(a){this.ho.Afa(a);};c.prototype.y$=function(){return this.ho.y$();};c.prototype.yfa=function(a){this.ho.yfa(a);};c.prototype.w$=function(){return this.ho.w$();};c.prototype.zfa=function(a){this.ho.zfa(a);};c.prototype.x$=function(){return this.ho.x$();};d.yXa=c;},function(g,d,a){var f,m,h,b,k,p,t,u,y;function c(a,b,c,f,d){var g,m;a=k.pI.call(this,b,a,a,"1",{0:c},[{id:0,name:"custom"}],"xx",f||a,p.rq.fC,"primary",null!==(g=null===d||void 0===d?void 0:d.profile)&&void 0!==g?g:"custom",null!==(m=null===d||void 0===d?void 0:d.ro)&&void 0!==m?m:{},!1,!1,null===d||void 0===d?void 0:d.aF)||this;a.j=b;a.url=c;a.options=d;a.No=null===d||void 0===d?void 0:d.No;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(57);f=a(12);m=a(56);h=a(5);b=a(20);k=a(234);p=a(174);t=a(73);u=a(108);y=a(14);g.xma(g.tma,function(a){var d;function c(c){var f;if(c.ctrlKey&&c.altKey&&c.shiftKey&&c.keyCode==u.ds.kXa){f=b.createElement("INPUT",void 0,void 0,{type:"file"});f.addEventListener("change",function(){var b,c,g;b=f.files[0];if(b){c=b.name;d.info("Loading file",{FileName:c});g=new FileReader();g.readAsText(b);g.addEventListener("load",function(){return a.Ko.a5("nourl",c,{content:g.result});});}});f.click();}}d=h.Wg(a,"TimedTextCustomTrack");f.config.m7&&(d.info("Loading url",{Url:f.config.m7}),a.Ko.a5(f.config.m7,"custom"));m.Le.addListener(m.Qz,c);a.addEventListener(y.S.kf,function(){m.Le.removeListener(m.Qz,c);});});da(c,k.pI);c.n$a=function(a,b,f,d){var g;g="custom"+c.blb++;return new c(g,a,b,f,d);};c.prototype.gva=function(){var a;a=this;return new Promise(function(b,c){var f,d;if(null===(f=a.options)||void 0===f?0:f.content)b(a.options.content);else if(a.url){d={responseType:t.kza,url:a.url,track:a,Zb:null,hE:"tt-"+a.Hk};a.j.jW.download(d,function(f){f.$?b(f.content):(f.reason="downloadfailed",f.url=d.url,f.track=a,c(f));});}});};d.vXa=c;c.blb=0;},function(g,d){function a(a,c,f){this.start=a;this.track=c;this.lB=f;this.end=void 0;this.lB=Array.isArray(f)?f:[];}function c(a,c,f){this.log=a;this.zB=c;this.fb=f.fb;this.ph=f.ph||function(){};this.current=void 0;this.Zda=[];this.orphans=[];}function f(a){var b;b=!1;a.reduce(function(a,c){a[c]=(a[c]|0)+1;1<a[c]&&(b=!0);return a;},Object.create(null));return b;}function m(a,c){return f(a)?(c.error("duplicates in entries"),a.filter(function(a,b,c){return c.indexOf(a)===b;})):a;}function h(a){return Object.keys(a).map(function(b){return a[b];});}Object.defineProperty(d,"__esModule",{value:!0});c.prototype.f3a=function(a,c){this.CCa(a,c,"activating");};c.prototype.cab=function(a){this.m8(a,"de-activating");};c.prototype.CCa=function(b,c,f){var d;d=[];this.current&&this.m8(b,"close current for new");this.orphans.length&&(d.push(this.orphans),this.orphans=[]);this.current=new a(b,c,d);this.zB&&this.log.trace("new range: "+f,this.fb({},this.current));};c.prototype.m8=function(a,c){this.current&&(this.current.end=a,this.Zda.push(this.current),this.zB&&this.log.trace("end range: "+c,this.fb({},this.current||{})),this.current=void 0);};c.prototype.oJa=function(a){this.current?this.current.lB.push(a):this.orphans.push(a);};c.prototype.s$=function(b){var c,f,d;c=this;f=c.Zda.slice(0);if(c.current&&"undefined"!=typeof b){d=new a(c.current.start,c.current.track,c.current.lB);d.end=b;f.push(d);}b=f.reduce(function(a,b){var f,d,g,k;if(!b.track)return a;f=b.track.bd;d=b.track.Dw(b.start,b.end);if(!d)return a;g=m(b.lB,c.log);a[f]?(k=a[f],k.expected+=d.length,k.missed+=d.length-g.length):(k={},k.dlid=f,k.bcp47=b.track.Hk,k.profile=b.track.profile,k.expected=d.length,k.missed=d.length-g.length,k.startPts=b.track.Iib(),a[f]=k);return a;},{});b=h(b);c.zB&&c.log.trace("subtitleqoe:",JSON.stringify(b,null,"\t"));return b;};c.prototype.wib=function(b){var c,f,d,g,h;c=this;f=c.Zda.slice(0);d=0;g=0;c.current&&"undefined"!=typeof b&&(h=new a(c.current.start,c.current.track,c.current.lB),h.end=b,f.push(h));f.forEach(function(a){var b,f;if(a.track){if(a.end<a.start){c.ph("negative range",a);a.tx=0;return;}b=m(a.lB,c.log);f=a.track.Dw(a.start,a.end);a.bo=f?f.map(function(a){return a.id;}):[];a.tx=f?0===f.length?100:100*b.length/f.length:0;}else a.tx=100;b=a.end-a.start;d+=b;g+=a.tx*b;});h=d?Math.round(g/d):100;c.log.trace("qoe score "+h+", at pts: "+b);c.zB&&(b=f.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.tx),lang:a.track?a.track.Hk:"none","actual  ":a.lB.join(" "),expected:(a.bo||[]).join(" ")};}),c.log.trace("score for each range: ",JSON.stringify(b,function(a,b){return b;}," ")));return h;};d.jXa=c;},function(g,d,a){var f,m,h,b,k,p,t,u,y,l,B,n,C,K;function c(a){var b;b=this;this.j=a;this.gga=this.xCa=0;this.kf=this.Xl=!1;this.PN=0;this.RG=function(){var a,c;a=b.sd();b.fZ();b.fua&&(b.log.info("Deactivating",b.fua),b.Ax.cab(b.sd()));b.j.gj.set(null);b.rB.VGa(b.entries=void 0);b.gta();c=b.j.Bc.value;c&&c.dM()&&!c.IW()&&(c=null);c&&b.j.Ib.value!==n.hb.Pf&&b.Ax.f3a(a,c);c?(b.log.info("Activating",c),b.j.nk.set(n.Mf.Pe),b.Xl||b.j.Zc("tt_start"),c.getEntries().then(b.IE)["catch"](b.IE)):b.j.nk.set(n.Mf.od);b.fua=c;b.YG();};this.oga=function(){b.Xl&&(b.rB.start(),b.j.Ib.value!==n.hb.Ec&&b.rB.stop());};this.YG=function(){var a;b.j.state.value===n.mb.od&&b.j.Ib.value!==n.hb.Pf&&(b.entries?a=b.rB.zfb():b.j.Bc.value&&(a=c.nzb[b.j.Bc.value.Yc()]));a&&B.jc(a.startTime)&&(b.xCa++,b.gga+=b.rB.Xxa()-a.startTime,b.isa=Math.ceil(b.gga/(b.xCa+0)));b.j.Lr.set(a);};this.sd=function(){return b.j.b$();};this.prb=function(a){b.fireEvent(c.Oyb,a);a&&a.id&&b.Ax.oJa(a.id);b.log.trace("showsubtitle",b.vya(a));};this.lrb=function(a){b.fireEvent(c.Gvb,a);b.log.trace("removesubtitle",b.vya(a));};this.fk=function(){b.log.warn("imagesubs buffer underflow",b.j.Bc.value.Bg);b.j.nk.set(n.Mf.Pe);};this.aY=function(){b.log.info("imagesubs buffering complete",b.j.Bc.value.Bg);b.j.nk.set(n.Mf.od);};this.mDa=function(){b.Xl&&b.Xf&&b.Xf.gq(b.sd());};this.pDa=function(a){b.Xf&&b.Xf.fO&&b.Xf.fO(a.Sg,a.WM);};this.tDa=function(a){b.Xf&&b.Xf.Mo&&b.Xf.Mo(a.$a,a.gCb);};this.eY=function(){b.Xl=!0;l.Lb(function(){b.Xf?b.Xf.gq(b.sd()):b.oga();b.YG();});};this.aN=function(){b.entries=void 0;b.gta();b.rB.stop();b.YG();b.kf=!0;b.fZ();};this.Zca=function(a){(a=a.newValue)&&B.jc(a.id)&&b.Ax.oJa(a.id);};this.irb=function(a){b.aCb(a.newValue,a.oldValue);b.oga();};this.IE=function(a){var c,f;if(!b.kf){c=a.track;f=!1;if(c==b.j.Bc.value)if(c.fr)if(a.$)b.fZ(),b.Xf=c.Xf,b.tBa("addListener"),b.log.info("Activated",c),b.j.gj.set(c),b.Xl?l.Lb(function(){b.Xf.gq(b.sd());}):b.Xf.pause();else{if(f=!!(b.PN<h.config.QBa))b.ZFa=setTimeout(b.$Fa.bind(b,c),h.config.tIa);b.log.error("Failed to activate img subtitle",{retry:f},a,c);}else{if(f=a.entries)b.fZ(),b.rB.VGa(b.entries=f),b.log.info("Activated",c),b.j.gj.set(c);else{if(f=!!(b.PN<h.config.QBa))b.ZFa=setTimeout(b.$Fa.bind(b,c),h.config.tIa);b.log.error("Failed to activate",{retry:f},y.So(a),c);}b.YG();}b.Xl||b.j.Zc(a.$?"tt_comp":"tt_err");a.$?(h.config.hGa?setTimeout(function(){b.j.nk.set(n.Mf.od);},h.config.hGa):b.j.nk.set(n.Mf.od),c.fr||b.YG()):a.Fq?b.log.warn("aborted timed text track loading"):h.config.keb?(c=k.aa.get(K.jl),b.j.Rd(c(y.J.NQa,{kb:a.track?a.track.Bg:{}}))):(b.log.error("ignore subtitle initialization error",a),b.j.nk.set(n.Mf.od));}};this.Ob=new m.tk();this.Ax=new p.jXa(k.Wg(a,"SubtitleTracker"),h.config.Tcb,{fb:u.fb,ph:t.Pa});this.log=k.Wg(a,"TimedTextManager");this.rB=new f.zXa(this.sd,this.YG);this.j.Bc.addListener(this.RG);h.config.ktb?(this.j.addEventListener(n.S.Zm,this.eY),this.RG()):(this.j.nk.set(n.Mf.od),this.j.addEventListener(n.S.Zm,function(){b.Xl=!0;b.RG();}));this.j.Ib.addListener(this.irb);this.j.addEventListener(n.S.sga,this.oga);this.j.Lr.addListener(this.Zca);this.j.addEventListener(n.S.kf,this.aN);}Object.defineProperty(d,"__esModule",{value:!0});g=a(234);f=a(294);m=a(72);h=a(12);b=a(38);k=a(5);p=a(606);t=a(18);u=a(19);y=a(2);l=a(51);B=a(15);n=a(14);C=a(605);K=a(59);c.prototype.addEventListener=function(a,b,c){this.Ob.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.Ob.removeListener(a,b);};c.prototype.fireEvent=function(a,b,c){this.Ob.Pb(a,b,c);};c.prototype.a5=function(a,c,f){var d;d=C.vXa.n$a(this.j,a,c,f);this.j.pk.push(d);this.j.Qn.forEach(function(a){b.LKa(a.pk,d);});this.j.Bc.set(d);this.j.fireEvent(n.S.sB);};c.prototype.Mib=function(a){return this.Ax.wib(a);};c.prototype.s$=function(a){return this.Ax.s$(a);};c.prototype.MV=function(){var a,b;a=this.j.JO;b=h.config.uIa.characterSize;b={size:h.config.yga.characterSize||b};a&&(b.visibility=a.y$(),b.aK=a.w$(),b.oo=a.x$());return b;};c.prototype.hyb=function(a){h.config.yga.characterSize=a;a=this.j.Bc.value;!a||a.dM()||a.fr||a.getEntries().then(this.IE)["catch"](this.IE);};c.prototype.aCb=function(a,b){a===n.hb.Ec||a==n.hb.jh?b!==n.hb.Ec&&b!==n.hb.jh&&((b=this.j.Bc.value)&&b.dM()&&!b.IW()||this.Ax.CCa(this.sd(),b,"presentingstate:"+a)):a!==n.hb.Pf&&a!==n.hb.mq||this.Ax.m8(this.sd(),"presentingstate:"+a);};c.prototype.fZ=function(){this.PN=0;clearTimeout(this.ZFa);};c.prototype.gta=function(){this.Xf&&(this.Xf.stop(),this.tBa("removeListener"));this.Xf=void 0;};c.prototype.tBa=function(a){this.Xf&&(this.Xf[a]("showsubtitle",this.prb),this.Xf[a]("removesubtitle",this.lrb),this.Xf[a]("underflow",this.fk),this.Xf[a]("bufferingComplete",this.aY),"addListener"===a?(this.j.addEventListener(n.S.Xn,this.mDa),this.j.addEventListener(n.S.RX,this.pDa),this.j.addEventListener(n.S.Mo,this.tDa)):(this.j.removeEventListener(n.S.Xn,this.mDa),this.j.removeEventListener(n.S.RX,this.pDa),this.j.removeEventListener(n.S.Mo,this.tDa)));};c.prototype.vya=function(a){return{currentPts:this.sd(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};c.prototype.$Fa=function(a){this.PN++;a.getEntries().then(this.IE)["catch"](this.IE);};d.xXa=c;d={};c.nzb=(d[g.pI.bna.LOADING]={SQb:!0},d[g.pI.bna.OH]={Jt:!0},d);c.Oyb="showsubtitle";c.Gvb="removesubtitle";},function(g,d,a){var b,k,p,t,u,y,l,B,n,C,K,Q,T,r,R,S,N,U,W,fa,V,ma,A,sa,z,O;function c(a){var b;b=this;this.j=a;this.PJa=Promise.resolve();this.B0=M.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.Mv=[];this.Oj=new y.tk();this.Joa=this.Q2=0;this.oR=[];this.ob=n.Wg(this.j,"MediaElementASE");this.yqa=R.Re;this.m3=!1;this.zf={};this.NI={};this.wV=this.qR(function(){var a;if(b.Ya){a=b.IR();return a?a.totalVideoFrames:b.Ya.webkitDecodedFrameCount;}});this.Lz=this.qR(function(){var a;if(b.Ya){a=b.IR();return a?a.droppedVideoFrames:b.Ya.webkitDroppedFrameCount;}});this.vL=this.qR(function(){var a;if(b.Ya){a=b.IR();return a&&a.corruptedVideoFrames;}});this.xV=this.qR(function(){var a;if(b.Ya){a=b.IR();return a&&N.wi(a.totalFrameDelay*R.vk);}});this.xpa=function(){return b.Oj.Pb(fa.xi.OAa);};this.bk=n.aa.get(W.wka).create(u.config.iq,this,this.j);u.config.Tw&&(this.PJa=new Promise(function(a){b.yqa=a;b.j.addEventListener(A.S.kf,a);}));this.ob.trace("Created Media Element");this.addEventListener=this.Oj.addListener;this.removeEventListener=this.Oj.removeListener;this.Ya=f(this.j.dH);this.sourceBuffers=this.Mv;}function f(a){var b,c;b=n.aa.get(V.coa).pib();a=a.width/a.height*b.height;c=(b.width-a)/2;return u.config.myb?R.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+c+"px;top:0px"):R.createElement("VIDEO","position:absolute;width:100%;height:100%");}function m(a){a.preventDefault();return!1;}function h(a,b){var c,f,d;c=a.target;c=c&&c.error;f=a.errorCode;d=c&&c.code;R.jc(d)||(d=f&&f.code);f=c&&c.msExtendedCode;R.jc(f)||(f=c&&c.systemCode);R.jc(f)||(f=a.systemCode);a=R.fb({},{code:d,systemCode:f},{qu:!0});b={ca:b(d),kb:S.qBa(a)};try{c&&c.message&&(b.EM=c.message);}catch(ka){}f=R.fe(f);U.ka(f)&&(b.Vd=n.jsa(f,4));return{wE:b,znb:a};}Object.defineProperty(d,"__esModule",{value:!0});b=a(50);k=a(152);p=a(59);t=a(11);u=a(12);y=a(72);l=a(56);B=a(38);n=a(5);C=a(2);K=a(18);Q=a(94);T=a(467);r=a(19);R=a(20);S=a(189);N=a(9);U=a(15);W=a(295);fa=a(188);V=a(318);ma=a(4);A=a(14);sa=a(138);z=!!(N.$H&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);O=z&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||N.ZH);c.prototype.wL=function(a){try{this.Ya&&(this.Joa=this.Ya.currentTime);}catch(Ea){this.ob.error("Exception while getting VIDEO.currentTime",Ea);a&&this.BC(C.J.iUa,Ea);}return N.wi(this.Joa*R.vk);};c.prototype.seek=function(a){var b;K.Pa(!this.um);this.tqa();b=this.wL(!0);if(!u.config.e4a&&N.SH(b-a)<=this.Vea)this.ob.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.Vea});else try{this.ob.trace("Setting video elements currentTime",{From:Q.Kh(b),To:Q.Kh(a)});this.um={};this.Ya.currentTime=a/R.vk;this.Oj.Pb(fa.xi.Xn);}catch(wa){this.ob.error("Exception while setting VIDEO.currentTime",wa);this.BC(C.J.jUa,wa);}};c.prototype.xib=function(){return!!this.um;};c.prototype.addSourceBuffer=function(a){var c,f;c=R.fe(this.Q2.toString()+this.Mv.length.toString());c={sourceId:this.Q2,sT:c};try{f=new k.$ka(this.j,a,this.Ue,c,this.ob);this.Mv.push(f);a==t.RH&&f.U8&&f.U8.addListener(this.yqa);return f;}catch(Fa){f=R.Ye(Fa);this.ob.error("Unable to add source buffer.",{error:f});c=n.aa.get(p.jl);this.j.Rd(c(C.J.Y1,{ca:a===b.Pc.Kj.AUDIO?R.G.Mka:R.G.Nka,kb:f}));}};c.prototype.ZS=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.Oj.Pb(fa.xi.zHa);return!0;};c.prototype.removeSourceBuffer=function(a){this.Mv=this.Mv.filter(function(b){return!B.vta(a,b);});this.Ue.removeSourceBuffer(a);};c.prototype.endOfStream=function(){u.config.d6&&this.Ue.endOfStream();};c.prototype.Jk=function(a){this.Mv=[];a&&a.SRb();return!0;};c.prototype.Gxb=function(a){this.Q2=a;};c.prototype.Vxa=function(){if(this.Ue)return ma.ntb(this.Ue.duration);};c.prototype.Wxb=function(a){this.Ue&&(this.Ue.duration=a.BY(ma.xn));};c.prototype.zbb=function(){var a;if(!this.m3&&this.Ya&&2<=this.Ya.readyState){a=this.Ya.webkitDecodedFrameCount;if(void 0===a||0<a||u.config.iDb)this.m3=!0;}return this.m3;};c.prototype.open=function(){var a,b,c;a=this;this.j.addEventListener(A.S.pHa,function(b){return a.a1a(b);});if(z){if(this.j.Ow){if(!O){this.mm(C.J.Nla);return;}if(N.ZH&&N.ZH.isTypeSupported&&this.bk.Xd)try{if(!N.ZH.isTypeSupported(this.bk.Xd,"video/mp4")){this.B2a(function(b){a.mm(C.J.W1,b);});return;}}catch(Fa){this.BC(C.J.W1,Fa);return;}}try{this.Ue=new N.$H();}catch(Fa){this.BC(C.J.ZTa,Fa);return;}try{this.Fk=URL.createObjectURL(this.Ue);}catch(Fa){this.BC(C.J.$Ta,Fa);return;}try{this.bk.x3a(this.xpa);this.Ue.addEventListener("sourceopen",function(b){return a.Xpa(b);});this.Ue.addEventListener(this.B0+"sourceopen",function(b){return a.Xpa(b);});this.Ya.addEventListener("error",this.zf.error=function(b){return a.ZC(b);});this.Ya.addEventListener("seeking",this.zf.seeking=function(){return a.$0a();});this.Ya.addEventListener("seeked",this.zf.seeked=function(){return a.g4();});this.Ya.addEventListener("timeupdate",this.zf.timeupdate=function(){return a.c1a();});this.Ya.addEventListener("loadstart",this.zf.loadstart=function(){return a.fJ();});this.Ya.addEventListener("volumechange",this.zf.volumechange=function(b){return a.d1a(b);});this.Ya.addEventListener(this.bk.uA,this.zf[this.bk.uA]=function(b){return a.W0a(b);});b=this.j.wf;c=b.lastChild;c?b.insertBefore(this.Ya,c):b.appendChild(this.Ya);u.config.Vua&&this.Ya.addEventListener("contextmenu",m);this.Ya.src=this.Fk;l.Le.addListener(l.IL,this.NI[l.IL]=function(){return a.Wpa();});this.Wpa();}catch(Fa){this.BC(C.J.aUa,Fa);}}else this.mm(C.J.Ola);};c.prototype.close=function(){var b;function a(){b.Fk&&(b.tqa(),l.Le.removeListener(l.IL,b.NI[l.IL]),b.kZa());}b=this;this.Ya.removeEventListener(this.bk.uA,this.zf[this.bk.uA]);this.Ya.removeEventListener("error",this.zf.error);this.Ya.removeEventListener("seeking",this.zf.seeking);this.Ya.removeEventListener("seeked",this.zf.seeked);this.Ya.removeEventListener("timeupdate",this.zf.timeupdate);this.Ya.removeEventListener("loadstart",this.zf.loadstart);this.Ya.removeEventListener("volumechange",this.zf.volumechange);this.bk.yvb(this.xpa);u.config.iq?this.bk.VDa().then(function(){return a();}):a();this.bk.EFa&&clearTimeout(this.bk.EFa);};c.prototype.W0a=function(a){return this.bk.Uca(a);};c.prototype.IR=function(){if(this.Ya)return this.Ya.getVideoPlaybackQuality&&this.Ya.getVideoPlaybackQuality()||this.Ya.videoPlaybackQuality||this.Ya.playbackQuality;};c.prototype.d2a=function(){var a;a=this.j.Ii;return(a=a&&a.errorCode)&&0<=[C.J.vQ,C.J.gQ].indexOf(a);};c.prototype.kZa=function(){var a;a=!1;u.config.Htb&&this.d2a()&&(a=!0);u.config.C7a&&!a&&(this.Ya.removeAttribute("src"),this.Ya.load&&this.Ya.load());URL.revokeObjectURL(this.Fk);u.config.Vua&&this.Ya.removeEventListener("contextmenu",m);!a&&this.Ya&&this.j.wf.removeChild(this.Ya);this.Ya=this.Ue=void 0;this.Fk="";};c.prototype.Wpa=function(){!0===N.ke.hidden?this.oR.forEach(function(a){a.refresh();a.dzb();}):this.oR.forEach(function(a){a.refresh();a.tzb();});};c.prototype.qR=function(a){var b;b=n.aa.get(T.xla)(a);this.oR.push(b);return function(){b.refresh();return b.lgb();};};c.prototype.BC=function(a,b){var c,f;c={ca:R.G.ih,kb:R.Ye(b)};try{(f=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==f.length&&(c.Vd=f);}catch(Ga){}b=n.aa.get(p.jl);this.j.Rd(b(a,c));};c.prototype.tqa=function(){this.oR.forEach(function(a){a.refresh();});};c.prototype.d_a=function(){return this.Ya&&this.Ya.msGraphicsTrustStatus;};c.prototype.mm=function(a,b,c){var f;f=n.aa.get(p.jl);this.j.Rd(f(a,b,c));};c.prototype.B2a=function(a){var c,f;function b(f){b=R.Re;c.Bh();a(f);}c=n.aa.get(sa.mC)(500,function(){b();});c.Ht();try{f=this.j.Ce.value.fo.wRb.children.filter(function(a){return"pssh"==a.type&&a.fcb==t.wOa;})[0];new N.ZH(this.bk.Xd).createSession("video/mp4",f.raw,null).addEventListener(this.B0+"keyerror",function(a){a=h(a,C.kja);b(a.wE);});}catch(Ga){b();}};c.prototype.a1a=function(a){var b,f,d,g,k,m,h;if(this.Ya){a=a.gP;b=this.d_a();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.Ya.readyState;a.currentTime=""+this.Ya.currentTime;a.pbRate=""+this.Ya.playbackRate;}catch(nb){}for(var b=this.Mv.length,c;b--;){c=this.Mv[b];f="";c.type==t.B1?f="audio":c.type==t.RH&&(f="video");R.fb(a,c.pV(),{prefix:f});u.config.Lcb&&this.j.Ii&&t.RH==c.type&&(f=R.iO(c.D9()),3E3>(f.data&&f.data.length)&&(f.data=r.z8a(f.data).join(),R.fb(a,f,{prefix:c.type})));}this.Ue&&(b=this.Ue.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(u.config.Anb)try{d=this.j.Bf;g=d&&d.mmb;if(g){k=g.expiration;isNaN(k)||(a.exp=k);m=g.keyStatuses.entries();if(m.next){h=m.next().value;h&&(a.keyStatus=h[1]);}}}catch(nb){}}};c.prototype.Xpa=function(a){this.g2a||(this.g2a=!0,this.Oj.Pb(fa.xi.AHa,a));};c.prototype.$0a=function(){this.ob.trace("Video element event: seeking");this.um?this.um.Oqb=!0:(this.ob.error("unexpected seeking event"),u.config.meb&&this.mm(C.J.oUa));};c.prototype.g4=function(){this.ob.trace("Video element event: seeked");this.um?(K.Pa(this.um.Oqb),this.um.Nqb=!0,this.Pqa()):(this.ob.error("unexpected seeked event"),u.config.leb&&this.mm(C.J.nUa));};c.prototype.c1a=function(){this.um&&(this.um.Qqb=!0,this.Pqa());this.Oj.Pb(fa.xi.Xn);};c.prototype.fJ=function(){this.ob.trace("Video element event: loadstart");};c.prototype.d1a=function(a){this.ob.trace("Video element event:",a.type);try{this.j.volume.set(this.Ya.volume);this.j.muted.set(this.Ya.muted);}catch(Ea){this.ob.error("error updating volume",Ea);}};c.prototype.ZC=function(a){a=h(a,C.gPa);this.ob.error("Video element event: error",a.znb);this.mm(C.J.gUa,a.wE);};c.prototype.Pqa=function(){this.um&&this.um.Nqb&&this.um.Qqb&&(this.um=void 0,this.Oj.Pb(fa.xi.VN));};ra.Object.defineProperties(c.prototype,{Vea:{configurable:!0,enumerable:!0,get:function(){return u.config.Wyb;}}});d.GSa=c;},function(g,d,a){var p,t,u,y,l,B,n,C,K,Q,T,r,R,S,N,U,W,fa;function c(a,b,c){this.zl=a;this.F$=b;this.prefix=c;a=r(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function f(){this.Oua=p.qp.Oua.bind(p.qp);this.ST=p.qp.ST.bind(p.qp);this.kE=p.qp.kE;this.bC="NDA";}function m(){}function h(){}function b(){return K?K:"0.0.0.0";}function k(a){a({ADa:0,BO:0,gza:0,bwa:0});}p=a(153);f.prototype.set=function(a,b){y[a]=b;l.save(a,b);};f.prototype.get=function(a,b){if(y.hasOwnProperty(a))return y[a];C.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");l.load(a,function(c){c.$?(y[a]=c.data,b&&b(c.data)):y[a]=void 0;});};f.prototype.remove=function(a){l.remove(a);};f.prototype.clear=function(){C.info("WARNING: Calling unimplemented function Storage.clear()");};m.prototype.now=function(){return B();};m.prototype.fa=function(){return n();};m.prototype.oca=function(a){return a+B()-n();};m.prototype.Oca=function(a){return a+n()-B();};d=a(111).EventEmitter;a(58)(d,h.prototype);c.prototype.Yta=function(a){var b;b=[];this.prefix&&Array.isArray(this.prefix)?b.push.apply(b,[].concat(ea(this.prefix))):this.prefix&&b.push(this.prefix);b.push(a);return new c(this.zl,this.F$,b);};R=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();g.P=function(a){t=a.GA;r=a.zg;l=a.storage;y=a.mF;B=a.Shb;Q=a.BL;T=a.UL;n=a.getTime;C=a.z4a;S=a.Lj;fa=a.ns;N=a.NB;U=a.SourceBuffer;W=a.MediaSource;K=a.pQb;u=a.jw;return{name:"cadmium",jw:u,GA:t,BL:Q,UL:T,storage:new f(),Storage:f,time:new m(),events:new h(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:R,Lj:S,NB:N,OSa:U,MediaSource:W,ns:fa,Rl:{name:b},memory:{dhb:k},Zj:a.Zj};};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(5);f=a(73);d.LVa=function(){c.zg("ProbeDownloader");return{rL:function(a){f.Ef.Otb({url:a.url,Ltb:a});}};}();},function(g,d,a){var f,m,h,b,k,p,t;function c(){var a;a=new m.tk();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.Pb.bind(this);this.mS=p++;this.ob=h.zg("ProbeRequest");this.iqa=f.LVa;b.Pa(void 0!==this.iqa);this.Sf=d.ns.ec.UNSENT;}Object.defineProperty(d,"__esModule",{value:!0});f=a(610);m=a(72);h=a(5);b=a(18);k=a(20);p=0;(function(){function a(){return JSON.stringify({url:this.Fk,id:this.mS,affected:this.YQ,readystate:this.Sf});}k.fb(c.prototype,{Ul:function(a){a.affected=this.YQ;a.probed={requestId:this.mS,url:this.Fk,Fb:this.tJ,groupId:this.JR};this.emit(d.ns.Ld.cI,a);},Nca:function(a){this.j2a=a.httpcode;a.affected=this.YQ;a.probed={requestId:this.mS,url:this.Fk,Fb:this.tJ,groupId:this.JR};this.emit(d.ns.Ld.ny,a);},open:function(a,b,c,f){if(!a)return!1;this.Fk=a;this.YQ=b;this.tJ=c;this.Sf=d.ns.ec.OPENED;this.P_a=f;this.iqa.rL(this);return!0;},ic:function(){return!0;},qj:function(){return this.mS;},toString:a,toJSON:a});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Sf;},set:function(){}},status:{get:function(){return this.j2a;}},url:{get:function(){return this.Fk;}},MMb:{get:function(){return this.YQ;}},vnb:{get:function(){return this.P_a;}}});}());(function(a){a.Ld={cI:"pr0",ny:"pr1"};a.ec={UNSENT:0,OPENED:1,nv:2,DONE:3,Yu:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(t||(t={})));d.ns=Object.assign(c,t);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.uMa||(d.uMa={});g[g.DTa=0]="PAUSE";g[g.VVa=1]="RESUME";g[g.nFb=2]="CAPTIONS_ON";g[g.mFb=3]="CAPTIONS_OFF";g[g.oFb=4]="CAPTION_LANGUAGE_CHANGED";g[g.gEb=5]="AUDIO_LANGUAGE_CHANGED";g[g.RIb=6]="NEXT_EP";g[g.ZJb=7]="PREV_EP";g[g.mv=8]="SEEK";g[g.cna=9]="STOP";d.tMa="CastInteractionTrackerSymbol";},function(g,d,a){var f,m,h,b,k,p,t,u,y,l,B,n,C,K,Q,T,r,R,S,N,U,W,fa;function c(a,b,c,f,d,g,k,m,h,p,t,q,u,y,l,B,D,C,n,I,K){this.VE=a;this.zD=b;this.sa=c;this.Ka=f;this.I5a=d;this.rga=g;this.Hba=k;this.Iba=m;this.iX=h;this.Cc=p;this.ge=t;this.jk=q;this.dz=u;this.qda=y;this.Fba=l;this.lsb=B;this.Kga=D;this.gi=C;this.Sc=n;this.DT=I;this.MJ=K;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(120);m=a(1);h=a(99);b=a(24);k=a(25);p=a(45);t=a(304);u=a(425);y=a(410);l=a(340);B=a(109);n=a(59);C=a(160);K=a(87);Q=a(241);T=a(196);r=a(195);R=a(133);S=a(612);N=a(306);U=a(42);W=a(22);c.prototype.create=function(b,c,f,d,g){return new(a(303)).jVa(b,c,d,g,this.VE,f,this.sa,this.zD,this.Ka,this.Hba,this.I5a,this.rga,this.Iba,this.iX,this.Cc,this.ge,this.jk,this.dz,this.qda,this.Fba,this.lsb,this.Kga,this.gi,this.Sc,void 0,this.DT);};fa=c;fa=g.__decorate([m.N(),g.__param(0,m.l(f.WB)),g.__param(1,m.l(b.yf)),g.__param(2,m.l(k.xf)),g.__param(3,m.l(p.sk)),g.__param(4,m.l(t.Kha)),g.__param(5,m.l(h.lC)),g.__param(6,m.l(u.Uka)),g.__param(7,m.l(y.Vka)),g.__param(8,m.l(l.Fka)),g.__param(9,m.l(B.nC)),g.__param(10,m.l(n.jl)),g.__param(11,m.l(C.BQ)),g.__param(12,m.l(Q.Y_)),g.__param(13,m.l(T.j2)),g.__param(14,m.l(r.c2)),g.__param(15,m.l(R.hI)),g.__param(16,m.l(N.Mna)),g.__param(17,m.l(U.uk)),g.__param(18,m.l(W.ef)),g.__param(19,m.l(S.tMa)),g.__param(19,m.optional()),g.__param(20,m.l(K.uP)),g.__param(20,m.optional())],fa);d.iVa=fa;},function(g,d){function a(a){this.j=a;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.nJa=function(){var a;a=this.j.dm&&this.j.dm.Vb.get()||{};a.bh&&(this.j.bh=a.bh.Ca);a.Da&&(this.j.Da=a.Da.Ca);};a.prototype.Jl=function(){-1===this.j.Da&&this.nJa();return this.j.Da;};a.prototype.B6a=function(a){-1!==this.j.bh&&-1!==this.j.Da||this.nJa();return-1===this.j.bh||-1===this.j.Da?Number.MAX_VALUE:this.j.bh+8*a/this.j.Da;};d.xLa=a;},function(g,d,a){var f,m,h,b,k,p;function c(a,b){this.app=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(14);m=a(305);h=a(25);b=a(1);k=a(4);a=a(17);c.prototype.tE=function(a){var b;a.OO={};if(!a.gF()&&a.Ou&&0<a.Ou.length&&(a.Nu=this.Hxa(a),a.Nu)){b=this.tyb(a);b()||(a.Ib.addListener(b),a.Ce.addListener(b));}};c.prototype.tyb=function(a){var c;function b(){var d,g;if(!a.Ce.value||a.Ib.value===f.hb.Pf)return!1;d=a.Nu;g=d.Yc();return g===m.An.LOADING?!1:g!==m.An.LOADED&&d.Eu?(d=c.ajb(a))?(a.OO.offset=c.app.pc().ea(k.ja),a.Nu=d,d.download(),!0):!1:(a.Ib.removeListener(b),a.Ce.removeListener(b),!1);}c=this;return b;};c.prototype.ajb=function(a){var b,c;b=this.config();c=a.Vl.GL()<b.mBb;b=(a.Ce.value?a.Ce.value.R:0)>b.lBb;return this.vib(a,c&&b);};c.prototype.vib=function(a,b){if(b&&(b=this.Hxa(a),this.nya(a,b.size)))return a.OO.OFa="h",b;b=this.xhb(a);if(this.nya(a,b.size))return a.OO.OFa="l",b;};c.prototype.nya=function(a,b){var c,f;c=this.config();f=Math.min(a.PJ(),a.eP());return a.G5a.B6a(b)*(1+.01*c.V3a[2])<f*c.pBb;};c.prototype.Hxa=function(a){return a.Ou[a.Ou.length-1];};c.prototype.xhb=function(a){return a.Ou[0];};p=c;p=g.__decorate([b.N(),g.__param(0,b.l(h.xf)),g.__param(1,b.l(a.xd))],p);d.KXa=p;},function(g,d,a){var m,h,b,k;function c(a,b,c,f){this.ia=a;this.Vvb=b;this.ma=c;this.app=f;this.Jc={};}function f(a,b){this.$f=a;this.app=b;this.vd={};this.ma=a.wb("PlaybackMilestoneStoreImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(1);h=a(7);b=a(25);k=a(4);f.prototype.ovb=function(a,b){this.vd[a]&&this.ma.warn("registerPlayback: xid "+a+" already registered, overriding");b=(b?b:this.app.pc()).ea(k.ja);this.ma.trace("registerPlayback: xid "+a+" at "+b);this.vd[a]=new c(a,b,this.ma,this.app);return this.vd[a];};f.prototype.dib=function(a){this.vd[a]||this.ma.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.vd[a];};f.prototype.Cvb=function(a){this.ma.trace("removePlayback: xid "+a);delete this.vd[a];};a=f;a=g.__decorate([m.N(),g.__param(0,m.l(h.Db)),g.__param(1,m.l(b.xf))],a);d.mVa=a;c.prototype.ym=function(a,b){b=b?b.ea(k.ja):this.app.pc().ea(k.ja)-this.Vvb;this.ma.trace("addMilestone: xid "+this.ia+" "+a+" at "+b);this.Jc[a]=b;};},function(g,d,a){var c,f,m,h,b,k,p,t,u,y,l,B,n,C,K,Q,T,r,R,S,N,U,W,fa;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(307);f=a(616);m=a(411);h=a(306);b=a(615);k=a(304);p=a(614);t=a(446);u=a(449);y=a(613);l=a(603);B=a(17);n=a(25);C=a(89);K=a(23);Q=a(7);T=a(602);r=a(196);R=a(601);S=a(600);N=a(599);U=a(285);W=a(598);fa=a(65);d.j=new g.xc(function(d){d(c.i2).to(f.mVa).Z();d(m.Lna).If(function(b){var c;c=b.ub;return function(b,f,d,g,k,m,h,p){return new(a(597)).IXa(c.get(S.Nna),b,f,d,g,k,m,h,p);};});d(S.Nna).to(N.LXa).Z();d(h.Mna).to(b.KXa).Z();d(u.yma).to(y.iVa).Z();d(t.Lia).If(function(b){var c;c=b.ub;return function(b){return new(a(596)).iOa(c.get(fa.Kia),c.get(C.Zr),c.get(n.xf),b);};});d(k.Kha).If(function(){return function(a){return new p.xLa(a);};});d(T.pma).If(function(a){var b;b=a.ub;return function(a){return new l.eVa(a,b.get(Q.Db),b.get(B.xd),b.get(K.Qe),b.get(C.Zr));};});d(r.j2).If(function(a){var b;b=a.ub;return function(a,f,d,g,k,m,h,p,t){return new R.nVa(a,f,d,g,k,m,h,p,t,b.get(T.pma),b.get(c.i2));};});d(U.ina).If(function(a){return function(b){var c;c=a.ub.get(B.xd);return new W.LWa(c,b);};});});},function(g,d,a){var f,m;function c(){this.tO=new m.Nj();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(142);c.prototype.dG=function(a){this.tO.next(a);};ra.Object.defineProperties(c.prototype,{rx:{configurable:!0,enumerable:!0,get:function(){return this.tO;}}});a=c;a=g.__decorate([f.N()],a);d.WUa=a;},function(g,d,a){var f,m,h;function c(a,c){this.nw=c;this.log=a.wb("Pbo");this.links={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(7);a=a(81);c.prototype.XS=function(a){a&&(this.links=Object.assign(Object.assign({},this.links),a));};c.prototype.V9=function(a){return this.links[a];};c.prototype.v3a=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.nw().Ug;a="drmContextId="+a.drmContextId;this.XS({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};h=c;h=g.__decorate([f.N(),g.__param(0,f.l(m.Db)),g.__param(1,f.l(a.Tu))],h);d.KUa=h;},function(g,d,a){var m,h;function c(a,c,f,d,g,m,h){this.version=a;this.url=c;this.id=f;this.languages=d;this.bb=g;this.scb=m;this.Mpb=h;}function f(a){this.vj=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(1);a=a(96);f.prototype.create=function(a,f,d,g,m){return new c(this.vj.version,f,a,this.vj.languages,d,g,m);};h=f;h=g.__decorate([m.N(),g.__param(0,m.l(a.oy))],h);d.YUa=h;c.prototype.toJSON=function(){return{version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.bb,echo:this.scb};};},function(g,d,a){var f,m,h,b,k,p;function c(a,b,c){a=m.le.call(this,a,"PboConfigImpl")||this;a.config=b;a.l4a=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(36);h=a(28);b=a(34);k=a(17);a=a(122);da(c,m.le);ra.Object.defineProperties(c.prototype,{SO:{configurable:!0,enumerable:!0,get:function(){return this.config().Dt.SO||"";}},m_:{configurable:!0,enumerable:!0,get:function(){return this.config().Dt.m_||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},zDa:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Dt.Fda;}},dF:{configurable:!0,enumerable:!0,get:function(){return!1;}},Fob:{configurable:!0,enumerable:!0,get:function(){return!0;}},Hob:{configurable:!0,enumerable:!0,get:function(){return!0;}},MGa:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"pbo_logblobs",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},bind:{service:this.l4a.nsa,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.NGa);}},NGa:{configurable:!0,enumerable:!0,get:function(){return{};}},rFa:{configurable:!0,enumerable:!0,get:function(){return!1;}},Z$:{configurable:!0,enumerable:!0,get:function(){return 10;}},ora:{configurable:!0,enumerable:!0,get:function(){return!1;}}});p=c;g.__decorate([b.config(b.string,"uiVersion")],p.prototype,"SO",null);g.__decorate([b.config(b.string,"uiPlatform")],p.prototype,"m_",null);g.__decorate([b.config(b.Kx,"pboVersion")],p.prototype,"version",null);g.__decorate([b.config(b.string,"pboOrganization")],p.prototype,"zDa",null);g.__decorate([b.config(b.ega,"pboLanguages")],p.prototype,"languages",null);g.__decorate([b.config(b.Qd,"hasLimitedPlaybackFunctionality")],p.prototype,"dF",null);g.__decorate([b.config(b.Qd,"mdxBindUsingNodeQuark")],p.prototype,"Fob",null);g.__decorate([b.config(b.Qd,"mdxPairUsingNodeQuark")],p.prototype,"Hob",null);g.__decorate([b.config(b.object(),"pboCommands")],p.prototype,"MGa",null);g.__decorate([b.config(b.object(),"pboCommandsOverride")],p.prototype,"NGa",null);g.__decorate([b.config(b.Qd,"pboRecordHistory")],p.prototype,"rFa",null);g.__decorate([b.config(b.Kx,"pboHistorySize")],p.prototype,"Z$",null);g.__decorate([b.config(b.Qd,"pboAddXEsnHeader")],p.prototype,"ora",null);p=g.__decorate([f.N(),g.__param(0,f.l(h.aj)),g.__param(1,f.l(k.xd)),g.__param(2,f.l(a.DB))],p);d.EUa=p;},function(g,d,a){var f;function c(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);c.Olb=function(a){var c,b;c=a&&a.code;b=a&&(a.ca||a.Rc);a=a.Vg!==f.n1.Wla;b=!!b&&b>=f.G.KH&&b<=f.G.IH&&a;return!("RETRY"!==c&&"FAIL"!==c)||b;};c.Chb=function(a){var c,b;b=null===(c=null===a||void 0===a?void 0:a.sx)||void 0===c?void 0:c.maxRetries;return"number"===typeof b?b:"FAIL"===(null===a||void 0===a?void 0:a.code)?1:void 0;};d.ama=c;},function(g,d,a){var h,b,k,p,t,u,y,l,B,n,C,K,Q,T,r;function c(a){this.config=a;this.ut=[];}function f(a,b,c){this.sa=a;this.VG=b;this.context=c;this.startTime=this.sa.pc();}function m(a,b,f,d,g,k,m,h,p){this.NIa=b;this.json=f;this.sa=d;this.sL=g;this.Xda=k;this.ha=m;this.Ob=p;this.log=a.wb("Pbo");h.rFa&&(this.ut=new c(h));this.VG=this.NIa();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);b=a(4);k=a(310);p=a(7);t=a(37);u=a(25);y=a(40);l=a(139);B=a(33);n=a(309);C=a(96);K=a(65);Q=a(14);T=a(41);r=a(622);m.prototype.send=function(a,b){var c;c=new f(this.sa,this.VG,a);this.ut&&this.ut.append(c);return this.hfa(a,b,c);};m.prototype.hfa=function(a,b,c){var f;f=this;return new Promise(function(d,g){f.Eu(a,b).then(function(a){var b,k;f.pxb(a);b=P(f.MCb(a));k=b.next().value;b=b.next().value;k&&(f.I7a(c),d(a));b&&(f.pta(c,b),g(b));})["catch"](function(a){var b;b=f.pta(c,a);a.kb&&(a.kb=[a.kb," ",b].join(""));g(a);});});};m.prototype.pxb=function(a){(a=a.serverTime)&&this.Ob.Pb(Q.lka.LGa,b.Eb(a));};m.prototype.MCb=function(a){var b;b=a.result;if("deviceCommand"in a){a=a.deviceCommand;this.log.trace("Received device command '"+a+"'");switch(a){case"reset":b="RESET_DEVICE";break;case"reload":b="RELOAD_DEVICE";break;case"exit":b="EXIT_DEVICE";break;default:b="FAIL",this.log.error("Unhandled device command '"+a+"'");}return[,{code:b,detail:{message:"Server sent device action to '"+a+"' device"}}];}if(b)return[b,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};m.prototype.Zrb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(N){throw{DA:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{DA:!0,code:"FAIL",message:"There is no result property on the response"};}throw{DA:!0,code:"FAIL",message:"There is no body property on the response"};};m.prototype.Y4a=function(a,b,c){var f;f=this;this.dCb(b,a);this.VG=this.NIa(c);return this.VG.send(b,c).then(function(a){return{Eu:!1,result:f.Zrb(a.body)};})["catch"](function(c){var d,g;g=(d=r.ama.Chb(c))?Math.min(d,b.Fea):b.Fea;return f.EZ(b,c,a,g)?(d=f.G6a(c,a,g),f.log.warn("Method failed, retrying",Object.assign({Method:b.Bl,Attempt:a+1,WaitTime:d,MaxRetries:g},f.u7(c))),Promise.resolve({Eu:!0,Td:d,error:c})):Promise.resolve({Eu:!1,error:c});});};m.prototype.dCb=function(a,b){var c;c=a.url.searchParams;c.set(T.o2.dWa,(b+1).toString());c.set(T.o2.Jg,a.tea.toString());c.set(T.o2.fWa,a.sea);};m.prototype.Eu=function(a,b,c){var f;c=void 0===c?0:c;f=this;return this.Y4a(c++,a,b).then(function(d){if(d.Eu)return f.cDb(d.Td).then(function(){return f.Eu(a,b,c);});if(d.error)throw d.error;if(void 0===d.result)throw{pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return d.result;});};m.prototype.EZ=function(a,b,c,f){var d;d=this.sL.YFa||r.ama.Olb(b);if(d&&c<f)return!0;d?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.Bl,Attempt:c+1,MaxRetries:f},this.u7(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.Bl},this.u7(b)));return!1;};m.prototype.G6a=function(a,c,f){return a&&a.sx&&void 0!==a.sx.retryAfterSeconds?b.zh(a.sx.retryAfterSeconds):b.Eb(this.Xda.WEa(1E3,1E3*Math.pow(2,Math.min(c-1,f))));};m.prototype.cDb=function(a){var c;c=this;return new Promise(function(f){c.ha.dh(a||b.De,f);});};m.prototype.u7=function(a){return n.Dlb(a)?a:{message:a.message,subCode:a.Rc,extCode:a.Vg,mslCode:a.sr,data:a.data};};m.prototype.I7a=function(a){a.fga();};m.prototype.pta=function(a,b){var c;a.Jt(b);if(this.ut)try{c=this.json.stringify(this.ut);this.log.error("PBO command history",c);return c;}catch(U){}return"";};a=m;a=g.__decorate([h.N(),g.__param(0,h.l(p.Db)),g.__param(1,h.l(k.Kna)),g.__param(2,h.l(t.cy)),g.__param(3,h.l(u.xf)),g.__param(4,h.l(y.Uo)),g.__param(5,h.l(l.EQ)),g.__param(6,h.l(B.Kg)),g.__param(7,h.l(C.oy)),g.__param(8,h.l(K.G0))],a);d.GUa=a;f.prototype.fga=function(){this.$=!0;this.elapsedTime=this.sa.pc().kd(this.startTime);};f.prototype.Jt=function(a){this.$=!1;this.elapsedTime=this.sa.pc().kd(this.startTime);this.Qzb=a.Rc||a.subCode;this.beb=a.Vg||a.extCode;};f.prototype.toString=function(){return JSON.stringify(this);};f.prototype.toJSON=function(){var a;a=Object.assign({success:this.$,method:this.context.Bl,startTime:this.startTime.ea(b.ja),elapsedTime:this.elapsedTime?this.elapsedTime.ea(b.ja):"in progress"},this.VG.N6());return this.$?a:Object.assign(Object.assign(Object.assign({},a),this.VG.N6()),{subcode:this.Qzb,extcode:this.beb});};c.prototype.append=function(a){this.ut.push(a);0<this.config.Z$&&this.ut.length>this.config.Z$&&this.ut.shift();};c.prototype.toJSON=function(){return this.ut;};},function(g,d,a){var c,f,m,h,b,k,p,t,u,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(311);f=a(623);m=a(96);h=a(621);b=a(308);k=a(620);p=a(133);t=a(619);u=a(154);y=a(618);d.isb=new g.xc(function(a){a(m.oy).to(h.EUa).Z();a(c.$la).to(f.GUa).Z();a(p.ema).to(t.KUa);a(p.hI).If(function(a){return function(){return a.ub.get(p.ema);};});a(b.lma).to(k.YUa).Z();a(u.zQ).to(y.WUa).Z();});},function(g,d,a){var f,m,h,b,k;function c(a){return m.le.call(this,a,"MseConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(34);m=a(36);h=a(1);b=a(28);k=a(4);da(c,m.le);ra.Object.defineProperties(c.prototype,{lCa:{configurable:!0,enumerable:!0,get:function(){return k.Eb(5E3);}},wDa:{configurable:!0,enumerable:!0,get:function(){return k.Eb(1E3);}},xDa:{configurable:!0,enumerable:!0,get:function(){return k.Eb(1E3);}}});a=c;g.__decorate([f.config(f.Zg,"minDecoderBufferMilliseconds")],a.prototype,"lCa",null);g.__decorate([f.config(f.Zg,"optimalDecoderBufferMilliseconds")],a.prototype,"wDa",null);g.__decorate([f.config(f.Zg,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"xDa",null);a=g.__decorate([h.N(),g.__param(0,h.l(b.aj))],a);d.XSa=a;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(460);f=a(625);d.Jpb=new g.xc(function(a){a(c.ila).to(f.XSa).Z();});},function(g,d,a){var f,m,h,b,k,p,t,u;function c(a,c,f,d,g,k){function m(b,m){this.track=b;this.label=m;this.Sf=u.Mb.ec.UNSENT;this.ye=0;this.zo=[];this.requestId=k.qz().toString();this.Ea=f;this.log=c.wb("MediaRequest");this.config=a;this.Ob=new t.tk();"notification"===this.label?this.config().Az&&(this.Qk=d):this.Qk=g;}function h(b,m){this.requestId=k.qz().toString();this.Ea=f;this.log=c.wb("MediaRequest");this.config=a;this.Ob=new t.tk();this.label=m;"notification"===this.label?this.config().Az&&(this.Qk=d):this.Qk=g;this.WL=this.fK=this.gK=void 0;this.track=b;this.vT=this.url=this.responseType=void 0;this.Sf=u.Mb.ec.UNSENT;this.ek=this.zE=this.$h=this.status=void 0;this.Xk=this.ye=0;this.connect=this.R8=this.lz=this.Vw=this.Taa=this.Qc=this.Q8=this.$e=this.dD=void 0;this.zo=[];this.op=!1;}m.prototype.addEventListener=function(a,b,c){this.Ob.addListener.call(this,a,b,c);};m.prototype.removeEventListener=function(a,b){this.Ob.removeListener.call(this,a,b);};m.prototype.emit=function(a,b,c){this.Ob.Pb.call(this,a,b,c);};m.prototype.uqb=function(a){this.Sf===u.Mb.ec.OPENED&&(this.WL=!0,this.$e=this.Qc=a.timestamp,this.Sf=u.Mb.ec.nv,this.emit(u.Mb.Ld.tla,a));};m.prototype.Lca=function(a){var b;if(this.Sf<u.Mb.ec.qy){this.zo=[];b=a.timestamp-this.$e;!this.Xb&&0<b&&(this.connect=!0,this.zo.push(b));!0===this.config().zkb?this.Q8=a.timestamp:this.Q8=this.Qc=a.timestamp;this.Sf=u.Mb.ec.qy;this.emit(u.Mb.Ld.sla,a);}};m.prototype.xqb=function(a){this.Sf===u.Mb.ec.qy&&(this.Taa=this.Qc=a.timestamp,a.newBytes=a.bytesLoaded-this.ye,this.ye=a.bytesLoaded,this.Ea.Sd(this.Taa)&&this.emit(u.Mb.Ld.ula,a));};m.prototype.Ul=function(a){-1<[u.Mb.ec.nv,u.Mb.ec.qy].indexOf(this.Sf)&&(this.WL=!1,this.Qc=a.timestamp,this.Sf=u.Mb.ec.DONE,a.newBytes=this.Eh-this.ye,this.ye=this.Eh,this.Ea.Sd(this.lz)&&(this.Qc=this.lz,0===a.newBytes&&(this.Taa=this.lz)),this.Ea.Sd(this.Vw)&&(this.$e=this.Vw),this.dD=a.response,this.emit(u.Mb.Ld.cI,a));};m.prototype.pqb=function(a){this.WL=!1;this.emit(u.Mb.Ld.uTa,a);};m.prototype.Nca=function(a){this.Qc=a.timestamp;this.status=a.httpcode;this.$h=a.errorcode;this.zE=u.Mb.Vu.name[this.$h];this.ek=a.nativecode;this.emit(u.Mb.Ld.ny,a);this.WL=!1;};m.prototype.open=function(a,b,c,f,d,g,k){this.jB=!1;this.vT=b;this.url=a;this.responseType=c;if(!this.url)return!1;this.Sf=u.Mb.ec.OPENED;this.Qk.rL(this,b,k);return!0;};m.prototype.ic=function(){-1!==[u.Mb.ec.OPENED,u.Mb.ec.nv,u.Mb.ec.qy].indexOf(this.Sf)&&this.abort();return!0;};m.prototype.fta=function(){this.dD=void 0;this.PD&&(this.PD.response=void 0,this.PD.cadmiumResponse.content=void 0);this.caa=void 0;};m.prototype.zO=function(a){this.url=a;return!0;};m.prototype.abort=function(){this.Sf=u.Mb.ec.iH;this.Qk.Vy(this);return!0;};m.prototype.pause=function(){};m.prototype.getResponseHeader=function(){return null;};m.prototype.getAllResponseHeaders=function(){return"";};m.prototype.HN=function(){};m.prototype.qj=function(){return this.requestId;};m.prototype.toString=function(){var a;a={requestId:this.qj(),segmentId:this.$a,isHeader:this.Xb,ptsStart:this.Bu,ptsOffset:this.bn,responseType:this.responseType,duration:this.Tq,readystate:this.Sf};this.stream&&(a.bitrate=this.stream.R);return JSON.stringify(a);};m.prototype.toJSON=function(){return this.toString();};m.prototype.Wib=function(){var a,c;if(this.config().AJa&&b.gs&&b.gs.getEntriesByType&&(!this.Ea.Sd(this.Vw)||!this.Ea.Sd(this.lz)&&this.Ea.Sd(this.url))){a=""+this.url.split("nflxvideo.net")[0].split("//").pop()+("*nflxvideo.net/range/"+this.gK+"-"+this.fK+"*");c=new RegExp(a);a=b.gs.getEntriesByType("resource").filter(function(a){return c.exec(a.name);})[0];this.Ea.Sd(a)&&(0<a.startTime&&(this.Vw=a.startTime,0<a.requestStart&&(this.Vw=Math.max(this.Vw,a.requestStart))),0<a.responseStart&&(this.R8=a.responseStart),0<a.responseEnd&&(this.lz=a.responseEnd));}};m.prototype.Nlb=function(){return this.Ea.Sd(this.Vw)&&this.Ea.Sd(this.lz)&&this.Ea.Sd(this.R8);};ra.Object.defineProperties(m.prototype,{Eh:{configurable:!0,enumerable:!0,get:function(){return this.vT.end-this.vT.start+1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.fK-this.gK+1;}},Tya:{configurable:!0,enumerable:!0,get:function(){return!!(this.response&&0<this.response.byteLength);}},Xb:{configurable:!0,enumerable:!0,get:function(){return!this.Zz;}},response:{configurable:!0,enumerable:!0,get:function(){return this.dD;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Sf;},set:function(){}}});Object.getOwnPropertyNames(m.prototype).forEach(function(a){Object.defineProperty(h.prototype,a,Object.getOwnPropertyDescriptor(m.prototype,a));});this.Lj=Object.assign(h,u.Mb);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(7);h=a(17);b=a(9);k=a(23);p=a(313);t=a(72);u=a(155);a=a(120);c=g.__decorate([f.N(),g.__param(0,f.l(h.xd)),g.__param(1,f.l(m.Db)),g.__param(2,f.l(k.Qe)),g.__param(3,f.l(p.yla)),g.__param(4,f.l(p.cla)),g.__param(5,f.l(a.WB))],c);d.LSa=c;},function(g,d,a){var f,m,h,b,k,p,t,u,y,l,B,n;function c(a,b,c,f,d,g,k){this.sa=a;this.sL=b;this.config=c;this.Ef=d;this.Nob=g;this.dta=k;this.log=f.wb("MediaRequestDownloader");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(50);m=a(1);h=a(7);b=a(95);k=a(316);p=a(74);t=a(155);u=a(25);y=a(4);l=a(315);B=a(40);a=a(17);c.prototype.rL=function(a,b,c){var g,k,m;function d(){a.removeEventListener(t.Mb.Ld.ny,d);a.iL?a.iL++:a.iL=1;a.iL>=g.config().G8.length&&(a.iL=g.config().G8.length-1);setTimeout(function(){g.rL(a,b,c);},g.config().G8[a.iL]);}g=this;a.AQb=!0;k={url:a.url,responseType:this.Ef.UVa.hLa,withCredentials:!1,hE:a.M===f.Pc.Fa.AUDIO?"audio":"video",offset:b.start,length:a.Eh,track:{type:a.M===f.Pc.Fa.AUDIO?p.Ig.audio:p.Ig.video},stream:{bd:a.pa,R:a.R},Zb:a.Fb,Jp:a,ag:a.Xb?void 0:this.dta.parse.bind(this.dta),GZ:c,No:this.sL.No};k=this.Nob.download(k,function(b){b.$&&a.readyState!==t.Mb.ec.DONE&&a.readyState!==t.Mb.ec.iH&&(a.readyState!==t.Mb.ec.Yu&&a.readyState===t.Mb.ec.nv&&(a.readyState=t.Mb.ec.qy,a.Lca({mediaRequest:a,readyState:a.readyState,timestamp:g.Nt(),connect:!1})),a.readyState=t.Mb.ec.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:g.Nt(),cadmiumResponse:b,response:b.content},a.PD=b,a.Ul(b));});if(a.Xb){m={mediaRequest:a,readyState:a.readyState,timestamp:this.Nt(),connect:!1};a.Lca(m);}a.addEventListener(t.Mb.Ld.ny,d);a.caa=k.abort;};c.prototype.Vy=function(a){try{a.caa();}catch(K){this.log.warn("exception aborting request");}};c.prototype.Nt=function(){return this.sa.pc().ea(y.ja);};n=c;n=g.__decorate([m.N(),g.__param(0,m.l(u.xf)),g.__param(1,m.l(B.Uo)),g.__param(2,m.l(a.xd)),g.__param(3,m.l(h.Db)),g.__param(4,m.l(b.ey)),g.__param(5,m.l(k.ala)),g.__param(6,m.l(l.dia))],n);d.MSa=n;},function(g,d,a){var f,m,h;function c(a,c){this.Ef=c;this.log=a.wb("OpenConnectSideChannel");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(7);a=a(95);c.prototype.rL=function(a,c,f){this.Ef.Pyb({url:a.url,Hwb:f});};c.prototype.Vy=function(a){try{a.caa();}catch(k){this.log.warn("exception aborting request");}};h=c;h=g.__decorate([f.N(),g.__param(0,f.l(m.Db)),g.__param(1,f.l(a.ey))],h);d.BTa=h;},function(g){function d(a){this.buffer=a;this.position=0;}d.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},$j:function(){return this.buffer.length-this.position;},ue:function(){return this.buffer[this.position++];},Hd:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},tc:function(a){for(var c=0;a--;)c=256*c+this.buffer[this.position++];return c;},Cr:function(a){for(var c="";a--;)c+=String.fromCharCode(this.buffer[this.position++]);return c;},bea:function(){for(var a="",c;c=this.ue();)a+=String.fromCharCode(c);return a;},Jb:function(){return this.tc(2);},Na:function(){return this.tc(4);},ng:function(){return this.tc(8);},PY:function(){return this.tc(2)/256;},DN:function(){return this.tc(4)/65536;},uf:function(a){for(var c,f="";a--;)c=this.ue(),f+="0123456789ABCDEF"[c>>>4]+"0123456789ABCDEF"[c&15];return f;},qx:function(){return this.uf(4)+"-"+this.uf(2)+"-"+this.uf(2)+"-"+this.uf(2)+"-"+this.uf(6);},EN:function(a){for(var c=0,f=0;f<a;f++)c+=this.ue()<<(f<<3);return c;},PA:function(){return this.EN(4);},pP:function(a){this.buffer[this.position++]=a;},J_:function(a,c){this.position+=c;for(var f=1;f<=c;f++)this.buffer[this.position-f]=a&255,a=Math.floor(a/256);},oP:function(a){for(var c=a.length,f=0;f<c;f++)this.buffer[this.position++]=a[f];},AB:function(a,c){this.oP(a.Hd(c));}};g.P=d;},function(g,d,a){var f,m,h,b,k,p;function c(a,b){this.config=a;this.log=b.wb("ChunkMediaParser");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(158);h=a(7);b=a(11);k=a(17);p=a(314).$da;c.prototype.parse=function(a){var d,g,k;a=new Uint8Array(a);for(var c=p(a),f=0;f<c.length;f+=2){d=c[f];if("moof"!==d.type||"mdat"!==c[f+1].type)throw this.log.error("data is not moof-mdat box pairs",{boxType:d.type,nextBoxType:c[f+1].type}),Error("data is not moof-mdat box pairs");if(this.config().oDb&&"moof"==d.type){g=d.Aw("traf/saio");k=d.Aw("traf/"+b.HLa);g&&k&&(d=k.t5a.byteOffset-d.raw.byteOffset,g.jGa[0]!==d&&(this.log.error("Repairing bad SAIO",{saioOffsets:g.jGa[0],auxDataOffsets:d}),this.Drb(g,d)));}}return a.buffer;};c.prototype.Drb=function(a,b){var c;c=new m.rH(a.raw);c.seek(a.size-a.iw);a=c.tc(1);c.tc(3)&1&&(c.Na(),c.Na());a=1<=a?8:4;c.Na();c.J_(b,a);};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(k.xd)),g.__param(1,f.l(h.Db))],a);d.DMa=a;},function(g,d,a){var f,m,h,b,k,p,t,u,y,l;function c(a,b,c,f,d,g){this.MJ=a;this.Ef=c;this.Ea=f;this.sa=d;this.config=g;this.log=b.wb("MediaHttp");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(155);m=a(87);h=a(2);b=a(7);k=a(1);p=a(95);t=a(23);u=a(25);y=a(4);a=a(17);c.prototype.Nt=function(){return this.sa.pc().ea(y.ja);};c.prototype.RCa=function(a,b){a.uqb({mediaRequest:a,timestamp:b});};c.prototype.nDa=function(a){var b;b=a.mediaRequest.Jp;b.readyState=f.Mb.ec.qy;a=a.connect?a:{timestamp:this.Nt(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.Lca(a);};c.prototype.dY=function(a){this.RCa(a.mediaRequest.Jp,a.timestamp);};c.prototype.fY=function(a){var b,c;b=a.mediaRequest.Jp;c=a.bytes;"undefined"!==typeof b&&(b.readyState===f.Mb.ec.nv&&this.nDa(a),this.Ea.Pg(c)&&(a.mediaRequest=b,a.timestamp=this.Nt(),c>b.ye&&(a.newBytes=c-b.ye,a.bytesLoaded=c,b.xqb(a))));};c.prototype.LF=function(a){var b,c,d,g;b=a.mediaRequest;c=a.errorcode;d=a.httpcode;g=f.Mb.Vu;if("undefined"!==typeof b&&(b=b.Jp,"undefined"!==typeof b&&b.readyState!==f.Mb.ec.Yu))if(c===h.G.Zu)b.readyState=f.Mb.ec.iH,a.mediaRequest=b,a.readyState=b.readyState,b.pqb(a);else{b.readyState=f.Mb.ec.Yu;switch(c){case h.G.KH:d=g.a0;break;case h.G.l1:d=g.i1;break;case h.G.HH:d=400<d&&500>d?g.eQ:500<=d?g.k1:g.i1;break;case h.G.IH:d=g.j1;break;case h.G.GH:d=g.Wha;break;case h.G.JH:d=g.fQ;break;case h.G.by:d=g.fQ;break;case h.G.h1:d=g.Fja;break;case h.G.Cja:d=g.eQ;break;case h.G.UNa:d=g.j1;break;default:d=g.fQ;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=d;a.nativecode=c;b.Nca(a);}};c.prototype.Sca=function(a,b){var c,d;c=b.request.Jp;if(c)if(b.$){if(a.j&&c.readyState!==f.Mb.ec.DONE){switch(c.readyState){case f.Mb.ec.iH:return;case f.Mb.ec.nv:this.nDa({mediaRequest:b.request});}c.readyState=f.Mb.ec.DONE;if(!c.Xb){d={mediaRequest:c,readyState:c.readyState,timestamp:this.Nt(),cadmiumResponse:b};a.j.Ega+=1;c.Wib();c.Nlb()&&(a.j.Bea+=1,b.dk.Fg=Math.ceil(c.R8),b.dk.am=Math.ceil(c.lz),b.dk.requestTime=Math.floor(c.Vw));c.PD=d;c.Ul(d);}}}else c.readyState!==f.Mb.ec.iH&&(a={mediaRequest:b.request,timestamp:this.Nt(),errorcode:b.ca,httpcode:b.Hi},this.LF(a));};c.prototype.download=function(a,b){var c,d;c=this;b=this.Ef.download(a,b);if(a.Jp){d=a.Jp;-1<[f.Mb.ec.OPENED,f.Mb.ec.Yu].indexOf(d.readyState)&&(d.readyState=f.Mb.ec.nv,this.config().Pob?b.Vxb(function(a){c.dY(a);}):this.RCa(d,this.Nt()));}b.bra(function(b){c.Sca(a,b);});b.byb(function(a){c.fY(a);});b.Qxb(function(a){c.LF(a);});return b;};l=c;l=g.__decorate([k.N(),g.__param(0,k.l(m.uP)),g.__param(1,k.l(b.Db)),g.__param(2,k.l(p.ey)),g.__param(3,k.l(t.Qe)),g.__param(4,k.l(u.xf)),g.__param(5,k.l(a.xd))],l);d.HSa=l;},function(g,d,a){var f,m,h,b,c;function c(a){function c(c,f){this.K=c;this.Bk=f;this.H8=!1;this.emit=b.prototype.emit;this.addListener=b.prototype.addListener;this.on=b.prototype.on;this.once=b.prototype.once;this.removeListener=b.prototype.removeListener;this.removeAllListeners=b.prototype.removeAllListeners;this.listeners=b.prototype.listeners;this.listenerCount=b.prototype.listenerCount;b.call(this);this.ob=a.wb("DownloadTrack");}c.prototype.Jk=function(){this.JS=void 0;this.emit("destroyed");};c.prototype.toString=function(){return"id:"+this.JS+" config: "+JSON.stringify(this.K);};c.prototype.toJSON=function(){return"Download Track id:"+this.JS+" config: "+JSON.stringify(this.K);};c.prototype.qFa=function(a){this.K.connections!==a.connections&&(this.K=a);};c.prototype.Rm=function(){return 1<this.K.connections?!0:!1;};ra.Object.defineProperties(c.prototype,{cb:{configurable:!0,enumerable:!0,get:function(){return this.JS;}},op:{configurable:!0,enumerable:!0,get:function(){return void 0===this.JS;}},config:{configurable:!0,enumerable:!0,get:function(){return this.K;}},GA:{configurable:!0,enumerable:!0,get:function(){return this.ob;}},Qk:{configurable:!0,enumerable:!0,get:function(){return this.Bk.Qk;}}});this.NB=Object.assign(c,new h.qOa());}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(7);h=a(156);b=a(132).EventEmitter;c=g.__decorate([f.N(),g.__param(0,f.l(m.Db))],c);d.pOa=c;},function(g,d,a){var c,f,m,h,b,k,p,t,u,y,l;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(156);f=a(633);m=a(316);h=a(632);b=a(315);k=a(631);p=a(313);t=a(629);u=a(628);y=a(312);l=a(627);d.Jq=new g.xc(function(a){a(c.Oia).to(f.pOa).Z();a(m.ala).to(h.HSa).Z();a(b.dia).to(k.DMa).Z();a(p.yla).to(t.BTa).Z();a(p.cla).to(u.MSa).Z();a(y.bla).to(l.LSa).Z();});},function(g,d,a){var f,m,h,b,k;function c(a){return m.le.call(this,a,"PrefetchEventsConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(36);h=a(28);b=a(34);k=a(4);da(c,m.le);ra.Object.defineProperties(c.prototype,{FGa:{configurable:!0,enumerable:!0,get:function(){return!0;}},rba:{configurable:!0,enumerable:!0,get:function(){return k.JX(5);}}});a=c;g.__decorate([b.config(b.Qd,"sendPrefetchEventLogs")],a.prototype,"FGa",null);g.__decorate([b.config(b.Zg,"logsInterval")],a.prototype,"rba",null);a=g.__decorate([f.N(),g.__param(0,f.l(h.aj))],a);d.HVa=a;},function(g,d,a){var f,m,h;function c(a,c){this.Ea=c;this.ma=a.wb("PlayPredictionDeserializer");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(7);a=a(23);c.prototype.nbb=function(a){var b;b=this;try{return{direction:a.direction,Kmb:a.layoutHasChanged,rwb:a.rowInteractionIndex,ya:a.lolomos.map(function(a){return b.jbb(a);})};}catch(p){this.ma.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};c.prototype.jbb=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.ibb(a);}),requestId:a.requestId,rowIndex:a.rowIndex,twb:a.rowSegment};};c.prototype.ibb=function(a){var b,c;b={Kc:a.pts,property:a.property,va:a.viewableId,index:a.index};c=a.preplay;this.Ea.Sd(c)&&(b.$F=this.mbb(c));a=a.params;this.Ea.Sd(a)&&(b.bb=this.Mua(a));return b;};c.prototype.mbb=function(a){var b;b={Kc:a.pts,va:a.viewableId,FA:a.pipelineNum,index:a.index};a=a.params;this.Ea.Sd(a)&&(b.bb=this.Mua(a));return b;};c.prototype.Mua=function(a){return{je:a.uiLabel,Fh:a.trackingId,en:a.sessionParams};};c.prototype.Nua=function(a){var b;b=this;try{return a.map(function(a){return b.kbb(a);});}catch(p){this.ma.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};c.prototype.kbb=function(a){var b,c;c=a.params;this.Ea.Sd(c)&&(b=this.lbb(c));return{u:a.movieId,he:a.priority,force:a.force,bb:b,je:a.uiLabel,BTb:a.uiExpectedStartTime,ATb:a.uiExpectedEndTime,mj:a.firstTimeAdded};};c.prototype.lbb=function(a){var b,c;b=void 0;c=a.sessionParams;this.Ea.Sd(c)&&(b=c);return{TJ:this.hbb(a.authParams),en:b,Fh:a.trackingId,T:a.startPts,ta:a.manifest,ci:a.isBranching};};c.prototype.hbb=function(a){return{YDa:(a||{}).pinCapableClient};};c.prototype.sxb=function(a){var b,c;try{b="";this.Ea.Sd(a.uEa)&&(b=JSON.stringify(this.vxb(JSON.parse(a.uEa))));c="";this.Ea.Sd(a.vEa)&&(c=JSON.stringify(this.wxb(JSON.parse(a.vEa))));return{dest_id:a.nU,offset:a.offset,predictions:a.xEa.map(this.yxb,this),ppm_input:b,ppm_output:c,prepare_type:a.oSb};}catch(t){this.ma.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};c.prototype.yxb=function(a){return{title_id:a.aq};};c.prototype.vxb=function(a){return{direction:a.direction,layoutHasChanged:a.Kmb,rowInteractionIndex:a.rwb,lolomos:a.ya.map(this.uxb,this)};};c.prototype.uxb=function(a){return{context:a.context,list:a.list.map(this.txb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.twb};};c.prototype.txb=function(a){var b,c;this.Ea.Sd(a.$F)&&(b=this.zxb(a.$F));this.Ea.Sd(a.bb)&&(c=this.lfa(a.bb));return{preplay:b,pts:a.Kc,viewableId:a.va,params:c,property:a.property,index:a.index};};c.prototype.zxb=function(a){var b;this.Ea.Sd(a.bb)&&(b=this.lfa(a.bb));return{pts:a.Kc,viewableId:a.va,params:b,pipelineNum:a.FA,index:a.index};};c.prototype.lfa=function(a){return{uiLabel:a.je,trackingId:a.Fh,sessionParams:a.en};};c.prototype.wxb=function(a){return a.map(this.xxb,this);};c.prototype.xxb=function(a){var b;this.Ea.Sd(a.bb)&&(b=this.lfa(a.bb));return{movieId:a.u,priority:a.he,params:b,uiLabel:a.je,firstTimeAdded:a.mj,viewableId:a.va,pts:a.Kc};};h=c;h=g.__decorate([f.N(),g.__param(0,f.l(m.Db)),g.__param(1,f.l(a.Qe))],h);d.dVa=h;},function(g,d,a){var m,h,b,k,p,t,u,y,l;function c(a,b,c,f,d,g,k,m){this.gi=a;this.oA=b;this.ha=c;this.jx=d;this.config=g;this.x9=k;this.oda=m;this.MY=[];this.Saa=[];this.Gda={};this.ma=f.wb("PrefetchEvents");}function f(a,b,c,f,d,g){this.gi=a;this.oA=b;this.ha=c;this.$f=f;this.config=d;this.oda=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(117);h=a(1);b=a(4);k=a(42);p=a(61);t=a(33);u=a(7);y=a(317);a=a(197);f.prototype.create=function(a,b){return new c(this.gi,this.oA,this.ha,this.$f,a,this.config,b,this.oda);};l=f;l=g.__decorate([h.N(),g.__param(0,h.l(k.uk)),g.__param(1,h.l(p.Vo)),g.__param(2,h.l(t.Kg)),g.__param(3,h.l(u.Db)),g.__param(4,h.l(y.Ema)),g.__param(5,h.l(a.h2))],l);d.IVa=l;c.prototype.t6a=function(a,b,c){this.hA(m.He.Xx.QLa,a,b,void 0,c);};c.prototype.v6a=function(a,b,c){this.hA(m.He.Xx.RLa,a,b,void 0,c);};c.prototype.s6a=function(a,b,c){this.hA(m.He.Xx.PLa,a,b,void 0,c);};c.prototype.q6a=function(a,b,c){this.hA(m.He.Xx.NLa,a,b,void 0,c);};c.prototype.hK=function(a,b,c){this.hA(m.He.Xx.OLa,a,b,void 0,c);};c.prototype.Usb=function(a){this.hA(m.He.Xx.STa,void 0,a);};c.prototype.Xl=function(a,b,c,f,d,g,k){this.TS()&&(this.hA(m.He.Xx.yWa,void 0,a),this.Enb(a,b,c,f,d,g,k),this.xwa(),this.$Aa());this.Jlb(a)&&this.$vb();};c.prototype.qbb=function(a){a={dest_id:a,cache:this.kfa(this.x9())};this.bO("destiny_start",a);};c.prototype.vtb=function(a){(a=this.oda.sxb(a))?this.bO("destiny_prepare",a):this.ma.error("failed to serialize prepare event");};c.prototype.xwa=function(){0<this.MY.length&&this.TS()&&(this.bO("destiny_events",{dest_id:this.jx.En,events:this.MY}),this.MY=[]);this.nZ&&(this.nZ.cancel(),this.nZ=void 0);this.Kva();};c.prototype.$Aa=function(){var a;if(this.u6a()&&this.TS()){a=this.x9();this.Saa=a;a={dest_id:this.jx.En,offset:this.jx.uV(),cache:this.kfa(a)};this.bO("destiny_cachestate",a);}this.mZ&&(this.mZ.cancel(),this.mZ=void 0);this.Jva();};c.prototype.update=function(a){var b;b=this;a.ya.forEach(function(a){a.list.forEach(function(a){b.Gda[a.va]=!0;});});};c.prototype.Jlb=function(a){return this.Gda[a];};c.prototype.u6a=function(){var a,b,c;a=this;b=this.x9();if(b.length!==this.Saa.length)return!0;c=!1;b.forEach(function(b,f){try{JSON.stringify(b)!==JSON.stringify(a.Saa[f])&&(c=!0);}catch(T){a.ma.error("Failed to stringify cachedTitle",T);}});return c;};c.prototype.hA=function(a,b,c,f,d){this.TS()&&(a={offset:this.jx.uV(),event_type:a,title_id:c,asset_type:b,size:f,reason:d},this.MY.push(a),this.Kva(),this.Jva());};c.prototype.Kva=function(){this.nZ||(this.nZ=this.ha.dh(this.config.rba,this.xwa.bind(this)));};c.prototype.Jva=function(){this.mZ||(this.mZ=this.ha.dh(this.config.rba,this.$Aa.bind(this)));};c.prototype.Enb=function(a,c,f,d,g,k,h){var p;p=[];f&&p.push({aq:a,Zs:m.He.Gj.nha,state:m.He.tP.BP});d&&p.push({aq:a,Zs:m.He.Gj.dy,state:m.He.tP.BP});g&&p.push({aq:a,Zs:m.He.Gj.DH,state:m.He.tP.BP});(0<k.ea(b.ja)||0<h.ea(b.ja))&&p.push({aq:a,Zs:m.He.Gj.MEDIA,state:m.He.tP.BP,j5a:k.ea(b.ja),ZCb:h.ea(b.ja)});a={dest_id:this.jx.En,offset:this.jx.uV(),xid:c,cache:this.kfa(p)};this.bO("destiny_playback",a);};c.prototype.bO=function(a,b){this.config.FGa&&(a=this.oA.Fm(a,"info",b),this.gi.Ac(a));};c.prototype.kfa=function(a){return a.map(function(a){return{title_id:a.aq,state:a.state,asset_type:a.Zs,size:a.size,audio_ms:a.j5a,video_ms:a.ZCb};});};c.prototype.TS=function(){return 0!==this.jx.En;};c.prototype.$vb=function(){this.jx.Zvb();this.Gda={};};},function(g,d,a){var c,f,m,h,b,k,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(117);f=a(637);m=a(197);h=a(636);b=a(635);k=a(317);p=a(109);d.Cc=new g.xc(function(a){a(k.Ema).to(b.HVa).Z();a(c.Fma).to(f.IVa).Z();a(m.h2).to(h.dVa).Z();a(p.nC).If(function(){return function(){return M._cad_global.videoPreparer;};});});},function(g,d,a){var f,m,h,b;function c(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(9);h=a(198);c.prototype.pib=function(){var a;a=M.devicePixelRatio||1;return{width:this.k4.rNa||m.hs.width*a,height:this.k4.qNa||m.hs.height*a};};ra.Object.defineProperties(c.prototype,{k4:{configurable:!0,enumerable:!0,get:function(){return a(44).kh;}}});b=c;g.__decorate([h.aX],b.prototype,"k4",null);b=g.__decorate([f.N()],b);d.pYa=b;},function(g,d,a){var f,m;function c(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(149);c.prototype.compare=function(a,b){var c;c=[];this.E6(a,b,"",c);return c;};c.prototype.E6=function(a,b,c,f){var d;d=this;if(m.bv.Ys(a))m.bv.Ys(b)&&a.length===b.length?a.forEach(function(g,k){d.E6(a[k],b[k],c+"["+k+"]",f);}):f.push({a:a,b:b,path:c});else if(m.bv.Zy(a)&&null!=a)if(m.bv.Zy(b)&&null!=b){for(var g in a)this.E6(a[g],b[g],c+"."+g,f);for(var k in b)k in a||void 0===b[k]||f.push({a:void 0,b:b[k],path:c+"."+k});}else f.push({a:a,b:b,path:c});else a!==b&&f.push({a:a,b:b,path:c});};a=c;a=g.__decorate([f.N()],a);d.wTa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xTa="ObjectComparerSymbol";},function(g,d,a){var f,m,h,b;function c(a){this.location=a;m.Vm(this,"location");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(54);h=a(37);a=a(1);c.mY=function(a){var b,d,g;b={};if(0<a.length){a=a.split("&");for(var c=0;c<a.length;c++){d=a[c].trim();g=d.indexOf("=");0<=g?b[decodeURIComponent(d.substr(0,g).replace(f.Ula,"%20"))]=decodeURIComponent(d.substr(g+1).replace(f.Ula,"%20")):b[d.toLowerCase()]="";}}return b;};ra.Object.defineProperties(c.prototype,{oub:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=f.mY(this.SEa);}},SEa:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.zN)return this.zN;this.zN=this.location.search.substr(1);a=this.zN.indexOf("#");0<=a&&(this.zN=this.SEa.substr(0,a));return this.zN;}}});b=f=c;b.Ula=/[+]/g;b=f=g.__decorate([a.N(),g.__param(0,a.l(h.yka))],b);d.OVa=b;},function(g,d,a){var f;function c(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c.prototype.Twa=function(a){var c;c=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return c.Twa(a);});};f=c;f=g.__decorate([a.N()],f);d.ZXa=f;},function(g,d,a){var f,m,h,b,k,p;function c(a,b){this.is=a;this.json=b;m.Vm(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);m=a(54);h=a(37);b=a(1);k=a(23);p=a(143);c.prototype.cFa=function(a){var b;b=this;return f.read(a,function(a){return parseInt(a);},function(a){return b.is.o5(a);});};c.prototype.aea=function(a){var b;b=this;return f.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return b.is.AJ(a);});};c.prototype.Na=function(a){var b;b=this;return f.read(a,function(a){return parseInt(a);},function(a){return b.is.Hq(a);});};c.prototype.Bub=function(a){var b;b=this;return f.read(a,function(a){return parseFloat(a);},function(a){return b.is.Pg(a);});};c.prototype.bFa=function(a,b){return f.read(a,function(a){return f.Beb(a,b);},function(a){return void 0!==a;});};c.prototype.dea=function(a,b){return f.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};c.prototype.dFa=function(a){var b,c;b=void 0===b?function(){return!0;}:b;c=this;try{return f.read(a,function(a){return c.json.parse(decodeURIComponent(a));},function(a){return c.is.Zy(a)&&b(a);});}catch(D){return new p.tn();}};c.prototype.Hd=function(a,b,c){var d,g;c=void 0===c?1:c;d=this;a=a.trim();g=b instanceof Function?b:this.G$a(b,c);b=a.indexOf("[");c=a.lastIndexOf("]");if(0!=b||c!=a.length-1)return new p.tn();a=a.substring(b+1,c);try{return f.Wrb(a).map(function(a){a=g(d,f.LCb(a));if(a instanceof p.tn)throw a;return a;});}catch(I){return I instanceof p.tn?I:new p.tn();}};c.prototype.G$a=function(a,b){var c;b=void 0===b?1:b;c=this;return function(d,g){d=f.Xhb(a);return 1<b?c.Hd(g,a,b-1):d(c,g);};};c.Beb=function(a,b){var f;for(var c in b){f=parseInt(c);if(b[f]==a)return f;}};c.read=function(a,b,c){a=b(a);return void 0!==a&&c(a)?a:new p.tn();};c.Xhb=function(a){switch(a){case"int":return function(a,b){return a.cFa(b);};case"bool":return function(a,b){return a.aea(b);};case"uint":return function(a,b){return a.Na(b);};case"float":return function(a,b){return a.Bub(b);};case"string":return function(a,b){return a.dea(b);};case"object":return function(a,b){return a.dFa(b);};}};c.Wrb=function(a){var h;for(var b=[["[","]"]],c=[],f=0,d=0,g=0,k=[],m={};d<a.length;m={"char":m["char"]},++d){m["char"]=a.charAt(d);h=void 0;","==m["char"]&&0==g?(c.push(a.substr(f,d-f)),f=d+1):(h=b.find(function(a){return function(b){return b[0]==a["char"];};}(m)))?(++g,k.push(h)):0<k.length&&k[k.length-1][1]==m["char"]&&(--g,k.pop());}if(f!=d)c.push(a.substr(f,d-f));else if(f==d&&0<f)throw new p.tn();return c;};c.LCb=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new p.tn();return a.substring(1,a.length-1);}return a;};a=f=c;a=f=g.__decorate([b.N(),g.__param(0,b.l(k.Qe)),g.__param(1,b.l(h.cy))],a);d.gXa=a;},function(g,d,a){var c,f,m,h,b,k,p,t,u,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(644);f=a(643);m=a(642);h=a(143);b=a(496);k=a(342);p=a(641);t=a(640);u=a(318);y=a(639);d.Sc=new g.xc(function(a){a(h.x2).to(c.gXa).Z();a(b.m2).to(m.OVa).Z();a(k.Rna).to(f.ZXa).Z();a(p.xTa).to(t.wTa).Z();a(u.coa).to(y.pYa).Z();});},function(g,d,a){var f,m;function c(a){this.dqb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(319);a=a(1);c.prototype.sxa=function(){var a;a=this.dqb.getDeviceId();return new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};m=c;m=g.__decorate([a.N(),g.__param(0,a.l(f.pla))],m);d.PMa=m;},function(g,d,a){var c,f,m,h,b;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(319);f=a(348);m=a(349);h=a(646);b=a(9);d.crypto=new g.xc(function(a){a(m.mia).to(h.PMa).Z();a(c.pla).ni(b.jv);a(f.nia).ni(b.M1);});},function(g,d,a){var f,m,h,b,k,p,t,u;function c(a,b,c){var f;f=p.MQ.call(this,a,b,"network")||this;f.bU=c;f.sU=k.o0.sSa;f.pob=30;f.rrb=function(a){f.sU=a.target.value;f.refresh();};f.arb=function(){f.data={};f.refresh();};f.eGa=function(a){a=JSON.stringify(f.data[f.sU][Number(a.target.id)].value,null,4);u.f0.R6(a);};return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(22);h=a(23);b=a(65);k=a(162);p=a(322);t=a(108);u=a(200);da(c,p.MQ);c.prototype.Ub=function(){var a;a=this;if(this.jo)return Promise.resolve();M.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==t.ds.aTa&&a.toggle();});this.data={};this.bU.addListener(k.Eia.FUa,function(b){var c;a.data[b.type]||(a.data[b.type]=[]);c=a.data[b.type];c.length===a.pob&&c.shift();c.push(b);b.type===a.sU&&a.refresh();});this.jo=!0;return Promise.resolve();};c.prototype.oj=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};c.prototype.j$=function(a,b,c){var f;f=a.toString();b='<font color="#C41A16">"'+b+'"</font>';c=this.Esa.Vj(c);return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+f+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+b+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+a+'" class="'+this.prefix+'-display-btn-inline">Copy</button></ul></td>')+"</tr>";};c.prototype.u$=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.oj(),b=this.data[this.sU]||[],c=0;c<b.length;++c)a+=this.j$(c,b[c].name,b[c].value);return a+"</table>";};c.prototype.oxa=function(){var a;a=this.vc.createElement("button",p.oH,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.arb;return[a,this.U$a(),this.M$a()];};c.prototype.U$a=function(){var a;a=this.vc.createElement("select",p.oH,Object.keys(k.o0).reduce(function(a,b){b=k.o0[b];return a+('<option value="'+b+'">'+b+"</option>");},""),{"class":this.prefix+"-display-select"});a.onchange=this.rrb;return a;};c.prototype.M$a=function(){var a,b,c,f;a=this;b=this.vc.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.uN;b.onchange=function(){return a.SAb();};c=this.vc.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});f=this.vc.createElement("div",void 0,void 0,{"class":this.prefix+"-display-div"});f.appendChild(b);f.appendChild(c);return f;};c.prototype.uFa=function(){return Promise.resolve(this.u$());};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(m.ef)),g.__param(1,f.l(h.Qe)),g.__param(2,f.l(b.sH))],a);d.dJb=a;},function(g,d,a){var h,b,k,p,t,u,y,l,n,I,C,K,Q,r,ca,R;function c(a,b,c,f,d,g,k,h,p,t){var q;q=this;this.Ka=a;this.app=b;this.vc=c;this.ha=f;this.bl=d;this.config=g;this.nw=k;this.rga=h;this.eab=p;this.Bj=t;this.tAb=function(){q.mJa.Ab(function(){q.update();});};this.clear=function(){q.entries=[];q.update();};this.iCa=function(){q.Jd.fF=!q.Jd.fF;q.Yw&&q.cx&&(q.Jd.fF?(q.Yw.style.display="inline-block",q.cx.style.display="none"):(q.cx.style.display="inline-block",q.Yw.style.display="none"));q.gB(!1);};this.Knb=function(a){var b;q.entries.push(a);b=q.config.oF;0<=b&&q.entries.length>b&&q.entries.shift();void 0===q.Jd.qt[a.zl]&&(q.Jd.qt[a.zl]=!0,q.gB(!1));q.Jd.Sm&&!q.iIa?q.tAb():q.mJa.Ab();};this.Rbb=function(){m.download("all",q.entries.map(function(a){return a.g_(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.jo=!1;this.Jd={Sm:!1,fF:!0,rU:!0,oba:I.vi.o1,qt:{}};this.mJa=this.rga(y.zh(1));this.ueb=this.eab(y.Eb(250));this.entries=[];}function f(a){var b;this.elements=[];b=document.createElementNS(f.yO,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function m(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);b=a(22);k=a(99);p=a(452);t=a(33);u=a(45);y=a(4);l=a(25);n=a(81);I=a(7);C=a(98);K=a(199);Q=a(320);r=a(67);ca=a(108);R=a(200);m.download=function(a,b){return m.Tgb(a).then(function(a){return m.Sib(a,b.join("\r\n")).then(function(a){return m.Qbb(a.filename,a.text);});});};m.Tgb=function(a){return new Promise(function(b,c){var f,d,g,k,m,h,p;try{f=new Date();d=f.getDate().toString();g=(f.getMonth()+1).toString();k=f.getFullYear().toString();m=f.getHours().toString();h=f.getMinutes().toString();p=f.getSeconds().toString();1===d.length&&(d="0"+d);1===g.length&&(g="0"+g);1===m.length&&(m="0"+m);1===h.length&&(h="0"+h);1===p.length&&(p="0"+p);b(k+g+d+m+h+p+"."+a+".log");}catch(O){c(O);}});};m.Sib=function(a,b){return new Promise(function(c,f){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(fa){f(fa);}});};m.Qbb=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(W){return Promise.reject(W);}};f.prototype.DG=function(){var a;a=document.createElementNS(f.yO,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",1..toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};f.prototype.EG=function(a,b,c){var d;d=document.createElementNS(f.yO,"path");d.setAttribute("d",a);b&&d.setAttribute("fill",b);c&&d.setAttribute("fill-rule",c);this.addElement(d);return this;};f.prototype.pO=function(a,b,c,d,g){var k;g=void 0===g?"#000000":g;k=document.createElementNS(f.yO,"rect");k.setAttribute("x",a.toString());k.setAttribute("y",b.toString());k.setAttribute("height",c.toString());k.setAttribute("width",d.toString());g&&k.setAttribute("fill",g);this.addElement(k);return this;};f.prototype.jzb=function(){var a;a=document.createElementNS(f.yO,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};f.prototype.end=function(){this.elements.pop();return this;};f.prototype.Vj=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};f.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};ra.Object.defineProperties(f,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},tz:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});f.yO="http://www.w3.org/2000/svg";c.prototype.Ub=function(){var a;a=this;this.Ok||(this.Ok=new Promise(function(b){M.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&(b.keyCode==ca.ds.kRa?a.toggle():b.keyCode==ca.ds.E&&R.f0.R6(a.nw().Ug));});a.bl.VY(K.Hka.tNa,a.Knb);b();}));return this.Ok;};c.prototype.show=function(){document.body&&(this.element||(this.l$a(),this.jo=!0),!this.Jd.Sm&&this.element&&(document.body.appendChild(this.element),this.Jd.Sm=!0,this.update(!0)));};c.prototype.Vt=function(){this.jo&&this.Jd.Sm&&this.element&&(document.body.removeChild(this.element),this.Jd.Sm=!1);};c.prototype.toggle=function(){this.Jd.Sm?this.Vt():this.show();this.gB(!1);};c.prototype.l$a=function(){var a,b;try{a=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.Hx=this.S$a());a.appendChild(this.T$a());a.appendChild(this.g$a());this.element=a;}catch(U){console.error("Unable to create the log console",U);}};c.prototype.S$a=function(){var a,b;a=this;b=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.iIa=!0;a.update();a.Hx&&(a.Hx.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.iIa=!1;a.update();a.Hx&&(a.Hx.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};c.prototype.T$a=function(){var a;a=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.A$a());a.appendChild(this.u$a());a.appendChild(this.p$a());a.appendChild(this.V$a());a.appendChild(this.j$a());a.appendChild(this.F$a());a.appendChild(this.D$a());a.appendChild(this.r$a());a.appendChild(this.k$a());return a;};c.prototype.g$a=function(){var a,b,c,f,d,g;a=this;b=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("div","padding:2px");f=this.createElement("select",this.Zq(22,160,1,2),"<option>Select categories</option>");d=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(d);c.appendChild(f);c.addEventListener("mousedown",function(a){a.preventDefault();});g=!1;c.addEventListener("click",function(){g?d.style.display="none":(d.innerHTML="",["all","none"].concat(Object.keys(a.Jd.qt).sort()).forEach(function(b){d.appendChild(a.h$a(b,c));}),d.style.display="block");g=!g;});return b;};c.prototype.h$a=function(a,b){var c,f,d;c=this;f=this.createElement("label","display: block;margin:1px");f.htmlFor=a;d=this.createElement("input","margin:1px");d.type="checkbox";d.id=a;d.checked=this.Jd.qt[a];d.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(c.Jd.qt).forEach(function(b){c.Jd.qt[b]="all"===a;}),b.click()):c.Jd.qt[a]=!c.Jd.qt[a];c.gB(!0);});f.appendChild(d);f.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return f;};c.prototype.A$a=function(){var a,b;a=this;b=this.createElement("select",this.Zq(22,NaN,1,2),'<option value="'+I.vi.ERROR+'">Error</option>'+('<option value="'+I.vi.G2+'">Warn</option>')+('<option value="'+I.vi.o1+'">Info</option>')+('<option value="'+I.vi.Bna+'">Trace</option>')+('<option value="'+I.vi.nb+'">Debug</option>'));b.value=this.Jd.oba.toString();b.addEventListener("change",function(b){a.Jd.oba=parseInt(b.target.value);a.gB(!0);},!1);return b;};c.prototype.u$a=function(){var b,c;function a(a){return b.ueb.Ab(function(){var c;c=a.target.value;b.Jd.filter=c?new RegExp(c):void 0;b.gB(!0);});}b=this;c=this.createElement("input",this.Zq(14,150,1,2));c.value=this.Jd.filter?this.Jd.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};c.prototype.p$a=function(){var a,b,c,f;a=this;b=this.createElement("div",this.Zq(NaN,NaN));c=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.Jd.rU;c.addEventListener("change",function(b){a.Jd.rU=b.target.checked;a.gB(!0);},!1);f=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");f.setAttribute("for","details");f.innerHTML="View details";b.appendChild(c);b.appendChild(f);return b;};c.prototype.V$a=function(){var a,b,c;a=this;b=this.createElement("button",this.Zq());c=new f("0 0 24 24").DG().jzb().end().EG("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",f.tz,"nonzero").end().end().Vj();b.appendChild(c);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};c.prototype.j$a=function(){var a,b;a=this.createElement("button",this.Zq());b=new f("0 0 24 24").DG().pO(0,0,24,24,f.background).end().EG("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",f.tz).end().end().Vj();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};c.prototype.F$a=function(){var a;this.cx=this.createElement("button",this.Zq());this.cx.style.display=this.Jd.fF?"none":"inline-block";a=new f("0 0 24 24").DG().pO(0,0,24,24,f.background).end().EG("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",f.tz,"nonzero").end().end().Vj();this.cx.addEventListener("click",this.iCa,!1);this.cx.appendChild(a);this.cx.setAttribute("title","Shrink the log console");return this.cx;};c.prototype.D$a=function(){var a;this.Yw=this.createElement("button",this.Zq());this.Yw.style.display=this.Jd.fF?"inline-block":"none";a=new f("0 0 24 24").DG().pO(4,4,16,16,f.background).end().EG("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",f.tz,"nonzero").end().end().Vj();this.Yw.addEventListener("click",this.iCa,!1);this.Yw.appendChild(a);this.Yw.setAttribute("title","Expand the log console");return this.Yw;};c.prototype.r$a=function(){var a,b;a=this.createElement("button",this.Zq());b=new f("0 0 26 26").DG().pO(0,0,24,24,f.background).end().EG("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",f.tz,"nonzero").end().end().Vj();a.appendChild(b);a.addEventListener("click",this.Rbb,!1);a.setAttribute("title","Download all log messages");return a;};c.prototype.k$a=function(){var a,b,c;a=this;b=this.createElement("button",this.Zq());c=new f("0 0 24 24").DG().pO(0,0,24,24,f.background).end().EG("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",f.tz,"nonzero").end().end().Vj();b.appendChild(c);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};c.prototype.gB=function(a){(void 0===a?0:a)&&this.update(!1);};c.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.IN&&Promise.resolve(this.k6a()+this.Ugb().join("\r\n")).then(function(c){b.element&&b.Hx&&(b.Hx.value=c,b.element.style.cssText=b.Jd.fF?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.ha.dh(y.De,function(){b.Hx.scrollTop=b.Hx.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};c.prototype.Ugb=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level||c.level)<=a.Jd.oba&&a.Jd.qt[c.zl]&&(c=c.g_(!a.Jd.rU,!a.Jd.rU),a.Jd.filter&&!a.Jd.filter.test(c)||b.push(c));});return b;};c.prototype.k6a=function(){var a;a=this.nw();return"Version: 6.0022.359.011 \n"+((a?"Esn: "+a.Ug:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.Ka.lf.ea(y.xn)+", Start: "+this.app.gA.ea(y.xn)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};c.prototype.createElement=function(a,b,c,f){return this.vc.createElement(a,b,c,f);};c.prototype.Zq=function(a,b,c,d){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===c?0:c)+"px solid "+f.tz+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(d?"border-radius:"+d+"px;":"");};a=c;a.Bzb="logDxDisplay";a=g.__decorate([h.N(),g.__param(0,h.l(u.sk)),g.__param(1,h.l(l.xf)),g.__param(2,h.l(b.ef)),g.__param(3,h.l(t.Kg)),g.__param(4,h.l(C.XB)),g.__param(5,h.l(Q.Aka)),g.__param(6,h.l(n.Tu)),g.__param(7,h.l(k.lC)),g.__param(8,h.l(p.Cia)),g.__param(9,h.l(r.Ur))],a);d.DRa=a;},function(g,d,a){var f,m,h,b,k;function c(a,b){a=h.le.call(this,a,"LogDisplayConfigImpl")||this;a.Zn=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(34);h=a(36);b=a(28);a=a(147);da(c,h.le);ra.Object.defineProperties(c.prototype,{IN:{configurable:!0,enumerable:!0,get:function(){return!0;}},oF:{configurable:!0,enumerable:!0,get:function(){return this.Zn.oF;}},bBa:{configurable:!0,enumerable:!0,get:function(){return-1;}}});k=c;g.__decorate([m.config(m.Qd,"renderDomDiagnostics")],k.prototype,"IN",null);g.__decorate([m.config(m.waa,"logDisplayMaxEntryCount")],k.prototype,"oF",null);g.__decorate([m.config(m.waa,"logDisplayAutoshowLevel")],k.prototype,"bBa",null);k=g.__decorate([f.N(),g.__param(0,f.l(b.aj)),g.__param(1,f.l(a.iI))],k);d.CRa=k;},function(g,d,a){var f,m;function c(){this.Yea="";this.KJa=[[],[]];this.X=[[],[]];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a(4);m=a(87);c.prototype.downloadRequest=function(a){var b;""===this.Yea&&(this.Yea=a.$a);if(!a.Xb){b=this.MAb(a);this.X[a.M].push(b);this.KJa[a.M].forEach(function(a){a.KMb(b);});}};c.prototype.MAb=function(a){return{id:a.qj(),$a:a.$a,M:a.M,Fi:a.Fi,startTime:a.Bu,endTime:a.bG,offset:a.bn,gK:a.gK,fK:a.fK,duration:a.Tq,R:a.R,state:m.Cha.iva,Op:!1,jQb:!1,Tya:!1,LOb:m.Bha.waiting};};c.prototype.update=function(a){this.KJa[a.M].forEach(function(b){b.FTb(a);});};ra.Object.defineProperties(c.prototype,{$a:{configurable:!0,enumerable:!0,get:function(){return this.Yea;}}});a=c;a=g.__decorate([f.N()],a);d.NKa=a;},function(g,d,a){var f,m;function c(a){this.Lbb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(323);c.prototype.Ub=function(){var a;a=this;this.Ok||(this.Ok=new Promise(function(b,c){var f;f=[];a.Lbb.forEach(function(a){f.push(a.Ub());});Promise.all(f).then(function(){b();})["catch"](function(a){c(a);});}));return this.Ok;};m=c;m=g.__decorate([f.N(),g.__param(0,f.sA(a.Tia))],m);d.AOa=m;},function(g,d){function a(a){this.is=a;this.lmb="#881391";this.Izb="#C41A16";this.X5a=this.Hqb="#1C00CF";this.flb="#D79BDB";this.CBb=this.Eqb="#808080";}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Vj=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.Cw=function(a,f){return'<font color="'+((void 0===f?0:f)?this.flb:this.lmb)+'">'+a+": </font>";};a.prototype.Xwa=function(a,f){f=f||"";a=""+('<li><a href="#">'+this.Cw(a)+"Array["+f.length+"]</a>");a+="<ul>";for(var c=0;c<f.length;++c)a+=this.getValue(c.toString(),f[c]);a+=this.getValue("length",f.length,!0);return a+"</ul></li>";};a.prototype.eya=function(a,f){var c,d,b;c=this;if(f instanceof CryptoKey)return this.ngb(a,f);d=Object.keys(f);b="";b=b+('<li><a href="#">'+("~~NONAME~~"!==a?this.Cw(a):"")+"Object</a>");b=b+"<ul>";d.forEach(function(a){b=a.startsWith("$")?b+c.getValue(a,"REMOVED"):b+c.getValue(a,f[a]);});b+="</ul>";return b+="</li>";};a.prototype.ngb=function(a,f){a=""+('<li><a href="#">'+this.Cw(a)+"CryptoKey</a>");a=a+"<ul>"+this.eya("algorithm",f.algorithm);a+=this.bxa("extractable",f.extractable);a+=this.uya("type",f.type);a+=this.Xwa("usages",f.usages);return a+"</ul></li>";};a.prototype.Vhb=function(a,f,d){return'<li><a href="#">'+this.Cw(a,void 0===d?!1:d)+('<font color="'+this.Hqb+'">'+f.toString()+"</font>")+"</a></li>";};a.prototype.bxa=function(a,f,d){return'<li><a href="#">'+this.Cw(a,void 0===d?!1:d)+('<font color="'+this.X5a+'">'+f.toString()+"</font>")+"</a></li>";};a.prototype.uya=function(a,f,d){128<f.length&&(f=f.substr(0,128)+"...");return'<li><a href="#">'+this.Cw(a,void 0===d?!1:d)+('<font color="'+this.Izb+'">"'+f+'"</font>')+"</a></li>";};a.prototype.Uhb=function(a){return'<li><a href="#">'+this.Cw(a)+('<font color="'+this.Eqb+'">null</font>')+"</a></li>";};a.prototype.fjb=function(a,f){f="undefined"===typeof f?"":f.toString();255<f.length&&(f=f.substr(0,255)+"...");return'<li><a href="#">'+this.Cw(a)+('<font color="'+this.CBb+'">'+f+"</font>")+"</a></li>";};a.prototype.getValue=function(a,f,d){d=void 0===d?!1:d;return null===f?""+this.Uhb(a):this.is.Ys(f)?""+this.Xwa(a,f):this.is.Zy(f)?""+this.eya(a,f):this.is.xm(f)?""+this.uya(a,f,d):this.is.Pg(f)?""+this.Vhb(a,f,d):this.is.AJ(f)?""+this.bxa(a,f,d):""+this.fjb(a,f);};d.HXa=a;},function(g,d,a){var f,m,h,b,k,p,t;function c(a,b,c){var f;f=k.MQ.call(this,a,b,"idb")||this;f.Bj=c;f.eGa=function(a){f.dbb(a.target.id).then(function(){return f.refresh();});};f.brb=function(){f.z7a().then(function(){return f.refresh();});};f.krb=function(){f.refresh();};f.drb=function(){f.B8a();};return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(22);h=a(23);b=a(177);k=a(322);p=a(108);t=a(200);da(c,k.MQ);c.prototype.Ub=function(){var a;a=this;if(this.jo)return Promise.resolve();M.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==p.ds.aQa&&a.toggle();});return this.Bj.create().then(function(b){a.storage=b;a.jo=!0;});};c.prototype.oj=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};c.prototype.j$=function(a,b,c){var f;a=a.toString();f='<font color="#C41A16">"'+b+'"</font>';c=this.Esa.Vj({name:b,data:c});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+f+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};c.prototype.u$=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.oj(),c=Object.keys(a),f=0;f<c.length;++f)b+=this.j$(f,c[f],a[c[f]]);return b+"</table>";};c.prototype.oxa=function(){var a,b,c;a=this.vc.createElement("button",k.oH,"Clear",{"class":this.prefix+"-display-btn"});b=this.vc.createElement("button",k.oH,"Refresh",{"class":this.prefix+"-display-btn"});c=this.vc.createElement("button",k.oH,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.brb;b.onclick=this.krb;c.onclick=this.drb;return[a,b,c];};c.prototype.lnb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.qza=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.qza;});};c.prototype.dbb=function(a){return this.storage.remove(a);};c.prototype.z7a=function(){return this.storage.removeAll();};c.prototype.uFa=function(){var a;a=this;return this.lnb().then(function(b){return a.u$(b);});};c.prototype.B8a=function(){var a;a=JSON.stringify(this.qza,null,4);t.f0.R6(a);};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(m.ef)),g.__param(1,f.l(h.Qe)),g.__param(2,f.l(b.r1))],a);d.PHb=a;},function(g,d,a){var f,m,h,b,k,p,t,u;function c(a){return function(){return new Promise(function(b,c){var f;f=a.ub.get(m.Via);f.Ub().then(function(){b(f);})["catch"](function(a){c(a);});});};}Object.defineProperty(d,"__esModule",{value:!0});g=a(1);f=a(323);a(654);m=a(321);h=a(652);b=a(87);k=a(651);p=a(320);t=a(650);u=a(649);a(648);d.rcb=new g.xc(function(a){a(p.Aka).to(t.CRa).Z();a(f.Tia).to(u.DRa);a(b.uP).to(k.NKa).Z();a(m.Via).to(h.AOa).Z();a(m.Uia).LO(c);});},function(g,d,a){var h,b,k,p;function c(){}function f(a){this.nsb=a;}function m(a){this.psb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);b=a(201);k=a(46);p=a(2);m.prototype.jq=function(a){a.map(this.psb.jq);};a=m;a=g.__decorate([h.N(),g.__param(0,h.l(b.jma))],a);d.RUa=a;f.prototype.jq=function(a){this.nsb.jq(a.data);};a=f;a=g.__decorate([h.N(),g.__param(0,h.l(b.gma))],a);d.SUa=a;c.prototype.jq=function(a){var b;a.ia&&"string"===typeof a.ia?a.href&&"string"===typeof a.href?a.profileId&&"string"===typeof a.profileId||(b="ProfileId value is corrupted."):b="Href value is corrupted.":b="Xid value is corrupted.";if(b)throw new k.wc(p.J.$u,p.G.Ru,void 0,void 0,void 0,b,void 0,a.ia);};b=c;b=g.__decorate([h.N()],b);d.VUa=b;},function(g,d,a){var f,m,h;function c(a,c){this.rK=c;this.log=a.wb("PboEventSenderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(75);m=a(7);a=a(1);c.prototype.ifa=function(a,c){var b;b=this.rK(f.im.start);return this.Rva(b,a,c);};c.prototype.IGa=function(a){var b;b=this;return this.rK(f.im.stop).Cf(this.log,a).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};c.prototype.aO=function(a,c,f){a=this.rK(a);return this.Rva(a,c,f);};c.prototype.Rva=function(a,c,f){var b;b=this;return a.Km(this.log,c.ta.Zf,f).then(function(){})["catch"](function(a){b.log.error("PBO event failed",a);throw a;});};h=c;h=g.__decorate([a.N(),g.__param(0,a.l(m.Db)),g.__param(1,a.l(f.C0))],h);d.HUa=h;},function(g,d,a){var f,m,h,b,k,p;function c(a,b){a=m.le.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);m=a(36);h=a(28);b=a(34);k=a(4);a=a(40);da(c,m.le);ra.Object.defineProperties(c.prototype,{SF:{configurable:!0,enumerable:!0,get:function(){return this.config.Uq?"unsentplaydatatest":"unsentplaydata";}},ffa:{configurable:!0,enumerable:!0,get:function(){return!0;}},DGa:{configurable:!0,enumerable:!0,get:function(){return k.Eb(1E4);}},kda:{configurable:!0,enumerable:!0,get:function(){return k.Eb(4E3);}},vAa:{configurable:!0,enumerable:!0,get:function(){return k.JX(1);}},wAa:{configurable:!0,enumerable:!0,get:function(){return k.zh(30);}}});p=c;g.__decorate([b.config(b.string,"playdataPersistKey")],p.prototype,"SF",null);g.__decorate([b.config(b.Qd,"sendPersistedPlaydata")],p.prototype,"ffa",null);g.__decorate([b.config(b.Zg,"playdataSendDelayMilliseconds")],p.prototype,"DGa",null);g.__decorate([b.config(b.Zg,"playdataPersistIntervalMilliseconds")],p.prototype,"kda",null);g.__decorate([b.config(b.Zg,"heartbeatCooldown")],p.prototype,"vAa",null);g.__decorate([b.config(b.Zg,"keepAliveWindow")],p.prototype,"wAa",null);p=g.__decorate([f.N(),g.__param(0,f.l(h.aj)),g.__param(1,f.l(a.Uo))],p);d.pVa=p;},function(g,d,a){var h,b,k,p,t,u,y,l,n,I,C,K,Q,r;function c(a,b,c,d,g,k,h,m){this.config=a;this.ha=c;this.Or=d;this.Mp=g;this.wY=k;this.ge=h;this.dA=Promise.resolve();this.closed=!1;this.log=b.wb("PlaydataServices");this.HA=[];this.active=new Set();this.mwb=new f(a,m);}function f(a,b){this.config=a;this.Ka=b;}function m(a,b,c,f,d,g){this.log=a;this.ha=b;this.ik=c;this.Mp=f;this.Or=d;this.Nsb=g;this.Yva=this.kK=!1;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);b=a(4);k=a(7);p=a(33);t=a(247);u=a(326);y=a(14);l=a(325);n=a(2);I=a(202);C=a(324);K=a(134);Q=a(45);a=a(59);m.prototype.LX=function(a,b){var f;function c(){var a;a=f.Mp.create(f.ik);f.Or.Vga(a)["catch"](function(a){var b;b=f.Yva?k.vi.G2:k.vi.ERROR;f.Yva=!0;f.log.write(b,"Unable to save playdata changes to IDB",a);});}f=this;this.log.trace("Adding initial playdata",b);this.Or.G3a(b).then(function(){f.log.trace("Scheduling monitor",{interval:a});f.Ao=f.ha.Mea(a,c);})["catch"](function(d){f.log.error("Unable to add playdata",{error:d,playdata:new I.d2().encode(b)});f.Ao=f.ha.Mea(a,c);});};m.prototype.stop=function(a){var b,c;b=this;if(this.kK)return Promise.resolve();this.Ao&&this.Ao.cancel();c=this.Mp.create(this.ik);return this.Or.Vga(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.ik.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve();b.log.trace("Sending final playdata to the server",c);return b.Nsb.IGa(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",c),b.Or.AFa(c);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.u);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};m.prototype.cancel=function(){this.kK=!0;this.Ao&&this.Ao.cancel();this.Or.Vga(this.Mp.create(this.ik));};ra.Object.defineProperties(f.prototype,{M6a:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Ka.lf;return!this.dA||0<=a.kd(this.dA).Cl(this.config.wAa)?(this.dA=a,!0):!1;}}});d.fKb=f;c.prototype.Ub=function(){var a;a=this;this.Ok||(this.log.trace("Starting playdata services"),this.Ok=this.Or.Eub().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.Ok;};c.prototype.close=function(){this.closed=!0;this.HA.forEach(function(a){a.LX.cancel();});};c.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.SF&&b.ffa?this.ixb(a):Promise.resolve();};c.prototype.gzb=function(a){this.closed||this.hzb(a);};c.prototype.LHa=function(a){var b,c,f;b=this;if(this.closed)return Promise.resolve();c=this.Mp.create(a);this.active["delete"](c.ia);a=P(K.uu(function(a){return a.key===c.ia;},this.HA));f=a.next().value;this.HA=a.next().value;return Promise.all(f.map(function(a){a.MHa=!0;return a.LX.stop(b.config.ffa);})).then(function(){});};c.prototype.eY=function(a,b){var c,f;c=this;f=a.da;this.FHa(f,b);this.ifa(f,a.wK)["catch"](function(a){c.log.error("Start command failed",{playdata:a.UF,error:a.Cz});});this.ezb(a);};c.prototype.hzb=function(a){var b;b=this;a.addEventListener(y.S.no,function(c){var f;if(void 0!==c.EY){f=a.Nm(c.EY);b.LHa(f);c.Yz||new Promise(function(b){var c;if(a.Op.value)b();else{c=function(f){f.newValue&&(b(),a.Op.removeListener(c));};a.Op.addListener(c);}}).then(function(){return b.eY(a,"online");});}});a.addEventListener(y.S.Zm,function(){b.eY(a,"online");});a.background||a.addEventListener(y.S.oM,function(c){c=a.Nm(c.u);b.FHa(c,"online");});a.addEventListener(y.S.kf,function(){b.uzb();});a.addEventListener(y.S.CJa,function(){b.oxb(a.da)["catch"](function(b){(b=b.tda)&&a.Rd(b);});});a.Bc.addListener(function(){a.Va.N7?b.log.trace("stickiness is disabled for timedtext"):b.HGa(a.da);});a.Wc.addListener(function(){a.Va.N7?b.log.trace("stickiness is disabled for audio"):b.HGa(a.da)["catch"](function(b){(b=b.tda)&&a.Rd(b);});});};c.prototype.FHa=function(a,b){var c,f;a.Zc("pdb");if(this.config.kda.Hlb()){c=this.Mp.create(a);f=c.ia;this.HA.some(function(a){return a.key===f;})?this.log.trace("Already collecting "+b+" playdata, ignoring",c):(this.log.info("Starting to collect "+b+" playdata",c),this.active.add(f),this.HA.push({key:f,LX:this.Jhb(a,c),jB:!1,MHa:!1}));}};c.prototype.ixb=function(a){var b,c,f,d;b=this;c=this.Or.UF.filter(function(a){return!b.active.has(a.ia);});f=void 0;d=void 0;a&&Infinity===a?f=c:(c=P(K.uu(function(b){return b.u===a;},c)),f=c.next().value,d=c.next().value);d&&0<d.length&&this.ha.dh(this.config.DGa,function(){b.GGa(d);});return f&&0!==f.length?this.GGa(f):Promise.resolve();};c.prototype.GGa=function(a){var c;function b(a){return c.wY.IGa(a).then(function(){return c.Bvb(a);});}c=this;return a.reduce(function(a,c){return a.then(function(){return b(c);});},Promise.resolve());};c.prototype.Bvb=function(a){var b;b=this;return this.Or.AFa(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};c.prototype.Jhb=function(a,b){a=new m(this.log,this.ha,a,this.Mp,this.Or,this.wY);a.LX(this.config.kda,b);return a;};c.prototype.ifa=function(a,b){var c,f;c=this;f=this.Mp.v$a(a,b);return this.wY.ifa(a,f).then(function(){c.HA.filter(function(b){return b.key===a.ia.toString();}).forEach(function(a){a.jB=!0;});})["catch"](function(a){throw{UF:f,Cz:a};});};c.prototype.oxb=function(a){return this.mwb.M6a?this.aO(C.b2.fM,a,n.J.w1):Promise.resolve();};c.prototype.HGa=function(a){return this.aO(C.b2.splice,a,n.J.Zma);};c.prototype.aO=function(a,b,c){var d;function f(a){var b;b=d.HA.filter(function(b){return b.key===a.ia.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.MHa||!b.jB;},!1);}d=this;return f(b)?this.dA:this.dA=this.dA["catch"](function(){return Promise.resolve();}).then(function(){var c;if(f(b))return Promise.resolve();c=d.Mp.create(b);return d.wY.aO(a,b,c);}).then(function(a){return a;})["catch"](function(f){var g;d.log.error("Failed to send event",{eventKey:a,xid:b.ia,error:f});f.t8?g=d.ge(c,f):f.sr===n.I1.E2&&(g=d.ge(c,f));throw{Cz:f,tda:g};});};c.prototype.ezb=function(a){this.Gyb(a)&&this.Vfa(this.qhb(a.da),a);};c.prototype.Vfa=function(a,b){var c;c=this;this.t6();this.Oaa=this.ha.dh(a,function(){c.t6();c.aO(C.b2.fM,b.da,n.J.w1).then(function(){c.Vfa(a,b);})["catch"](function(f){var d;d=f.Cz;(f=f.tda)&&b.Rd(f);d.sr===n.I1.E2&&c.Vfa(a,b);});});};c.prototype.uzb=function(){this.t6();};c.prototype.Gyb=function(a){return a.state.value==y.mb.od;};c.prototype.t6=function(){this.Oaa&&(this.Oaa.cancel(),this.Oaa=void 0);};c.prototype.qhb=function(a){return a.Va.P$?b.Eb(a.Va.P$):this.config.vAa;};r=c;r=g.__decorate([h.N(),g.__param(0,h.l(l.zma)),g.__param(1,h.l(k.Db)),g.__param(2,h.l(p.Kg)),g.__param(3,h.l(u.Zla)),g.__param(4,h.l(t.e2)),g.__param(5,h.l(C.bma)),g.__param(6,h.l(a.jl)),g.__param(7,h.l(Q.sk))],r);d.UUa=r;},function(g,d,a){var q,b,k,p,t,u,y,l,n,I;function c(){}function f(){}function h(a,b,f,d,g){var h;h=this;this.is=a;this.Bj=b;this.config=f;this.nw=d;this.osb=g;this.Mr=function(){return new c().encode({version:h.version,data:h.UF});};this.iCb=function(a){a=h.hCb(a);h.osb.jq(a);return a;};this.hCb=function(a){if(h.is.ul(a))return h.lCb(a);if(void 0!=a.version&&h.is.Pg(a.version)&&1==a.version)return h.mCb(a);if(void 0!=a.version&&h.is.Pg(a.version)&&2==a.version)return new c().decode(a);if(a.version&&h.is.Pg(a.version))throw new t.wc(k.J.$u,k.G.Tha,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new t.wc(k.J.$u,k.G.Ru,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.Go=new u.gka(2,this.config().mEa,""!==this.config().mEa&&0<this.config().Xsb,this.Bj,this.Mr);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);q=a(1);b=a(17);k=a(2);p=a(23);t=a(46);u=a(497);y=a(67);l=a(81);n=a(202);a=a(201);h.prototype.Eub=function(){return this.Go.load(this.iCb)["catch"](function(a){throw new t.wc(k.J.$u,a.ca||a.Rc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};h.prototype.G3a=function(a){return this.Go.add(a);};h.prototype.AFa=function(a){return this.Go.remove(a,function(a,b){return a.ia===b.ia;});};h.prototype.Vga=function(a){return this.Go.update(a,function(a,b){return a.ia===b.ia;});};h.prototype.toString=function(){return JSON.stringify(this.Mr(),null,"  ");};h.prototype.qJa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.nw().Ug:"";};h.prototype.Xga=function(a){return a.map(function(a){return{bd:a.downloadableId,duration:a.duration};});};h.prototype.rJa=function(a){return a?{total:a.playTimes.total,audio:this.Xga(a.playTimes.audio||[]),video:this.Xga(a.playTimes.video||[]),text:this.Xga(a.playTimes.timedtext||[])}:{total:0,audio:[],video:[],text:[]};};h.prototype.lCb=function(a){var b,c,f;b=this;a=JSON.parse(a);c={type:"online",href:this.qJa(a.playbackContextId),ia:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,qK:a.timestamp,eO:a.playback?1E3*a.playback.startEpoch:-1,mA:a.mediaId,lN:this.rJa(a.playback),cb:"",en:{},profileId:a.accountKey};f=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.Bj.create().then(function(a){a.save(b.config().VK,f,!1);});if(""===c.href||""===c.ia)throw new t.wc(k.J.$u,k.G.Ru);return{version:2,data:[c]};};h.prototype.mCb=function(a){var b;b=this;if(!a.playdata||!this.is.Ys(a.playdata))throw new t.wc(k.J.$u,k.G.Ru,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,href:b.qJa(a.playbackContextId),ia:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,qK:a.timestamp,eO:a.playback?1E3*a.playback.startEpoch:-1,mA:a.mediaId,lN:b.rJa(a.playback),cb:"",en:{},profileId:a.profileId};});}(a.playdata)};};ra.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Go.version;}},UF:{configurable:!0,enumerable:!0,get:function(){return this.Go.Nq;}}});I=h;I=g.__decorate([q.N(),g.__param(0,q.l(p.Qe)),g.__param(1,q.l(y.Ur)),g.__param(2,q.l(b.xd)),g.__param(3,q.l(l.Tu)),g.__param(4,q.l(a.hma))],I);d.CUa=I;f.prototype.encode=function(a){var b;b=new n.d2();return a.map(b.encode);};f.prototype.decode=function(a){var b;b=new n.d2();return a.map(b.decode);};c.prototype.encode=function(a){return{version:a.version,data:new f().encode(a.data)};};c.prototype.decode=function(a){return{version:a.version,data:new f().decode(a.data)};};},function(g,d,a){var f,h,q,b,k,p,t,u,y,l,n,I;function c(a){return function(){return a.ub.get(f.ima).Ub();};}Object.defineProperty(d,"__esModule",{value:!0});g=a(1);f=a(157);h=a(247);q=a(202);b=a(326);k=a(660);p=a(659);t=a(325);u=a(658);y=a(324);l=a(657);n=a(201);I=a(656);d.UF=new g.xc(function(a){a(t.zma).to(u.pVa).Z();a(h.e2).to(q.TUa).Z();a(b.Zla).to(k.CUa).Z();a(f.ima).to(p.UUa).Z();a(f.yQ).LO(c);a(y.bma).to(l.HUa).Z().lP();a(n.jma).to(I.VUa).Z();a(n.gma).to(I.RUa).Z();a(n.hma).to(I.SUa).Z();});},function(g,d,a){var f,h,q,b,k,p;function c(a,b,c,f,d){this.e3a=a;this.qvb=b;this.MFa=f;this.XFa=d;this.ma=c.wb("LicenseProviderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);q=a(331);a(330);b=a(329);k=a(328);a=a(327);c.prototype.Wy=function(a){var b,c;b=this;c=this.MFa.$Ab(a);return this.e3a.Km(this.ma,a.Zf,c).then(function(a){a.map(function(a){return a.NQb;});return b.XFa.aBb(a);})["catch"](function(a){b.ma.error("PBO license failed",a);return Promise.reject(a);});};c.prototype.release=function(a){var b;b=this;a=this.MFa.dBb(a);return this.qvb.Cf(this.ma,a).then(function(a){return b.XFa.eBb(a);})["catch"](function(a){b.ma.error("PBO release license failed",a);return Promise.reject(a);});};p=c;p=g.__decorate([f.N(),g.__param(0,f.l(q.Xla)),g.__param(1,f.l(b.kma)),g.__param(2,f.l(h.Db)),g.__param(3,f.l(k.cma)),g.__param(4,f.l(a.dma))],p);d.xRa=p;},function(g,d,a){var f,h,q,b,k,p,t,u;function c(a,b,c,f){this.vc=a;this.et=b;this.GCb=c;this.cX=f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);q=a(39);b=a(101);k=a(145);p=a(88);t=a(470);a=a(159);c.prototype.sj=function(a){var b;b=this;return this.vc.gw(a.Wh[0].data[0],[8,4])?Promise.resolve({kc:[{id:"ddd",Sw:"cert",nF:void 0}],Ol:[{sessionId:"ddd",data:new Uint8Array(this.et.decode(t.mYa))}]}):this.vc.gw(a.Wh[0].data[0],this.GCb.decode("certificate"))?Promise.resolve({kc:[{id:"ddd",Sw:"cert",nF:void 0}],Ol:[{sessionId:"ddd",data:new Uint8Array(this.et.decode(t.nja))}]}):this.cX.Wy(this.lfb(a)).then(function(a){return b.mfb(a);});};c.prototype.release=function(a){var b;b=this;return this.cX.release(this.nfb(a)).then(function(c){return b.ofb(c,a);});};c.prototype.lfb=function(a){var b,c;b=this;c=a.Wh.map(function(a){return a.data.map(function(c){return{sessionId:a.sessionId,dataBase64:b.et.encode(c)};});});return{ia:a.ia,kg:a.kg,wU:a.wU,ei:p.NAa(a.ei),rp:k.nn[a.rp],Wh:c.reduce(function(a,b){return a.concat(b);},[]),DM:a.DM,Zf:a.Zf};};c.prototype.nfb=function(a){var b;b={};a.Wh&&a.kc[0].id&&(b[a.kc[0].id]=this.et.encode(a.Wh[0]));return a&&a.Wh?{ia:a.ia,kc:a.kc,Pwb:b}:{ia:a.ia,kc:a.kc};};c.prototype.mfb=function(a){return{kc:a.kc,Ol:a.Ol};};c.prototype.ofb=function(a,b){return a&&a.response&&a.response.data&&b.kc[0].id&&(a=a.response.data[b.kc[0].id])?{response:this.et.decode(a)}:{};};u=c;u=g.__decorate([f.N(),g.__param(0,f.l(h.ef)),g.__param(1,f.l(q.Hj)),g.__param(2,f.l(b.xy)),g.__param(3,f.l(a.PH))],u);d.uOa=u;},function(g,d,a){var c,f,h,q;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(472);f=a(663);h=a(159);q=a(662);d.eub=new g.xc(function(a){a(c.Qia).to(f.uOa).Z();a(h.PH).to(q.xRa).Z();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ZQb=function(a){return a;};d.Wnb=function(a){return a;};d.$Qb=function(a){return Object.assign({},a);};},function(g,d,a){var f,h,q,b,k,p,t,u,y;function c(a,b,c){this.Ka=a;this.sDb=b;this.performance=c;h.Vm(this,"performance");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(54);q=a(665);b=a(47);k=a(37);p=a(45);t=a(1);u=a(335);y=a(4);c.prototype.get=function(a,c,d){var g;g=this;return new Promise(function(k,h){var m,p,t;try{m=g.sDb.create();"withCredentials"in m||h(Error("Missing CORS support"));m.open("GET",a,!0);c&&(m.withCredentials=!0);d&&(m.timeout=d.ea(y.ja));p=g.Ka.lf;t=void 0;m.onreadystatechange=function(){var c;switch(m.readyState){case XMLHttpRequest.HEADERS_RECEIVED:t=g.Ka.lf.kd(p);break;case XMLHttpRequest.DONE:c=g.Ka.lf.kd(p),c={body:m.responseText,status:m.status,headers:f.Trb(m.getAllResponseHeaders()),fd:g.Ghb(a,b.ba(m.responseText.length),c,t)};k(c);}};m.send();}catch(S){h(S);}});};c.Trb=function(a){var b,f,d;b={};a=a.split("\r\n");for(var c=0;c<a.length;c++){f=a[c];d=f.indexOf(": ");0<d&&(b[f.substring(0,d).toLowerCase()]=f.substring(d+2));}return b;};c.prototype.Ghb=function(a,c,f,d){c={size:c,duration:f,wga:d};if(!this.performance||!this.performance.getEntriesByName)return c;f=this.performance.getEntriesByName(a);if(0==f.length&&(f=this.performance.getEntriesByName(a+"/"),0==f.length))return c;a=f[f.length-1];c=q.Wnb(c);a.Mab&&(c.size=b.ba(a.Mab));0<a.duration?c.duration=y.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(c.duration=y.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(c.Zua=y.timestamp(a.domainLookupEnd-a.domainLookupStart),c.pga=y.timestamp(a.connectEnd-a.connectStart),c.wga=y.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?c.Aga=y.timestamp(0):void 0!==a.secureConnectionStart&&(f=a.connectEnd-a.secureConnectionStart,c.Aga=y.timestamp(f),c.pga=y.timestamp(a.connectEnd-a.connectStart-f)));return c;};a=f=c;a=f=g.__decorate([t.N(),g.__param(0,t.l(p.sk)),g.__param(1,t.l(u.doa)),g.__param(2,t.l(k.g2)),g.__param(2,t.optional())],a);d.ZPa=a;},function(g,d,a){var f,h,q,b,k;function c(a,b){this.is=a;this.json=b;h.Vm(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(54);q=a(37);b=a(4);a=a(23);c.prototype.parse=function(a){var f;a=this.json.parse(a);if(!this.is.U4(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.BJ(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.BJ(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays&&!this.is.Ys(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.BJ(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Ys(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.ul(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.Zy(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var c=0;c<a.urls.length;++c){f=a.urls[c];if(!this.is.U4(f))throw Error("FtlProbe: param.urls["+c+"]: not an object");if(!this.is.xm(f.name))throw Error("FtlProbe: param.urls["+c+"].name: not a string");if(!this.is.xm(f.url))throw Error("FtlProbe: param.urls["+c+"].url: not a string");}return{kub:a.pulses,PEa:a.pulse_delays?a.pulse_delays.map(b.Eb):[],jub:b.Eb(a.pulse_timeout),uAa:a.next?b.Eb(a.next):void 0,ld:a.urls,qba:a.logblob,context:a.ctx};};k=c;k=g.__decorate([f.N(),g.__param(0,f.l(a.Qe)),g.__param(1,f.l(q.cy))],k);d.tPa=k;},function(g,d,a){var f,h,q,b,k,p;function c(a,b){this.gi=a;this.oA=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(47);b=a(4);k=a(42);a=a(61);c.prototype.KN=function(a){a=this.oA.Fm("ftlProbeError","info",f.mDb({url:a.url,sc:a.status,pf_err:a.mda},a));this.gi.Ac(a);};c.mDb=function(a,b){b.fd&&(b=b.fd,f.Gq(a,"d",b.duration),f.Gq(a,"dns",b.Zua),f.Gq(a,"tcp",b.pga),f.Gq(a,"tls",b.Aga),f.Gq(a,"ttfb",b.wga),a.sz=b.size.ea(q.Wr));return a;};c.Gq=function(a,c,f){f&&(a[c]=f.ea(b.ja));return a;};p=f=c;p=f=g.__decorate([h.N(),g.__param(0,h.l(k.uk)),g.__param(1,h.l(a.Vo))],p);d.aWa=p;},function(g,d,a){var f,h,q,b,k,p;function c(a,b){this.gi=a;this.oA=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(47);b=a(4);k=a(42);a=a(61);c.prototype.KN=function(a){a=this.oA.Fm(a.qba,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return f.nDb({d:a.fd.duration.ea(b.ja),sc:a.status,sz:a.fd.size.ea(q.Wr),via:a.RCb,cip:a.s7a,err:a.Cz},a);})};})});this.gi.Ac(a);};c.nDb=function(a,b){f.Gq(a,"dns",b.fd.Zua);f.Gq(a,"tcp",b.fd.pga);f.Gq(a,"tls",b.fd.Aga);f.Gq(a,"ttfb",b.fd.wga);return a;};c.Gq=function(a,c,f){f&&(a[c]=f.ea(b.ja));return a;};p=f=c;p=f=g.__decorate([h.N(),g.__param(0,h.l(k.uk)),g.__param(1,h.l(a.Vo))],p);d.bWa=p;},function(g,d,a){var f,h,q,b,k,p,t,u;function c(a,b,c,f,d,g,k){this.config=a;this.nza=b;this.ha=c;this.ag=f;this.Ovb=d;this.oea=g;this.jmb=0;this.ma=k.wb("FTL");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(4);b=a(33);k=a(7);p=a(333);t=a(332);a=a(183);c.prototype.start=function(){this.config.enabled&&!this.Ao&&(this.Ao=this.ha.dh(this.config.DHa,this.oG.bind(this)));};c.prototype.stop=function(){this.Ao&&(this.Ao.cancel(),this.Ao=void 0);};c.prototype.oG=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.jmb++;this.Pib(b).then(function(b){return Promise.all(b.ld.map(function(c){return a.Njb(b,c.url,c.name);})).then(function(c){0<c.length&&a.Ovb.KN({data:c,context:b.context,qba:b.qba});}).then(function(){return b;});}).then(function(b){a.Ao&&(b.uAa?a.Ao=a.ha.dh(b.uAa,a.oG.bind(a)):a.stop());})["catch"](function(b){return a.ma.error("FTL run failed",b);});};c.prototype.Pib=function(a){var b;b=this;return this.nza.get(a,!1).then(function(c){var f;if(200!=c.status||null==c.body)return b.oea.KN({url:a,status:c.status,mda:"FTL API request failed",fd:c.fd}),Promise.reject(Error("FTL API request failed: "+c.status));f=b.ag.parse(c.body);return f instanceof Error?(b.oea.KN({url:a,status:4,mda:"FTL Probe API JSON parsing error",fd:c.fd}),Promise.reject(f)):Promise.resolve(f);})["catch"](function(c){c instanceof Error&&(b.oea.KN({url:a,status:0,mda:c.message}),b.ma.error("FTL API call failed",c.message));return Promise.reject(c);});};c.prototype.Njb=function(a,b,c){var d;d=this;return new Promise(function(g,k){var l;for(var h,m,p,t=[],u={},y=0;y<a.kub;u={Td:u.Td,Uda:u.Uda},++y){u.Td=y<a.PEa.length?a.PEa[y]:q.De;u.Uda=""+b+(-1===b.indexOf("?")?"?":"&")+"pulse="+(y+1);l=function(b){return function(){return new Promise(function(c,g){d.ha.dh(b.Td,function(){f.Ptb(d.nza,b.Uda,a.jub).then(function(a){function b(a,b,c){a||(a=c.headers[b]);return a;}h=b(h,"via",a);m=b(m,"x-ftl-probe-data",a);p=b(p,"x-ftl-error",a);c({status:a.status,fd:a.fd,RCb:h||"",s7a:m||"",Cz:p||""});})["catch"](function(a){g(a);});});});};}(u);t.push(0<y?t[y-1].then(l):l());}Promise.all(t).then(function(a){g({url:b,name:c,data:a});})["catch"](function(a){k(a);});});};c.Ptb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};u=f=c;u=f=g.__decorate([h.N(),g.__param(0,h.l(a.vja)),g.__param(1,h.l(t.Hja)),g.__param(2,h.l(b.Kg)),g.__param(3,h.l(p.uja)),g.__param(4,h.l(a.Vma)),g.__param(5,h.l(a.Uma)),g.__param(6,h.l(k.Db))],u);d.vPa=u;},function(g,d,a){var c,f,h,q,b,k,p,t;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(670);f=a(669);h=a(668);q=a(667);b=a(666);k=a(333);p=a(332);t=a(183);d.rfb=new g.xc(function(a){a(t.wja).to(c.vPa).Z();a(t.Vma).to(f.bWa).Z();a(t.Uma).to(h.aWa).Z();a(k.uja).to(q.tPa).Z();a(p.Hja).to(b.ZPa).Z();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.Iq=a;}a.prototype.XM=function(){var a,f,d;a=this.Iq.nhb();f=this.Iq.ohb();d=this.Iq.phb();if("number"===typeof a&&"number"===typeof f&&"number"===typeof d)return(d-a)/f;};return a;}();d.nTa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f){this.Iq=a;this.XM=f;}a.prototype.tfa=function(a){return this.Iq.tfa(a);};a.prototype.Jl=function(){return this.Iq.Jl();};a.prototype.Rhb=function(){return this.XM.XM();};return a;}();d.mTa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.WAa=a;}a.prototype.tfa=function(a){try{this.WAa.setItem("gtp",JSON.stringify(a));}catch(f){return!1;}return!0;};a.prototype.Gxa=function(){var a;try{a=this.WAa.getItem("gtp");if(a)return JSON.parse(a);}catch(f){}};a.prototype.Jl=function(){var a;a=this.Gxa();if(a&&a.tp)return a.tp.a;};a.prototype.nhb=function(){var a;a=this.S9();if(a)return a.p25;};a.prototype.ohb=function(){var a;a=this.S9();if(a)return a.p50;};a.prototype.phb=function(){var a;a=this.S9();if(a)return a.p75;};a.prototype.S9=function(){var a;a=this.Gxa();if(a&&(a=a.iqr))return a;};return a;}();d.yha=g;},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(674);f=a(673);h=a(672);d["default"]=function(a){var b;a=new c.yha(a);b=new h.nTa(a);return new f.mTa(a,b);};},function(g,d,a){var f,h,q,b;function c(a,b,c){this.config=a;this.unb=b;this.Vb=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(495);h=a(1);q=a(178);a=a(334);c.prototype.W6=function(){if(this.config.xJa)return this.Vb(this.unb());};b=c;b=g.__decorate([h.N(),g.__param(0,h.l(f.nla)),g.__param(1,h.l(q.mla)),g.__param(2,h.l(a.ola))],b);d.lTa=b;},function(g,d,a){var f;function c(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c.prototype.create=function(){return new XMLHttpRequest();};f=c;f=g.__decorate([a.N()],f);d.rYa=f;},function(g,d,a){var c,f,h,q,b,k,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(677);f=a(95);h=a(335);q=a(676);b=a(203);k=a(334);p=a(675);d.aqb=new g.xc(function(a){a(h.doa).to(c.rYa).Z();a(f.ey).TG(function(){return M._cad_global.http;});a(b.sQ).to(q.lTa).Z();a(k.ola).ni(p["default"]);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kob=function(a,c){var b,k;if(0!==a.length){if(1===a.length)return a[0];for(var f=a[0],d=c(f),g=1;g<a.length;g++){b=a[g];k=c(b);k>d&&(f=b,d=k);}return f;}};},function(g,d,a){var f;function c(a,c,b){a=f.t0.call(this,a,c)||this;a.fw=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(338);da(c,f.t0);d.wMa=c;},function(g,d,a){var f,h,q,b,k,p,t,u,y,l,n,I,C,K,Q,r,ca,R;function c(a,b,c,f,d,g,k,h,m,p,t,q,u,y,l,n){this.oIa=a;this.ET=b;this.gi=c;this.cca=f;this.E8=d;this.vj=g;this.Sc=k;this.vU=h;this.Ef=m;this.config=p;this.Cc=t;this.Ka=q;this.sa=u;this.platform=y;this.rM=l;this.jk=n;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(246);h=a(444);q=a(42);b=a(22);k=a(436);p=a(242);t=a(96);u=a(1);y=a(339);l=a(337);n=a(95);I=a(17);C=a(45);K=a(25);Q=a(79);r=a(61);ca=a(109);a=a(160);c.prototype.create=function(a,b,c){return new y.KRa(a,b,c,this.oIa,this.ET,this.gi,this.cca,this.E8,this.vj,this.Sc,this.vU,this.Ef,this.config,this.Cc,this.Ka,this.sa,this.platform,this.rM,this.jk);};R=c;R=g.__decorate([u.N(),g.__param(0,u.l(f.B2)),g.__param(1,u.l(h.cia)),g.__param(2,u.l(q.uk)),g.__param(3,u.l(k.Xka)),g.__param(4,u.l(p.lja)),g.__param(5,u.l(t.oy)),g.__param(6,u.l(b.ef)),g.__param(7,u.l(l.Nia)),g.__param(8,u.l(n.ey)),g.__param(9,u.l(I.xd)),g.__param(10,u.l(ca.nC)),g.__param(11,u.l(C.sk)),g.__param(12,u.l(K.xf)),g.__param(13,u.l(Q.ms)),g.__param(14,u.l(r.Vo)),g.__param(15,u.l(a.BQ))],R);d.JRa=R;},function(g,d,a){var f,h,q;function c(a){this.Yh=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(47);a=a(81);c.prototype.Cnb=function(){var a;a=this.Yh()?this.Yh().Ug.length:40;return h.ba(a+33);};q=c;q=g.__decorate([f.N(),g.__param(0,f.l(a.Tu))],q);d.HRa=q;},function(g,d,a){var h,q,b,k,p,t,u,y,l;function c(a,b,c,f,d,g,h,m,p,t){this.platform=b;this.i7=c;this.type=f;this.severity=d;this.timestamp=g;this.data=h;this.sa=m;this.data.type=f;this.data.sev=d;this.data.devmod=this.platform.pU;this.data.clver=this.platform.version;a&&a.Mq&&(a.Mq.os&&(this.data.osplatform=a.Mq.os.name,this.data.osver=a.Mq.os.version),this.data.browsername=a.Mq.name,this.data.browserver=a.Mq.version);a.Gaa&&(this.data.tester=!0);a.Gw&&!this.data.groupname&&(this.data.groupname=a.Gw);a.ID&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.ID:a.ID);a.vB&&(this.data.uigroupname=a.vB);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.sa.whb();this.data.uniqueLogId=p.Twa();this.data.appId=this.sa.id;t&&(a=this.sa.pc(),this.data.soffms=a.kd(t.Wl).ea(k.ja),this.data.mid=this.data.mid||t.u,this.data.lvpi=t.pba,this.data.uiLabel=t.je,f="startup"===f?"playbackxid":"xid",this.data[f]="xid"===f&&this.data.xid||t.ia,t.cB&&(f=t.cB,(t=t.cB.split("."))&&1<t.length&&"S"!==t[0][0]&&(f="SABTest"+t[0]+".Cell"+t[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+f:f));}function f(a,b,c,f,d,g){this.Ka=a;this.i7=b;this.config=c;this.sa=f;this.ICb=d;this.platform=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(47);q=a(1);b=a(45);k=a(4);p=a(462);t=a(40);u=a(25);y=a(342);a=a(79);f.prototype.Fm=function(a,b,f,d){return new c(this.config,this.platform,this.i7,a,b,this.Ka.lf,f,this.sa,this.ICb,d);};l=f;l=g.__decorate([q.N(),g.__param(0,q.l(b.sk)),g.__param(1,q.l(p.oia)),g.__param(2,q.l(t.Uo)),g.__param(3,q.l(u.xf)),g.__param(4,q.l(y.Rna)),g.__param(5,q.l(a.ms))],l);d.GRa=l;ra.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.Isa||(this.Isa=h.ba(this.i7.encode(this.data).length));return this.Isa;}}});},function(g,d,a){var f,h,q,b,k,p,t;function c(a,b){a=p.le.call(this,a,"PboConfigImpl")||this;a.config=b;a.qob=f.ba(5E5);a.kxb=h.JX(1);a.JBa=f.ba(1E6);return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(47);h=a(4);q=a(1);b=a(17);k=a(34);p=a(36);a=a(28);da(c,p.le);ra.Object.defineProperties(c.prototype,{c5:{configurable:!0,enumerable:!0,get:function(){return this.config().c5;}},oHa:{configurable:!0,enumerable:!0,get:function(){return[];}},nHa:{configurable:!0,enumerable:!0,get:function(){return["MslTransport","Pbo","LogblobSender"];}}});t=c;g.__decorate([k.config(k.object(),"shedLogblobTypes")],t.prototype,"oHa",null);g.__decorate([k.config(k.Sj("string"),"shedDebugTypes")],t.prototype,"nHa",null);t=g.__decorate([q.N(),g.__param(0,q.l(a.aj)),g.__param(1,q.l(b.xd))],t);d.ARa=t;},function(g,d,a){var f,h,q;function c(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(204);q=a(47);c.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.Cnb());}).reduce(function(a,b){return a.add(b);},q.ba(0));};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(h.Dka))],a);d.IRa=a;},function(g,d,a){var h,q,b,k,p,t,u,y,l,n,I;function c(a,b,c,f,d,g,k,h){this.sa=a;this.platform=c;this.Yh=f;this.json=d;this.vc=g;this.vj=k;this.Inb=h;q.Vm(this,"json");this.ma=b.wb("LogblobSender");}function f(){this.entries=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(54);b=a(37);k=a(4);p=a(22);t=a(25);u=a(79);y=a(81);l=a(7);n=a(343);a=a(96);c.prototype.send=function(a){var b;b=this;return new Promise(function(c,d){var g;try{g=a.reduce(function(a,c){a.entries.push(b.B$a(c));return a;},new f());c(b.wfb(g));}catch(R){b.ma.error(R.message);d(R);}}).then(function(a){return b.hfa(a);});};c.prototype.B$a=function(a){return this.vc.Wm(this.vc.Wm({},a.data),{esn:this.Yh().Ug,sev:a.severity,type:a.type,lver:this.platform.eBa,jssid:this.sa.id,devmod:this.platform.pU,jsoffms:a.timestamp.kd(this.sa.gA).ea(k.ja),clienttime:a.timestamp.ea(k.ja),client_utc:a.timestamp.ea(k.xn),uiver:this.vj.SO});};c.prototype.wfb=function(a){var b;b=this;try{return this.json.stringify(a);}catch(ca){for(var c={},f=0;f<a.entries.length;c={sO:c.sO,pe:c.pe},++f){c.pe=Object.assign({},a.entries[f]);try{this.json.stringify(c.pe);}catch(R){c.sO=void 0;this.vc.tw(c.pe,function(a){return function(c,f){try{b.json.stringify(f);}catch(W){a.sO=W.message;a.pe[c]=a.sO;}};}(c));c.pe.stringifyException=c.sO;c.pe.originalType=c.pe.type;c.pe.type="debug";c.pe.sev="error";}}return this.json.stringify(a);}};c.prototype.hfa=function(a){var b;b=this;return this.Inb.Cf(this.ma,{logblobs:a}).then(function(){})["catch"](function(a){b.ma.error("PBO logblob failed",a);return Promise.reject(a);});};I=c;I=g.__decorate([h.N(),g.__param(0,h.l(t.xf)),g.__param(1,h.l(l.Db)),g.__param(2,h.l(u.ms)),g.__param(3,h.l(y.Tu)),g.__param(4,h.l(b.cy)),g.__param(5,h.l(p.ef)),g.__param(6,h.l(a.oy)),g.__param(7,h.l(n.fma))],I);d.LRa=I;},function(g,d,a){var h,q,b,k,p,t,u;function c(a){this.gD=b.De;this.X3=[];this.zq=this.LR=!1;this.poa=0;a&&(this.gD=a.size,this.X3=a.tj,a instanceof c&&(this.poa=a.Z4a+1));}function f(a,b,c,f){this.Wob=a;this.config=b;this.$f=c;this.json=f;q.Vm(this,"json");this.ma=this.$f.wb("MessageQueue");this.jp=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(54);b=a(47);k=a(204);p=a(7);t=a(37);a=a(42);f.prototype.d5=function(a){var b,c;0===this.jp.length&&this.jp.push(this.H9());if(a=this.uib(a)){b=this.Wob.measure([a]);c=this.jp[this.jp.length-1];0<c.size.add(b).Cl(this.config.JBa)&&(c=this.H9(),this.jp.push(c));c.d5(a);}};f.prototype.Sfb=function(){var a;a=this.jp.filter(function(a){return a.O6a;});this.jp.push(this.H9());a.forEach(function(a){return a.cob();});return a;};f.prototype.j3a=function(a){a.Ml||this.jp.unshift(new c(a));};f.prototype.uvb=function(a){a=this.jp.indexOf(a);0<=a&&this.jp.splice(a,1);};f.prototype.uib=function(a){try{return{data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};}catch(I){var b,c;b={};c=a.data.debugMessage;c&&"string"===typeof c&&(b.originalDebugMessage=c);(a=a.data.debugCategory)&&"string"===typeof a&&(b.originalDebugCategory=a);this.ma.error("JSON.stringify error: "+I.message,b);}};f.prototype.H9=function(){return new c();};ra.Object.defineProperties(f.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.jp.reduce(function(a,b){return a.add(b.size);},b.De);}}});u=f;u=g.__decorate([h.N(),g.__param(0,h.l(k.Eka)),g.__param(1,h.l(a.A1)),g.__param(2,h.l(p.Db)),g.__param(3,h.l(t.cy))],u);d.TSa=u;c.prototype.fga=function(){this.LR=!1;this.zq=!0;};c.prototype.Jt=function(){this.LR=!1;};c.prototype.d5=function(a){this.X3.push(a);this.gD=this.gD.add(a.size);};c.prototype.cob=function(){this.LR=!0;};ra.Object.defineProperties(c.prototype,{Z4a:{configurable:!0,enumerable:!0,get:function(){return this.poa;}},size:{configurable:!0,enumerable:!0,get:function(){return this.gD;}},tj:{configurable:!0,enumerable:!0,get:function(){return this.X3;}},O6a:{configurable:!0,enumerable:!0,get:function(){return 0<this.tj.length&&!1===this.LR;}},Ml:{configurable:!0,enumerable:!0,get:function(){return this.zq;}}});},function(g,d,a){var f,h,q,b,k,p,t,u,y,l,n;function c(a,b,c,f,d,g,k){this.config=a;this.json=b;this.ha=c;this.ynb=f;this.JM=g;this.bU=k;this.MW=this.jo=!1;this.listeners=[];h.Vm(this,"json");this.ma=d.wb("LogBatcher");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(54);q=a(37);b=a(346);k=a(33);p=a(7);t=a(42);u=a(345);y=a(2);l=a(65);a(162);n=a(344);c.prototype.Ub=function(){this.jo=!0;};c.prototype.Ac=function(a){var b;b=this;this.Iyb(a)||(0<a.size.Cl(this.config.qob)?this.ma.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(this.listeners.forEach(function(b){return b.Vob(a);}),this.JM.d5(a),this.ha.Ab(function(){b.Qeb();})));};c.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.MW?(this.ma.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,f){b.ma.trace("Flushing",p.NP);b.Bh();b.ha.Ab(function(){b.efa(a).then(function(){c();})["catch"](function(a){f(a);});});});};c.prototype.addListener=function(a){this.listeners.push(a);};c.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};c.prototype.efa=function(a){var b,c;a=void 0===a?!1:a;b=this;if(!this.jo)return this.ma.trace("LogBatcher is not initialized"),Promise.resolve();if(this.MW)return this.ma.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve();c=this.JM.Sfb();if(0===c.length&&!a)return this.ma.trace("No logblobs to send"),Promise.resolve();this.Bh();this.listeners.forEach(function(){});a=Promise.resolve();for(var f={},d=P(c),g=d.next();!g.done;f={M5:f.M5},g=d.next())f.M5=g.value,a=a.then(function(a){return function(){return b.jxb(a.M5);};}(f));return a.then(function(){return b.Ht();})["catch"](function(a){c.filter(function(a){return!a.Ml;}).forEach(function(a){return a.Jt();});b.Ht();throw Error("Send failure. "+a);});};c.prototype.jxb=function(a){var b;b=this;this.ma.trace("Sending batch: "+a.size,p.NP);return Promise.resolve(this.JM.uvb(a)).then(function(){return b.ynb.send(a.tj);}).then(function(){return a.fga();})["catch"](function(c){b.ma.warn("Failed to send batch of logblobs.",c,p.NP);a.Jt();b.yyb(c)&&b.JM.j3a(a);b.Jyb(c)&&(b.MW=!0);throw c;});};c.prototype.yyb=function(a){return a.Vg===y.n1.Wla?!1:this.config.c5;};c.prototype.Jyb=function(a){return a.Rc===y.G.yja||a.Rc===y.G.GH||a.Rc===y.G.KH?!0:!1;};c.prototype.Qeb=function(){var a;a=this;0<this.JM.size.Cl(this.config.JBa)?this.efa()["catch"](function(b){return a.ma.warn("Failed to send log messages on size threshold. "+b);}):this.Ht();};c.prototype.Bh=function(){this.cA&&(this.cA.cancel(),this.cA=void 0);};c.prototype.Ht=function(){this.cA||(this.cA=this.ha.dh(this.config.kxb,this.pu.bind(this)));};c.prototype.pu=function(){var a;a=this;this.MW=!1;this.Bh();this.efa()["catch"](function(b){return a.ma.warn("Failed to send log messages on timer. "+b);});};c.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(K){}return b;};c.prototype.Iyb=function(a){return 0<=this.config.oHa.indexOf(a.type)?!0:a.type===n.Ee.debug?0<=this.config.nHa.indexOf(a.data.debugCategory):!1;};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(t.A1)),g.__param(1,f.l(q.cy)),g.__param(2,f.l(k.Kg)),g.__param(3,f.l(b.Gka)),g.__param(4,f.l(p.Db)),g.__param(5,f.l(u.ela)),g.__param(6,f.l(l.sH))],a);d.BRa=a;},function(g,d,a){var f,h,q,b,k,p,t;function c(a,b,c,d){var g;g=this;this.Lnb=a;this.rM=b;this.config=d;this.hea=[];this.Lnb.VY(f.bKa,this.Cjb.bind(this));c().then(function(a){var b;b=d().Dt.cfb;g.uob=b?t.vi[b.toUpperCase()]:t.vi.ERROR;g.gi=a;g.nxb();});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(17);b=a(98);k=a(42);p=a(61);t=a(7);c.prototype.Cjb=function(a,b){this.gi?this.TEa(a,b):this.hea.push([a,b]);};c.prototype.nxb=function(){var a,b;a=this;b=this.hea;this.hea=[];b.forEach(function(b){a.TEa(b[0],b[1]);});};c.prototype.TEa=function(a,b){var c;if(this.gi&&this.Byb(a)){c={debugMessage:a.message,debugCategory:a.zl};a.rd.forEach(function(a){return c=Object.assign(Object.assign({},c),a.value);});c=Object.assign(Object.assign({},c),{prefix:"debug"});a=this.rM.Fm("debug",t.vi[a.level].toLowerCase(),c,b);this.gi.Ac(a);}};c.prototype.Byb=function(a){var b;b=this.uob;return void 0!==b&&a.level<=b&&!a.rd.find(function(a){return a.fL(t.NP);});};a=f=c;a.bKa="adaptorAll";a=f=g.__decorate([h.N(),g.__param(0,h.l(b.XB)),g.__param(1,h.l(p.Vo)),g.__param(2,h.l(k.zka)),g.__param(3,h.l(q.xd))],a);d.HKa=a;},function(g,d,a){var c,f,h,q,b,k,p,t,u,y,l,n,I,C,K,Q,r,ca,R,S,N,U;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(135);f=a(689);h=a(688);q=a(687);b=a(686);k=a(685);p=a(17);t=a(684);u=a(683);y=a(682);l=a(33);n=a(81);I=a(341);C=a(345);K=a(346);Q=a(61);r=a(204);ca=a(42);R=a(340);S=a(681);N=a(337);U=a(336);d.Jnb=new g.xc(function(a){a(ca.uk).to(h.BRa).Z();a(C.ela).to(q.TSa).Z();a(K.Gka).to(b.LRa).Z();a(r.Eka).to(k.IRa).Z();a(ca.A1).to(t.ARa).Z();a(Q.Vo).to(u.GRa).Z();a(r.Dka).to(y.HRa).Z();a(R.Fka).to(S.JRa).Z();a(N.Nia).to(U.oOa).Z();a(I.xha).to(f.HKa).Z();a(ca.zka).LO(function(a){return function(){return a.ub.get(c.YH)().then(function(b){return new Promise(function(c){var d,g,k;function f(){g()&&k()&&b.QM?c(a.ub.get(ca.uk)):d.Ab(f);}d=a.ub.get(l.Kg);g=a.ub.get(p.xd);k=a.ub.get(n.Tu);d.Ab(f);});});};});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gOa=function(a,c,f){this.Ug=a;this.It=c;this.w8=f;};},function(g,d,a){var f,h,q,b,k,p,t,u,y,l,n,I,C;function c(a,b,c,f,d,g,k,h,m,p){this.Sua=a;this.Bj=b;this.Ea=f;this.h7=d;this.Gc=g;this.debug=k;this.HCb=h;this.g7=m;this.ksb=p;this.A0=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.wb("Device");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);h=a(23);q=a(691);b=a(7);k=a(352);p=a(39);t=a(89);u=a(22);y=a(1);l=a(67);n=a(349);I=a(348);a=a(347);c.prototype.Vva=function(a){try{return a.match(this.A0)[2];}catch(Q){}};c.prototype.Xva=function(a){try{return a.match(this.A0)[1];}catch(Q){}};c.prototype.create=function(a){var b;b=this;return new Promise(function(c,d){b.Bj.create().then(function(g){var h,m,p,t,u,y;function k(a){b.Ea.ul(a)&&b.Ea.ul(h)?(m=new q.gOa(a,h,p),c(m)):d({ca:f.G.ria});}h=a.It;if(a.E9)p="bind_device",b.ksb.Cf(b.log,{}).then(function(a){k(a.esn);})["catch"](function(a){d(a);});else if(a.q9){u=a.Ug;if(b.Ea.ul(u)){y=b.Xva(u);y!=a.It&&b.log.error("esn prefix from ui is different",{ui:y,cad:a.It,ua:a.userAgent});}else a.mba&&b.log.error("esn from ui is missing");g.load(a.Tua).then(function(a){t=a.value;b.Ea.ul(t)&&(b.Ea.ul(u)?(a=b.Vva(u),p=a===t?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):p="storage_esn_not_in_config",k(h+t));})["catch"](function(c){var t;function m(){g.save(a.Tua,t,!1).then(function(){k(h+t);})["catch"](function(a){d(a);});}c.ca===f.G.ov?(b.Ea.ul(a.Ug)?(t=b.Vva(a.Ug),b.Ea.ul(t)?p="config_since_not_in_storage":(p="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.Ug),t=b.Sua.Rwa())):(p="generated_since_not_in_config_and_storage",t=b.Sua.Rwa()),m()):d(c);});}else a.wbb&&b.h7&&b.h7.getKeyByName?b.h7.getKeyByName(a.m5a).then(function(a){a=a.id;if(b.Ea.xm(a))a=String.fromCharCode.apply(void 0,b.Gc.decode(a)),b.debug.assert(""!=a),h=b.Xva(a),k(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){d({ca:f.G.k0,kb:b.HCb.Ye(a)});}):a.vbb&&b.g7&&b.g7.sxa?b.g7.sxa().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=h+a;b.debug.assert(b.A0.test(a));k(c);})["catch"](function(){d({ca:f.G.k0});}):k();})["catch"](function(a){d(a);});});};C=c;C=g.__decorate([y.N(),g.__param(0,y.l(k.Iia)),g.__param(1,y.l(l.Ur)),g.__param(2,y.l(b.Db)),g.__param(3,y.l(h.Qe)),g.__param(4,y.l(I.nia)),g.__param(5,y.l(p.Hj)),g.__param(6,y.l(t.Zr)),g.__param(7,y.l(u.ef)),g.__param(8,y.l(n.mia)),g.__param(9,y.l(a.Yla))],C);d.hOa=C;},function(g,d,a){var f,h,q,b,k,p;function c(a,b){this.Ka=a;this.Xda=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(45);h=a(4);q=a(139);b=a(351);k=a(54);a=a(1);c.prototype.Rwa=function(){for(var a="",c=this.Ka.lf.ea(h.ja),f=6;f--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[c%32]+a,c=Math.floor(c/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.Xda.WEa(new b.Sma(0,31,k.Iqb))];return a;};p=c;p=g.__decorate([a.N(),g.__param(0,a.l(f.sk)),g.__param(1,a.l(q.EQ))],p);d.fOa=p;},function(g,d,a){var c,f,h,q,b;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(81);f=a(352);h=a(693);q=a(350);b=a(692);d.Yh=new g.xc(function(a){a(c.Tu).If(function(){return function(){return M._cad_global.device;};});a(q.Jia).to(b.hOa).Z();a(f.Iia).to(h.fOa).Z();});},function(g,d,a){var f;function c(){var a;a=this;this.ready=!1;this.Opb=new Promise(function(c){a.cwb=c;});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c.prototype.Ppb=function(a){this.ready||(this.cwb(a),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};f=c;f=g.__decorate([a.N()],f);d.YSa=f;},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(353);f=a(695);h=a(135);d.rA=new g.xc(function(a){a(c.H1).to(f.YSa).Z();a(h.YH).LO(function(a){return function(){return a.ub.get(c.H1).Opb;};});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.R$a=function(a,c,f){return{lya:function(){return a.b$();},ma:c,request:f,th:!1};};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(97);d.XH=g.XH;d.fv=g.fv;d.xM=g.xM;d.kna=g.kna;f=a(50);a=function(a){function d(b,c,f,g,h){return a.call(this,d.console,b,c,f,g,h)||this;}c.__extends(d,a);Object.defineProperties(d,{console:{get:function(){return this.I||(this.I=new f.platform.Console("MP4","media|asejs"));},enumerable:!0,configurable:!0}});return d;}(g.my);d.my=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.g8a={qr:["minInitVideoBitrate",-Infinity],kca:["minHCInitVideoBitrate",-Infinity],iu:["maxInitVideoBitrate",Infinity],NM:["minInitAudioBitrate",-Infinity],MM:["minHCInitAudioBitrate",-Infinity],yM:["maxInitAudioBitrate",Infinity],AX:["minAcceptableVideoBitrate",-Infinity],jpb:["minAllowedVideoBitrate",-Infinity],gob:["maxAllowedVideoBitrate",Infinity],kpb:["minAllowedVmaf",-Infinity],hob:["maxAllowedVmaf",Infinity],rO:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],OM:["minRequiredBuffer",2E4],FX:["minRequiredAudioBuffer",0],$g:["minPrebufSize",5800],SOb:["enableNewBufferingComplete",!0],cZ:["requireDownloadDataAtBuffering",!1],dZ:["requireSetupConnectionDuringBuffering",!1],fea:["rebufferingFactor",1],qo:["maxBufferingTime",2E3],Yga:["useMaxPrebufSize",!0],$w:["maxPrebufSize",4E4],Uba:["maxRebufSize",Infinity],ieb:["fastRebufferRecoveryThreshold",Infinity],heb:["fastRebufferRecoverBwThrehold",3E3],sW:["initialBitrateSelectionCurve",null],Aza:["initSelectionLowerBound",-Infinity],Bza:["initSelectionUpperBound",Infinity],c_:["throughputPercentForAudio",15],J5:["bandwidthMargin",0],L5:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],E5a:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,st:76376,scale:18862.4,gamma:3.0569}],K5:["bandwidthMarginContinuous",!1],F5a:["bandwidthMarginForAudio",!0],lga:["switchConfigBasedOnInSessionTput",!0],K6:["conservBandwidthMargin",20],tK:["conservBandwidthMarginTputThreshold",6E3],L6:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],aIa:["switchAlgoBasedOnHistIQR",!1],Dx:["switchConfigBasedOnThroughputHistory","iqr"],Tba:["maxPlayerStateToSwitchConfig",-1],uba:["lowEndMarkingCriteria","iqr"],q1:["IQRThreshold",.5],Y$:["histIQRCalcToUse","simple"],ip:["bandwidthManifold",{curves:[{min:.05,max:.82,st:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,st:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],ku:["maxTotalBufferLevelPerSession",0],iza:["highWatermarkLevel",3E4],CIa:["toStableThreshold",3E4],h_:["toUnstableThreshold",0],Ofa:["skipBitrateInUpswitch",!1],fha:["watermarkLevelForSkipStart",8E3],R$:["highStreamRetentionWindow",9E4],vba:["lowStreamTransitionWindow",51E4],T$:["highStreamRetentionWindowUp",5E5],xba:["lowStreamTransitionWindowUp",1E5],S$:["highStreamRetentionWindowDown",6E5],wba:["lowStreamTransitionWindowDown",0],Q$:["highStreamInfeasibleBitrateFactor",.5],fu:["lowestBufForUpswitch",9E3],fX:["lockPeriodAfterDownswitch",15E3],zba:["lowWatermarkLevel",15E3],gu:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Aba:["lowestWaterMarkLevelBufferRelaxed",!1],eca:["mediaRate",1.5],tX:["maxTrailingBufferLen",15E3],QJ:["audioBufferTargetAvailableSize",262144],fP:["videoBufferTargetAvailableSize",1048576],SBa:["maxVideoTrailingBufferSize",8388608],DBa:["maxAudioTrailingBufferSize",393216],OU:["fastUpswitchFactor",3],I8:["fastDownswitchFactor",3],zM:["maxMediaBufferAllowed",27E4],sRb:["minMediaBufferLen",1E4],nr:["maxMediaBufferAllowedInBytes",0],Lfa:["simulatePartialBlocks",!0],sHa:["simulateBufferFull",!0],M6:["considerConnectTime",!0],J6:["connectTimeMultiplier",1],kBa:["lowGradeModeEnterThreshold",12E4],lBa:["lowGradeModeExitThreshold",9E4],FBa:["maxDomainFailureWaitDuration",3E4],CBa:["maxAttemptsOnFailure",18],Sva:["exhaustAllLocationsForFailure",!0],LBa:["maxNetworkErrorsDuringBuffering",20],Oba:["maxBufferingTimeAllowedWithNetworkError",6E4],awa:["fastDomainSelectionBwThreshold",2E3],mIa:["throughputProbingEnterThreshold",4E4],nIa:["throughputProbingExitThreshold",34E3],XAa:["locationProbingTimeout",1E4],ewa:["finalLocationSelectionBwThreshold",1E4],kIa:["throughputHighConfidenceLevel",.75],lIa:["throughputLowConfidenceLevel",.4],jba:["locationStatisticsUpdateInterval",6E4],wnb:["locationSelectorPersistFailures",!0],zva:["enablePerfBasedLocationSwitch",!1],fRb:["maxRateMaxFragmentGroups",4500],nda:["pipelineScheduleTimeoutMs",2],ju:["maxPartialBuffersAtBufferingStart",2],lca:["minPendingBufferLen",3E3],Zw:["maxPendingBufferLen",6E3],Ocb:["enableNginxRateLimit",!1],TX:["nginxSendingRate",4E4],Rcb:["enableRequestPacingToken",!1],Qob:["mediaRequestPacingSpeed",2],saa:["initialMediaRequestToken",2E4],mX:["maxActiveRequestsSABCell100",2],qX:["maxPendingBufferLenSABCell100",500],RFa:["resetActiveRequestsAtSessionInit",!0],Ccb:["enableCpr",!1],x6:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3]}],Vba:["maxStreamingSkew",2E3],iob:["maxBufferOccupancyForSkewCheck",Infinity],qCb:["useBufferOccupancySkipBack",!0],Sba:["maxPendingBufferPercentage",10],lA:["maxRequestsInBuffer",120],dW:["headerRequestSize",4096],$jb:["headerCacheEstimateHeaderSize",!1],yca:["neverWipeHeaderCache",!1],BJa:["useSidxInfoFromManifestForHeaderRequestSize",!1],NU:["fastPlayHeaderRequestSize",0],kA:["maxRequestSize",0],BF:["minRequestSize",65536],CX:["minBufferLenForHeaderDownloading",1E4],wHa:["smartHeaderPreDownloading",!1],TRb:["onlyAllowPtsUpdatePolling",!1],upb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],eZ:["reserveForSkipbackBufferMs",15E3],Qca:["numExtraFragmentsAllowed",2],uo:["pipelineEnabled",!0],tF:["maxParallelConnections",3],xHa:["socketReceiveBufferSize",0],mT:["audioSocketReceiveBufferSize",32768],eH:["videoSocketReceiveBufferSize",65536],O$:["headersSocketReceiveBufferSize",32768],wyb:["shareDownloadTracks",!0],mca:["minTimeBetweenHeaderRequests",void 0],s_:["updatePtsIntervalMs",1E3],S5:["bufferTraceDenominator",0],FD:["bufferLevelNotifyIntervalMs",2E3],uva:["enableAbortTesting",!1],ara:["abortRequestFrequency",8],cga:["streamingStatusIntervalMs",2E3],wr:["prebufferTimeLimit",6E4],DX:["minBufferLevelForTrackSwitch",2E3],Qcb:["enablePenaltyForLongConnectTime",!1],ida:["penaltyFactorForLongConnectTime",2],sba:["longConnectTimeThreshold",200],g5:["additionalBufferingLongConnectTime",2E3],h5:["additionalBufferingPerFailure",8E3],GN:["rebufferCheckDuration",6E4],yva:["enableLookaheadHints",!1],gBa:["lookaheadFragments",2],Az:["enableOCSideChannel",!0],Mda:["probeRequestTimeoutMilliseconds",3E4],sSb:["probeRequestConnectTimeoutMilliseconds",8E3],tQ:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],hJa:["updateDrmRequestOnNetworkFailure",!0],EBa:["maxDiffAudioVideoEndPtsMs",1E3],eRb:["maxAudioFragmentOverlapMs",80],bbb:["deferAseHeaderCache",!1],Gua:["deferAseScheduling",!1],BAb:["timeBeforeEndOfStreamBufferMark",6E3],Qba:["maxFastPlayBufferInMs",2E4],Pba:["maxFastPlayBitThreshold",2E8],job:["maxBufferingCompleteBufferInMs",Infinity],BX:["minAudioMediaRequestSizeBytes",0],HX:["minVideoMediaRequestSizeBytes",0],yF:["minAudioMediaRequestDuration",0],DF:["minVideoMediaRequestDuration",0],AF:["minMediaRequestDuration",0],mpb:["minAudioMediaRequestDurationCache",0],xpb:["minVideoMediaRequestDurationCache",0],Ncb:["enableMultiFragmentRequest",!1],$G:[["useHeaderCache","usehc"],!0],v_:[["useHeaderCacheData","usehcd"],!0],fU:["defaultHeaderCacheSize",4],z7:["defaultHeaderCacheDataCount",4],A7:["defaultHeaderCacheDataPrefetchMs",0],K$:["headerCacheMaxPendingData",6],L$:["headerCachePriorityLimit",5],cza:["headerCacheAdoptBothAV",!1],xCb:["usePipelineForBranchedAudio",!0],o7a:["childBranchBatchedAmount",1E4],IX:["minimumTimeBeforeBranchDecision",2E3],yob:["maxRequestsToAttachOnBranchActivation",void 0],mCa:["minimumJustInTimeBufferLevel",3E3],Jcb:["enableJustInTimeAppends",!1],wva:["enableDelayedSeamless",!1],jNb:["branchEndPtsIntervalMs",250],Akb:["ignorePtsJustBeforeCurrentSegment",!1],HBa:["maxFragsForFittableOnBranching",300],fsb:["pausePlaylistAtEnd",!0],i3a:["adaptiveParallelTimeoutMs",1E3],qE:["enableAdaptiveParallelStreaming",!1],R5:["bufferThresholdToSwitchToSingleConnMs",45E3],Q5:["bufferThresholdToSwitchToParallelConnMs",35E3],zcb:["enableAPSForBranching",!1],G_:["waitForPendingConnAdaptation",!1],wca:["networkFailureResetWaitMs",2E3],vca:["networkFailureAbandonMs",6E4],sX:["maxThrottledNetworkFailures",5],b_:["throttledNetworkFailureThresholdMs",200],yba:["lowThroughputThreshold",400],A8:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],AAb:["timeAtEachBitrateRoundRobin",1E4],qwb:["roundRobinDirection","forward"],ujb:["hackForHttpsErrorCodes",!1],qkb:["httpsConnectErrorAsPerm",!1],rCa:["mp4ParsingInNative",!1],Vf:["enableManagerDebugTraces",!1],vBa:["managerDebugMessageInterval",1E3],uBa:["managerDebugMessageCount",20],TCa:["notifyManifestCacheEom",!0],bL:["enableUsingHeaderCount",!1],yHa:["sourceBufferInOrderAppend",!0],Fr:["requireAudioStreamToEncompassVideo",!1],wra:["allowAudioToStreamPastVideo",!1],Nta:["countGapInBuffer",!1],xra:["allowCallToStreamSelector",!1],zsa:["bufferThresholdForAbort",2E4],XZ:["ase_stream_selector","optimized"],C5:["audiostreamSelectorAlgorithm","selectaudioadaptive"],raa:["initBitrateSelectorAlgorithm","default"],U5:["bufferingSelectorAlgorithm","default"],q7:["ase_ls_failure_simulation",""],o7:["ase_dump_fragments",!1],p7:["ase_location_history",0],r7:["ase_throughput",0],pua:["ase_simulate_verbose",!1],$c:["stallAtFrameCount",void 0],Kba:["marginPredictor","simple"],pCb:["useBackupUnderflowTimer",!0],HTb:["useManifestDrmHeader",!0],ITb:["useOnlyManifestDrmHeader",!0],xca:["networkMeasurementGranularity","video_location"],Zpb:["netIntrStoreWindow",36E3],FRb:["minNetIntrDuration",8E3],XZa:["fastHistoricBandwidthExpirationTime",10368E3],v_a:["bandwidthExpirationTime",5184E3],WZa:["failureExpirationTime",86400],cqa:["historyTimeOfDayGranularity",4],SZa:["expandDownloadTime",!0],e0a:["minimumMeasurementTime",500],d0a:["minimumMeasurementBytes",131072],r1a:["throughputMeasurementTimeout",2E3],q1a:["initThroughputMeasureDataSize",262144],Q_a:["historicBandwidthUpdateInterval",2E3],c0a:["minimumBufferToStopProbing",1E4],IMb:["throughputPredictor","ewma"],Rea:["secondThroughputEstimator","slidingwindow"],tGa:["secondThroughputMeasureWindowInMs",3E5],HMb:["throughputMeasureWindow",5E3],JMb:["throughputWarmupTime",5E3],GMb:["throughputIQRMeasureWindow",1E3],lMb:["IQRBucketizerWindow",15E3],IBa:["maxIQRSamples",100],hCa:["minIQRSamples",5],DMb:["connectTimeHalflife",10],wMb:["responseTimeHalflife",10],vMb:["historicThroughputHalflife",14400],uMb:["historicResponseTimeHalflife",100],tMb:["historicHttpResponseTimeHalflife",100],Gja:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],Opa:["minReportedNetIntrDuration",4E3],FMb:["throughputBucketMs",500],pMb:["bucketHoltWintersWindow",2E3],LZa:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")],TZa:["experimentalFilter",["throughput-wssl"]],w3:["filterDefinitionOverrides",{}],AZa:["defaultFilter","throughput-ewma"],V1a:["secondaryFilter","throughput-sw"],HC:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],xva:["enableHudsonFieldTest",!1],Bva:["enableWsslEstimate",!1],Xba:["maxWsslRequestSize",131072],Wba:["maxWsslRequestRatio",.2],VJa:["wsslAggregationMethod","max"],eaa:["hudsonTitles",["81127954","70125931"]],wob:["maxPartialBuffersAtHudson",1],YX:["numberOfChunksPerSegment",4],oAb:["targetContentLatency",1E4],oTb:["targetLongContentLatency",3E4],Dpb:["minimumTimeDelay",1],aL:["enableSessionHistoryReport",!0],d8:["earlyStageEstimatePeriod",1E4],GAa:["lateStageEstimatePeriod",3E4],pX:["maxNumSessionHistoryStored",10],GX:["minSessionHistoryDuration",3E5],bkb:["highAndStableModelName","baseline"],i8:["enableHighAndStablePredictor",!1],EX:["minNumSessionHistory",5],dNb:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],fW:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],ckb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],VS:["addHeaderDataToNetworkMonitor",!0],Wfa:["startMonitorOnLoadStart",!1],pea:["reportFailedRequestsToNetworkMonitor",!1],rY:["periodicHistoryPersistMs",0],lZ:["saveVideoBitrateMs",0],TM:["needMinimumNetworkConfidence",!0],O5:["biasTowardHistoricalThroughput",!1],Bnb:["logMemoryUsage",!1],dza:["headerCacheTruncateHeaderAfterParsing",!0],a5a:["audioFragmentDurationMilliseconds",null],TCb:["videoFragmentDurationMilliseconds",null],Qp:["probeServerWhenError",!0],Xs:["allowSwitchback",!0],MA:["probeDetailDenominator",100],oX:["maxDelayToReportFailure",300],IJ:["allowParallelStreaming",!1],Oob:["mediaPrefetchDisabled",!1],gCa:["minBufferLevelToAllowPrefetch",5E3],Et:["editVideoFragments",!1],zU:["editAudioFragments",!0],Iwb:["seamlessAudio",!1],Jwb:["seamlessAudioProfiles",[]],Kwb:["seamlessAudioProfilesAndTitles",{}],Qea:["seamlessAudioMaximumSyncError",void 0],XL:["insertSilentFrames",0],Jza:["insertSilentFramesOnExit",void 0],Iza:["insertSilentFramesOnEntry",void 0],Hza:["insertSilentFramesForProfile",void 0],dfb:["forceDiscontinuityAtTransition",!0],Cx:["supportAudioResetOnDiscontinuity",void 0],Bx:["supportAudioEasingOnDiscontinuity",void 0],Kq:["audioCodecResetForProfiles",["heaac-2-dash","heaac-2hq-dash"]],vcb:["editCompleteFragments",!0],zpb:["minimumAudioFramesPerFragment",1],$y:["applyProfileTimestampOffset",!1],On:["applyProfileStreamingOffset",!0],LEa:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],sCb:["useDpiAssumedAacEncoderDelay",!0],gca:["mediaSourceSupportsNegativePts",!1],zF:["minAudioPtsGap",void 0],c5a:["audioOverlapGuardSampleCount",2],Ava:["enableRecordJSBridgePerf",!1],u1:["JSBridgeTDigestConfig",{maxc:25,c:.5}],yAb:["throughputThresholdSelectorParam",0],nCb:["upswitchDuringBufferingFactor",2],f4a:["allowUpswitchDuringBuffering",!1],Ita:["contentOverrides",void 0],O6:["contentProfileOverrides",void 0],X$:["hindsightDenominator",0],W$:["hindsightDebugDenominator",0],NL:["hindsightAlgorithmsEnabled",["htwbr"]],gW:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],Jra:["appendMediaRequestOnComplete",!1],kP:["waitForDrmToAppendMedia",!1],c9:["forceAppendHeadersAfterDrm",!1],FN:["reappendRequestsOnSkip",!1],t7:["declareBufferingCompleteAtSegmentEnd",!1],kr:["maxActiveRequestsPerSession",void 0],gba:["limitAudioDiscountByMaxAudioBitrate",!1],r5:["appendFirstHeaderOnComplete",!0],YZ:["strictBufferCapacityCheck",!1],NJ:["aseReportDenominator",0],w5:["aseReportIntervalMs",3E5],Iga:["translateToVp9Draft",!1],MG:["switchableAudioProfiles",[]],d5a:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],cIa:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],g5a:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],RBa:["maxStartingVideoVMAF",110],CF:["minStartingVideoVMAF",1],EJ:["activateSelectStartingVMAF",!1],sZ:["selectStartingVMAFTDigest",-1],rG:["selectStartingVMAFMethod","fallback"],BGa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],RF:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],Fbb:["disablePtsStartsEvent",!0],gea:["recordFirstFragmentOnSubBranchCreate",!0],VBa:["mediaCacheConvertToBinaryData",!1],aca:["mediaCacheSaveOneObject",!1],ABa:["markRequestActiveOnFirstByte",!1],yU:["earlyAppendSingleChildBranch",!0],aH:["useNativeDataViewMethods",!0],n5:["alwaysNotifyEOSForPlaygraph",!1],rCb:["useCorrectDrainingAmounts",!0],j8:["enableNewAse",!1],YO:["useNewApi",!1],btb:["playgraphImmediateTransitionDistance",3E3],$5a:["branchDistanceThreshold",6E4]};d.Zn=d.g8a;},function(g,d,a){var h,q;function c(){this.Es=this.JI=this.FR=this.TR=this.CR=null;}function f(a){this.K=a;this.Ms=[];this.Dn=new c();this.ZI();}h=a(6);a(13);a(16);q=a(3);new q.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Yd=function(a){var b;b=!1;a&&h.has(a,"ens")&&h.has(a,"lns")&&h.has(a,"fns")&&h.has(a,"d")&&h.has(a,"t")&&(this.CR=a.ens,this.TR=a.lns,this.FR=a.fns,this.JI=a.d,this.Es=a.t,b=!0);return b;};c.prototype.Yc=function(){var a;if(h.Ja(this.CR)||h.Ja(this.TR)||h.Ja(this.FR)||h.Ja(this.JI)||h.Ja(this.Es))return null;a={d:this.JI,t:this.Es};a.ens=this.CR;a.lns=this.TR;a.fns=this.FR;return a;};c.prototype.get=function(){var a,c;a=this.Yc();if(a){c=new Date(this.Es);a.dateint=1E4*c.getFullYear()+100*(c.getMonth()+1)+c.getDate();a.hour=c.getHours();}return a;};f.prototype.ZI=function(){var a;a=q.storage.get("sth");a&&this.Yd(a);};f.prototype.Yd=function(a){var b,f;b=null;f=this.K;a.forEach(function(a){var f;f=new c();f.Yd(a)?(b=!0,this.Ms.push(f)):h.Ja(b)&&(b=!1);},this);this.Ms=this.Ms.filter(function(a){return a.JI>=f.GX;});this.Ms.sort(function(a,b){return a.Es-b.Es;});return h.Ja(b)?!0:b;};f.prototype.B3=function(){var a;a=[];this.Ms.forEach(function(b){a.push(b.Yc());},this);return a;};f.prototype.save=function(){var a,f,d;a=this.B3();f=this.K;d=this.Dn.Yc();d&&d.d>=f.GX&&(a.push(d),this.Ms.push(this.Dn));a.length>f.pX&&(a=a.slice(a.length-f.pX,a.length));this.Dn=new c();a&&q.storage.set("sth",a);};f.prototype.reset=function(){this.Dn=new c();};f.prototype.rgb=function(){return this.Dn.get();};f.prototype.Eib=function(){return this.Ms.length+1;};f.prototype.m3a=function(a){this.Dn.CR=a;this.Dn.Es=q.time.fa();};f.prototype.z3a=function(a){this.Dn.TR=a;this.Dn.Es=q.time.fa();};f.prototype.r3a=function(a,c){this.Dn.FR=a;this.Dn.Es=q.time.fa();this.Dn.JI=c;};g.P=f;},function(g,d,a){var f,h,q,b;function c(a){var b;b=nrdp.Yh.hTb.match(/android-(\d*)/);b?23<b[1]?(a.Cx=!1,a.Bx=!1,a.Kq=void 0):(b=nrdp.Yh.yKb.ONb.platform.iSb.match(/(\d*)\.(\d*).(\d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.Cx=!0,a.Bx=!1,a.Kq=void 0):(a.Cx=!1,a.Bx=!1,a.Kq=[]):(a.Cx=!1,a.Bx=!1,a.Kq=[]):(a.Cx=!1,a.Bx=!1,a.Kq=[]);}f=a(8).assert;a(69);h=a(3);q=h.Lj;b=h.OSa;g.P=function(){var a,d,g;new h.Console("ASEJSMONKEY","media|asejs");if(!h.Lj.oc){a=function(a){this.Y_a=a;};d=b.prototype.appendBuffer;h.MediaSource.oc||(h.MediaSource.oc={});"undefined"!==typeof nrdp&&nrdp.OMb&&(c(h.MediaSource.oc),h.MediaSource.oc.ota=!1,h.MediaSource.oc.wCa=!1);h.Lj.oc={mG:{lha:!0,ty:!0,lla:!0}};Object.defineProperty(q.prototype,"_response",{get:function(){return this.m2a||this.zZa;},set:function(a){this.zZa=a;}});g=q.prototype.open;q.prototype.open=function(b,c,f,d,k,h,m){1===f&&(this.m2a=new a(this));return g.call(this,b,c,f,d,k,h,m);};q.prototype.HN=function(){this.dD=void 0;};b.prototype.appendBuffer=function(b){if(b instanceof ArrayBuffer)return d.call(this,b);if(b instanceof a)return this.cT(b.Y_a);f(!1);};}};},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(82);g=function(){function a(a){this.console=a;this.Ky=[];this.Gv=[];c.nb&&this.console.trace("Received pending adoption "+this.rx.length);}Object.defineProperties(a.prototype,{length:{get:function(){return this.Ky.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{rx:{get:function(){return this.Gv;},enumerable:!0,configurable:!0}});a.prototype.dob=function(a){a=this.Gv.indexOf(a);-1!==a&&(c.nb&&this.console.trace("Marking request attached"),this.Ky[a].Oza=!0,this.SIa(a));};a.prototype.eob=function(a){a=this.Gv.indexOf(a);-1!==a&&(c.nb&&this.console.trace("Marking request completed"),this.Ky[a].Ml=!0,this.SIa(a));};a.prototype.Evb=function(a){var c,b;c=this;b=[];this.Gv.forEach(function(c,f){a(c)&&b.unshift(f);});b.forEach(function(a){c.Gv.splice(a,1);c.Ky.splice(a,1);});};a.prototype.push=function(a){this.Gv.push(a);this.Ky.push({Oza:!1,Ml:!1});c.nb&&this.console.trace("Pushing pending request, "+this.length+" total");};a.prototype.Rz=function(){return 0<this.length;};a.prototype.SIa=function(a){var f;f=this.Ky[a];f.Oza&&f.Ml&&(f=this.Gv[a],this.Gv.splice(a,1),this.Ky.splice(a,1),c.nb&&this.console.trace("Removing request, "+this.length+" left"),0===this.length&&c.nb&&this.console.trace("Removing last request, contentEndPts: "+f.$d));};return a;}();d.CKa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){return function(){};}();d.vKb=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.zqa=a;}Object.defineProperties(a.prototype,{$E:{get:function(){return this.D_a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.zqa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{lwb:{get:function(){var a;a=this;return this.zqa.then(function(){return a;});},enumerable:!0,configurable:!0}});a.prototype.cancel=function(){this.D_a=!0;};a.prototype.Sca=function(a,f){var c;c=this;this.result.then(function(d){c.$E?f&&f(d):a(d);});return this;};return a;}();d.EXa=g;},function(g,d,a){var c,f,h,q,b;Object.defineProperty(d,"__esModule",{value:!0});c=a(6);f=a(21);h=a(21);q=a(3);b=a(704);g=function(){var W7D;function a(a,b,c,f){var H7D,u7D;H7D=2;while(H7D!==9){u7D="1SI";u7D+="Y";u7D+="bZ";u7D+="rNJC";u7D+="p9";switch(H7D){case 4:this.Rf=f;u7D;H7D=9;break;case 2:this.qa=a;this.I=b;this.eb=c;H7D=4;break;}}}W7D=2;while(W7D!==13){switch(W7D){case 2:a.prototype.aB=function(a,b){var x7D,d,g,k,m,p,t,q,l,d7D,P7D,I7D,n7D,b7D,j7D,s7D,c7D,E7D,N7D,f7D,R7D,T7D,L7D;x7D=2;while(x7D!==48){d7D="se";d7D+="e";d7D+="kD";d7D+="elayed";P7D="s";P7D+="eekFa";P7D+="i";P7D+="l";P7D+="ed";I7D="seek, ";I7D+="no manifest a";I7D+="t manifest";I7D+="Index";I7D+=":";n7D="see";n7D+="kD";n7D+="ela";n7D+="y";n7D+="ed";b7D="se";b7D+="ek";b7D+="Fail";b7D+="ed";j7D="after seekin";j7D+="g, playerState";j7D+=" no longer STARTING: ";s7D=" ";s7D+="pl";s7D+="ayerState: ";c7D=" media.c";c7D+="ur";c7D+="rentPts";c7D+=": ";E7D=" current";E7D+=" man";E7D+="ifest";E7D+=": ";N7D=" ma";N7D+="nifestInd";N7D+="ex: ";f7D="se";f7D+="ek";f7D+=": ";R7D="s";R7D+="e";R7D+="e";R7D+="k";T7D="p";T7D+="t";T7D+="schan";T7D+="ged";L7D="see";L7D+="kDe";L7D+="lay";L7D+="e";L7D+="d";switch(x7D){case 21:x7D=a>m?35:29;break;case 35:x7D=k.O.se.mf?34:30;break;case 51:this.qa.qJ();x7D=41;break;case 16:this.Hv={Ua:b,Fi:a};this.qa.emit(L7D);return;break;case 11:x7D=b!=this.qa.ad.O.Ua?10:24;break;case 40:return this.qa.emit(T7D,g),this.qa.emit(R7D),this.DJ(b),a=m&&this.qa.Wa.us()?100:0,this.qa.vS(1,a),this.qa.Sh(),g;break;case 17:x7D=!this.qa.zoa(b)?16:26;break;case 9:g=a;k.Vf&&this.Rf.Ni(f7D+a+N7D+b+E7D+this.qa.ad.O.Ua+c7D+m+s7D+this.qa.V.Yc());c.U(b)&&(b=this.qa.ad.O.Ua);this.qa.na.SFa();x7D=14;break;case 42:h.Of.forEach(function(a){var Q7D;Q7D=2;while(Q7D!==5){switch(Q7D){case 2:d.qa.Bq[a].jwb();d.qa.Ie[a].reset(!0);Q7D=5;break;}}});x7D=41;break;case 39:this.I.warn(j7D+this.qa.V.Yc());this.qa.emit(b7D);x7D=48;break;case 50:this.Hv={Ua:b,Fi:a},this.qa.emit(n7D);x7D=48;break;case 25:return;break;case 5:null===(g=this.wpa)||void 0===g?void 0:g.cancel();k=this.qa.K;m=this.qa.V.sd();x7D=9;break;case 2:d=this;x7D=5;break;case 49:this.I.warn(I7D,b),this.qa.emit(P7D);x7D=48;break;case 14:x7D=(k=this.qa.Df(b))?13:49;break;case 41:x7D=this.qa.V.lAa()?40:39;break;case 34:x7D=!this.qa.LS(k.O.Ua+1)?33:29;break;case 23:x7D=m.length?22:50;break;case 29:this.qa.V.Yd(f.oa.rg);this.qa.$fa();this.qa.na.jAb(a,b);x7D=43;break;case 37:this.qa.u4();q=this.qa.na.Nb.AT(a).cG;k.Hca();l=this.qa.na.Nb;h.Of.forEach(function(a){var t7D,b;t7D=2;while(t7D!==4){switch(t7D){case 2:b=l.Ic(a);d.eb(a)&&d.u1a(b,q[a]);t7D=4;break;}}});x7D=51;break;case 30:a=m,g=a+this.qa.na.Ed;x7D=29;break;case 13:!k.O.se.CM&&0<b&&(g=this.qa.xK(b,a));this.qa.V.Yd(f.oa.jm);x7D=11;break;case 22:m=this.qa.Pn?this.qa.qk?Math.min(m[0].T,m[1].T):m[0].T:m[1].T;x7D=21;break;case 26:x7D=this.tt(this.qa.na.k$(b),!1,!0)?25:24;break;case 43:x7D=(m=this.qa.ad.O.Ua===b&&!this.F_a(b)&&a===k.T)?42:37;break;case 24:m=this.qa.na.Nb.lL(k.ga||Infinity,k.O);x7D=23;break;case 10:b<this.qa.ad.O.Ua&&k.O.se.replace&&(k.O.se.replace=!1);p=this.qa.ad;t=this.qa.na.Nb;h.Of.forEach(function(a){var D7D;D7D=2;while(D7D!==1){switch(D7D){case 2:(a=t.Ic(a))&&d.qa.Dqa(a,p.fx);D7D=1;break;}}});x7D=17;break;case 33:this.Hv={Ua:k.O.Ua+1,Fi:a};this.qa.emit(d7D);return;break;}}};a.prototype.seek=function(a,b){var Y7D,f;Y7D=2;while(Y7D!==8){switch(Y7D){case 2:f=a;c.U(b)&&(b=this.qa.ad.O.Ua);this.qa.na.SFa();this.qa.Df(b).O.se.CM||this.qa.TC||(f=this.qa.xt(b,a));return this.aB(f,b);break;}}};a.prototype.tt=function(a,b,c){var O7D,d,p7D,B7D;O7D=2;while(O7D!==8){p7D="se";p7D+="e";p7D+="k";B7D="pts";B7D+="c";B7D+="h";B7D+="anged";switch(O7D){case 5:O7D=b?4:3;break;case 3:d?(this.qa.V.Yd(f.oa.jm),(a=this.qa.na.kk.children[a])&&this.qa.emit(B7D,a.qc),this.qa.V.Yd(f.oa.rg),this.qa.emit(p7D),a&&this.DJ(a.O.Ua),this.qa.vS(1),this.qa.Sh(),this.qa.Wa.us()):c||(a=this.qa.na.Aib(a),this.aB(a));return d;break;case 4:return d;break;case 2:d=this.qa.na.tt(a,b);O7D=5;break;}}};W7D=4;break;case 4:a.prototype.F_a=function(a){var U7D;U7D=2;while(U7D!==1){switch(U7D){case 2:return!!this.qa.Df(a).LJ;break;case 4:return~+this.qa.Df(a).LJ;break;U7D=1;break;}}};a.prototype.DJ=function(a){var m7D,b;m7D=2;while(m7D!==3){switch(m7D){case 2:b=this;a=this.qa.Df(a);a.LJ||(a.LJ=!0,h.Of.forEach(function(a){var C7D;C7D=2;while(C7D!==1){switch(C7D){case 2:b.qa.Ie[a].resume();C7D=1;break;}}}),this.qa.qJ());m7D=3;break;}}};a.prototype.u1a=function(a,b){var w7D,c,f,d;w7D=2;while(w7D!==6){switch(w7D){case 2:c=this;w7D=5;break;case 3:a.awb();w7D=9;break;case 5:d=a.M;a.eB(b);w7D=3;break;case 9:w7D=(null===(f=this.qa.sg)||void 0===f?0:f.Rz())?8:7;break;case 8:this.qa.sg.rx.forEach(function(a){var o7D;o7D=2;while(o7D!==1){switch(o7D){case 4:c.qa.Vy(a,~2);o7D=8;break;o7D=1;break;case 2:c.qa.Vy(a,!1);o7D=1;break;}}}),this.qa.sg=void 0;w7D=7;break;case 7:this.qa.UK.sqa(d,a.Dd.O);w7D=6;break;}}};a.prototype.u3=function(){var y7D,a,b;y7D=2;while(y7D!==9){switch(y7D){case 5:a=this.Hv.Fi;b=this.Hv.Ua;this.qa.Df(b)&&(this.Hv=void 0,this.aB(a,b));y7D=9;break;case 2:y7D=1;break;case 1:y7D=this.Hv?5:9;break;}}};a.prototype.Ti=function(a){var S7D,d,g,k;function c(b,f){var g7D,M7D;g7D=2;while(g7D!==5){M7D="skip";M7D+=": unexpected behaviour - a non-pr";M7D+="esen";M7D+="ting branch doesn't have ";M7D+="a previous branch";switch(g7D){case 2:b!==d.qa.na.kk&&(b.sf?c(b.sf,f):d.I.error(M7D));(b=b.Ic(f))&&b.Ti(a);g7D=5;break;}}}S7D=2;while(S7D!==14){switch(S7D){case 2:d=this;S7D=5;break;case 5:null===(g=this.wpa)||void 0===g?void 0:g.cancel();k=this.qa.K;this.qa.$fa();this.qa.na.kk.Ti(a);h.Of.forEach(function(a){var A7D,b,Z7D;A7D=2;while(A7D!==8){Z7D="skip: not ";Z7D+="re";Z7D+="s";Z7D+="uming bufferManager, audio tra";Z7D+="ck switch in progress";switch(A7D){case 2:A7D=1;break;case 1:A7D=d.eb(a)?5:8;break;case 5:b=d.qa.Wa.Be[a];d.qa.ao&&(b.Rfa=q.time.fa());k.FN?d.qa.Ie[a].reset():b.fH?b.Ia(Z7D):d.qa.Ie[a].resume();c(d.qa.na.Nb,a);A7D=8;break;}}});this.wpa=g=new b.EXa(this.qa.CG());return g.Sca(function(){var G7D,z7D;G7D=2;while(G7D!==4){z7D="s";z7D+="k";z7D+="i";z7D+="p";switch(G7D){case 2:d.qa.V.Yd(f.oa.Ec);d.qa.yJ();d.qa.emit(z7D);G7D=4;break;}}}).lwb;break;}}};a.prototype.pt=function(a){var K7D,b,c;K7D=2;while(K7D!==6){switch(K7D){case 9:b=this.qa.Vq(a,0,!0);a=this.qa.Vq(a,1,!0);return void 0!==b&&void 0!==a&&b.complete&&a.complete;break;case 4:K7D=a<b.qc||a>=c?3:9;break;case 2:b=this.qa.na.kk;c=0<Object.keys(b.la&&b.la.jj||{}).length&&!b.Gi?b.te-this.qa.K.IX:b.te;K7D=4;break;case 3:return!1;break;}}};return a;break;}}}();d.MWa=g;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(3).Promise;g=function(){function a(){this.jS=[];}Object.defineProperties(a.prototype,{bF:{get:function(){return 0!==this.jS.length;},enumerable:!0,configurable:!0}});a.prototype.L3a=function(){var a,b;a=this;b=new f(function(){return a.jS=a.jS.filter(function(a){return a!==b;});});this.jS.push(b);return b;};a.prototype.RJa=function(a){var b;b=this.L3a();try{return c.resolve(a()).then(function(a){b.release();return a;},function(a){b.release();return c.reject(a);});}catch(k){return b.release(),c.reject(k);}};return a;}();d.$Va=g;f=function(){function a(a){this.C1a=a;}a.prototype.release=function(){this.C1a();};return a;}();},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(21);f=a(16);g=function(){function a(a){this.pK=a;this.state=new f.uQ(c.oa.rg);this.Ol={};}a.prototype.Yc=function(){return this.state.value;};a.prototype.Yd=function(a){this.state.set(a);};a.prototype.addListener=function(a){this.state.addListener(a);};a.prototype.paused=function(){this.state.value===c.oa.Ec&&this.state.set(c.oa.jh);};a.prototype.UO=function(){this.state.value===c.oa.jh&&this.state.set(c.oa.Ec);};a.prototype.lAa=function(){return this.state.value===c.oa.rg;};a.prototype.Mw=function(){return"function"===typeof this.pK.Mw?this.pK.Mw():this.state.value===c.oa.Ec;};a.prototype.Li=function(){return this.state.value===c.oa.Pe||this.state.value===c.oa.Lh;};a.prototype.Ff=function(){return this.state.value===c.oa.jm;};a.prototype.mAa=function(){return this.state.value===c.oa.jC;};a.prototype.sd=function(){return this.pK.sd();};a.prototype.Z9=function(){return this.pK.Z9();};a.prototype.sfa=function(a,b){this.Ol[a]=b;};a.prototype.dr=function(a){return!!this.Ol[a];};return a;}();d.SKa=g;},function(g,d,a){var c,f,h,q,b,k;Object.defineProperty(d,"__esModule",{value:!0});c=a(6);f=a(170);h=a(13);q=a(69);b=a(3);k=a(16);a(8);g=function(){var V7D;V7D=2;function a(a,b){var X7D,n9D;X7D=2;while(X7D!==4){n9D="1SIYbZrNJ";n9D+="C";n9D+="p9";switch(X7D){case 2:this.Ha=a;this.I=b;n9D;X7D=4;break;}}}while(V7D!==39){switch(V7D){case 5:a.prototype.D0a=function(a,b,c,f,d){var v7D,I9D;v7D=2;while(v7D!==1){I9D="p";I9D+="t";I9D+="sStar";I9D+="ts";switch(v7D){case 2:this.Ha.K.Fbb||(a={type:I9D,manifestIndex:a,mediaType:b,movieId:f,streamId:c,ptsStarts:d.IHa()},k.Ga(this.Ha,a.type,a));v7D=1;break;}}};a.prototype.u0a=function(a,b){var i7D,P9D;i7D=2;while(i7D!==5){P9D="hea";P9D+="der";P9D+="Cac";P9D+="heHi";P9D+="t";switch(i7D){case 2:a={type:P9D,movieId:a,streamId:b};k.Ga(this.Ha,a.type,a);i7D=5;break;}}};a.prototype.t0a=function(a,b,c,f,d){var e7D,g,d9D;e7D=2;while(e7D!==9){d9D="headerCach";d9D+="eData";d9D+="Hit";switch(e7D){case 4:a={type:d9D,movieId:a,audio:b,audioFromMediaCache:f,video:c,videoFromMediaCache:d,actualStartPts:g&&g.vl,headerCount:g&&g.Bp,stats:g&&g.Sb};k.Ga(this.Ha,a.type,a);e7D=9;break;case 2:g=this.Ha.opa;this.Ha.opa=void 0;e7D=4;break;}}};a.prototype.B0a=function(a,b,c){var a7D,B9D;a7D=2;while(a7D!==5){B9D="ma";B9D+="xPosi";B9D+="tion";switch(a7D){case 2:a={type:B9D,index:a,endPts:b,maxPts:c};k.Ga(this.Ha,a.type,a);a7D=5;break;}}};a.prototype.K0a=function(a,b,c,f,d,g){var h7D,M9D,p9D;h7D=2;while(h7D!==4){M9D="notifyStrea";M9D+="mingErr";M9D+="or: ";p9D="e";p9D+="rro";p9D+="r";switch(h7D){case 2:a={type:p9D,error:a,errormsg:b,networkErrorCode:c,httpCode:f,nativeCode:d,manifestIndex:void 0!==g?g:this.Ha.tN};this.I.error(M9D+JSON.stringify(a));k.Ga(this.Ha,a.type,a);h7D=4;break;}}};V7D=7;break;case 7:a.prototype.YR=function(a,b){var r7D,Z9D;r7D=2;while(r7D!==5){Z9D="segm";Z9D+="e";Z9D+="n";Z9D+="tStar";Z9D+="ting";switch(r7D){case 2:b={type:Z9D,segmentId:a.id,contentOffset:b,maxBitrates:{audio:a.O.Hp[0],video:a.O.Hp[1]}};a.lx||k.Ga(this.Ha,b.type,b);r7D=5;break;}}};a.prototype.F0a=function(a){var F7D,b,z9D;F7D=2;while(F7D!==4){z9D="segment";z9D+="Ab";z9D+="orted";switch(F7D){case 1:b={type:z9D,segmentId:a.id};F7D=5;break;case 5:a.lx||k.Ga(this.Ha,b.type,b);F7D=4;break;case 2:F7D=1;break;}}};a.prototype.k_a=function(a,f){var k9D,d,g,k,i9D,v9D,l9D,q9D,X9D,V9D;k9D=2;while(k9D!==20){i9D="s";i9D+="ea";i9D+="m";i9D+="le";i9D+="ss";v9D="r";v9D+="ese";v9D+="t";l9D="sk";l9D+="i";l9D+="p";q9D="l";q9D+="o";q9D+="n";q9D+="g";X9D="l";X9D+="o";X9D+="n";X9D+="g";V9D="se";V9D+="am";V9D+="less";switch(k9D){case 2:d={segment:a,srcsegment:f.NZ,srcoffset:f.CHa,seamlessRequested:f.oZ,atRequest:{},discard:{}};k=f.fd[a];k9D=4;break;case 4:k?(g=k.weight,q(k.dK,d.atRequest)):g=this.Ha.na.pya(f.NZ,a);d.atRequest.weight=g;c.Ud(f.fd,function(b,c){var J9D;J9D=2;while(J9D!==1){switch(J9D){case 2:c!=a&&(d.discard[c]={weight:b.weight},q(b.dK,d.discard[c]));J9D=1;break;}}});k9D=8;break;case 8:g=f.oZ?f.XV?V9D:X9D:f.BCa?q9D:f.Ti?l9D:v9D;d.transitionType=g;f.abb||(d.delayToTransition=f.jU);g=i9D===g?0:b.time.fa()-f.startTime;k9D=13;break;case 13:d.durationOfTransition=g;d.atTransition=f.JIa;d.srcsegmentduration=this.Ha.na.zib(f.NZ);return d;break;}}};a.prototype.I0a=function(a,b,c){var W9D,e9D;W9D=2;while(W9D!==4){e9D="seg";e9D+="men";e9D+="tPr";e9D+="esen";e9D+="ting";switch(W9D){case 2:c=c?this.k_a(a.id,c):void 0;a={type:e9D,segmentId:a.id,contentOffset:b,metrics:c,playlistSegment:a.lx,manifestIndex:a.O.Ua};k.Ga(this.Ha,a.type,a);W9D=4;break;}}};V7D=12;break;case 12:a.prototype.G0a=function(a,b){var H9D,a9D;H9D=2;while(H9D!==5){a9D="segmen";a9D+="tAppen";a9D+="d";a9D+="ed";switch(H9D){case 2:b={type:a9D,segmentId:a.id,metrics:b};a.lx||k.Ga(this.Ha,b.type,b);H9D=5;break;}}};a.prototype.H0a=function(a,b,c){var x9D,h9D;x9D=2;while(x9D!==5){h9D="segm";h9D+="entCompl";h9D+="ete";switch(x9D){case 2:a={type:h9D,mediaType:a,manifestIndex:b,segmentId:c.id};k.Ga(this.Ha,a.type,a);x9D=5;break;}}};a.prototype.c4=function(a,b){var D9D,r9D;D9D=2;while(D9D!==5){r9D="lastS";r9D+="egmen";r9D+="t";r9D+="Pts";switch(D9D){case 2:b={type:r9D,segmentId:a.id,pts:Math.floor(b)};a.lx||k.Ga(this.Ha,b.type,b);D9D=5;break;}}};a.prototype.z0a=function(a,b,c,f,d){var Q9D,F9D;Q9D=2;while(Q9D!==5){F9D="ma";F9D+="n";F9D+="ifes";F9D+="tRan";F9D+="ge";switch(Q9D){case 2:a={type:F9D,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(f),maxPts:Math.floor(d)};k.Ga(this.Ha,a.type,a);Q9D=5;break;}}};a.prototype.Tpa=function(a){var t9D,k3D;t9D=2;while(t9D!==5){k3D="m";k3D+="axBi";k3D+="trates";switch(t9D){case 2:a={type:k3D,audio:a[0],video:a[1]};k.Ga(this.Ha,a.type,a);t9D=5;break;}}};a.prototype.A0a=function(a,b){var Y9D,c,W3D,J3D;Y9D=2;while(Y9D!==9){W3D="manifest";W3D+="Selecte";W3D+="d";J3D="no";J3D+="tifyMa";J3D+="nifestSelecte";J3D+="d: ";switch(Y9D){case 4:c.Vf&&(b=J3D+JSON.stringify(a),c.Vf&&this.Ni(b));k.Ga(this.Ha,a.type,a);Y9D=9;break;case 2:c=this.Ha.K;a={type:W3D,index:a,replace:b.O.se.replace,ptsStarts:b.cG,streamingOffset:b.T+b.jr};Y9D=4;break;}}};a.prototype.y0a=function(a,b,c,f,d){var O9D,H3D;O9D=2;while(O9D!==4){H3D="manife";H3D+="s";H3D+="tP";H3D+="resentin";H3D+="g";switch(O9D){case 2:a={type:H3D,index:a.Ua,pts:Math.floor(b),movieId:a.u,replace:a.se.replace,contentOffset:c};null!=f&&null!=d&&(a.previousMovieId=f,a.previousIndex=d);k.Ga(this.Ha,a.type,a);O9D=4;break;}}};V7D=16;break;case 2:a.prototype.Fs=function(a){var q7D,x3D;q7D=2;while(q7D!==5){x3D="startE";x3D+="ve";x3D+="nt";switch(q7D){case 2:a={type:x3D,event:a,time:b.time.fa()};k.Ga(this.Ha,a.type,a);q7D=5;break;}}};V7D=1;break;case 28:a.prototype.r0a=function(a){var E9D,D3D;E9D=2;while(E9D!==5){D3D="endOf";D3D+="S";D3D+="tream";switch(E9D){case 2:a={type:D3D,mediaType:a};k.Ga(this.Ha,a.type,a);E9D=5;break;}}};a.prototype.Tl=function(a){var c9D,t3D,Q3D;c9D=2;while(c9D!==1){t3D="aseexc";t3D+="ep";t3D+="ti";t3D+="o";t3D+="n";Q3D="as";Q3D+="e";Q3D+="ex";Q3D+="ceptio";Q3D+="n";switch(c9D){case 2:this.Ha.emit(Q3D,{type:t3D,msg:a});c9D=1;break;}}};a.prototype.wqb=function(a,c,f,d){var s9D,O3D,Y3D;s9D=2;while(s9D!==5){O3D="maxvi";O3D+="deobitratechange";O3D+="d";Y3D="max";Y3D+="videobitrat";Y3D+="e";Y3D+="changed";switch(s9D){case 2:a={type:Y3D,time:b.time.fa(),spts:d,maxvb_old:a,maxvb:c,reason:f};this.Ha.emit(O3D,a);s9D=5;break;}}};V7D=42;break;case 32:a.prototype.M0a=function(){var T9D,a,U3D;T9D=2;while(T9D!==9){U3D="s";U3D+="treami";U3D+="ngst";U3D+="at";switch(T9D){case 4:this.Ha.ff.seb(a);T9D=3;break;case 2:this.Ha.K.Bnb&&b.memory.dhb(this.R_a.bind(this));a={type:U3D,time:b.time.fa(),playbackTime:this.Ha.V.sd()};T9D=4;break;case 3:k.Ga(this.Ha,a.type,a);T9D=9;break;}}};a.prototype.Rpa=function(){var R9D,a,m3D;R9D=2;while(R9D!==3){m3D="a";m3D+="s";m3D+="erep";m3D+="o";m3D+="rt";switch(R9D){case 8:R9D=6;break;R9D=1;break;case 7:R9D=this.Ha.Er?9:0;break;R9D=this.Ha.Er?5:3;break;case 2:R9D=1;break;case 1:R9D=this.Ha.Er?5:3;break;case 5:a={type:m3D};this.Ha.Er.qeb(a)&&k.Ga(this.Ha,a.type,a);R9D=3;break;}}};a.prototype.l0a=function(){var f9D,a,C3D;f9D=2;while(f9D!==4){C3D="a";C3D+="sere";C3D+="portena";C3D+="bl";C3D+="ed";switch(f9D){case 9:a={type:""};f9D=6;break;f9D=5;break;case 5:k.Ga(this.Ha,a.type,a);f9D=4;break;case 2:a={type:C3D};f9D=5;break;}}};a.prototype.v0a=function(a){var N9D,b,c,f,d,g,h,m,p,q,t,l,n,r,U,W,fa,V,ma,A,z,w3D,g3D,S3D,y3D,o3D;N9D=2;while(N9D!==7){w3D="hindsightr";w3D+="epo";w3D+="rt";switch(N9D){case 2:N9D=1;break;case 5:b={type:w3D};c=this.Ha.K.NL;for(f in c){g3D="h";g3D+="v";g3D+="m";g3D+="a";g3D+="fdp";S3D="h";S3D+="vm";S3D+="afgr";y3D="h";y3D+="vm";y3D+="a";y3D+="f";y3D+="tb";o3D="h";o3D+="tw";o3D+="b";o3D+="r";d=c[f];g=0;h=0;m=0;p=0;q=0;t=0;l=void 0;n=void 0;r=!1;U=-1;W=-1;fa=-1;V=-1;ma=-1;A=-1;for(z in a)n=a[z],void 0===n.nd&&(l=(l=n.sols)&&l[d])&&(r=!0,m+=l.dlvdur,g+=l.dltwbr*l.dlvdur,h+=l.dlvmaf*l.dlvdur),t+=n.pbdur,p+=n.pbtwbr*n.pbdur,q+=n.pbvmaf*n.pbdur,l=n.rr,n=n.ra;0<t&&(U=1*p/t,V=1*q/t);r&&(0<m&&(W=1*g/m,ma=1*h/m),0<m+t&&(fa=1*(g+p)/(m+t),A=1*(h+q)/(m+t)));switch(d){case o3D:b.htwbr=fa;b.hptwbr=W;b.pbtwbr=U;l&&(b.rr=l,b.ra=n);break;case y3D:b.hvmaftb=A;b.hpvmaftb=ma;b.pbvmaftb=V;l&&(b.rrvmaftb=l,b.ravmaftb=n);break;case S3D:b.hvmafgr=A;b.hpvmafgr=ma;b.pbvmafgr=V;l&&(b.rrvmafgr=l,b.ravmafgr=n);break;case g3D:b.hvmafdp=A,b.hpvmafdp=ma,b.pbvmafdp=V,l&&(b.rrvmafdp=l,b.ravmafdp=n);}}N9D=9;break;case 1:N9D=a?5:7;break;case 9:this.Ha.rE&&(b.report=a);k.Ga(this.Ha,b.type,b);N9D=7;break;}}};V7D=28;break;case 27:a.prototype.L0a=function(a,b,c,d){var C9D,A3D;C9D=2;while(C9D!==4){A3D="updateSt";A3D+="ream";A3D+="ingPts";switch(C9D){case 2:b={type:A3D,mediaType:a,manifestIndex:b,trackIndex:c,movieTime:Math.floor(d)};f.fl.Il(a);C9D=5;break;case 5:k.Ga(this.Ha,b.type,b);C9D=4;break;}}};a.prototype.s0a=function(a){var w9D,G3D;w9D=2;while(w9D!==5){G3D="firstRequestApp";G3D+="e";G3D+="nded";switch(w9D){case 2:a={type:G3D,manifestIndex:a.Sa.Dd.O.Ua,mediatype:a.M,time:b.time.fa()};k.Ga(this.Ha,a.type,a);w9D=5;break;}}};a.prototype.w0a=function(a,b){var o9D,K3D;o9D=2;while(o9D!==5){K3D="initia";K3D+="l";K3D+="AudioTr";K3D+="a";K3D+="ck";switch(o9D){case 2:a={type:K3D,trackId:b,trackIndex:a};k.Ga(this.Ha,a.type,a);o9D=5;break;}}};V7D=24;break;case 16:a.prototype.J0a=function(a,b,c,d){var U9D,g,u3D;U9D=2;while(U9D!==9){u3D="str";u3D+="eamPr";u3D+="esen";u3D+="tin";u3D+="g";switch(U9D){case 2:g=a.M;f.fl.Il(g);U9D=4;break;case 4:a={type:u3D,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:g,manifestIndex:d,trackIndex:a.track.CJ,streamIndex:a.Ch};k.Ga(this.Ha,a.type,a);U9D=9;break;}}};a.prototype.N0a=function(a){var m9D,L3D;m9D=2;while(m9D!==5){L3D="video";L3D+="L";L3D+="o";L3D+="oped";switch(m9D){case 2:a={type:L3D,offset:a};k.Ga(this.Ha,a.type,a);m9D=5;break;}}};V7D=27;break;case 1:a.prototype.C0a=function(){var l7D,a,T3D;l7D=2;while(l7D!==4){T3D="openCo";T3D+="m";T3D+="pl";T3D+="ete";switch(l7D){case 2:a={type:T3D};k.Ga(this.Ha,a.type,a);l7D=4;break;}}};V7D=5;break;case 24:a.prototype.n0a=function(a,b){var y9D,R3D;y9D=2;while(y9D!==3){R3D="audio";R3D+="TrackSwitchS";R3D+="tar";R3D+="ted";switch(y9D){case 5:b={type:R3D,oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:b.language,newNumChannels:b.channels};k.Ga(this.Ha,b.type,b);y9D=3;break;case 2:a=a.iA;b=b.iA;y9D=5;break;}}};a.prototype.m0a=function(a,b){var S9D,c;S9D=2;while(S9D!==4){switch(S9D){case 2:S9D=1;break;case 1:c=this;setTimeout(function(){var g9D,f,f3D;g9D=2;while(g9D!==4){f3D="au";f3D+="dioTrackSwitc";f3D+="hComplete";switch(g9D){case 2:f={type:f3D,trackId:a,trackIndex:b};k.Ga(c.Ha,f.type,f);g9D=4;break;}}},0);S9D=4;break;case 9:S9D=6;break;S9D=1;break;}}};a.prototype.q0a=function(a){var A9D,c,N3D;A9D=2;while(A9D!==3){N3D="buf";N3D+="f";N3D+="e";N3D+="ringS";N3D+="tarted";switch(A9D){case 2:c={type:N3D,time:b.time.fa(),percentage:a||0};k.Ga(this.Ha,c.type,c);this.M3=a||0;A9D=3;break;}}};a.prototype.o0a=function(){var G9D,a,c,f,d,g,E3D;G9D=2;while(G9D!==14){E3D="bu";E3D+="f";E3D+="fer";E3D+="i";E3D+="ng";switch(G9D){case 8:f=f.Nk(d);a=Math.min(Math.max(Math.round(100*(g.uM?(c-this.Ha.X2)/a.wr:g.xj?g.xj:f/a.$g)),this.M3),99);a!=this.M3&&(c={type:E3D,time:c,percentage:a},k.Ga(this.Ha,c.type,c),this.M3=a);G9D=14;break;case 2:a=this.Ha.K;c=b.time.fa();G9D=4;break;case 4:f=this.Ha.na.Nb;d=this.Ha.qk?1:0;g=f.re(d);G9D=8;break;}}};a.prototype.b4=function(){var K9D,a,c,f,d,g,c3D;K9D=2;while(K9D!==13){c3D="bufferingC";c3D+="ompl";c3D+="ete";switch(K9D){case 4:f=a.re(1);this.Spa();d=this.Ha.qk?this.Ha.Wa.Ju[h.Fa.VIDEO]:this.Ha.Wa.Ju[h.Fa.AUDIO];g=d.eK;a={type:c3D,time:b.time.fa(),actualStartPts:g,aBufferLevelMs:a.Nk(0),vBufferLevelMs:a.Nk(1),selector:f?f.$N:c.$N,initBitrate:d.co,skipbackBufferSizeBytes:this.Ha.sb.Qfa};K9D=6;break;case 2:a=this.Ha.na.Nb;c=a.re(0);K9D=4;break;case 6:this.Ha.ff.reb({initSelReason:d.io,initSelectionPredictedDelay:d.Uz,buffCompleteReason:d.kp,hashindsight:this.Ha.ao,hasasereport:!!this.Ha.Er});k.Ga(this.Ha,a.type,a);K9D=13;break;}}};a.prototype.Spa=function(){var u9D,a,b,c,f,d,g,h,s3D;u9D=2;while(u9D!==19){s3D="upd";s3D+="ateBuf";s3D+="fe";s3D+="rLev";s3D+="el";switch(u9D){case 2:a=this.Ha.K;u9D=5;break;case 5:u9D=!this.Ha.Se()?4:19;break;case 8:this.Ha.ff.k3a(c,f);d=this.Ha.sb.Vb.get(!1);d=d.Fd?d.Da.Ca:0;g=this.Ha.na;u9D=13;break;case 4:b=this.Ha.na.Nb;c=b.Nk(0);f=b.Nk(1);u9D=8;break;case 13:h=g.kz(b,0);b=g.kz(b,1);c={type:s3D,abuflbytes:h,vbuflbytes:b,totalabuflmsecs:c,totalvbuflmsecs:f,predictedFutureRebuffers:0,currentBandwidth:d};u9D=10;break;case 10:f>a.gCa&&this.Ha.sb.Me&&this.Ha.sb.Me.JJ(!0,this.Ha.Bk.sessionId);k.Ga(this.Ha,c.type,c);u9D=19;break;}}};a.prototype.R_a=function(a){var L9D,f,d,g,d3D,P3D,I3D,n3D,b3D,j3D;L9D=2;while(L9D!==13){d3D=", osAlloc";d3D+="atorD";d3D+="elta: ";P3D=", ";P3D+="jsHea";P3D+="pDe";P3D+="lt";P3D+="a: ";I3D=", fast";I3D+="Mall";I3D+="ocDe";I3D+="l";I3D+="ta: ";n3D="memoryUsage";n3D+=" at time";n3D+=":";n3D+=" ";b3D=", system";b3D+="D";b3D+="elt";b3D+="a: ";j3D="mem";j3D+="or";j3D+="yUs";j3D+="age at time: ";switch(L9D){case 2:L9D=1;break;case 1:L9D=!c.U(a)?5:13;break;case 5:c.ka(a.BO);L9D=4;break;case 4:L9D=!c.U(this.VC)?3:14;break;case 6:c.ka(a.BO)&&c.ka(this.VC.BO)&&(f=a.BO-this.VC.BO,4194304<f&&this.I.warn(j3D+b.time.fa(),b3D+f));L9D=14;break;case 3:f=a.bwa-this.VC.bwa;d=a.gza-this.VC.gza;g=a.ADa-this.VC.ADa;L9D=7;break;case 7:(4194304<f||4194304<g)&&this.I.warn(n3D+b.time.fa()+I3D+f+P3D+d+d3D+g);L9D=6;break;case 14:this.VC=a;L9D=13;break;}}};V7D=32;break;case 42:a.prototype.WCa=function(){var j9D,a,B3D;j9D=2;while(j9D!==9){B3D="stre";B3D+="ameren";B3D+="d";switch(j9D){case 2:j9D=1;break;case 5:this.n2a=!0;a={type:B3D,time:b.time.fa()};k.Ga(this.Ha,a.type,a);j9D=9;break;case 1:j9D=!this.n2a&&this.Ha.K.TCa?5:9;break;}}};a.prototype.Ni=function(a){var b9D,M3D,p3D;b9D=2;while(b9D!==5){M3D=",";M3D+=" ";p3D="managerd";p3D+="e";p3D+="bu";p3D+="g";p3D+="event";switch(b9D){case 2:a={type:p3D,message:"@"+b.time.fa()+M3D+a};k.Ga(this.Ha,a.type,a);b9D=5;break;}}};return a;break;}}}();d.sTa=g;},function(g,d,a){var c,f,h,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(168);f=a(21);h=a(21);q=a(16);g=function(){var Z3D;Z3D=2;while(Z3D!==6){switch(Z3D){case 4:a.prototype.resume=function(){var i3D;i3D=2;while(i3D!==5){switch(i3D){case 2:this.H4=!1;this.Gb.Xe.Sh();i3D=5;break;}}};a.prototype.close=function(){var e3D,a,z2o,U2o,D2o;e3D=2;while(e3D!==13){z2o="e";z2o+="nd";z2o+="pl";z2o+="a";z2o+="y";U2o="l";U2o+="og";U2o+="d";U2o+="a";U2o+="ta";D2o="cl";D2o+="o";D2o+="s";D2o+="e";switch(e3D){case 2:a=this.Gb.K;this.$pa=!0;e3D=4;break;case 4:this.stop();this.Gb.emit(D2o);this.Gb.lD=!1;e3D=8;break;case 8:a.Ava&&(a=c.Qu.Ae().jb())&&(a={type:U2o,target:z2o,fields:{bridgestat:a}},q.Ga(this.Gb,a.type,a));this.Gb.sb.Me&&this.Gb.sb.Me.JJ(!0,this.Gb.Bk.sessionId,!0);this.Gb.Ra.WCa();this.Gb.CFa();e3D=13;break;}}};a.prototype.flush=function(){var a3D,a,b,c,d,g,h,h3D,C2o,c2o,J2o,Q2o,A2o,T2o,K2o,u2o,V2o,M2o,H2o;a3D=2;while(a3D!==26){C2o="e";C2o+="nd";C2o+="p";C2o+="lay";c2o="l";c2o+="ogd";c2o+="ata";J2o="thr";J2o+="oug";J2o+="h";J2o+="put-";J2o+="sw";Q2o="throughp";Q2o+="ut";Q2o+="-s";Q2o+="w";A2o="t";A2o+="hroughput-";A2o+="sw";T2o="thro";T2o+="ugh";T2o+="pu";T2o+="t-";T2o+="sw";K2o="e";K2o+="n";K2o+="d";K2o+="play";u2o="logda";u2o+="t";u2o+="a";switch(a3D){case 15:a3D=this.Kv.ao?27:26;break;case 2:a=this.Gb.K;b=this.Gb.sb.Vb;a3D=4;break;case 4:a3D=b?3:16;break;case 20:b&&b.length&&(c.activeRequests=JSON.stringify(b));this.Gb.ad.O.EU(1)&&(c.enableHudson=!0);Object.keys(c).length&&(c={type:u2o,target:K2o,fields:c},q.Ga(this.Gb,c.type,c));a3D=17;break;case 11:a3D=h?10:20;break;case 10:for(var m in h){V2o="n";V2o+="e";M2o="n";M2o+="e";H2o="n";H2o+="e";h.hasOwnProperty(m)&&(c[H2o+m]=Number(h[m]).toFixed(6),g[M2o+m]=1*c[V2o+m]);}a3D=20;break;case 16:this.Gb.Ra.Rpa();a3D=15;break;case 7:d&&d.avtp&&d.avtp.Ca&&(c.avtp=d.avtp.Ca,c.dltm=d.avtp.O7,g.avtp=c.avtp);d&&d.cdnavtp&&(c.cdnavtp=d.cdnavtp,c.activecdnavtp=d.activecdnavtp);b.flush();h=b.Ogb();a3D=12;break;case 12:b=b.g3a;a3D=11;break;case 17:a.aL&&(d&&d[T2o]&&d[A2o].Ca&&this.Gb.Io.z3a({avtp:d[Q2o].Ca,variance:d[J2o].hh}),this.Gb.Io.r3a(g,d.avtp.O7),a=this.Gb.Io.rgb(),d=this.Gb.Io.Eib(),a&&(a.n=d,a={type:c2o,target:C2o,fields:{ibef:a}},q.Ga(this.Gb,a.type,a),this.Gb.Io.save()));a3D=16;break;case 27:try{h3D=2;while(h3D!==1){switch(h3D){case 2:this.Gb.JU(f.oa.jC);h3D=1;break;}}}catch(I){var I2o;I2o="Hindsight: Error ev";I2o+="aluati";I2o+="ng QoE at stopping: ";j4tt.b2o(0);this.Gb.Ra.Tl(j4tt.r2o(I,I2o));}a3D=26;break;case 3:c={};d=b.get(!0);g={};a3D=7;break;}}};Z3D=8;break;case 2:a.prototype.play=function(){var V3D,a,Y2o,l2o;V3D=2;while(V3D!==4){Y2o="p";Y2o+="la";Y2o+="y";l2o="p";l2o+="lay called after pi";l2o+="pelines already shutd";l2o+="own";switch(V3D){case 2:a=this;this.Se()?this.I.warn(l2o):(this.Gb.V.Yd(f.oa.Ec),this.Gb.c2a(),this.Gb.Wa.Be.forEach(function(b){var X3D,e2o;X3D=2;while(X3D!==1){e2o="play: not resuming bufferManager, audio track swi";e2o+="tch i";e2o+="n progress";switch(X3D){case 2:a.eb(b.M)&&(b.fH?b.Ia(e2o):(a.Gb.Ie[b.M].resume(),a.Gb.Bq[b.M].resume()));X3D=1;break;}}}),this.Gb.yJ(),this.Gb.emit(Y2o));V3D=4;break;}}};a.prototype.stop=function(){var q3D,a,b,c,X2o;q3D=2;while(q3D!==14){X2o="s";X2o+="t";X2o+="o";X2o+="p";switch(q3D){case 2:a=this;b=this.Gb.V.mAa();c=this.Gb.V.Ff();this.Gb.V.Yd(f.oa.jC);q3D=9;break;case 9:this.Gb.jR();b||c||this.Gb.na.kk.PZ(!1,this.Gb.V);h.Of.forEach(function(b){var l3D;l3D=2;while(l3D!==1){switch(l3D){case 2:(b=a.Gb.Ie[b])&&b.pause();l3D=1;break;}}});this.Gb.emit(X2o);q3D=14;break;}}};a.prototype.suspend=function(){var v3D;v3D=2;while(v3D!==1){switch(v3D){case 4:this.H4=-7;v3D=7;break;v3D=1;break;case 2:this.H4=!0;v3D=1;break;}}};Z3D=4;break;case 8:a.prototype.Se=function(){var r3D;r3D=2;while(r3D!==1){switch(r3D){case 4:return this.$pa&&this.Gb.na.Fp;break;r3D=1;break;case 2:return this.$pa||this.Gb.na.Fp;break;}}};return a;break;}}function a(a,b,c,f){var z3D,a2o;z3D=2;while(z3D!==8){a2o="1";a2o+="S";a2o+="IYb";a2o+="ZrNJCp9";switch(z3D){case 2:this.Gb=a;this.I=b;z3D=5;break;case 5:this.eb=c;this.Kv=f;this.$pa=this.H4=!1;a2o;z3D=8;break;}}}}();d.yRa=g;},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(6);f=a(21);h=a(3);g=function(){var B2o;function a(a,c,f){var g2o,L50;g2o=2;while(g2o!==9){L50="1";L50+="SIYb";L50+="Z";L50+="rNJCp9";switch(g2o){case 2:this.xa=a;this.I=c;this.eb=f;g2o=4;break;case 4:L50;this.toa=this.zy=void 0;g2o=9;break;}}}B2o=2;while(B2o!==18){switch(B2o){case 5:a.prototype.Jqa=function(){var d2o;d2o=2;while(d2o!==1){switch(d2o){case 2:return this.xa.Se()||this.xa.V.mAa()||this.xa.V.Ff()?!0:!1;break;}}};a.prototype.mR=function(a){var p2o;p2o=2;while(p2o!==1){switch(p2o){case 2:return this.Jqa()||this.xa.Wa.Be[a.M].fH||this.xa.qv.bF?!1:!0;break;}}};a.prototype.Sh=function(){var y2o,a,c;y2o=2;while(y2o!==3){switch(y2o){case 5:c=this.xa.K;!this.xa.dqa||this.xa.oS||this.xa.lD||(this.xa.oS=setTimeout(function(){var w2o;w2o=2;while(w2o!==4){switch(w2o){case 2:clearTimeout(a.xa.oS);a.xa.oS=void 0;a.Soa();w2o=4;break;}}},c.nda),c.qE&&this.xa.qk&&(this.zy||(this.zy=setTimeout(function(){var W2o,b;W2o=2;while(W2o!==9){switch(W2o){case 3:b&&a.hoa(b);W2o=9;break;case 2:clearTimeout(a.zy);a.zy=void 0;b=a.xa.na.Nb.Ic(1);W2o=3;break;}}},c.i3a))));y2o=3;break;case 1:a=this;y2o=5;break;case 2:y2o=1;break;}}};a.prototype.hoa=function(a,c){var P2o,b,f,d,g;P2o=2;while(P2o!==7){switch(P2o){case 5:f=this.xa.Wa.pr[b].eA;P2o=4;break;case 3:P2o=f&&d?9:7;break;case 2:b=a.M;P2o=5;break;case 4:d=a.$p.fA;P2o=3;break;case 9:g=this.xa.Wa.Be[b].Zl;g&&(this.xa.V.Li()||this.xa.ff.h3a(b,g,f.R,d.R,a.ekb.R,c));P2o=7;break;}}};a.prototype.Qoa=function(a,c){var o2o,b,f,d,g,k,o50;o2o=2;while(o2o!==11){o50="Still in buffering state while pipeli";o50+="ne's are d";o50+="one";switch(o2o){case 7:o2o=!k||!g?6:13;break;case 3:g=!d||d.Hg;k=!f||f.Hg;b.UX||this.xa.na.nqb(a,b,a.O.se.mf&&0===a.O.Ua);o2o=7;break;case 2:b=a.la;f=a.Ic(1);d=a.Ic(0);o2o=3;break;case 6:o2o=(this.xa.qk&&this.Roa(a,f,d),this.xa.Pn&&this.Roa(a,d,f),g=!d||d.Hg,k=!f||f.Hg,!k||!g)?14:13;break;case 13:this.xa.V.Li()&&(this.I.warn(o50),this.xa.Wa.us());c||b.Gx||a.O.se.mf||!this.f7a(a)||((c=this.xa.V.Li())&&this.xa.K.t7&&(this.xa.B4(),c=!1),a.aV||this.xa.na.ikb(a,c),a.AD(),a.g7a()&&(c=Object.keys(a.children),this.xa.K.yU&&1===c.length&&!a.children[c[0]].active&&this.xa.na.rBa(a,c[0]),this.IZa(a,b)));o2o=11;break;case 14:return;break;}}};a.prototype.IZa=function(a,f){var h2o,b,d,g,k,m,q,l,n,R50;h2o=2;while(h2o!==22){R50="No su";R50+="bb";R50+="r";R50+="anch candid";R50+="ates to drive";switch(h2o){case 16:b=q[0].Dd;d=q[0].weight;a.zC=b;h2o=26;break;case 12:b=q.reduce(function(a,b){var Z2o,L5o;Z2o=2;while(Z2o!==4){switch(Z2o){case 2:b.Zk=b.Dd.Zk;b.fCa=Math.min(b.Zk[0],b.Zk[1]);j4tt.c50(0);L5o=j4tt.z50(12,11);return[a[0]+b.weight,a[L5o]+b.fCa];break;}}},[0,0]);l=b[0];n=b[1];h2o=20;break;case 18:this.I.warn(R50);return;break;case 8:m=[];q=[];c.Ud(a.children,function(a,b){var i2o;i2o=2;while(i2o!==5){switch(i2o){case 2:b=f.jj[b].weight;0!==b&&(b={weight:b,Dd:a},a.m6(!0,!0)||q.push(b),m.push(b));i2o=5;break;}}});0===q.length?q=m:2<q.length&&(q.sort(function(a,b){var R2o;R2o=2;while(R2o!==1){switch(R2o){case 2:return b.weight-a.weight;break;case 4:return b.weight+a.weight;break;R2o=1;break;}}}),q.length=2);h2o=13;break;case 3:Math.min(k[0]-a.e3[0],k[1]-a.e3[1])>=g.o7a?a.zC=void 0:(b=a.zC,d=f.jj[b.la.id].weight);h2o=9;break;case 25:b.fd||(b.fd={tW:h.time.fa(),TA:0});b.fd.weight=d;this.Qoa(b,!0);h2o=22;break;case 20:0!==l&&0!==n?(c.Ud(q,function(a){var x2o;x2o=2;while(x2o!==4){switch(x2o){case 2:a.jDb=a.weight/l;a.f6a=a.fCa/n;a.uJa=a.f6a-a.jDb;x2o=4;break;}}}),q.sort(function(a,b){var v2o;v2o=2;while(v2o!==1){switch(v2o){case 2:return a.uJa-b.uJa;break;case 4:return a.uJa+b.uJa;break;v2o=1;break;}}})):q.sort(function(a,b){var m2o;m2o=2;while(m2o!==4){switch(m2o){case 2:a=Math.min.apply(null,a.Dd.Zk);b=Math.min.apply(null,b.Dd.Zk);j4tt.c50(0);return j4tt.i50(a,b);break;}}});h2o=19;break;case 5:h2o=this.xa.sb.daa&&a.zC&&a.e3?4:9;break;case 13:h2o=1<q.length?12:19;break;case 19:h2o=0===q.length?18:16;break;case 9:h2o=!b?8:25;break;case 4:k=a.zC.Zk;h2o=3;break;case 26:a.e3=b.Zk;h2o=25;break;case 2:g=this.xa.K;h2o=5;break;}}};a.prototype.Roa=function(a,f,d){var f2o,b,g,k,m,p,q,Q50,l50;f2o=2;while(f2o!==13){Q50="Still i";Q50+="n buffe";Q50+="ring state while pipeline does not h";Q50+="ave vacancy";l50="d";l50+="rivePipeline, delaying audio until vi";l50+="de";l50+="o";l50+=" actualStartPts determined";switch(f2o){case 4:f2o=!f.Hg?3:13;break;case 2:b=this.xa.K;g=f.M;f2o=4;break;case 3:k=this.xa.Wa.Be[g];m=this.xa.Wa.Ju[g];p=this.xa.Wa.pr[g];f2o=7;break;case 7:f2o=k.Zl&&(void 0===f.EA||(f.eB(f.EA),void 0===f.EA))?6:13;break;case 6:q=this.xa.ad;c.U(q.fx)||(b.Fr&&0===g&&c.U(this.xa.Wa.Be[1].vl)?f.Ia(l50):(c.U(f.Sl)&&(f.Sl=f.xg?f.xg.index:f.M8(f.Bb)),f.jg&&f.Sl>f.jg.index?a.O.se.mf&&c.U(q.ga)&&c.U(a.ga)||(f.Hg||this.xa.Dqa(f),a=this.xa.ad.O.Ua,a<this.xa.LE()-1&&this.xa.LS(a+1)):this.mR(f)&&(b.Rcb&&!this.xa.V.Li()&&0>=f.nA?f.NBb(b.Qob):this.iZa(f,d)?(f.Emb=h.time.fa(),d=this.xa.Wa.r$(f),d=d.Ch,c.U(d)||(d=f.track.uc[d],this.hZa(f,d)||((b=d.yV())?(f.xmb=d.R,f.Xnb(d,b,this.xa.V.Li(),k.Zl),this.ZBb(d,p,m),a.fd&&++a.fd.TA):d.WG()))):this.xa.V.Li()&&(this.I.warn(Q50),this.xa.Wa.us()))));f2o=13;break;}}};B2o=14;break;case 14:a.prototype.ZBb=function(a,f,d){var q2o;q2o=2;while(q2o!==4){switch(q2o){case 1:c.ka(d.co)||(d.WBb(a.Fo,a.Uz||-1,a.R,a.afa),c.U(a.afa)||this.xa.ff.WGa(a.afa,a.Pm,a.Ll));a.url&&(f.cba=a.url);q2o=4;break;case 2:f.XW=a.cc;q2o=1;break;}}};a.prototype.hZa=function(a,c){var j2o,b;j2o=2;while(j2o!==4){switch(j2o){case 2:b=this.xa.Wa.pr[a.M];return this.xa.dqa&&c.cc&&b.XW&&c.cc!==b.XW&&(0<a.Sa.tu||0<a.Sa.Pr)?!0:!1;break;}}};a.prototype.iZa=function(a,d){var F2o,b,g,k,m,q,l,n,C,K,Q,K50,B50,n50,N50;F2o=2;while(F2o!==42){K50="floo";K50+="r";K50+="ed to 0";B50="negative sche";B50+="duledBufferL";B50+="eve";B50+="l:";n50=" ";n50+=">";n50+="= ";N50="No vacancy, stall";N50+="ing due to ";N50+="max frame";N50+="Count:";switch(F2o){case 28:F2o=(K=1,a.T5<b.ju&&(K=b.ju),a.Sa.tu>=K)?44:43;break;case 25:F2o=this.xa.sb.Haa?24:23;break;case 13:F2o=a.$c&&a.$c.XA>=a.$c.vA?12:11;break;case 14:C=d?d.Bb:0;F2o=13;break;case 34:F2o=this.j_a(g)>=b.lA?33:32;break;case 15:q=this.xa.na.kz(k,g);Q=0;F2o=26;break;case 30:return!1;break;case 23:n=void 0;d&&(n=d.M,C=h.Zj()[n],n=b.qCb?this.xa.na.sBa(k,n).Eh/C:Q/C);F2o=21;break;case 12:return a.Ia(N50,a.$c.XA+n50+a.$c.vA),!1;break;case 16:return!1;break;case 29:F2o=(k=this.xa.V.Li())?28:43;break;case 3:m=this.xa.V.sd();q=this.xa.V.Yc();l=this.xa.na.Oq(k,g);n=a.Bb+k.Ed-m;0>n&&(a.Ia(B50,n,K50),n=0);F2o=14;break;case 31:F2o=!c.U(b.kr)&&n>=b.kr||a.OD+K>=Math.max(b.zM,this.xa.sb.LZ+b.Qca*k.O.rob[g])?30:29;break;case 21:F2o=void 0===n||n<b.iob?35:34;break;case 24:return!1;break;case 43:return b.xva&&a.Sa.tu>=b.wob||!k&&0<b.nr&&1===g&&q>b.nr||0<b.ku&&!k&&q+(d?Q:0)>b.ku||void 0!==this.toa&&l>this.toa||1===g&&m.se.mf&&l>b.Qba&&(d=this.xa.sb.Vb.get(!1),d.Fd&&d.Da&&d.Da.Ca*a.OD>b.Pba)?!1:!0;break;case 33:return!1;break;case 19:m=this.xa.ad.O;Q=this.xa.V.dr(m.u)||m.Xh;F2o=17;break;case 11:K=a.Sa.oY;F2o=10;break;case 20:return!1;break;case 35:return!1;break;case 26:F2o=d&&(Q=this.xa.na.kz(k,d.M),C=a.Bb-C,this.eb(d.M)&&!d.Hg&&C>=b.Vba&&n>b.$g)?25:34;break;case 2:b=this.xa.K;g=a.M;k=a.bX;F2o=3;break;case 32:n=this.xa.na.VAb();F2o=31;break;case 17:F2o=q===f.oa.Ec&&l>b.job&&!m.se.mf&&!m.Xh&&!Q||l&&K>Math.max(l*b.Sba/100,b.lca)?16:15;break;case 10:F2o=K>=b.Zw?20:19;break;case 44:return!1;break;}}};a.prototype.j_a=function(a){var s2o;s2o=2;while(s2o!==1){switch(s2o){case 2:return this.xa.na.hf.reduce(function(b,c){var t2o;t2o=2;while(t2o!==1){switch(t2o){case 4:return b/c.qib(a);break;t2o=1;break;case 2:return b+c.qib(a);break;}}},0);break;}}};B2o=10;break;case 2:a.prototype.jR=function(){var k2o;k2o=2;while(k2o!==1){switch(k2o){case 2:this.zy&&(clearTimeout(this.zy),this.zy=void 0);k2o=1;break;}}};a.prototype.Soa=function(){var G2o,a,c,f,d,v50;G2o=2;while(G2o!==11){v50="fir";v50+="stDriveStr";v50+="eaming";switch(G2o){case 8:d=!f||f.Hg;(!c||c.Hg)&&d&&this.xa.TC&&a.G7a(f?f.ga:c.ga);f=!f||f.pn;c&&!c.pn||!f||this.xa.TC||(this.xa.sb.Me&&this.xa.sb.Me.JJ(!0,this.xa.Bk.sessionId),this.xa.Ra.WCa());this.Qoa(a.Nb);G2o=12;break;case 4:a=this.xa.na;c=a.Nb.Ic(0);f=a.Nb.Ic(1);G2o=8;break;case 1:G2o=!this.xa.Uw.H4&&!this.xa.Se()?5:11;break;case 2:G2o=1;break;case 5:void 0===this.xa.FZa&&(this.xa.FZa=!0,this.xa.Ra.Fs(v50));G2o=4;break;case 12:this.A2a();G2o=11;break;}}};B2o=5;break;case 10:a.prototype.f7a=function(a){var O5o,b,f,d;O5o=2;while(O5o!==8){switch(O5o){case 9:return d;break;case 4:d=!0;c.Ud(a.la.jj,function(c,g){var n5o,k,D50,q50;n5o=2;while(n5o!==6){D50="i";D50+="n";D50+=" ";D50+="dests";D50+=":";q50="invalid se";q50+="g";q50+="ment";q50+=":";switch(n5o){case 1:n5o=(c=f.Ki(g))?5:7;break;case 2:n5o=1;break;case 5:g=c.O;c=g.Yf[0];k=g.Yf[1];c&&k&&c.stream.ud&&k.stream.ud||(d=!1);n5o=8;break;case 8:b.xa.V.dr(g.u)||g.Xh||(d=!1);n5o=6;break;case 7:a.Ia(q50,g,D50,a.la.jj);n5o=6;break;}}});O5o=9;break;case 2:b=this;f=this.xa.na;O5o=4;break;}}};B2o=20;break;case 20:a.prototype.A2a=function(){var E5o,a,c,f;E5o=2;while(E5o!==9){switch(E5o){case 2:a=this.xa.K;c=this.xa.na;f=c.Nb;this.xa.V.Li()||c.Oq(f,1)<a.CX||f.O.Dba();E5o=9;break;}}};return a;break;}}}();d.sOa=g;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(6);f=a(164);g=function(){var Z50;function a(a,b,c){var j50,f50;j50=2;while(j50!==3){f50="1SIY";f50+="b";f50+="ZrNJ";f50+="C";f50+="p9";switch(j50){case 4:f50;j50=3;break;case 2:this.Kk=a;this.I=b;this.Rf=c;j50=4;break;}}}Z50=2;while(Z50!==8){switch(Z50){case 2:a.prototype.rZa=function(a,b){var W50,c,d,b50;W50=2;while(W50!==6){b50="cr";b50+="eat";b50+="eDlT";b50+="racks";b50+="Start";switch(W50){case 3:this.My+=a.length;a=a.map(function(a){var A50,g,t50,u50,S50,e50;A50=2;while(A50!==7){t50="tran";t50+="s";t50+="portreport";u50="err";u50+="o";u50+="r";S50="networkfai";S50+="li";S50+="ng";e50="c";e50+="re";e50+="a";e50+="t";e50+="ed";switch(A50){case 2:g=f.kq.Ae.UD(a,b.u,!0,b.Yt(),c.Kk.Bk,d);g.cu.on(g,e50,function(){var O50,h50;O50=2;while(O50!==5){h50="create";h50+="DlT";h50+="racksEnd";switch(O50){case 2:--c.My;0===c.My&&c.Kk.Ra.Fs(h50);O50=5;break;}}});g.cu.on(g,S50,function(){var J50,a,m50;J50=2;while(J50!==8){m50="repor";m50+="tNetworkF";m50+="aili";m50+="n";m50+="g: ";switch(J50){case 2:d.Vf&&c.Rf.Ni(m50+g);J50=5;break;case 5:J50=g.H8?4:8;break;case 4:a=c.Kk.ad.O;a.Zh&&a.Zh.cn(g.Zva,void 0,g.$h,g.ek);a.hq();J50=8;break;}}});A50=3;break;case 3:g.cu.on(g,u50,function(){var w50,k50,x50,Y50;w50=2;while(w50!==5){k50="NFErr_MC_S";k50+="treaming";k50+="Fa";k50+="il";k50+="ure";x50="Downlo";x50+="adT";x50+="rack f";x50+="atal e";x50+="rror";Y50="Do";Y50+="wnloa";Y50+="dTr";Y50+="ac";Y50+="k fatal error";switch(w50){case 2:d.Vf&&c.Rf.Ni(Y50);c.Kk.Cq(x50,void 0,k50,g.$h,0,g.ek);w50=5;break;}}});g.on(t50,function(a){var P50,g50;P50=2;while(P50!==1){g50="t";g50+="ra";g50+="nsportre";g50+="por";g50+="t";switch(P50){case 4:c.Kk.emit("",a);P50=0;break;P50=1;break;case 2:c.Kk.emit(g50,a);P50=1;break;}}});return g;break;}}});f.kq.Ae.Cf();return a;break;case 4:0===this.My&&this.Kk.Ra.Fs(b50);W50=3;break;case 2:c=this;d=this.Kk.K;W50=4;break;}}};a.prototype.EZa=function(){var V50,a,b;V50=2;while(V50!==8){switch(V50){case 2:a=this;b=[];this.Kk.Wa.Be.forEach(function(a){var H50;H50=2;while(H50!==5){switch(H50){case 2:c.U(a.Zl)||b.push(a.Zl);a.Zl=void 0;H50=5;break;}}});this.Kk.SI&&(b.push(this.Kk.SI),this.Kk.SI=void 0);b.forEach(function(b){var E50;E50=2;while(E50!==5){switch(E50){case 2:b.op||--a.My;f.kq.Ae.G7(b);E50=5;break;}}});V50=8;break;}}};a.prototype.A_a=function(){var y50;y50=2;while(y50!==1){switch(y50){case 2:this.My=0;y50=1;break;case 4:this.My=8;y50=6;break;y50=1;break;}}};a.prototype.sqa=function(a,b){var M50,c,d;M50=2;while(M50!==3){switch(M50){case 2:c=this.Kk.Wa.Be[a];d=c.Zl;d&&(d=b.V4(a,d),this.DZa(a),c.Zl=f.kq.Ae.UD(a,b.u,!0,b.Yt(),this.Kk.Bk,this.Kk.K),b.Cea(d));M50=3;break;}}};a.prototype.DZa=function(a){var F50,b;F50=2;while(F50!==8){switch(F50){case 3:f.kq.Ae.G7(b);a.Zl=void 0;F50=8;break;case 2:a=this.Kk.Wa.Be[a];b=a.Zl;b.op||--this.My;F50=3;break;}}};return a;break;}}}();d.rOa=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(365);g=function(){var U60;U60=2;while(U60!==3){switch(U60){case 2:a.prototype.FYa=function(a,f){var a60,b,L60,c60,C60,i60,z60,r60,G60,X60,s60;a60=2;while(a60!==13){L60="using sa";L60+="b";L60+=" cell >= 100, pipelineEnabled: ";c60="using sab cell >= 20";c60+="0, pip";c60+="elineEnabled: ";C60=", allowSwitc";C60+="h";C60+="back";i60=", probeDetailDenom";i60+="inator";i60+=": ";z60="using sab cell >= 300,";z60+=" pro";z60+="beServerWhenError";z60+=": ";r60=", al";r60+="low";r60+="Swi";r60+="tchba";r60+="ck";G60=",";G60+=" probeD";G60+="e";G60+="tailDenominator: ";X60="using sab ce";X60+="ll ";X60+=">= 400, probeServerWhenErr";X60+="or:";X60+=" ";s60="ap";s60+="plying ma";s60+="nifest based streamingClient";s60+="Config";switch(a60){case 4:a60=b&&b.streamingClientConfig&&Object.keys(b.streamingClientConfig).length?3:9;break;case 3:return a=b.streamingClientConfig,this.I.trace(s60+JSON.stringify(a)),this.Zpa(f,a);break;case 2:f=c.Jta(f,a);b=a.steeringAdditionalInfo;a60=4;break;case 9:a=a.cdnResponseData;a60=8;break;case 6:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(f.set?(f.set({probeServerWhenError:!0}),f.set({probeDetailDenominator:1}),f.set({allowSwitchback:!0})):(f.Qp=!0,f.MA=1,f.Xs=!0),this.I.trace(X60+f.Qp+G60+f.MA+r60+f.Xs)):300<=a?(f.set?(f.set({probeServerWhenError:!0}),f.set({probeDetailDenominator:1}),f.set({allowSwitchback:!1})):(f.Qp=!0,f.MA=1,f.Xs=!1),this.I.trace(z60+f.Qp+i60+f.MA+C60+f.Xs)):200<=a?(f.set?f.set({pipelineEnabled:!1}):f.uo=!1,this.I.trace(c60+f.uo)):100<=a&&(f.set?(f.set({pipelineEnabled:!0}),f.set({maxParallelConnections:1}),f.set({maxActiveRequestsPerSession:f.mX}),f.set({maxPendingBufferLen:f.qX})):(f.uo=!0,f.tF=1,f.kr=f.mX,f.Zw=f.qX),this.I.trace(L60+f.uo)));return f;break;case 8:a60=!a?7:6;break;case 7:return f;break;}}};a.prototype.HYa=function(a,c){var I60;I60=2;while(I60!==9){switch(I60){case 2:I60=!c.O6||a===this.H_a?1:5;break;case 5:this.H_a=a;I60=4;break;case 1:return c;break;case 4:for(var b in c.O6)new RegExp(b).test(a)&&(c=this.Zpa(c,c.O6[b]));return c;break;}}};a.prototype.Zpa=function(a,c){var T60,b,f,d,o60;T60=2;while(T60!==4){switch(T60){case 2:for(f in c)if(c.hasOwnProperty(f)){o60="I";o60+="nvalid";o60+=" k";o60+="ey";d=c[f];a.set?0===a.set((b={},b[f]=d,b))&&this.I.trace(o60+f):a[f]=d;}return a;break;}}};return a;break;}}function a(a){var d60,R60;d60=2;while(d60!==5){R60="1SIYb";R60+="ZrN";R60+="JCp9";switch(d60){case 2:this.I=a;R60;d60=5;break;case 3:this.I=a;"";d60=8;break;d60=5;break;}}}}();d.LMa=g;},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(381);f=a(82);h=a(361);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.Dbb=function(b){a.prototype.RW.call(this,{value:b});};b.prototype.Sza=function(){return!0;};b.prototype.Ufa=function(){};b.prototype.RW=function(b){a.prototype.RW.call(this,b);b.done&&(b=this.oJ.k7,f.nb&&this.I.trace("Requests drained",{ZMb:b&&b.la.id}),(b=b&&b.re(this.Ve))&&b instanceof h.y1&&b.LD(this.wC.Kxa()||0));};return b;}(g.Eha);d.qRa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fhb=function(a){var c,f,d;c=Math.floor(1E6*Math.random());f=a.W$;d=a.NL;a=0===c%a.X$&&0<d.length;return{ao:a,rE:a&&0===c%f};};},function(g,d,a){var f;function c(a){this.Os=void 0;this.Z_a=a;this.x4=[];this.me=[];}a(6);a(13);f=a(32).aA;a(16);c.prototype.reset=function(a){this.Os=void 0;this.x4=[];a&&(this.me=[]);};c.prototype.add=function(a,c){var b,d;b=c.filter(function(b,c){return f(b)||c===a.wd;});d=b.map(function(a){return a.R;});c=b.indexOf(c[a.wd]);this.Os&&(this.Os.length!==d.length||this.Os.some(function(a,b){return a!==d[b];}))&&(b=this.pxa())&&(this.me.push(b),this.reset(!1));void 0===this.Os&&(this.Os=d);this.x4.push([c,a.TIa,a.Bb,a.i6a,a.Csa,a.ptb,a.Pqb,a.kx,a.Mn,a.Fi,a.qAb-a.TIa]);};c.prototype.sdb=function(){for(var a=this.x4,c=[],b=[],f=0;f<a.length;f++){for(var d=a[f],g=[],h=0;h<d.length;h++)g.push(d[h]-(b[h]||0));c.push(g);b=d;}return c;};c.prototype.pxa=function(){var a;a=this.sdb();if(0!==a.length)return{dltype:this.Z_a,bitrates:this.Os,seltrace:a};};c.prototype.get=function(){var a,c;a=this.pxa();c=this.me;a&&c.push(a);if(0!==c.length)return c;};g.P=c;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(13);f=a(715);g=function(){function a(){this.DS=[];this.DS[c.Fa.VIDEO]=new f(c.Fa.VIDEO);this.DS[c.Fa.AUDIO]=new f(c.Fa.AUDIO);}a.prototype.O3a=function(a,b,c){this.DS[a].add(b,c);};a.prototype.Kib=function(){var a;a=[];this.DS.forEach(function(b){var c;if(b){c=b.get();c&&0<c.length&&c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.qeb=function(a){var b;b=this.Kib();a.strmsel=b;return 0<b.length;};return a;}();d.cWa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.Rh={};this.V3=a;this.We=[];this.Ln=!1;this.Py=void 0;}a.prototype.YS=function(a){this.We.length===this.V3&&this.We.shift();Array.isArray(a)?this.We=this.We.concat(a):this.We.push(a);this.Ln=!0;};a.prototype.OE=function(){return this.We.length;};a.prototype.c6=function(){var a;a=this.We;return 0<a.length?a.reduce(function(a,c){return a+c;},0)/this.We.length:void 0;};a.prototype.BT=function(){var a,f;a=this.We;f=this.c6();if(0<a.length&&"undefined"!==typeof f)return a=a.reduce(function(a,c){return a+c*c;},0)/a.length,Math.sqrt(a-f*f);};a.prototype.Pq=function(a){var c,d,g;if(this.Ln||void 0===this.Py)this.Py=this.We.slice(0).sort(function(a,c){return a-c;}),this.Ln=!1;if(void 0===this.Rh[a]){c=this.Py;d=Math.floor(a/100*(c.length-1)+1)-1;g=(a/100*(c.length-1)+1)%1;this.Rh[a]=d===c.length-1?c[d]:c[d]+g*(c[d+1]-c[d]);}return this.Rh[a];};return a;}();d.f2=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f,d){this.t2a=f;this.OYa=d;this.I=a;}a.prototype.Eda=function(a){a=this.alb(a,this.t2a)+this.OYa;return this.o4=isNaN(a)?NaN:this.Ifa(a);};a.prototype.w7a=function(a){return isNaN(this.o4)?0:this.o4>a?1:0;};a.prototype.alb=function(a,f){var c;c=0;if(a.length!==f.length)c=NaN;else for(var d=0;d<a.length;d++)c+=a[d]*f[d];return c;};a.prototype.Ifa=function(a){return 1/(1+Math.exp(-a));};return a;}();d.ORa=g;},function(g,d,a){var q,b;function c(a,b,c){var f,d;a=Math.max(0,a);f=[];c.forEach(function(a){f.push(a[b].ba);});c=f.filter(function(b){return b<=a;});if(0<c.length)c=c[c.length-1],d=f.lastIndexOf(c);else throw Error("selectStream infeasible");return{Eo:c,wd:d};}function f(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function h(a,c,f,d,g){var k,h,m,p,q,t;k=a.eh;h=f+k.T;f=a.el[k.VL];a=a.P5;m={aP:!0,waitUntil:void 0,$L:!1};p=f.filter(function(a){return a&&a.T<=h&&a.T+a.duration>h;})[0];if(void 0===p)return{$L:!0};q=g-1-(p.index-1);d=k.cP+d;t=0;t=p.index<k.fh?t+f.slice(k.Iu,p.index).reduce(function(a,b){return a+b.ba;},0):t+k.cP;t=t+c.slice(k.fh,p.index).reduce(function(a,b){return a+b.Eo;},0);d-=t;if(q>=a.BM||d>=a.bH)for(m.aP=!1,p=p.index;p<g&&(q>=a.BM||d>=a.bH);)b.update("checkBufferVacancy loop"),m.waitUntil=f[p].T+f[p].duration-k.T,d=p<k.fh?d-f[p].ba:d-c[p].Eo,--q,p+=1;return m;}q=a(8).assert;b=a(110).Jma||a(110);g.P={JL:function(a){var d,Q,r,ca,R,S,N,U,W,fa,V,ma,A,z;b.zZ("htwbr-"+(a.YN?"segvmaf":"dlvmaf")+": ");for(var g=a.eh,k=a.Fl,m=k.Mk,l=a.el,n=!0,I=[],C,K=m=Math.min(k.mr,m);K>=g.fh;K--){b.update("backward step");d=a.el[0][K].T-a.eh.T;K<m&&(d=Math.min(I[K+1].startTime,d));k=l[0][K].ba;C=g.Uv*l[0][K].duration*1/8;a:{Q=void 0;S=k+C;C=a.bq;N=g.wo;U=C.trace;W=1*C.yl;r=d+N-C.timestamp;ca=Math.floor(1*r/W);R=0+(r-ca*W)/W*f(U,ca,W);if(R>=S)Q=r-1*S/R*(r-ca*W);else for(r=ca;R<S;){b.update("findDownloadStartTime loop");--r;if(0>r){Q=-1;break a;}ca=f(U,r,W);if(R+ca>=S){Q=1*(S-R)/ca*W;Q=(r+1)*W-Q;break;}R+=ca;}Q=Q+C.timestamp-N;}if(0>Q){n=!1;break;}I[K]={startTime:Q,endTime:d,$T:d,Eo:k,wd:0};}d={di:n,Jr:I,ko:!1,ex:0===I.length};if(!1===d.di||!0===d.ex)return d;a:{g=a.eh;m=a.Fl;l=m.Mk;n=a.el;k=I=0;d=d.Jr;Q=K=0;l=Math.min(m.mr,l);for(N=g.fh;N<=l;N++){b.update("forwardStep loop");R=d[N];S=R.wd;C=n[S][N].duration;W=N===g.fh?0:d[N-1].endTime;S=h(a,d,W,I,N);if(S.$L){d={di:!1,ko:!0};break a;}S.aP||(W=S.waitUntil);ca=R.$T;V=a.bq;fa=g.wo;R=0;S=V.trace;U=1*V.yl;r=W+fa-V.timestamp;V=ca+fa-V.timestamp;if(!(W>=ca)){q(0<=r);q(0<=V);q(V>=r);ma=Math.floor(1*r/U);A=1*V/U;if(ma===Math.floor(A))r=(V-r)/U*f(S,ma,U),q(0<=r),R+=r;else for(A=Math.ceil(A),fa=ma,ca=A,ma*U<r&&(fa++,r=(fa*U-r)/U*f(S,ma,U),q(0<=r),R+=r),A*U>V&&(ca--,r=(V-ca*U)/U*f(S,ca,U),q(0<=r),R+=r),r=fa;r<ca;r++)R+=f(S,r,U);}U=g.Uv*C*1/8;k+=U;S=c(Math.max(0,R-U),N,n);if(void 0===S){d={di:!1,ko:!0};break a;}R=S.Eo;S=S.wd;U=R+U;fa=a.bq;ca=r=0;V=fa.trace;ma=Math.max(0,W+g.wo-fa.timestamp);fa=1*fa.yl;z=A=Math.max(0,Math.floor(1*ma/fa));for(z*fa<ma&&(A+=1,ma=z*fa+fa-ma,z=ma/fa*f(V,z,fa),r=U-ca<z?r+(U-ca)/z*1*ma:r+ma,ca+=z);ca<U;)b.update("getDownloadTime"),ma=f(V,A,fa),r=U-ca<ma?r+(U-ca)/ma*1*fa:r+fa,ca+=ma,A+=1;U=r;d[N].startTime=W;d[N].endTime=W+U;d[N].Eo=R;d[N].wd=S;N<=m.Mk&&(I+=R,Q+=C,K+=C*a.uc[S].R);}d={di:!0,ko:!1,Jr:d,Nbb:0<Q?1*K/Q:0,R7:Q,Q7:I,P7:k};}d.Ip=b.Y9();console.log("Max heap used: "+Math.round(d.Ip/1024/1024)+" MB");return d;}};},function(g,d,a){var n,B,I,C;function c(a,b,c){this.osa=this.lZa(a,b,c);}function f(){}function h(){}function q(){}function b(a){this.q7a=a;}function k(){}function p(){}function t(){}function u(){this.J7={};}function l(a){return Array.apply(0,Array(a)).map(function(a,b){return b+1;});}n=a(8).assert;d=a(207).Sha;B=a(359).uXa;I=a(207).LLa;new(a(3)).Console("ASEJS_QOE_EVAL","media|asejs");C=a(110).Jma||a(110);c.prototype.constructor=c;c.prototype.lZa=function(a,b,c){n(a<b,"expect min_buffer_sec < max_buffer_sec but got "+a+" and "+b);n(0<c,"expect buffer_step_sec > 0. but got "+c);for(var f=[];a<b;a+=c)f.push(a);f[f.length-1]<b&&f.push(b);return f;};c.prototype.Ew=function(a){return this.l_a(a,this.osa);};c.prototype.l_a=function(a,b){a=this.Cbb(a,b);if(0===a)throw new f();if(a===b.length)throw new h();return a;};c.prototype.Cbb=function(a,b){n(0<b.length,"expect bins.length > 0 but got "+b.length);if(a<b[0])return 0;if(a>=b[b.length-1])return b.length;for(var c=1;c<b.length;c++)if(b[c-1]<=a&&a<b[c])return c;n(!1,"expect not coming here in digitize()");};c.prototype.RV=function(){return l(this.osa.length-1);};f.prototype=Error();h.prototype=Error();q.prototype=Error();b.prototype.constructor=b;b.prototype.VERSION="0.5";b.prototype.iNa=-20;b.prototype.hNa=20;b.prototype.gNa=void 0;b.prototype.aNa=new d(void 0);b.prototype.cNa=0;b.prototype.bNa=1;b.prototype.lNa=!1;b.prototype.eNa=!0;b.prototype.dNa=!0;b.prototype.jNa=void 0;b.prototype.ZMa=!0;b.prototype.$Ma=0;b.prototype.oG=function(a){n(void 0!==a.rIa,"expect recipe.time_varying_bandwidth !== undefined");return this.S1a(this.q7a,a.rIa,void 0!==a.kCa?a.kCa:this.iNa,void 0!==a.UBa?a.UBa:this.hNa,void 0!==a.TBa?a.TBa:this.gNa,void 0!==a.lsa?a.lsa:this.aNa,void 0!==a.Hva?a.Hva:this.cNa,void 0!==a.Asa?a.Asa:this.bNa,void 0!==a.Vyb?a.Vyb:this.lNa,void 0!==a.tjb?a.tjb:this.eNa,void 0!==a.Iya?a.Iya:this.dNa,void 0!==a.REa?a.REa:this.jNa,void 0!==a.Ara?a.Ara:this.ZMa,void 0!==a.csa?a.csa:this.$Ma);};b.prototype.S1a=function(a,b,d,g,m,l,y,D,r,fa,V,ma,A,z){var Q,T,N,ca,R,S,U,P,ba,ga,ha,ja,la,na,qa,ra,pa,ta,ua,va;function K(a){return a[S];}C.zZ("dp: ");n(d<=l.dg,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");n(l.dg<=g,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");n(d<=y,"expect min_buffer_sec <= end_buffer_sec");n(y<=g,"expect end_buffer_sec <= max_buffer_sec");void 0!==m&&n(l.Dj<=m,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+l.Dj+" and "+m);Q=new c(d,g,D);D=new u();T=0;N=l;D.put([0,Q.Ew(l.dg)],[T,N,void 0,void 0,b,void 0,void 0,void 0]);ca=N=0;b=a.njb();n(a.TE()==b.length,"expect chunk_map.get_n_epoch() == durations_sec.length");S=-1;for(U in b){for(var S=S+1,W=!0,sa=a.Ei.map(K),G=Q.RV(),M=0;M<G.length;M++){P=G[M];if(D.Paa([S,P])){R=D.get([S,P]);for(var X=R[0],Z=R[1],da=R[4],ea=0;ea<sa.length;ea++){b=sa[ea];C.update("epoch-ibuf-chunk loop");l=void 0!==ma?ma(b.yN):b.yN;ba=da.Vn();try{R=this.RZa(Z,b,ba,z);ga=R[0];ha=R[1];ja=R[2];la=R[3];na=R[4];qa=R[5];}catch(Za){if(Za instanceof B)continue;else if(Za instanceof f){N+=1;continue;}else throw Za;}ra=T=!1;try{pa=Q.Ew(la.dg);fa&&Q.Ew(ga);V&&Q.Ew(ha);if(void 0!==m)if(V){if(ja.Dj>m)throw new q();}else if(la.Dj>m)throw new q();}catch(Za){if(Za instanceof f)pa=void 0,N+=1;else if(Za instanceof h)A?T=!0:ca+=1,pa=void 0;else if(Za instanceof q)A?ra=T=!0:ca+=1,pa=void 0;else throw Za;}try{if(T&&ra){n(void 0!==m,"expect max_buffer_kb !== undefined");ua=V?ja.Dj-m:la.Dj-m;n(0<=ua,"pause dlnd kb cannot be -ve but is "+ua);try{ta=la.Qsb(ua);}catch(Za){if(Za instanceof I)throw new f();throw Za;}ba.PDa(ta);na+=ta;n(la.dg<g,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");pa=Q.Ew(la.dg);}else if(T&&!ra){ta=V?ja.dg-g+1E-8:la.dg-g+1E-8;n(0<=ta,"pause dlnd kb cannot be -ve but is "+ta);try{la.gEa(ta);}catch(Za){if(Za instanceof I)throw new f();throw Za;}ba.PDa(ta);na+=ta;n(d<=la.dg,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");n(la.dg<g,"cur_buffer_queue.total_remain_sec < max_buffer_sec");pa=Q.Ew(la.dg);}else ta=0;}catch(Za){if(Za instanceof f)pa=void 0,N+=1,ta=void 0;else if(Za instanceof B)continue;else throw Za;}T=D.Paa([S+1,pa])?D.get([S+1,pa])[0]:-Infinity;this.M2a(la,pa,b,l,P,S+1,T,D,X,ea,ba,na,qa,ta)&&(W=!1);}}}if(W){--S;break;}}try{va=this.apa(S+1,Q.Ew(y),D,r,Q);}catch(Za){if(Za instanceof k)try{va=this.apa(S+1,Q.Ew(y),D,!r,Q);}catch(He){if(He instanceof k){if(N>ca)throw new p();throw new t();}throw He;}else throw Za;}P=va;for(d=[];-1<S;S--)R=D.get([S+1,P]),T=R[0],N=R[1],g=R[3],m=R[5],y=R[6],r=R[7],R=R[2],b=a.Ei[R][S],fa=b.Rt(),l=b.yN,d.unshift({pza:S,faa:R,info:{gNb:fa,yN:l,oNb:N.dg,nNb:N.Dj,POb:m,Da:y,dSb:r}}),P=g;return d;};b.prototype.apa=function(a,b,c,f,d){var g,h;g=!1;h=d.RV()[0];for(d=d.RV()[d.RV().length-1];;){if(b<h||b>d){g=!0;break;}if(c.Paa([a,b]))break;else b=f?b-1:b+1;}if(g)throw new k();return b;};b.prototype.M2a=function(a,b,c,f,d,g,k,h,m,p,q,t,u,l){c=m+f*c.Co;return void 0!==b&&c>k?(h.put([g,b],[c,a,p,d,q,t,u,l]),!0):!1;};b.prototype.RZa=function(a,b,c,d){var g,k,h;d=(b.Rt()+d)*b.Co;c=c.Ybb(d);d/=c;g=a.dg-c;k=a.dg+b.Co;h=a.Vn();h.add(b,void 0);a=a.Vn();a.add(b,void 0);try{a.gEa(c);}catch(U){if(U instanceof I)throw new f();throw U;}return[g,k,h,a,c,d];};k.prototype=Error();p.prototype=new k();t.prototype=new k();u.prototype={Nga:function(a){return a.join(",");},put:function(a,b){this.J7[this.Nga(a)]=b;},get:function(a){return this.J7[this.Nga(a)];},Paa:function(a){return this.Nga(a)in this.J7;}};g.P={BOa:b,hFb:c,tEb:f,uEb:h};},function(g,d,a){var I,C,K,r,T,ca,R,S,N,U;function c(a){var b,c,f;c=a.bq;b=a.eh;f=a.Fl.ga-b.T;c.timestamp>b.wo&&N.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+c.timestamp+" and "+b.wo);a=[];for(var d,g=c.timestamp,k=0;k<c.trace.length;k++)g>=b.wo&&(a.push(c.trace[k]),d=c.trace[k]),g+=c.yl,f-=c.yl;for(;0<f;)a.push(d),f-=c.yl;b=c.yl;c=a.length;if(0===c)c=[];else{for(b=[b/1E3];2*b.length<=c;)b=b.concat(b);b.length<c&&(b=b.concat(b.slice(0,c-b.length)));c=b;}return new T(a,c,!1);}function f(a,b){return a.jA<b.jA?1:a.jA>b.jA?-1:0;}function h(a){for(var b=a.eh,c=a.Fl,f=c.Mk,d=a.el,g=!0,k,h=[],m,p=f=Math.min(c.mr,f);p>=b.fh;p--){U.update("backward step loop");k=a.el[0][p].T-a.eh.T;p<f&&(I(void 0!==h[p+1],"expect solution[(fragIndex + 1)] !== undefined"),k=Math.min(h[p+1].startTime,k));c=d[0][p].ba;m=b.Uv*d[0][p].duration*1/8;m=n(c+m,k,a.bq,b.wo);if(0>m){g=!1;break;}h[p]={startTime:m,endTime:k,$T:k,Eo:c,wd:0};}return{di:g,Jr:h,ko:!1,ex:0===h.length?!0:!1};}function q(a,b){var r,Q,T,N,ca,R;for(var c=a.eh,f=a.Fl,d=f.Mk,g=a.el,k=0,h=0,m=b.Jr,p,q,t,y=0,n=0,D,C,d=Math.min(f.mr,d),K=c.fh;K<=d;K++){U.update("forward step loop");t=m[K];b=t.wd;D=g[b][K].duration;C=K===c.fh?0:m[K-1].endTime;p=0;b=B(a,m,C,k,K);if(b.$L)return{di:!1,ko:!0};b.aP||(p=b.waitUntil-C,C=b.waitUntil);I(0<=p,"expect waittime >= 0 but got "+p);Q=a.bq;T=c.wo;p=0;b=Q.trace;q=1*Q.yl;r=C+T-Q.timestamp;T=t.$T+T-Q.timestamp;I(0<=r,"invalid downloadStartTime");I(T>=r,"invalid downloadEndTime");N=Math.max(0,Math.floor(1*r/q));ca=1*T/q;if(N===Math.floor(ca))r=(T-r)/q*l(b,N,q),I(0<=r,"negative delta same bucket"),p+=r;else for(ca=Math.ceil(ca),Q=N,t=ca,N*q<r&&(Q++,r=(Q*q-r)/q*l(b,N,q),I(0<=r,"negative delta (2)"),p+=r),ca*q>T&&(t--,r=(T-t*q)/q*l(b,t,q),I(0<=r,"negative delta (3)"),p+=r),r=Q;r<t;r++)p+=l(b,r,q);q=c.Uv*D*1/8;h+=q;b=u(p-q,K,g);if(void 0===b)return{di:!1,ko:!0};p=b.Eo;b=b.wd;q=p+q;T=a.bq;t=r=0;Q=T.trace;N=Math.max(0,C+c.wo-T.timestamp);T=1*T.yl;R=ca=Math.max(0,Math.floor(1*N/T));for(R*T<N&&(ca+=1,N=R*T+T-N,R=N/T*l(Q,R,T),r=q-t<R?r+(q-t)/R*1*N:r+N,t+=R);t<q;)U.update("getDownloadTime"),N=l(Q,ca,T),r=q-t<N?r+(q-t)/N*1*T:r+T,t+=N,ca+=1;q=r;m[K].startTime=C;m[K].endTime=C+q;m[K].Eo=p;m[K].wd=b;K<=f.Mk&&(k+=p,n+=D,y=void 0!=g[b][K].Dc?y+D*g[b][K].Dc:y+D*a.uc[b].Dc);}return{di:!0,ko:!1,Jr:m,Yua:0<n?1*y/n:0,R7:n,Q7:k,P7:h};}function b(a){a=a.eh.X;for(var b=[],c,f=0;f<a.length;f++)U.update("get prebuffered chunks loop"),c=a[f],I(void 0!==c.Dc,"expect frag.vmaf !== undefined"),c=new C(c.ba,c.duration/1E3,c.Dc),b.push(c);return b;}function k(a){for(var b=a.el,c=a.eh,f=a.Fl,d=f.Mk,g=a.uc,k=[],h,d=Math.min(f.mr,d),m=0;m<b.length;m++){for(var f=[],p=c.fh;p<=d;p++)U.update("get chunk map from play segment"),h=b[m][p],h=new C(h.ba,h.duration/1E3,a.YN&&void 0!==h.Dc?h.Dc:g[m].Dc),f.push(h);k.push(f);}return new K(k,!1);}function p(a,b){I(a.TE()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,f=0,d,g,k=0;k<b.length;k++)U.update("calculate twvmaf"),I(b[k].pza===k,"expect stream_choices[idx].i_epoch === idx"),g=a.Ei[b[k].faa][k],d=g.yN,g=g.Co,c+=d*g,f+=g;return{Yua:c/f,R7:1E3*f};}function t(a,b,c){var f,d;I(a.TE()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");f=0;d=0;c=c.eh.Uv;for(var g,k=0;k<b.length;k++)U.update("calculate Bytes"),I(b[k].pza===k,"expect stream_choices[idx].i_epoch === idx"),g=a.Ei[b[k].faa][k],f+=g.ba,d+=c*g.Co*1E3/8;return{Q7:f,P7:d};}function u(a,b,c){var f,d;a=Math.max(0,a);f=[];c.forEach(function(a){f.push(a[b].ba);});c=f.filter(function(b){return b<=a;});if(0<c.length)c=c[c.length-1],d=f.lastIndexOf(c);else throw Error("selectStream infeasible");return{Eo:c,wd:d};}function l(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function n(a,b,c,f){var d,g,k,h,m;d=c.trace;g=1*c.yl;m=b+f-c.timestamp;h=Math.floor(1*m/g);b=0+(m-h*g)/g*l(d,h,g);if(b>=a)k=m-1*a/b*(m-h*g);else for(m=h;b<a;){U.update("find download start time");--m;if(0>m)return-1;h=l(d,m,g);if(b+h>=a){a=1*(a-b)/h*g;k=(m+1)*g-a;break;}b+=h;}return k+c.timestamp-f;}function B(a,b,c,f,d){var g,k,h,m,p,q;g=a.eh;k=c+g.T;c=a.el[g.VL];a=a.P5;h={aP:!0,waitUntil:void 0,$L:!1};m=c.filter(function(a){return a&&a.T<=k&&a.T+a.duration>k;})[0];if(void 0===m)return{$L:!0};p=d-1-(m.index-1);f=g.cP+f;q=0;q=m.index<g.fh?q+c.slice(g.Iu,m.index).reduce(function(a,b){return a+b.ba;},0):q+g.cP;q=q+b.slice(g.fh,m.index).reduce(function(a,b){return a+b.Eo;},0);f-=q;if(p>=a.BM||f>=a.bH)for(h.aP=!1,m=m.index;m<d&&(p>=a.BM||f>=a.bH);)U.update("check buffer vacancy"),h.waitUntil=c[m].T+c[m].duration-g.T,f=m<g.fh?f-c[m].ba:f-b[m].Eo,--p,m+=1;h.Csa=f;h.pNb=p;return h;}I=a(8).assert;C=a(360).BMa;K=a(360).CMa;r=a(720).BOa;T=a(359).tXa;ca=a(207).Sha;R=a(370).gla;S=a(58);N=new(a(3)).Console("ASEJS_QOE_EVAL","media|asejs");U=a(110).Jma||a(110);g.P={Lmb:function(a){var b;b=h(a);return!1===b.di||!0===b.ex?b:q(a,b);},JL:function(a){var b,c,d,g,k,m,p,t,u,l,y,D,C,B,K,Q;N.debug("greedy DEBUG false");U.zZ("greedy-"+(a.YN?"segvmaf":"dlvmaf")+": ");c=a.el;b=a.el;d=a.eh;g=a.Fl;k=g.Mk;m=a.uc;k=Math.min(g.mr,k);for(D=d.fh;D<=k;D++){b[0][D].jz=b[0][D].ba;for(y=1;y<b.length;y++)b[y][D].jz=b[y][D].ba,b[y-1][D].jz===b[y][D].jz&&(b[y][D].jz=b[y-1][D].jz+1);y=0;d=b[y][D];d.jA=Infinity;d.Ch=y;for(y=1;y<b.length;y++)d=b[y][D],g=b[y-1][D],p=8*d.jz/d.duration,t=8*g.jz/g.duration,a.YN&&void 0!==d.Dc?(u=d.Dc,l=g.Dc):(u=m[y].Dc,l=m[y-1].Dc),d.jA=(u-l)/(p-t),d.Ch=y,I(void 0!==g.jA&&!isNaN(g.jA),"expect fragPrev.margUtil !== undefined && !isNaN(fragPrev.margUtil)");}b=h(a);if(!1===b.di||!0===b.ex)return b;k=a.el;d=a.eh;g=a.Fl;m=g.Mk;m=Math.min(g.mr,m);g=[];for(d=d.fh;d<=m;d++)g.push(k[1][d]);for(k=new R(g,f);0<k.length;){U.update("upgrade frags");m=k.pop();d=a;g=b;p=m;t=d.el;u=d.eh;K=d.Fl;l=K.Mk;y=!0;D=JSON.parse(JSON.stringify(g.Jr));void 0!==p.Ch&&I(D[p.index].wd+1===p.Ch,"expect solution[targetFrag.index].selectedStreamIndex + 1 === targetFrag.streamIndex");l=Math.min(K.mr,l);for(var r=p.index;r>=u.fh;r--){Q=r===p.index?D[r].wd+1:D[r].wd;K=d.el[Q][r].T-d.eh.T;if(r<l)if(I(void 0!==D[r+1],"expect solution[(fragIndex + 1)] !== undefined"),B=D[r+1].startTime,B<K)K=B;else if(r!==p.index)break;B=t[Q][r].ba;C=u.Uv*t[Q][r].duration*1/8;C=n(B+C,K,d.bq,u.wo);if(0>C){y=!1;break;}D[r]={startTime:C,endTime:K,$T:K,Eo:B,wd:Q};}d={di:y,Jr:D,ex:g.ex};!0===d.di&&(b=d,m.Ch+1<c.length&&k.push(c[m.Ch+1][m.index]));}b=q(a,b);b.Ip=U.Y9();N.debug("Max heap used: "+Math.round(b.Ip/1024/1024)+" MB");return b;},dp:function(a){var f,d,g,m,q,u;U.zZ("dp-"+(a.YN?"segvmaf":"dlvmaf")+": ");f=h(a);if(!1===f.di||!0===f.ex)return f;d=k(a);g=new r(d);m=b(a);m={rIa:c(a),csa:a.eh.Uv,kCa:0,UBa:240,TBa:8*a.P5.bH/1E3,Asa:.5,lsa:new ca(m),Hva:0,UPb:void 0,Iya:void 0,REa:void 0,Ara:!0};g=g.oG(m);m=p(d,g);d=t(d,g,a);q=[];u=a.eh.fh;g.forEach(function(a){q[u]={wd:a.faa};u++;});S(m,f);S(d,f);f.Jr=q;f.Ip=U.Y9();N.debug("Max heap used: "+Math.round(f.Ip/1024/1024)+" MB");return f;}};},function(g,d,a){var h,q;function c(){}function f(a,c){return function(b){b.YN=c;return a(b);};}h=a(721);q=a(719);c.prototype.constructor=c;c.prototype.create=function(a){switch(a){case"htwbr":a=q.JL;break;case"hvmaftb":a=h.Lmb;break;case"hvmafgr":a=h.JL;break;case"hvmafdp":a=h.dp;break;case"hvmafgr-dlvmaf":a=f(h.JL,!1);break;case"hvmafgr-segvmaf":a=f(h.JL,!0);break;case"hvmafdp-dlvmaf":a=f(h.dp,!1);break;case"hvmafdp-segvmaf":a=f(h.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return a;};g.P=c;},function(g,d,a){var f,h;function c(a,b,c,d){this.Za=a;this.I=b;this.Md=this.I.error.bind(this.I);this.Ia=this.I.warn.bind(this.I);this.fj=this.I.trace.bind(this.I);this.ob=this.I.log.bind(this.I);this.CYa=new h();this.K=d;this.aS=[];this.zS=void 0;a=d.gW;f.call(this,a.numB*a.bSizeMs,a.bSizeMs);this.ppa=!0;}a(13);d=a(3);f=a(167);a(368);h=a(722);new d.Console("ASEJS_QOE_EVAL","media|asejs");c.prototype=Object.create(f.prototype);c.prototype.add=function(a,b,c){this.zS||(this.zS=b);f.prototype.add.call(this,a,b,c);};c.prototype.agb=function(){var a;if(0!==this.aS.length){a=[];this.aS.forEach(function(b){b&&b.uD&&a.push(b.Ot());});return a;}};c.prototype.ic=function(){this.aS=[];};c.prototype.Tib=function(){var a,b,c;a=this.get(this.K.gW.fillS);if(0===a[0]||null===a[0]){a.some(function(a,f){if(a)return b=a,c=f,!0;});if(b)for(var d=0;d<c;d++)a[d]=b;}a={trace:a,timestamp:this.zS,yl:this.Fc};this.ppa=!1;f.prototype.reset.call(this);this.zS=void 0;return a;};c.prototype.x8=function(a){var b,c,f,d,g,h;if(a&&!a.uD){c=a.Fl.gAa;c&&(a.eea=this.p5(a),a.SY=!1);if((b=this.Tib())&&b.trace&&b.trace.length){f=a.eh.wo;d=b.timestamp;if(d>f){g=b.yl;h=b.trace[0];f=Math.ceil(1*(d-f)/g);b.timestamp=d-f*g;for(d=0;d<f;d++)b.trace.splice(0,0,h);}b.trace.length&&b.trace.pop();}a.bq=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.y6a(a),a.uDa=b,c&&b&&(a.SY=b.di),a.uD=!0,this.aS.push(a));}};c.prototype.y6a=function(a){var d,g,h,m;for(var b=this.K.NL,c={di:!1,ko:!1,BU:0},f=0;f<b.length;f++){d=b[f];g=this.CYa.create(d);if(g){h=Date.now();m={};try{m=g(a);}catch(B){m.KU=B;}m.b4a=Date.now()-h;c[d]=m;c.di=c.di||m.di;c.ko=c.ko||m.ko;c.KU=c.KU||m.KU;}}return c;};c.prototype.p5=function(a){var b;a=a.Fl;b="";1E3>a.dP&&(b+=a.LJa);1E3>a.W4&&(b=b+(""!==b?",":"")+a.Qra);1E3<=a.dP&&1E3<=a.W4&&(b="media");return b;};g.P=c;},function(g,d,a){var c,f,h,q,b,k;Object.defineProperty(d,"__esModule",{value:!0});c=a(211);f=a(723);h=a(358);q=a(6);b=a(13);k=a(3);g=function(){var l60;l60=2;while(l60!==27){switch(l60){case 2:Object.defineProperties(a.prototype,{LW:{get:function(){var B60;B60=2;while(B60!==1){switch(B60){case 4:return this.G3;break;B60=1;break;case 2:return this.G3;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Wda:{get:function(){var K60;K60=2;while(K60!==1){switch(K60){case 2:return this.oqa;break;case 4:return this.oqa;break;K60=1;break;}}},enumerable:!0,configurable:!0}});l60=5;break;case 5:a.prototype.WGa=function(a,b,c){var p60;p60=2;while(p60!==4){switch(p60){case 2:this.Cp=a;q.U(b)||(this.jza=b);q.U(c)||(this.hW=c);p60=4;break;}}};l60=4;break;case 4:a.prototype.Sga=function(a){var v60;v60=2;while(v60!==5){switch(v60){case 2:this.K=a;this.eS.Sga(a);v60=5;break;}}};a.prototype.H3=function(a,b,c,f){var q60,d,l1t,p1t;q60=2;while(q60!==6){l1t="a";l1t+="v";l1t+="g";p1t="i";p1t+="q";p1t+="r";switch(q60){case 4:q60=void 0!==f?3:9;break;case 9:return!1;break;case 5:q60=a===p1t?4:8;break;case 3:return b.Da&&c&&q.ka(f)&&b.Da.Ca<d.tK&&f>d.q1;break;case 8:q60=a===l1t?7:9;break;case 2:d=this.K;q60=5;break;case 7:return b.Da?b.Da.Ca<d.tK:!0;break;}}};a.prototype.iib=function(a){var D60;D60=2;while(D60!==1){switch(D60){case 2:return 1===a?this.eS.CY:this.eS.KA;break;}}};a.prototype.xG=function(a){var Z60;Z60=2;while(Z60!==1){switch(Z60){case 2:this.eS.xG(a);Z60=1;break;case 4:this.eS.xG(a);Z60=2;break;Z60=1;break;}}};a.prototype.h3a=function(a,b,c,f,d,g){var j60,k;j60=2;while(j60!==4){switch(j60){case 2:k=this.K;k.G_&&this.l1a(b)||!c||!f||!(c=g?Math.min(c,f,g):Math.min(c,f))||(this.Tb.get(!1),f=this.Za.na,a=f.Oq(f.Nb,a),b.track.Rm()&&a>k.R5&&c===d?(k.set?(k.set({pipelineEnabled:!0}),k.set({maxParallelConnections:1}),k.set({maxActiveRequestsPerSession:2}),k.set({maxPendingBufferLen:500})):(k.uo=!0,k.tF=1,k.kr=2,k.Zw=500),b.track.qFa({type:b.track.config.type,connections:1,openrange:!1,pipeline:!0,socketBufferSize:k.eH,minRequestSize:k.BF}),this.mga++,k.G_&&(this.qS=!0)):k.uo&&!b.Rm()&&(a<k.Q5||c!==d)&&(k.set?(k.set({pipelineEnabled:!0}),k.set({maxParallelConnections:3}),k.set({maxActiveRequestsPerSession:3}),k.set({maxPendingBufferLen:12E3})):(k.uo=!0,k.tF=3,k.kr=3,k.Zw=12E3),b.track.qFa({type:b.config.type,connections:3,openrange:!1,pipeline:!0,socketBufferSize:k.eH,minRequestSize:k.BF}),this.nga++,k.G_&&(this.rS=!0)));j60=4;break;}}};a.prototype.k3a=function(a,b){var W60,c,f,d;W60=2;while(W60!==13){switch(W60){case 7:W60=void 0===f||c>f?6:14;break;case 2:c=this.K;W60=5;break;case 14:this.zk.Uaa=c;W60=13;break;case 5:W60=this.zpa?4:13;break;case 9:f=this.zk.Uaa;d=this.zk.aba?c-this.zk.aba-1:c;W60=7;break;case 4:void 0===this.zk&&(this.zk={startTime:k.time.fa(),$s:[],Pu:[],aba:void 0,Uaa:void 0});c=Math.floor((k.time.fa()-this.zk.startTime)/c.FD);W60=9;break;case 6:this.zk.$s[d]=a,this.zk.Pu[d]=b;W60=14;break;}}};l60=14;break;case 11:a.prototype.k7a=function(a){var P60,c,f,d,g,k,Z1t,g1t;P60=2;while(P60!==7){Z1t="n";Z1t+="o";Z1t+="n";Z1t+="e";g1t="i";g1t+="q";g1t+="r";switch(P60){case 2:c=this.K;P60=5;break;case 4:f=this.Tb.get();g1t===c.Dx&&(d=this.ipa(f),void 0!==d&&void 0!==d.gk&&void 0!==d.Pi&&void 0!==d.hk&&(g=(d.hk-d.gk)/d.Pi));k=c.TM?b.Fe.$x:b.Fe.ay;f&&f.Fd>=k&&this.H3(c.Dx,f,d,g)&&(this.lo=!0,this.LT=a.state);P60=7;break;case 5:P60=Z1t!==c.Dx&&!0!==this.lo&&a.state<=c.Tba?4:7;break;}}};a.prototype.I3a=function(a){var V60;V60=2;while(V60!==1){switch(V60){case 4:a.lo=this.lo;V60=2;break;V60=1;break;case 2:a.lo=this.lo;V60=1;break;}}};a.prototype.reb=function(a){var H60,c,f,d,g,h,m,p,t,s1t,J1t;H60=2;while(H60!==21){s1t="s";s1t+="ta";s1t+="rtplay";J1t="lo";J1t+="g";J1t+="d";J1t+="at";J1t+="a";switch(H60){case 26:c.histtd=h;H60=25;break;case 9:g.fields=c;Object.keys(a).forEach(function(b){var E60;E60=2;while(E60!==1){switch(E60){case 2:c[b]=a[b];E60=1;break;case 4:c[b]=a[b];E60=3;break;E60=1;break;}}});h=this.Tb.get();H60=6;break;case 2:c={};H60=5;break;case 25:c.histage=this.jza;H60=24;break;case 27:c.histtdc=m;H60=26;break;case 18:p=function(a){var y60;y60=2;while(y60!==1){switch(y60){case 2:return q.ka(a)?Number(a).toFixed(2):-1;break;}}};h=[p(m.min||void 0),p(m.ada||void 0),p(m.gk||void 0),p(m.Pi||void 0),p(m.hk||void 0),p(m.bda||void 0),p(m.max||void 0)];t=[];m=q.isArray(m.Qg)&&m.Qg.reduce(function(a,b){var M60,c;M60=2;while(M60!==9){switch(M60){case 2:c=p(b.af||void 0);b=p(b.n||void 0);M60=4;break;case 4:-1<c&&-1<b&&a.push({mean:c,n:b});return a;break;}}},t);H60=27;break;case 5:f=this.K;d=this.Za;g={type:J1t,target:s1t,fields:{}};H60=9;break;case 19:H60=m?18:25;break;case 6:h&&h.Da&&(h=h.Da.Ca);c.actualbw=h;c.isConserv=this.lo;c.ccs=this.LT;c.isLowEnd=this.xlb;H60=10;break;case 10:c.histdiscbw=this.Cp;m=this.hW;H60=19;break;case 24:f.i8&&this.KC&&(c.ishighstable=this.G3,c.avg_avtp=this.KC.gsa,c.avg_ne=Number(this.KC.hsa).toFixed(4));d.sb&&(f=k.Zj(),c.maxAudioBufferAllowedBytes=f[b.Fa.AUDIO],c.maxVideoBufferAllowedBytes=f[b.Fa.VIDEO]);d.emit(g.type,g);H60=21;break;}}};a.prototype.seb=function(a){var F60,c,f,d,g,k,h,m,i1t;F60=2;while(F60!==20){i1t="no";i1t+="n";i1t+="e";switch(F60){case 3:g=[];[b.Fa.VIDEO,b.Fa.AUDIO].forEach(function(a){var f60,k;f60=2;while(f60!==3){switch(f60){case 2:f60=1;break;case 1:f60=c.eb(a)?5:3;break;case 8:f60=5;break;f60=1;break;case 5:k=c.Za.sya(a);void 0!==k&&(a===b.Fa.VIDEO&&(f.qE&&(k.parallelDownloadMs=c.KDa,k.parallelDownloadBytes=c.JDa,k.singleDownloadMs=c.uHa,k.singleDownloadBytes=c.tHa,k.switchFromParallelToSingle=c.mga,k.switchFromSingleToParallel=c.nga),d&&d.Fd&&d.Da&&(k.asetput=d.Da,k.aseiqr=d.Ep,k.tdigest=d.mi&&d.mi.Ot()||void 0),d&&d.avtp&&(k.avtp=d.avtp.Ca)),g.push(k));f60=3;break;case 7:f60=c.eb(a)?6:1;break;f60=c.eb(a)?5:3;break;}}});a.stat=g;k=0;F60=6;break;case 2:c=this;F60=5;break;case 6:h=0;m=0;d.Fd&&(k=d.Da?d.Da.Ca:0,h=d.bh?d.bh.Ca:0,m=d.Dp?d.Dp.Ca:0);F60=12;break;case 5:f=this.K;d=this.Tb.get(!0);F60=3;break;case 12:a.location={responseTime:h,httpResponseTime:m,bandwidth:k,confidence:d.Fd,name:this.UCb};this.zpa&&(a.bt={startTime:this.zk.startTime,audioMs:this.zk.$s,videoMs:this.zk.Pu},this.zk.$s=[],this.zk.Pu=[],this.zk.aba=this.zk.Uaa);i1t!==f.Dx&&(a.isConserv=this.lo,a.ccs=this.LT);F60=20;break;}}};a.prototype.l1a=function(a){var e60,b;e60=2;while(e60!==14){switch(e60){case 4:return!0;break;case 2:b=this.K;e60=5;break;case 9:e60=this.rS&&b.uo&&!a.Rm()?8:7;break;case 5:e60=this.qS&&a.Rm()?4:3;break;case 7:this.rS&&(this.rS=!1);return!1;break;case 8:return!0;break;case 3:this.qS&&(this.qS=!1);e60=9;break;}}};l60=17;break;case 17:a.prototype.ipa=function(a){var h60,S60,f1t;h60=2;while(h60!==4){f1t="t";f1t+="dig";f1t+="est";switch(h60){case 2:S60=this.K.Y$;h60=S60===f1t?1:3;break;case 1:a=a.mi;h60=5;break;case 3:h60=9;break;case 5:return a;break;case 9:a=a.Ep&&a.Ep.qY;h60=5;break;}}};a.prototype.B_a=function(a,b,c){var m60,f;m60=2;while(m60!==9){switch(m60){case 2:f=this.K;this.H3(f.Dx,a,b,c)?this.lo=!0:this.lo=!1;this.LT=0;this.H3(f.uba,a,b,c)&&(this.xlb=!0);m60=9;break;}}};return a;break;case 14:a.prototype.$qb=function(){var A60,O60,a;A60=2;while(A60!==3){switch(A60){case 4:try{O60=2;while(O60!==5){switch(O60){case 2:this.Tb.wvb();this.oqa.ic();O60=5;break;}}}catch(u){var K1t;K1t="Hindsight: Error durin";K1t+="g cle";K1t+="an up: ";j4tt.w1t(0);a.Ra.Tl(j4tt.G3t(K1t,u));}A60=3;break;case 1:a=this.Za;A60=5;break;case 2:A60=1;break;case 5:A60=this.Kv.ao?4:3;break;case 6:A60=this.Kv.ao?7:9;break;A60=this.Kv.ao?4:3;break;}}};a.prototype.hrb=function(a){var J60;J60=2;while(J60!==1){switch(J60){case 2:this.K.qE&&a===b.Fa.VIDEO&&(this.nga=this.mga=this.tHa=this.uHa=this.JDa=this.KDa=0);J60=1;break;}}};a.prototype.grb=function(a,c){var w60;w60=2;while(w60!==1){switch(w60){case 2:a===b.Fa.VIDEO&&(this.UCb=c);w60=1;break;}}};l60=11;break;}}function a(a,d,g,m,p,q,l,n,r){var Q60,n60,t,u,y,N60,v1t,e1t,M1t,B1t,u60;Q60=2;while(Q60!==32){v1t="b";v1t+="a";v1t+="s";v1t+="el";v1t+="ine";e1t="L";e1t+="R";M1t="1SI";M1t+="Y";M1t+="bZ";M1t+="rNJCp9";B1t="def";B1t+="au";B1t+="l";B1t+="t";switch(Q60){case 26:Q60=l&&1<l.length&&p.i8?25:33;break;case 14:this.K=p;j4tt.j1t(1);u60=j4tt.z1t(125000,1000008,125001);this.zpa=0===Math.floor(u60*Math.random())%p.S5;this.Cp=this.hW=this.jza=this.LT=this.lo=void 0;this.nga=this.tHa=this.uHa=this.mga=this.JDa=this.KDa=0;this.eS=c[B1t](p,q);d=this.ipa(g);Q60=19;break;case 15:try{n60=2;while(n60!==3){switch(n60){case 2:u=k.Zj();y=new f(a,this.I,{bufferSize:u},p);this.Tb.q3a(y);this.oqa=y;n60=3;break;}}}catch(S){var I1t;I1t="Hindsight";I1t+=": Error wh";I1t+="e";I1t+="n creating QoEEvaluator";I1t+=": ";j4tt.w1t(0);a.Ra.Tl(j4tt.z1t(I1t,S));}Q60=27;break;case 24:this.KC=new h.m1(l,p,this.I);Q60=23;break;case 16:Q60=this.Kv.ao?15:27;break;case 33:p.G_&&(this.rS=this.qS=!1);Q60=32;break;case 1:this.I=d;this.Tb=m;Q60=4;break;case 4:this.eb=n;this.Kv=r;M1t;this.Za=a;this.Ia=this.I.warn.bind(this.I);this.fj=this.I.trace.bind(this.I);Q60=14;break;case 19:void 0!==d&&void 0!==d.gk&&void 0!==d.Pi&&void 0!==d.hk&&(t=(d.hk-d.gk)/d.Pi);m=p.TM?b.Fe.$x:b.Fe.ay;g&&g.Fd>=m&&g.Da&&t&&this.B_a(g,d,t);Q60=16;break;case 22:Q60=N60===e1t?21:35;break;case 21:this.KC=new h.WPa(l,p,this.I);Q60=23;break;case 35:Q60=34;break;case 2:Q60=1;break;case 34:this.KC=new h.m1(l,p,this.I);Q60=23;break;case 25:N60=p.bkb;Q60=N60===v1t?24:22;break;case 27:this.G3=!1;Q60=26;break;case 23:this.G3=this.KC.LW();Q60=33;break;}}}}();d.EKa=g;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(16);f=a(231);g=function(){function a(a,b,c,f,d,g,h,m,l,n,C){void 0===c&&(c=0);this.Nc=a;this.sS=b;this.T=c;this.ga=f;this.oV=d;this.Df=g;this.LE=h;this.config=m;this.I=l;this.Ra=n;this.feb=C;this.jr=0;}a.create=function(d){var h,m,q,l,n,B,I,C,K,r,T,ca,R,S,N;function b(a){return C.Wa.pr[a];}function g(a){c.Ga(C,a.type,a);}h=d.Ua;m=d.CGa;q=d.T;l=d.ga;n=d.cr;B=d.Yp;I=d.Ra;C=d.Gb;K=d.config;r=d.I;T=d.Xe;ca=d.al;R=d.Me;S=d.Iw;N=new f.Q_({Ua:h,ta:d.ta,Wk:d.Wk,eb:d.eb,Yba:{HW:d.mf,Daa:!!d.Yza},Xh:d.Xh,Lq:d.Lq,config:K,Gfa:K.Az?{CA:C.Bk.CA,ia:C.Bk.ia,pw:C.Bk.pw,Tl:I.Tl.bind(I),yp:b}:void 0,N$:{Ab:T.Sh.bind(T),Me:R,Iw:S,Vk:g,EW:function(a){return a===C.na.Nb.O;},GV:function(a,b,c,f,d){a=C.Wa.Be[a];return!b||c||f||d?C.SI:a.Zl;},yp:b,Df:C.Df.bind(C)},JF:function(a){C.emit("requestComplete",{timestamp:a.Qc,mediaRequest:a});},tL:function(){return C.ff;},Vb:C.sb.Vb,Yg:C.sb.Yg,v8:{cr:n,ji:C.Cq.bind(C),eM:function(){return C.lD;},eF:C.V.Li.bind(C.V),Yp:B,Vk:g},WA:void 0});N.Hw.on("onHeaderFragments",function(a){var b,c,f,d,g;b=a.M;c=a.pa;f=a.stream.X;d=C.Df(h);if(d){if(N.Yf[b]&&a!==N.Yf[b])a.Wq&&(d=N.Yf[b],a=a.stream,g=d&&d.stream,r.warn("first header received for non-current track (trackId "+a.cb+"streamId "+a.pa+"), expected track "+(g&&g.cb)+", stream "+(g&&g.pa)+", "+d));else{N.Yf[b]=a;a=C.na.Nb;if(0===h){g=N.eb(1)?a.re(1).Bb:a.re(0).Bb;a.AT(g,N);}d.AN=!1;d.yT();C.MS();}ca.u3();I.D0a(h,b,c,N.u,f);T.Sh();}else r.warn("addFragments for stale manifestIndex:",h);});N.Hw.on("onHeaderRequestComplete",function(a){var b,c;a.lj?C.MS():a.rw&&(r.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),C.WK(a.u));b=a.M;c=Object.getOwnPropertyNames(S.wq[b]);C.Ie[b].qqb(a.stream,1===c.length&&c[0]===a.pa);T.Soa();C.Tvb();});N.Hw.on("onHeaderFromCache",function(a){var b;b=a.fo;a=a.Teb;b.lj&&C.MS();a&&I.u0a(b.u,b.pa);});return new a(N,m,q,l,function(){return C.na;},C.Df.bind(C),C.LE.bind(C),K,r,I,!1);};Object.defineProperties(a.prototype,{O:{get:function(){return this.Nc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ua:{get:function(){return this.O.Ua;},enumerable:!0,configurable:!0}});a.prototype.Hl=function(a){return this.Nc.Yib(a,this.tV(a));};a.prototype.tV=function(a){return this.sS[a];};a.prototype.ic=function(){this.Nc.ic();delete this.Nc;};a.prototype.clone=function(){return new a(this.O,this.sS,this.T,this.ga,this.oV,this.Df,this.LE,this.config,this.I,this.Ra,!0);};a.prototype.Rga=function(a){this.I.trace("updateAudioTrack:",this.sS[0],"->",a);this.sS[0]=a;};a.prototype.Lxa=function(){return void 0!==this.fx?this.fx:this.ga?this.ga:this.Nc.ta.duration;};a.prototype.J6a=function(a,b){var c,f,d,g;c=this.Nc.Yf[1];if(c&&c.stream.ud){if(this.Lt&&this.Lt[1]&&this.Lt[1].T<=a&&this.Lt[1].ga>a)return this.Lt[1].qc;f=c.stream.X;d=f.Gl(a,void 0,!0);g=void 0;b&&(a=c.stream.ai(d).SU(a))&&(g=a.Kc);void 0===g&&(g=f.Ah(d));return g;}};a.prototype.yT=function(){var a,b;if(!this.AN&&this.Vya()){this.Hca();b=[0,0];0===this.Ua||this.Nc.se.CM||this.Nc.se.replace||(a=this.Df(this.Ua-1),a=this.Nc.u===a.Nc.u,b=this.oV().Nb,a=b.AT(this.T,this.O,b,a),b=a.cG);this.T=b[1];this.cG=b;this.Lt=a&&a.Lt;this.Ksa();a=this.Nc.eb(1)?this.Nc.Yf[1].stream.X.ga:this.Nc.Yf[0].stream.X.ga;this.Ra.z0a(this.Ua,this.jr,this.T,this.fx,a);this.AN=!0;for(a=this.Ua+1;a<this.LE();++a)b=this.Df(a),b.AN=!1,b.yT();}};a.prototype.Ksa=function(){var a;if(0===this.Ua||this.Nc.se.replace)this.jr=0;else{a=this.Df(this.Ua-1);this.jr=a.jr+a.Lxa()-this.T;}};a.prototype.Hca=function(){var a,b,c,f;if(this.Vya()){a=this.oV().Nb;b=this.ga||Infinity;c=this.Nc.eb(1);f=a.lL(b,this.O);this.fx=c?f[1].ga:f[0].ga;this.Ra.B0a(this.Ua,this.fx,c?this.Nc.Yf[1].stream.X.ga:this.Nc.Yf[0].stream.X.ga);a=this.oV().L8(this.Ua);0<a.length&&a.forEach(function(a){a.LBb(f,b);});}};a.prototype.Vya=function(){var a,b,c,f;a=this.Nc.eb(0);b=this.Nc.eb(1);c=this.Nc.Yf[0];f=this.Nc.Yf[1];c=c&&c.stream.ud;f=f&&f.stream.ud;return(!a||c)&&(!b||f);};return a;}();d.Ska=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f,d,g,b,k,h,t,u,l){var c;c=this;this.id=a;this.O=f;this.T=d;this.LK=b;this.jj=k;this.Gx=h;this.j_=t;this.Wk=u;this.we=l;this.NV=function(a){var b,f;return(null===(f=null===(b=c.jj)||void 0===b?void 0:b[a])||void 0===f?void 0:f.fBb)||c.we;};this.ga=g||Infinity;}Object.defineProperties(a.prototype,{va:{get:function(){return this.O.va;},enumerable:!0,configurable:!0}});a.prototype.rxa=function(){var a,f,d;a=this;d=Object.keys(this.jj||{}).filter(function(c){var b,f;return!(null===(f=null===(b=a.jj)||void 0===b?void 0:b[c])||void 0===f||!f.weight);});return d.length?(f=d.map(this.NV).reduce(function(a,b){return a===b?b:void 0;}),null!==f&&void 0!==f?f:this.we):this.we;};a.prototype.toString=function(){return"segmentId: "+this.id+"playlistSegmentId: "+this.Wk+" viewableId: "+this.O.va+" pts: "+this.T+"-"+this.ga+" defaultKey: "+this.LK+" dests: "+JSON.stringify(this.jj)+" terminal: "+!!this.Gx;};a.prototype.toJSON=function(){return{id:this.id,viewable:this.O.va,"startPts:":this.T,endPts:this.ga,defaultKey:this.LK,"dests:":this.jj,terminal:!!this.Gx,playlistSegmentId:this.Wk};};return a;}();d.NWa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f,d,g,b,k,h,t){this.Dd=a;this.ysa=f;this.config=d;this.console=g;this.M=b;this.Ra=k;this.Sa=h;this.Gb=t;this.pn=this.Hg=!1;}a.prototype.LD=function(a,f){!this.Dd.la.Gx||this.Gb.TC||this.Gb.dS&&!this.config.n5||(a-=this.Dd.Ed,this.Hg&&!this.pn&&a+this.config.BAb>=f&&0===this.Sa.tu&&0===this.Sa.Pr&&0===this.Sa.pub&&(f=this.Gb.ad.O.Ua,a=this.Gb.LE(),f+1<a||(this.ysa[this.M].XHa||this.Ra.r0a(this.M),this.pn=!0,this.ysa[this.M].XX())));};return a;}();d.sRa=g;},function(g,d,a){var c,f,h,q,b,k,p,t,u,l;Object.defineProperty(d,"__esModule",{value:!0});c=a(6);f=a(58);h=a(3);q=a(362);b=a(726);k=a(21);p=a(216);t=a(16);u=a(8);l=a(29);g=function(){function a(a,b,c,f,d,g,k,m,q,l){this.Za=a;this.Rf=b;this.I=c;this.fD=f;this.K=k;this.AR=m;this.fqa=q;this.uL=l;this.Ia=this.I.warn.bind(this.I);this.fj=this.I.trace.bind(this.I);this.ob=this.I.log.bind(this.I);this.Lg=[];this.vm={};d.nK?(u.assert(!d.Wk),this.W2=!0,this.g1a(d,d.nK,g)):(this.Ck=this.j3(d.Wk||"",d,0,void 0,void 0,{},!0),this.Ck.UX=!0,this.Ck.ga=Infinity,this.HS=[this.Ck]);this.Lc=this.pR(this.Ck,this.Ck.T,void 0,g);this.Lc.active=!0;a=t.Ww(h,this.I,"BranchQueue::");this.Cn=new p.n2(a);this.Cn.enqueue(this.Lc);this.fS=this.XI=void 0;}Object.defineProperties(a.prototype,{Yt:{get:function(){return!!this.W2;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Fp:{get:function(){return this.Lc.H7;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{rh:{get:function(){return this.Ck;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Sg:{get:function(){return this.Lc.la.id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Z$a:{get:function(){return this.Lc.O.Ua;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Nb:{get:function(){return this.Lc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{hf:{get:function(){return this.Lg;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ed:{get:function(){return this.Lc.Ed;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ie:{get:function(){return this.Za.Ie;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{kk:{get:function(){return this.XI?this.XI:this.hf[0];},enumerable:!0,configurable:!0}});a.prototype.Tg=function(){this.Lg.forEach(function(a){a.Tg();});this.Lg=[];this.Cn.clear();};a.prototype.Ki=function(a){return this.vm[a];};a.prototype.HV=function(){return this.Cn.Ixa();};a.prototype.k$=function(a){return"m"+a;};a.prototype.pya=function(a,b){var c;c=this.vm[a];if(c)return(a=c.jj[b])&&a.weight;this.Ia("getSegmentWeight, unknown segment:",a);};a.prototype.Aib=function(a){var b;b=this.vm[a];if(b)return b.T;this.Ia("getSegmentStartPts, unknown segment:",a);};a.prototype.zib=function(a){var b;b=this.vm[a];if(!b)this.Ia("getSegmentDuration, unknown segment:",a);else if(c.ka(b.ga)&&isFinite(b.ga)&&c.ka(b.T)&&isFinite(b.T))return b.ga-b.T;};a.prototype.mea=function(a){var b;b=-1;this.Lg.some(function(c,f){return c===a?(b=f,!0):!1;});-1!==b?this.Lg.splice(b,1):this.Ia("Unable to find branch:",a,"in branches array");};a.prototype.z6a=function(a,b){var c;c=0;this.epa(a).forEach(function(a){(a=a.Ic(b))&&(c+=a.m5);});return c;};a.prototype.kz=function(a,b){var c;c=0;this.epa(a).forEach(function(a){(a=a.Ic(b))&&(c+=a.mz);});return c;};a.prototype.Oq=function(a,b,c){if(!a.eb(b))return 0;for(var f=a.re(b),f=c?f.Bb:f.Ik;void 0===f;){if(!a.sf)return 0;a=a.sf;f=a.re(b);f=c?f.Bb:f.Ik;}a=this.fqa.sd();return Math.max(f-a,0);};a.prototype.Fxa=function(a,b){var c;if(void 0!==this.K.kA){c=h.Zj()[b];a=this.z6a(a,b);return c-a;}};a.prototype.L8=function(a){return this.Lg.filter(function(b){if(b.O.Ua===a)return!0;});};a.prototype.yeb=function(a,b){return this.Zoa(a,!1,b);};a.prototype.xeb=function(a,b){return this.Zoa(a,!0,b);};a.prototype.Jvb=function(a,b,f){c.Ud(this.Lg,function(c){c.O===a&&c.iHa(b,f);});c.Ud(this.vm,function(c){c.O===a&&(c.O=b);});};a.prototype.SFa=function(){var a;a=this;c.Ud(this.Lg,function(b){var c;c=a.Za.Df(b.O.Ua);b.Ed=c.jr;});};a.prototype.fB=function(a){c.Ud(this.Lg,function(b){b.re(1).track.uc.forEach(function(b){var c;c=k.dT(b.Af,b.R,a);f(c,b);});});};a.prototype.Vq=function(a,b,c,f){var d;for(;b;){d=b.Vq(a,c);if(d)return d;if(f)break;b=b.sf;}};a.prototype.lua=function(a){var b,c;b=this;void 0===a&&(a=!1);c=this.Lg;a&&(c=c.filter(function(a){return a!==b.Lc;}));c.forEach(function(a){a.active=!1;b.Cn.remove(a);});a||this.Cn.clear();return c;};a.prototype.gub=function(){var a;for(;0<this.Lg.length;){a=this.Lg[0];if(!a.active)break;if(a===this.Lc)break;if(!a.Ujb())break;a.Tg();this.Lg.shift();}};a.prototype.wN=function(a,b,c,f,d){if(c>f){for(c-=f;a;)a.wN(b,c,d),a=a.sf;return c;}};a.prototype.sBa=function(a,b){for(var c={Ik:null,WF:null,qc:null,Qi:0,Eh:0,X:[]};a;)a.FV(c,b),a=a.sf;return c;};a.prototype.G7a=function(a){var b,c,f;b=this.Lc;if(b.jBa)c=b.jBa;else{f=this.Lc.Ed;c=this.pR(b.la,0,b);k.Of.forEach(function(a){var f;f=c.Ic(a);f&&(f.eB(0),f.AZ(b.Ic(a).jg));});c.Ed=f+a;b.jBa=c;}this.pC(c,b);};a.prototype.K3a=function(a,b,c){var f,d;u.assert(!a.Yt());if(!this.W2){this.W2=!0;this.XI=this.kk;f=this.Ck.id||this.k$(0);this.Ck.id=f;this.vm[f]=this.Ck;this.Ck.ga=this.Za.jhb().Lxa();this.Ck.lx=!0;}d=void 0!==a.Wk?a.Wk:this.k$(a.Ua);a=this.j3(d,a,b,c,void 0,{},!0);a.lx=!0;this.HS.forEach(function(a){a.jj={};a.jj[d]={weight:100};a.LK=d;a.Gx=!1;});this.HS=[a];};a.prototype.tt=function(a,b){var c,f,d,g;c=this.kk;f=c.PZ(b,this.Za.V);d=c.la;g=c.children[a];if(b){if(!d.jj[a])return this.Lc.Ia("chooseNextSegment, invalid destination:",a,"for current segment:",d.id),!1;if(c.Gi)return c.Gi===a;c.Gi=a;g&&c.aV&&this.pC(g,c);return!0;}if(void 0!==c.Gi)return!1;if(!g)return f.BCa=!0,!1;f.BCa=!g.m6();this.Za.u4(void 0,q.GQ.Gca);c.aV=void 0;c.Gi=a;this.pC(g,c);c.n8();this.Za.qJ();return!0;};a.prototype.ikb=function(a,b){var f,d,g,k;f=this;k=a.la;b&&!a.Gi&&(a.Gi=k.LK,a.PZ(!0,this.Za.V,!0));a.children=Object.create(null);c.Ud(k.jj,function(b,c){a.Gi&&c!==a.Gi||(d=f.vm[c],g=f.vZa(d,a),a.children[c]=g);});a.Gi&&(b=a.children[a.Gi])&&this.pC(b,a);a.aV=!0;};a.prototype.VAb=function(){var a;a=0;c.Ud(this.Lg,function(b){k.Of.forEach(function(c){b.eb(c)&&(a+=b.Ic(c).Sa.Mn);});});return a;};a.prototype.jAb=function(a,b){var c,f,d;c=this;f=this.YZa(a,b);if(f){f!==this.Lc.la?(this.lua(),d=this.pR(f,a,this.Lc),d.sf=void 0,d.xfa(void 0,void 0,!0),this.sYa(this.Lc),this.pC(d,this.Lc)):(this.lua(!0).forEach(function(a){a.Tg();c.mea(a);c.Cn.remove(a);}),this.Lc.Uga(a));f===this.kk.la&&(this.kk.Nr.shift(),d&&(d.Nr=this.kk.Nr,d.Gi=this.kk.Gi));this.Rf.YR(f,this.Lc.Ed);this.Lc.aV=void 0;}else this.Ia("findSegment no segment for manifestIndex:",b);};a.prototype.rBa=function(a,b){var c;c=a.la;b||(b=c.LK);t.Zea(c.id);a.Gi||(a.Gi=b,a.PZ(!0,this.Za.V,!0));(b=a.children[a.Gi])&&this.pC(b,a);};a.prototype.SGa=function(a,b){if(this.Lc!==a){if(b)for(b=this.Lc;b&&b!==a;)b.active=!1,this.Cn.remove(b),b=b.sf;this.Lc=a;}};a.prototype.gq=function(a,b){var c,f,d,g,h;c=this;if(this.Yt){f=this.K;d=this.kk;g=d.la;h=t.Zea(g.id);!d.Gi&&!g.Gx&&d.ga-b<=f.IX&&(this.Ia(h+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.rBa(d));}k.Of.forEach(function(a){c.Lc.eb(a)&&c.Ie[a].gq();});};a.prototype.Bqb=function(a,b){var c,f;if(this.Yt){c=this.XI;if(this.K.Akb&&a&&this.fS&&a.T===this.fS)this.fj("Ignoring pts that wiggled back into previous segment",this.fS);else if(a=a.Sa.Dd,!c||a.la.id!==c.la.id){f=c&&c.Ic(1);this.fS=(f=f&&f.jg)&&f.T;this.XI=a;this.PYa(c);c=c&&c.U7a(a);this.Rf.I0a(a.la,b,c);}}};a.prototype.nqb=function(a,b,c){b.UX||(b.T=this.dya(a,b.T,!0),c||(b.ga=this.dya(a,b.ga,!1)),b.UX=!0,!1);};a.prototype.o_=function(a,b){var f;t.Zea(a);f=this.vm[a];f?c.Ud(f.jj,function(a,c){a.weight=b[c]||0;}):this.Ia("updateChoiceMapEntry, unknown segment:",a);};a.prototype.dya=function(a,b,c){a=c?a.kwa(b):a.lL(b);if(!a.length)return b;b=a[1];return c?b.T:b.ga;};a.prototype.tpa=function(a,b,c){var f;f=b?c.$d:c.te;return(b?c.Oc:c.qc)<=a&&a<f;};a.prototype.Zoa=function(a,b,f){var h;for(var d=this.Za,g=this.Lc;g;){if((!c.ka(f)||d.zaa(f,g.O.Ua))&&this.tpa(a,b,g))return g;g=g.sf;}if(b)for(var g=Object.keys(this.Lc.children),k=0;k<g.length;k++){h=this.Lc.children[g[k]];if((!c.ka(f)||d.zaa(f,h.O.Ua))&&this.tpa(a,b,h))return h;}};a.prototype.vZa=function(a,b){var c,f;c=this.pR(a,a.T,b);f=c.xfa(b,void 0,this.K.gea);k.Of.forEach(function(a){var d,g;if(c.eb(a)){d=c.Ic(a);g=b.Ic(a);1===a&&(g=g.Bb+b.Ed,c.Ed=g-f[a],c.FG=l.Ta.Mm(f[a]));d.eB(f[a]);}});this.Rf.YR(a,c.Ed);return c;};a.prototype.sYa=function(a){for(var b=[a.la.id];a.sf;)a=a.sf,b.unshift(a.la.id);this.N2(a);};a.prototype.N2=function(a){var b,f;b=this;f=a.la;c.Ud(a.children,function(a){a&&b.N2(a);});this.Cn.remove(a);a.Tg();this.mea(a);this.Rf.F0a(f);};a.prototype.pC=function(a,b){var f,d,g,k;f=this;d=b.la;b.O!==a.O&&this.Za.Apa(a.O.Ua);a.active=!0;this.Cn.enqueue(a);a.AD();g=h.time.fa();k={};c.Ud(b.children,function(b){var c,d;if(b){if(b.fd){c=b.Ic(0);d=b.Ic(1);b.fd.cK=[c?c.Dm.Ma:0,d?d.Dm.Ma:0];b.fd.bcb=g-b.fd.tW;b.fd.tW=void 0;k[b.la.id]=b.fd;}b.la.id!==a.la.id&&f.N2(b);}});b.children=Object.create(null);b.children[a.la.id]=a;b.zC=void 0;this.SGa(a);this.Rf.G0a(a.la,k);1<Object.keys(d.jj).length&&a.m6();};a.prototype.PYa=function(a){var b,c;if(a){b=h.time.fa();c=a.Nr[0];c&&void 0===c.jU?c.jU=b-c.requestTime:c||(this.Ia("missing metrics for branch:",a.la.id),c={NZ:a.la.id,oZ:!0,jU:0,fd:{}},a.Nr.unshift(c));void 0===c.startTime&&(c.startTime=b);}};a.prototype.YZa=function(a,b){var f,d,k,h;u.assert(0<=a);for(var g in this.vm){k=this.vm[g];if(this.Za.zaa(k.O.Ua,b)){if(k.T<=a&&(Infinity===k.ga||void 0===k.ga||a<k.ga))return k;h=Math.min(Math.abs(a-k.T),Math.abs(a-k.ga));if(c.U(f)||h<f)f=h,d=k;}}return d;};a.prototype.j3=function(a,c,f,d,g,k,h,m,p){c=new b.NWa(a,c,f,d,g,k,h,m,void 0,p);return this.vm[a]=c;};a.prototype.g1a=function(a,b,f){var d,g,k;d=this;this.Ck=void 0;this.HS=[];g=null;k=null;c.Ud(b.segments,function(b,h){var m,p,t,q,u;m=b.startTimeMs;p=b.endTimeMs;t={};c.Ud(b.next,function(a,c){t[c]={weight:a.weight||0,fBb:a.transitionHint||b.transitionHint,NOb:"number"===typeof a.earliestSkipRequestOffset?a.earliestSkipRequestOffset:b.earliestSkipRequestOffset};});q=b.defaultNext;c.U(q)&&(q=Object.keys(t)[0]);u=c.U(q);q=d.j3(h,a,m,p,q,t,u,b.transitionDelayZones,b.transitionHint);m<=f&&(f<p||c.U(p))?d.Ck=q:m>f&&(!g||m<k)&&(g=h,k=m);u&&d.HS.push(q);});this.Ck||(this.Ck=g?this.vm[g]:this.vm[b.initialSegment]);};a.prototype.pR=function(a,b,c,f){var d,g,k,h;d=a.O;g=this.Za.Df(d.Ua);k=g.jr;h=[];[0,1].forEach(function(a){d.eb(a)&&h.push(g.Hl(a));});a=new q.rRa(this.Za,this.K,this.Rf,this.I,this,this.AR,this.fqa,this.fD,a,h,l.Ta.Mm(b),k,c,f?l.Ta.Mm(f):void 0,this.uL,this.Za.Ie,this.Za.Bq);this.vYa(a);this.Lg.push(a);return a;};a.prototype.vYa=function(a){var c;function b(a){c.Za.emit(a.type,a);}c=this;a.addListener("locationSelected",b);a.addListener("logdata",b);a.addListener("serverSwitch",b);a.addListener("streamSelected",b);a.addListener("lastSegmentPts",b);a.addListener("managerdebugevent",b);a.addListener("requestCreated",function(a){a=a.request;c.Za.y4(a.M,a.T);});};a.prototype.epa=function(a){for(var b=[a];a.sf;)a=a.sf,b.push(a);return b;};return a;}();d.ILa=g;},function(g,d,a){var c,f,h,q,b,k,p,t,u,l,n,B,r,C,K,Q,T,ca,R,S,N,U,W,fa,V,z,A,G,oa,O,M,P,wa,Fa;Object.defineProperty(d,"__esModule",{value:!0});c=a(27);f=a(6);h=a(728);q=a(170);b=a(725);k=a(218);p=a(21);t=a(408);u=a(232);l=a(219);n=a(724);B=a(369);r=a(215);C=a(716);K=a(714);Q=a(3);T=Q.Promise;ca=Q.MediaSource;R=a(16);S=a(8);N=a(362);U=a(713);W=a(168);fa=a(712);V=a(711);z=a(710);A=a(709);G=a(69);oa=a(708);O=a(707);M=a(706);P=a(705);g=a(43);wa=a(380);a(703);Fa=a(702);a=function(){var N1t;N1t=2;while(N1t!==118){switch(N1t){case 39:a.prototype.stop=function(){var r0t;r0t=2;while(r0t!==1){switch(r0t){case 2:this.Uw.stop();r0t=1;break;case 4:this.Uw.stop();r0t=0;break;r0t=1;break;}}};a.prototype.aB=function(a,b,c){var h0t;h0t=2;while(h0t!==5){switch(h0t){case 2:c&&(S.assert(void 0===b),b=this.BV(c));return this.al.aB(a,b);break;}}};a.prototype.seek=function(a,b){var k0t;k0t=2;while(k0t!==1){switch(k0t){case 2:return this.al.seek(a,b);break;case 4:return this.al.seek(a,b);break;k0t=1;break;}}};a.prototype.ZIa=function(a){var E0t,b,c,f,d,g,n0t,r91,K91,C91,l91,t91;E0t=2;while(E0t!==15){r91="un";r91+="d";r91+="e";r91+="rflow";K91="branc";K91+="hOffs";K91+="et";K91+=":";C91="entry";C91+=".manifestOff";C91+="set";C91+=":";l91="co";l91+="n";l91+="tentPts:";t91="underflow: going to BUFFE";t91+="RING ";t91+="at pl";t91+="ayer pts:";switch(E0t){case 7:this.na.Nb.Uga(f);g=this.na.Nb;u.Of.forEach(function(f){var U0t,d,k,h,x91,D91,b91,M91,R91,j91,I91,e91,V91;U0t=2;while(U0t!==14){x91=",";x91+=" toA";x91+="p";x91+="pe";x91+="nd: ";D91=", fr";D91+="ag";D91+="ments: ";b91=", completeStream";b91+="ingPts";b91+=": ";M91=",";M91+=" st";M91+="reamingPts";M91+=": ";R91=",";R91+=" p";R91+="a";R91+="rtials:";R91+=" ";j91=", ";j91+="c";j91+="ompl";j91+="etedByte";j91+="s: ";I91=", compl";I91+="ete";I91+="dMs";I91+=": ";e91=", ";e91+="me";e91+="dia";e91+="Type:";e91+=" ";V91="unde";V91+="rf";V91+="l";V91+="ow";V91+=": ";switch(U0t){case 5:U0t=d?4:14;break;case 2:d=g.Ic(f);U0t=5;break;case 4:U0t=c.Vf?3:7;break;case 3:k=b.Ie[f];h=b.na.kz(g,f);U0t=8;break;case 7:c.Vf&&b.Ra.Ni(k);d.vg=!1;U0t=14;break;case 8:k=V91+a+e91+f+I91+d.OD+j91+h+R91+d.Sa.tu+M91+d.Bb+b91+d.Ik+D91+JSON.stringify(d.Sa.X)+x91+(k&&k.wZ());U0t=7;break;}}});E0t=13;break;case 2:b=this;c=this.K;f=this.xt(this.tN,a);E0t=3;break;case 18:f=this.sb.Vb.get(!1);f=f.Fd?f.Da.Ca:0;d>c.ieb&&f>c.heb&&this.B4();E0t=15;break;case 3:this.Ia(t91,a,l91,f,C91,this.ad.jr,K91,this.na.Ed);d=c.zM;this.Ie.forEach(function(b){var Q0t;Q0t=2;while(Q0t!==1){switch(Q0t){case 2:d=Math.max(0,Math.min(d,b.Kxa-a));Q0t=1;break;}}});E0t=7;break;case 13:this.ad.O.fk();this.emit(r91);this.vS(2);this.Xe.Sh();E0t=20;break;case 20:E0t=this.ao?19:18;break;case 19:try{n0t=2;while(n0t!==1){switch(n0t){case 4:this.JU(p.oa.Pe);n0t=7;break;n0t=1;break;case 2:this.JU(p.oa.Pe);n0t=1;break;}}}catch(qb){var T91;T91="Hindsight: Erro";T91+="r when evalu";T91+="ating QoE at Buffering: ";j4tt.d91(0);this.Ra.Tl(j4tt.z91(qb,T91));}E0t=18;break;}}};a.prototype.Ti=function(a){var H0t;H0t=2;while(H0t!==1){switch(H0t){case 2:return this.al.Ti(a);break;case 4:return this.al.Ti(a);break;H0t=1;break;}}};a.prototype.tt=function(a,b,c){var y0t;y0t=2;while(y0t!==1){switch(y0t){case 2:return this.al.tt(a,b,c);break;case 4:return this.al.tt(a,b,c);break;y0t=1;break;}}};a.prototype.Apa=function(a){var R0t,b;R0t=2;while(R0t!==9){switch(R0t){case 2:this.UC=a;b=this.gc[a];this.Ra.A0a(a,b);R0t=3;break;case 3:this.Ra.Tpa(b.O.Hp);R0t=9;break;}}};a.prototype.sD=function(a,c,d){var L0t,g,k,h,m,p,t,q,n81,h81,A81,v81,P81,k81,H81,i81,J91,Q91,G91,U91;L0t=2;while(L0t!==28){n81=",";n81+=" ";h81=") las";h81+="tStr";h81+="e";h81+="am";h81+="Appended: (";A81=",";A81+=" ";v81=" st";v81+="re";v81+="am";v81+="Count: (";P81=" pl";P81+="ayerState:";P81+=" ";k81="addManif";k81+="est, curre";k81+="ntPt";k81+="s";k81+=": ";H81="b";H81+="oo";H81+="le";H81+="an";i81="a";i81+="ddManifest ignored, p";i81+="ipelines already set EOS:";J91="addMani";J91+="fest in fastplay";J91+=" but not drm manifest, leaving space for it";Q91="addM";Q91+="anifest: pipel";Q91+="ines a";Q91+="lready shutdown";G91="vi";G91+="deo_t";G91+="racks";U91="au";U91+="d";U91+="i";U91+="o";U91+="_tracks";switch(L0t){case 20:p=c.ga;a=b.Ska.create({Ua:h,ta:a,Wk:d,CGa:c.WAb||[this.ad.tV(0),this.ad.tV(1)],mf:!1,Yza:!!c.replace,Xh:!!c.Xh,Lq:c.Lq||this.DI,T:m,ga:p,Ra:this.Ra,cr:this.kpa.bind(this),Yp:this.Yp.bind(this),eb:this.eb.bind(this),Gb:this,config:this.K,I:this.I,Xe:this.Xe,al:this.al,Me:this.Vqa?this.sb.Me:void 0,Iw:this.Iw});t=a.O;d=[U91,G91];L0t=16;break;case 3:this.Ia(Q91);L0t=28;break;case 9:c||(c={});h=this.na.Nb.Ic(0);m=this.na.Nb.Ic(1);L0t=6;break;case 6:L0t=!c.ykb&&(this.Pn&&h.pn||this.qk&&m.pn)?14:13;break;case 33:L0t=this.Pn&&f.U(c)||this.qk&&f.U(d)?32:31;break;case 13:c.IA&&(this.dS=!0);h=this.gc.length;c.replace&&1!==h?h=1:this.ad.O.se.mf&&!c.replace&&1===h&&(this.Ia(J91),h=this.gc[0].clone(),this.gc.push(h),h=this.gc.length);m=c.T||0;L0t=20;break;case 14:this.Ia(i81,h.pn,m.pn);L0t=28;break;case 16:q=this.Txa();c.replace&&d.forEach(function(a,b){var a0t,c,f;a0t=2;while(a0t!==9){switch(a0t){case 2:c=t.QE(b);a0t=5;break;case 5:a0t=c?4:9;break;case 4:f=g.gc[0].O;Object.keys(c).forEach(function(a){var V0t,d;V0t=2;while(V0t!==4){switch(V0t){case 2:d=f.ar(b,a);d&&d.ud&&(c[a].QT(d),a=t.Hp,a[b]>q[b]&&(q[b]=a[b]));V0t=4;break;}}});a0t=9;break;}}});L0t=27;break;case 27:d.forEach(function(a,b){var o0t,c;o0t=2;while(o0t!==4){switch(o0t){case 9:o0t=8;break;o0t=1;break;case 1:c=t.QE(b);c&&Object.keys(c).forEach(function(a){var t0t,f;t0t=2;while(t0t!==3){switch(t0t){case 2:f=Q.Zj()[b];1===b&&0<k.nr&&(f=Math.min(f,k.nr));c[a].fJa(f,t.Yt()?k.HBa:0);t0t=3;break;}}});o0t=4;break;case 2:o0t=1;break;}}});a.LJ=H81===typeof c.fsa?c.fsa:!0;this.gc[h]&&this.gc[h].ic();this.gc[h]=a;L0t=23;break;case 35:d=this.Wa.pr[1].eA;k.Vf&&this.Ra.Ni(k81+this.V.sd()+P81+this.V.Yc()+v81+a.Hl(0).uc.length+A81+a.Hl(1).uc.length+h81+c+n81+d+")");L0t=33;break;case 31:a.O.jG([a.Hl(0),a.Hl(1)]);this.MS();return!0;break;case 5:k=this.K;L0t=4;break;case 2:g=this;L0t=5;break;case 32:return!0;break;case 4:L0t=this.Se()?3:9;break;case 23:a.Ksa();c.replace||this.na.K3a(t,m,p);c=this.Wa.pr[0].eA;L0t=35;break;}}};a.prototype.DJ=function(a){var Y0t;Y0t=2;while(Y0t!==1){switch(Y0t){case 2:return this.al.DJ(a);break;case 4:return this.al.DJ(a);break;Y0t=1;break;}}};a.prototype.WK=function(a,b){var q0t,c,d,g,c81,Y81,f81,g81;q0t=2;while(q0t!==14){c81=" r";c81+="eadyS";c81+="tate: ";Y81=" fo";Y81+="r";Y81+=" mo";Y81+="vieId: ";f81=",";f81+=" ";g81="drmR";g81+="eady at";g81+=" str";g81+="eaming pt";g81+="s: ";switch(q0t){case 2:c=this.K;q0t=5;break;case 4:f.U(b)&&(b=!0);d=this.na.Nb.Ic(0);g=this.na.Nb.Ic(1);c.Vf&&this.Ra.Ni(g81+(d?d.Bb:null)+f81+(g?g.Bb:null)+Y81+a+c81+b);j4tt.d91(0);this.V.sfa(j4tt.z91("",a),b);b&&(this.Ie.forEach(function(a){var F0t;F0t=2;while(F0t!==5){switch(F0t){case 2:c.c9&&a.bfb();c.kP&&a.resume();F0t=5;break;}}}),c.kP&&this.qJ(),this.ad.O.se.mf&&this.LS(this.al.Hv?this.al.Hv.Ua:this.UC+1),this.al.u3());q0t=14;break;case 5:q0t=!this.Se()?4:14;break;}}};N1t=48;break;case 59:a.prototype.JU=function(a,b){var p2t,l2t,c,f;p2t=2;while(p2t!==14){switch(p2t){case 8:c.xea();p2t=14;break;case 9:p2t=b?8:7;break;case 7:b=f.agb();try{l2t=2;while(l2t!==1){switch(l2t){case 4:this.Ra.v0a(b);l2t=4;break;l2t=1;break;case 2:this.Ra.v0a(b);l2t=1;break;}}}catch(nb){var p81,W81;p81="]";p81+=" ";p81+="[";W81="e";W81+="x";W81+="c";W81+="eption";W81+=": [";this.I.error(W81+nb.message+p81+nb.iTb+"]");}p2t=14;break;case 2:c=this.Wa;a=c.K8(a,b);f=this.ff.Wda;a&&!a.uD&&f.x8(a);p2t=9;break;}}};a.prototype.Msa=function(a,b,c,f){var g2t;g2t=2;while(g2t!==4){switch(g2t){case 1:j4tt.d91(1);S.assert(j4tt.N91(0,b));return this.gc[b].J6a(a,c||!1);break;case 2:f&&(S.assert(void 0===b),b=this.BV(f));g2t=1;break;}}};a.prototype.xt=function(a,b,c){var Z2t,d;Z2t=2;while(Z2t!==8){switch(Z2t){case 4:(c=this.na.yeb(b,a))?d=c.Ed:(c=this.na.L8(a),0<c.length&&(c=c[0],d=c.Ed));f.ka(d)||(d=this.gc[a].jr);j4tt.d91(2);return j4tt.z91(b,d);break;case 2:c&&(S.assert(void 0===a),a=this.BV(c),S.assert(void 0!==a));void 0===a&&(a=this.tN);Z2t=4;break;}}};a.prototype.xK=function(a,b,c){var J2t,d;J2t=2;while(J2t!==8){switch(J2t){case 4:(c=this.na.xeb(b,a))?d=c.Ed:(c=this.na.L8(a),0<c.length&&(c=c[0],d=c.Ed));J2t=3;break;case 2:J2t=1;break;case 1:c&&(S.assert(void 0===a),a=this.BV(c),S.assert(void 0!==a));void 0===a&&(a=this.tN);J2t=4;break;case 3:f.ka(d)||(d=this.gc[a].jr);j4tt.d91(0);return j4tt.N91(d,b);break;}}};a.prototype.fD=function(){var s2t,a;s2t=2;while(s2t!==3){switch(s2t){case 2:a=this.V.Li();s2t=5;break;case 4:a&&this.Ra.b4(),this.yJ(),this.V.Yd(p.oa.Ec),this.Xe.Sh();s2t=3;break;case 5:s2t=a||this.Wa.ct?4:3;break;}}};a.prototype.B4=function(){var i2t,a,b;i2t=2;while(i2t!==8){switch(i2t){case 2:a=this;b=this.V.Li();i2t=4;break;case 4:this.na.Nb.Jxb(b,function(b){var f2t;f2t=2;while(f2t!==1){switch(f2t){case 2:return a.Ie[b]?a.Ie[b].wZ():"";break;}}});this.xC&&(clearTimeout(this.xC),this.xC=void 0);this.EI.Lba();i2t=8;break;}}};a.prototype.Dqa=function(a,b){var K2t,B2t;K2t=2;while(K2t!==6){switch(K2t){case 3:a.LD(b);this.Wa.us();K2t=8;break;case 8:K2t=this.ao&&1===a.M?7:6;break;case 2:a.Hg=!0;a.ga=f.ka(b)?b:a.Bb;a.pn=!1;b=this.V.sd()||0;K2t=3;break;case 7:try{B2t=2;while(B2t!==1){switch(B2t){case 2:this.JU(p.oa.jC,{ga:a.ga});B2t=1;break;}}}catch(Ca){var o81;o81="Hindsigh";o81+="t: Erro";o81+="r evaluating QoE at endOfSt";o81+="ream: ";j4tt.L91(0);this.Ra.Tl(j4tt.z91(Ca,o81));}K2t=6;break;}}};a.prototype.I1a=function(){var I2t,a;I2t=2;while(I2t!==4){switch(I2t){case 2:a=this.sb.Vb;a&&(a=a.get())&&a.avtp&&this.Io.m3a({avtp:a.avtp.Ca});I2t=4;break;}}};a.prototype.i2a=function(){var M2t,a,b,c,X81,m81,q81;M2t=2;while(M2t!==8){X81="startup, playerState no longer";X81+=" ST";X81+="ARTI";X81+="NG";X81+=":";m81="fa";m81+="iled to st";m81+="art audio pip";m81+="e";m81+="line";q81="failed ";q81+="to s";q81+="tar";q81+="t video pipeline";switch(M2t){case 3:c=a.Ic(1);this.qk&&!this.Hqa(c)?this.Ia(q81):this.Pn&&!this.Hqa(b)?this.Ia(m81):(this.dqa=!0,this.gc[0].O.eW=!0,b=this.Wa.Be[1],c=this.Wa.Be[0],(b&&0<b.Pp||c&&0<c.Pp)&&this.Ra.t0a(String(a.O.u),c?c.Pp:0,b?b.Pp:0,c?c.rN:0,b?b.rN:0),this.V.lAa()?(this.vS(0),this.Pn&&(a=this.ad.tV(0),b=this.ad.Hl(0).cb,this.Ra.w0a(a,b))):this.Ia(X81,this.V.Yc()));M2t=8;break;case 2:this.V.Yd(p.oa.rg);a=this.na.Nb;b=a.Ic(0);M2t=3;break;}}};a.prototype.Hqa=function(a){var e2t,b,c,w81,Z81;e2t=2;while(e2t!==12){w81="NFE";w81+="rr_M";w81+="C_StreamingIn";w81+="it";w81+="Failure";Z81="startPipel";Z81+="ine";Z81+=" f";Z81+="a";Z81+="iled";switch(e2t){case 8:e2t=a.oj()?7:6;break;case 2:b=a.M;c=this.Wa.Cib(a);e2t=4;break;case 3:return this.Se()||this.Cq(Z81,a.Dd.O.Ua,w81),!1;break;case 9:a=a.track.uc[c];e2t=8;break;case 4:e2t=f.U(c)?3:9;break;case 7:return!0;break;case 6:c=this.ad.O;a.O.Tta(a,{offset:0,rw:!c.se.mf&&!c.Xh&&1===b,Wq:!this.Wa.Be[b].Seb});return!0;break;}}};N1t=72;break;case 48:a.prototype.dr=function(){var T0t,a;T0t=2;while(T0t!==4){switch(T0t){case 5:return this.V.dr(a.u)||a.Xh;break;case 2:a=this.ad.O;T0t=5;break;}}};a.prototype.zoa=function(a){var u0t,b,c,f;u0t=2;while(u0t!==20){switch(u0t){case 5:return!1;break;case 1:u0t=a>=this.gc.length?5:4;break;case 4:b=this.na.Nb.Ic(0);c=this.na.Nb.Ic(1);b=!b||b.Hg;u0t=8;break;case 2:u0t=1;break;case 8:f=!c||c.Hg;c=this.gc[a].O;u0t=6;break;case 14:return!1;break;case 13:a=c.Yf[0];b=c.Yf[1];b=!this.qk||b&&b.stream.ud;return(!this.Pn||a&&a.stream.ud)&&b?!0:!1;break;case 6:u0t=!(a===this.UC+1&&c.se.replace||b&&f)||!this.V.dr(c.u)&&!c.Xh?14:13;break;}}};a.prototype.MS=function(){var C0t;C0t=2;while(C0t!==1){switch(C0t){case 4:this.LS(this.UC*2);C0t=9;break;C0t=1;break;case 2:this.LS(this.UC+1);C0t=1;break;}}};a.prototype.LS=function(a){var D0t,b;D0t=2;while(D0t!==14){switch(D0t){case 1:D0t=!this.zoa(a)?5:4;break;case 2:D0t=1;break;case 5:return!1;break;case 4:b=this.gc[a];D0t=3;break;case 3:D0t=b.feb||!b.O.se.replace?9:8;break;case 8:this.q2a(a);this.Xe.Sh();return!0;break;case 9:return!1;break;}}};a.prototype.q2a=function(a){var S0t,b,c,f,d,g,y81,B81,E81;S0t=2;while(S0t!==17){y81=",";y81+=" ";B81=", strea";B81+="min";B81+="g";B81+="P";B81+="ts: ";E81="swi";E81+="t";E81+="chManifest manifestInd";E81+="ex: ";switch(S0t){case 4:f=c.re(0);f=f?f.Bb:void 0;d=c.re(1);d=d?d.Bb:void 0;S0t=7;break;case 2:b=this.gc[a];c=this.na.Nb;S0t=4;break;case 7:this.K.Vf&&this.Ra.Ni(E81+a+B81+f+y81+d);f=this.ad;d=f.O.se.mf;g=[];[1,0].forEach(function(a){var O0t;O0t=2;while(O0t!==1){switch(O0t){case 2:b.O.eb(a)&&(g[a]=b.Hl(a));O0t=1;break;}}});d?this.na.Jvb(f.O,b.O,g):c.iHa(b.O,g);this.Apa(a);S0t=20;break;case 20:b.Hca();this.al.u3();this.Xe.Sh();S0t=17;break;}}};a.prototype.jDa=function(){var b0t,a,b,c,f,S81,u81;b0t=2;while(b0t!==12){S81="onAudioT";S81+="rackSwitchStarted i";S81+="gnored, no audio p";S81+="ipeli";S81+="ne";u81="onAudioTrackS";u81+="wit";u81+="chStarted bu";u81+="t current playing request not found";switch(b0t){case 2:a=this.na.Nb;b=a.re(0);b0t=4;break;case 4:b0t=b?3:13;break;case 3:c=this.V.sd();f=this.Wa.Be[b.M];(a=this.na.Vq(c,a,0))?b=a.Sa:(this.Ia(u81),b=b.Sa);b0t=7;break;case 6:f.fH=!1;this.Xe.Sh();b0t=12;break;case 7:this.s1a(b);b0t=6;break;case 13:this.Ia(S81);b0t=12;break;}}};a.prototype.bIa=function(a){var A0t,b,c,f,d,g,L81,d81,z81,N81,a81,O81,F81,s81;A0t=2;while(A0t!==21){L81="switchT";L81+="racks c";L81+="an't find";L81+=" trackId:";d81="swi";d81+="tchTracks ";d81+="rej";d81+="ected, audio disable";d81+="d";z81="switc";z81+="hTracks";z81+=" rejected, buffering";N81="switchT";N81+="r";N81+="acks rejected,";N81+=" bufferLevelMs";a81="switchT";a81+="racks rejec";a81+="ted, previous switch sti";a81+="ll in p";a81+="rogress: ";O81="s";O81+="witchTracks re";O81+="jected, previous switch st";O81+="ill waiting";O81+=" to start";F81=" ";F81+="t";F81+="o:";F81+=" ";s81="switchTracks cur";s81+="ren";s81+="t: ";switch(A0t){case 10:A0t=d<b.DX?20:19;break;case 19:a=a.BD;d=this.ad.O.getTrackById(a);A0t=17;break;case 12:f=this.na.Nb;d=this.na.Oq(f,1);A0t=10;break;case 25:b.Vf&&this.Ra.Ni(s81+g+F81+d.cb);c.QX={cb:a};this.h2a(f.re(0));A0t=22;break;case 15:g=this.ad.Hl(0).cb;A0t=27;break;case 17:A0t=!d?16:15;break;case 6:c=this.Wa.Be[0];A0t=14;break;case 5:A0t=!this.Pn?4:3;break;case 22:return!0;break;case 13:return this.Ia(O81),!1;break;case 9:return this.Ia(a81+JSON.stringify(this.Wa.ct)),!1;break;case 20:return this.Ia(N81,d,"<",b.DX),!1;break;case 7:return this.Ia(z81),!1;break;case 8:A0t=this.V.Li()?7:6;break;case 4:return this.Ia(d81),!1;break;case 26:return!1;break;case 2:b=this.K;A0t=5;break;case 27:A0t=g===d.cb?26:25;break;case 3:A0t=this.Wa.ct?9:8;break;case 14:A0t=c.fH?13:12;break;case 16:return this.Ia(L81,a),!1;break;}}};a.prototype.fB=function(a,b){var G0t,c,f;G0t=2;while(G0t!==9){switch(G0t){case 2:c=this;this.DI=a;void 0!==b&&(f=this.yhb(b));void 0!==f?this.Df(f).Hl(1).uc.forEach(function(a){var z2t,b;z2t=2;while(z2t!==4){switch(z2t){case 2:b=t.dT(a.Af,a.R,c.DI);G(b,a);z2t=4;break;}}}):this.na.fB(this.DI);G0t=9;break;}}};a.prototype.Vq=function(a,b,c){var w2t;w2t=2;while(w2t!==1){switch(w2t){case 2:return this.na.Vq(a,this.na.kk,b,c);break;}}};a.prototype.pt=function(a){var j2t;j2t=2;while(j2t!==1){switch(j2t){case 4:return this.al.pt(a);break;j2t=1;break;case 2:return this.al.pt(a);break;}}};N1t=59;break;case 94:a.prototype.r_a=function(a,b){var X79;X79=2;while(X79!==5){switch(X79){case 2:b=k.Fhb(b);this.R2[a.M]=b;X79=5;break;}}};Object.defineProperties(a.prototype,{ct:{set:function(a){var d79;d79=2;while(d79!==1){switch(d79){case 4:this.Wa.ct=a;d79=9;break;d79=1;break;case 2:this.Wa.ct=a;d79=1;break;}}},enumerable:!0,configurable:!0}});a.prototype.BV=function(a){var W79,b;W79=2;while(W79!==4){switch(W79){case 2:this.gc.some(function(c){var c79;c79=2;while(c79!==1){switch(c79){case 2:return c.O.Wk===a?(b=c.O.Ua,!0):!1;break;}}});return b;break;}}};a.prototype.yhb=function(a){var P79,b;P79=2;while(P79!==4){switch(P79){case 2:this.gc.some(function(c){var m79;m79=2;while(m79!==1){switch(m79){case 2:return c.O.va===a?(b=c.O.Ua,!0):!1;break;}}});return b;break;}}};return a;break;case 87:a.prototype.y4=function(a,b){var C2t,c,d,g,V81;C2t=2;while(C2t!==7){V81="p";V81+="t";V81+="sc";V81+="h";V81+="anged";switch(C2t){case 5:C2t=c.re(a)?4:7;break;case 4:d=this.Wa.Be[a];g=this.Wa.Ju[a];f.U(d.vl)&&(d.vl=b,1===a&&this.Pn&&(a=this.Wa.Be[0],f.U(a.vl)&&(c=c.re(0),c.eB(b)),this.emit(V81,b)));f.U(g.eK)&&(g.eK=b);C2t=7;break;case 2:c=this.na.Nb;C2t=5;break;}}};a.prototype.Jya=function(a){var D2t;D2t=2;while(D2t!==1){switch(D2t){case 2:this.sg&&(this.sg.eob(a),this.Ysa());D2t=1;break;}}};a.prototype.UV=function(a){var S2t;S2t=2;while(S2t!==1){switch(S2t){case 2:this.sg&&(this.sg.dob(a),this.Ysa());S2t=1;break;}}};a.prototype.Ysa=function(){var O2t,a,e81;O2t=2;while(O2t!==3){e81="allC";e81+="om";e81+="plet";e81+="ed";switch(O2t){case 8:O2t=3;break;O2t=1;break;case 5:a=this.K;this.sg.Rz()||(this.sg=void 0,a.IJ||this.qv.bF||this.NS(e81));O2t=3;break;case 2:O2t=1;break;case 1:O2t=this.sg?5:3;break;case 7:O2t=this.sg?2:5;break;O2t=this.sg?5:3;break;}}};a.prototype.yJ=function(){var b2t,a,b,c,d,g,k,h,m;b2t=2;while(b2t!==19){switch(b2t){case 3:d=this.gc[c];g=this.na.Nb;k=this.V.sd()||0;h=this.xt(c,k);m=b.s_;b2t=14;break;case 2:a=this;b=this.K;c=this.tN;b2t=3;break;case 11:m=Math.max(m,1);this.Pv&&clearTimeout(this.Pv);this.Pv=setTimeout(this.yJ.bind(this),m);b2t=19;break;case 14:this.sb.Me&&void 0!==d.fx&&d.fx-k<=b.gCa&&this.sb.Me.JJ(!0,this.Bk.sessionId);this.V.Yc()===p.oa.Ec&&([1,0].forEach(function(b){var A2t,c,d,p,t,q,u,l,I81;A2t=2;while(A2t!==33){I81="U";I81+="nable to find request presenting";I81+=" at pla";I81+="yerPts:";switch(A2t){case 21:a.w1a(q,k);a.na.gub();A2t=33;break;case 19:A2t=(a.na.Bqb(u,u.bn),p>a.RR)?18:27;break;case 5:c=g.re(b);A2t=4;break;case 3:q=c.Sa;c.LD(k);(u=a.na.Vq(k,g,b))&&!u.Ci&&(u=a.Ie[b].BAa);A2t=7;break;case 4:A2t=c?3:33;break;case 25:d=u.pa;d!=t.$aa&&(t.$aa=d,b=a.gc[p].O.ar(b,d),p=a.xt(p,u.qc),a.Ra.J0a(b,u.qc,p,b.O.Ua));u=u.R;A2t=22;break;case 7:A2t=u?6:34;break;case 27:a.TC&&u.bn!=t.Dmb&&a.Ra.N0a(u.bn);A2t=26;break;case 2:A2t=1;break;case 26:t.Dmb=u.bn;A2t=25;break;case 18:a.RR=p;l=0<p?p-1:null;a.Ra.y0a(d,k,u.bn,null!==l?a.gc[l].O.u:null,l);A2t=15;break;case 1:A2t=a.eb(b)?5:33;break;case 20:A2t=!a.qk||1===b?19:26;break;case 15:h=a.xt(p,k);A2t=26;break;case 34:c.Ia(I81,k);A2t=21;break;case 22:f.U(u)||u==c.iEa||(c.iEa=u);A2t=21;break;case 6:q=u.te-k;q<m&&(m=q);t=a.Wa.pr[b];d=u.O;p=d.Ua;q=u.Sa;A2t=20;break;}}}),this.na.gq(k,h));this.Xe.Sh();b2t=11;break;}}};a.prototype.mR=function(a){var G2t;G2t=2;while(G2t!==1){switch(G2t){case 2:return this.Xe.mR(a);break;case 4:return this.Xe.mR(a);break;G2t=1;break;}}};a.prototype.Sh=function(){var z79;z79=2;while(z79!==1){switch(z79){case 2:return this.Xe.Sh();break;case 4:return this.Xe.Sh();break;z79=1;break;}}};a.prototype.Vy=function(a,b){var w79,c,f,d,j81;w79=2;while(w79!==11){j81="abortReque";j81+="st";j81+=" with no requestManagae";j81+="r:";switch(w79){case 5:w79=!c?4:3;break;case 2:c=a.Sa;w79=5;break;case 4:return this.Ia(j81,a),!1;break;case 3:f=a.M;d=a.abort();a.ic();a.Ng&&a.Ng.clear();w79=6;break;case 6:c.$Y(a);this.Ie[f].$Y(a);!0===b&&this.Xe.Sh();return d;break;}}};a.prototype.h2a=function(a){var j79,b,c,R81;j79=2;while(j79!==3){R81="no newAudioTr";R81+="ac";R81+="k";R81+=" ";R81+="set";switch(j79){case 2:b=a.M;c=this.Wa.Be[b];f.U(c.QX)?a.Ia(R81):(this.Ie[b].pause(),c.fH=!0,a=this.ad.Hl(0),c=this.ad.O.getTrackById(c.QX.cb),this.Ra.n0a(a,c));j79=3;break;}}};a.prototype.s1a=function(a){var p79,b,c,f,d,g,k,h,m,M81;p79=2;while(p79!==22){M81="aud";M81+="io";M81+="Swi";M81+="tc";M81+="h";switch(p79){case 11:c=this.sb.nV(g.O.ta,[h],0);this.R2[0]=c[0];this.UK.sqa(0,a.O);p79=19;break;case 24:a.sFa(k,m);this.CG(0);p79=22;break;case 26:this.Rtb(c,h,m);p79=25;break;case 15:c=this.UC;p79=27;break;case 9:this.Wa.ct=d.QX;g=this.ad;k=g.O.getTrackById(this.Wa.ct.cb);h=k.UG;p79=14;break;case 17:this.u4(0,N.GQ.Fwa,a);this.na.SGa(a,!0);p79=15;break;case 19:d.QX=void 0;this.ff.xG(null);p79=17;break;case 13:p79=(null===(c=this.sg)||void 0===c?0:c.Rz())?12:11;break;case 27:p79=c<this.gc.length?26:24;break;case 14:m=this.V.sd()-a.Ed;p79=13;break;case 2:b=this;f=this.K;a=a.Dd;d=this.Wa.Be[0];p79=9;break;case 12:this.sg.Evb(function(a){var l79;l79=2;while(l79!==5){switch(l79){case 2:l79=0===a.M?1:5;break;case 3:l79=9!=a.M?2:1;break;l79=0===a.M?1:5;break;case 1:return b.Vy(a,!1),!0;break;case 9:return b.Vy(a,+2),~2;break;l79=5;break;}}}),this.sg.Rz()||(this.sg=void 0,f.IJ||this.qv.bF||this.NS(M81));p79=11;break;case 25:++c;p79=27;break;}}};N1t=104;break;case 13:Object.defineProperties(a.prototype,{Er:{get:function(){var y1t;y1t=2;while(y1t!==1){switch(y1t){case 2:return this.N1a;break;case 4:return this.N1a;break;y1t=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{tM:{get:function(){var R1t;R1t=2;while(R1t!==1){switch(R1t){case 2:return this.TC;break;case 4:return this.TC;break;R1t=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{IA:{get:function(){var L1t;L1t=2;while(L1t!==1){switch(L1t){case 4:return this.dS;break;L1t=1;break;case 2:return this.dS;break;}}},enumerable:!0,configurable:!0}});a.prototype.eb=function(a){var a1t;a1t=2;while(a1t!==1){switch(a1t){case 2:return this.p2a[a];break;case 4:return this.p2a[a];break;a1t=1;break;}}};a.prototype.uL=function(){var V1t;V1t=2;while(V1t!==1){switch(V1t){case 2:return Q.time.fa()-this.X2;break;case 4:return Q.time.fa()+this.X2;break;V1t=1;break;}}};a.prototype.Yp=function(a){var o1t;o1t=2;while(o1t!==1){switch(o1t){case 2:this.lD=a;o1t=1;break;case 4:this.lD=a;o1t=9;break;o1t=1;break;}}};a.prototype.Txa=function(){var t1t;t1t=2;while(t1t!==1){switch(t1t){case 2:return(this.gc||[]).reduce(function(a,b){var Y1t,c;Y1t=2;while(Y1t!==3){switch(Y1t){case 1:c=b.O;u.Of.forEach(function(b){var q1t;q1t=2;while(q1t!==1){switch(q1t){case 2:c.Hp[b]>a[b]&&(a[b]=c.Hp[b]);q1t=1;break;}}});return a;break;case 2:Y1t=1;break;case 8:Y1t=3;break;Y1t=1;break;}}},[0,0]);break;}}};a.prototype.sF=function(){var F1t,a;F1t=2;while(F1t!==3){switch(F1t){case 2:a=0;F1t=5;break;case 5:f.forEach(this.ad.O.ta.audio_tracks,function(b){var T1t;T1t=2;while(T1t!==1){switch(T1t){case 2:f.forEach(b.streams,function(b){var u1t;u1t=2;while(u1t!==1){switch(u1t){case 2:a=Math.max(a,b.bitrate);u1t=1;break;}}});T1t=1;break;}}});return a;break;}}};a.prototype.Df=function(a){var C1t;C1t=2;while(C1t!==1){switch(C1t){case 4:return this.gc[a];break;C1t=1;break;case 2:return this.gc[a];break;}}};a.prototype.jhb=function(){var D1t,a;D1t=2;while(D1t!==4){switch(D1t){case 2:a=this.gc[0];return a.O.se.mf?this.gc[1]:a;break;}}};N1t=27;break;case 32:a.prototype.UO=function(){var I0t;I0t=2;while(I0t!==1){switch(I0t){case 4:this.V.UO();I0t=0;break;I0t=1;break;case 2:this.V.UO();I0t=1;break;}}};a.prototype.close=function(){var M0t;M0t=2;while(M0t!==4){switch(M0t){case 2:this.pfa.close();this.gc.forEach(function(a){var e0t;e0t=2;while(e0t!==1){switch(e0t){case 4:a.O.close();e0t=5;break;e0t=1;break;case 2:a.O.close();e0t=1;break;}}});this.Uw.close();M0t=4;break;}}};a.prototype.CFa=function(){var v0t;v0t=2;while(v0t!==1){switch(v0t){case 2:this.sb.E1a(this);v0t=1;break;case 4:this.sb.E1a(this);v0t=2;break;v0t=1;break;}}};a.prototype.ic=function(){var N0t,a,b81;N0t=2;while(N0t!==10){b81="Error on M";b81+="ediaSourc";b81+="e";b81+=" d";b81+="estroy: ";switch(N0t){case 13:a=this.Ue;this.Ue=void 0;f.U(a)||a.Jk()||this.Ia(b81,a.error);N0t=10;break;case 2:this.ff.$qb();this.jR();this.na.Tg();N0t=3;break;case 3:this.UK.EZa();null===(a=this.EI)||void 0===a?void 0:a.reset();this.Bq.forEach(function(a){var X0t;X0t=2;while(X0t!==1){switch(X0t){case 2:a.reset();X0t=1;break;case 4:a.reset();X0t=2;break;X0t=1;break;}}});this.V.Yd(p.oa.jm);this.jZa();this.Ng.clear();N0t=13;break;}}};a.prototype.suspend=function(){var d0t;d0t=2;while(d0t!==1){switch(d0t){case 2:this.Uw.suspend();d0t=1;break;case 4:this.Uw.suspend();d0t=9;break;d0t=1;break;}}};a.prototype.resume=function(){var W0t;W0t=2;while(W0t!==1){switch(W0t){case 2:this.Uw.resume();W0t=1;break;case 4:this.Uw.resume();W0t=3;break;W0t=1;break;}}};a.prototype.Se=function(){var c0t;c0t=2;while(c0t!==1){switch(c0t){case 2:return this.Uw.Se();break;case 4:return this.Uw.Se();break;c0t=1;break;}}};a.prototype.c2a=function(){var P0t,a;P0t=2;while(P0t!==7){switch(P0t){case 5:this.Pv&&clearTimeout(this.Pv);P0t=4;break;case 4:this.Pv=setTimeout(this.yJ.bind(this),a.s_);this.cR||(this.cR=setInterval(this.Ra.Spa.bind(this.Ra),a.FD));P0t=9;break;case 2:a=this.K;P0t=5;break;case 9:this.CS||(this.CS=setInterval(this.Ra.M0a.bind(this.Ra),a.cga));this.Er&&!this.$Q&&(this.$Q=setInterval(this.Ra.Rpa.bind(this.Ra),a.w5));P0t=7;break;}}};a.prototype.jR=function(){var m0t;m0t=2;while(m0t!==7){switch(m0t){case 2:this.Pv&&(clearTimeout(this.Pv),this.Pv=void 0);this.cR&&(clearInterval(this.cR),this.cR=void 0);this.CS&&(clearInterval(this.CS),this.CS=void 0);this.$Q&&(clearInterval(this.$Q),this.$Q=void 0);this.xC&&(clearTimeout(this.xC),this.xC=void 0);this.p3&&(clearTimeout(this.p3),this.p3=void 0);this.Xe.jR();m0t=7;break;}}};a.prototype.play=function(){var x0t;x0t=2;while(x0t!==1){switch(x0t){case 2:this.Uw.play();x0t=1;break;case 4:this.Uw.play();x0t=2;break;x0t=1;break;}}};N1t=39;break;case 27:a.prototype.LE=function(){var S1t;S1t=2;while(S1t!==1){switch(S1t){case 2:return this.gc.length;break;case 4:return this.gc.length;break;S1t=1;break;}}};a.prototype.zaa=function(a,b){var O1t;O1t=2;while(O1t!==9){switch(O1t){case 2:O1t=a===b?1:5;break;case 5:a=this.gc[a];b=this.gc[b];return a.O.se.mf&&b.O.se.CM||b.O.se.mf&&a.O.se.CM;break;case 1:return!0;break;}}};a.prototype.jya=function(){var b1t;b1t=2;while(b1t!==1){switch(b1t){case 4:return this.na.kk.la.id;break;b1t=1;break;case 2:return this.na.kk.la.id;break;}}};a.prototype.qV=function(a){var A1t;A1t=2;while(A1t!==5){switch(A1t){case 2:A1t=(a=this.na.kk.children[a])?1:5;break;case 1:return{Ed:a.Ed,qc:a.qc,te:a.te,Oc:a.Oc,$d:a.$d};break;}}};a.prototype.DV=function(){var G1t,a;G1t=2;while(G1t!==4){switch(G1t){case 2:a=this.na.kk;return{id:a.la.id,Ed:a.Ed,qc:a.qc,te:a.te,Oc:a.Oc,$d:a.$d};break;}}};a.prototype.o_=function(a,b){var z0t;z0t=2;while(z0t!==1){switch(z0t){case 4:return this.na.o_(a,b);break;z0t=1;break;case 2:return this.na.o_(a,b);break;}}};a.prototype.jZa=function(){var w0t,a,b;w0t=2;while(w0t!==9){switch(w0t){case 4:++b;w0t=1;break;case 2:b=0;w0t=1;break;case 1:w0t=b<this.gc.length?5:3;break;case 5:a=this.gc[b],a.ic();w0t=4;break;case 3:this.gc.length=0;w0t=9;break;}}};a.prototype.open=function(){var j0t,a,b,c,d,g,k,h,m,p,t,h11,A11,v11,P11,k11,H11,i11,K81,C81,t81,x81;j0t=2;while(j0t!==28){h11="NFErr_MC_S";h11+="treamingInitFail";h11+="ure";A11="st";A11+="art";A11+="Pts must be a positive numb";A11+="er,";A11+=" not ";v11="createMedi";v11+="aSou";v11+="rc";v11+="eStart";P11="E";P11+="r";P11+="ro";P11+="r";P11+=":";k11="NFErr_M";k11+="C_S";k11+="tr";k11+="e";k11+="amingInitFailure";H11="exce";H11+="ptio";H11+="n i";H11+="n";H11+=" init";i11="Er";i11+="r";i11+="or";i11+=":";K81="createM";K81+="edia";K81+="SourceE";K81+="nd";C81="h";C81+="ead";C81+="ers";t81="st";t81+="artpl";t81+="ay";x81="log";x81+="d";x81+="a";x81+="ta";switch(j0t){case 2:a=this;j0t=5;break;case 33:t=function(){var s0t,D81;s0t=2;while(s0t!==5){D81="s";D81+="hutdown detected ";D81+="before ";D81+="startRequ";D81+="ests";switch(s0t){case 2:a.Ra.C0a();a.Se()?a.Ia(D81):a.i2a();s0t=5;break;}}};b.bbb?setTimeout(function(){var i0t;i0t=2;while(i0t!==1){switch(i0t){case 4:a.yoa(d).then(t);i0t=8;break;i0t=1;break;case 2:a.yoa(d).then(t);i0t=1;break;}}},0):this.yoa(d).then(function(){var f0t;f0t=2;while(f0t!==1){switch(f0t){case 2:setTimeout(t,0);f0t=1;break;case 4:setTimeout(t,8);f0t=6;break;f0t=1;break;}}});c={type:x81,target:t81,fields:{audiogapconfig:b.zF,audiogapdpi:this.Ue.oc&&this.Ue.oc.zF}};this.emit(c.type,c);j0t=28;break;case 11:h=b.IJ;this.sb.Me&&this.sb.Me.JJ(h,this.Bk.sessionId);m=this.UK.rZa(k,c);k.forEach(function(b,c){var p0t,l81;p0t=2;while(p0t!==1){l81="h";l81+="e";l81+="ade";l81+="r";l81+="s";switch(p0t){case 2:l81===b?a.SI=m[c]:a.Wa.Be[b].Zl=m[c];p0t=1;break;}}});j0t=18;break;case 6:k=[C81];this.qk&&(g.push(1),k.push(1));this.Pn&&(g.push(0),k.push(0));this.UK.A_a();j0t=11;break;case 15:this.Ra.Fs(K81);p.oc||(p.oc=ca.oc);this.Ue=p;j0t=25;break;case 25:j0t=!p.ZS(g)?24:23;break;case 23:p.sourceBuffers.forEach(function(c){var l0t,f,d,J81,Q81,U81,T81,r81;l0t=2;while(l0t!==11){J81="manager";J81+="debu";J81+="gev";J81+="e";J81+="nt";Q81="l";Q81+="ogd";Q81+="at";Q81+="a";U81="e";U81+="r";U81+="r";U81+="or";T81="r";T81+="eques";T81+="t";T81+="Appen";T81+="ded";r81="heade";r81+="rAppen";r81+="d";r81+="ed";switch(l0t){case 2:f=c.M;d=a.Wa.Be[f];c=new r.Rha(d.I,f,p,c,b,a.V,a.Df.bind(a));d=new U.qRa(c,f,a.na,d.I);c.addListener(r81,a.n_a.bind(a));c.addListener(T81,a.q_a.bind(a));l0t=7;break;case 13:a.Ie[f]=c;a.Bq[f]=d;l0t=11;break;case 7:c.addListener(U81,function(b){var g0t,G81;g0t=2;while(g0t!==1){G81="NFErr_MC_S";G81+="tre";G81+="am";G81+="ing";G81+="Failure";switch(g0t){case 2:a.Cq(b.errorstr,void 0,G81);g0t=1;break;}}});c.addListener(Q81,function(b){var Z0t;Z0t=2;while(Z0t!==1){switch(Z0t){case 2:R.Ga(a,b.type,b);Z0t=1;break;case 4:R.Ga(a,b.type,b);Z0t=9;break;Z0t=1;break;}}});b.Vf&&c.addListener(J81,function(b){var J0t;J0t=2;while(J0t!==1){switch(J0t){case 4:R.Ga(a,b.type,b);J0t=9;break;J0t=1;break;case 2:R.Ga(a,b.type,b);J0t=1;break;}}});l0t=13;break;}}});this.EI=new wa.k2(this.Bq,this.fD.bind(this),this.V.sd.bind(this.V));this.Er&&this.Ra.l0a();c=this.Txa();this.Ra.Tpa(c);j0t=33;break;case 29:this.fj(i11,p.error),this.Cq(H11,void 0,k11);j0t=28;break;case 5:j0t=!f.ka(this.wS)||0>this.wS?4:3;break;case 24:throw this.fj(P11,p.error),p.error;j0t=23;break;case 18:this.Ra.Fs(v11);p=new ca(this.V.pK);j0t=16;break;case 4:this.Cq(A11+this.wS,void 0,h11);j0t=28;break;case 3:b=this.K;c=this.ad.O;d=c.u;g=[];j0t=6;break;case 16:j0t=1===p.readyState?15:29;break;}}};a.prototype.flush=function(){var K0t;K0t=2;while(K0t!==1){switch(K0t){case 2:this.Uw.flush();K0t=1;break;case 4:this.Uw.flush();K0t=0;break;K0t=1;break;}}};a.prototype.paused=function(){var B0t;B0t=2;while(B0t!==1){switch(B0t){case 4:this.V.paused();B0t=4;break;B0t=1;break;case 2:this.V.paused();B0t=1;break;}}};N1t=32;break;case 72:a.prototype.vS=function(a,b){var v2t,c,f,d,g,k,n11;v2t=2;while(v2t!==27){n11="sta";n11+="rtBuff";n11+="ering";switch(v2t){case 7:k.eK=void 0;this.V.Yd(2===a?p.oa.Lh:p.oa.Pe);this.Ra.q0a(b);this.EI.reset();v2t=12;break;case 1:c=this;f=this.K;v2t=4;break;case 4:d=this.Wa.Be[0]||{};g=this.Wa.Be[1]||{};k=this.Wa.Ju[1]||{};(this.Wa.Ju[0]||{}).eK=void 0;v2t=7;break;case 12:this.ad.O.bY();this.emit(n11);u.Of.forEach(function(b){var N2t;N2t=2;while(N2t!==5){switch(N2t){case 1:b.T5=0,b.seeking=0===a||1===a,b.vg=!1;N2t=5;break;case 2:N2t=(b=c.na.Nb.Ic(b))?1:5;break;}}});this.X2=Q.time.fa();d.Bm=g.Bm=this.X2;0===a&&(!this.qk||0<g.Pp)&&(!this.Pn||0<d.Pp)&&this.Wa.us();f.aL&&(this.p3=setTimeout(function(){var X2t;X2t=2;while(X2t!==1){switch(X2t){case 2:c.I1a();X2t=1;break;case 4:c.I1a();X2t=9;break;X2t=1;break;}}},f.d8));v2t=16;break;case 16:this.V.Li()&&(this.xC=setTimeout(function(){var d2t;d2t=2;while(d2t!==1){switch(d2t){case 4:c.Wa.us();d2t=6;break;d2t=1;break;case 2:c.Wa.us();d2t=1;break;}}},f.wr));this.Xe.Sh();v2t=27;break;case 2:v2t=1;break;}}};a.prototype.NS=function(a){var W2t,b,f11,g11;W2t=2;while(W2t!==9){f11="AdoptingD";f11+="ata st";f11+="ill has l";f11+="ock:";g11="wipeHeader";g11+="C";g11+="a";g11+="c";g11+="he:";switch(W2t){case 3:b.yca||(b.Vf&&this.Ra.Ni(a),this.sb.wT(),this.sg&&(this.sg=void 0));W2t=9;break;case 2:j4tt.L91(0);a=j4tt.N91(a,g11);this.qv.bF&&this.Md(f11+a);b=this.K;W2t=3;break;}}};a.prototype.yoa=function(a){var c2t,c,d,g,k,Z11,W11,c11;c2t=2;function b(a,b){var P2t,d,g,k,h,m,p,t,Y11;P2t=2;while(P2t!==15){Y11="adoptPip";Y11+="eline no heade";Y11+="r for streamId:";switch(P2t){case 17:b.WS(g.fo,!b.se.mf&&!b.Xh&&1===d,!0)&&(void 0!==a.EA&&a.eB(a.EA),k=b.oj(d,h).stream.X.Gl(a.Bb,void 0,!0),b=m.ai(k),m=b.T,a.Cfa()&&(b=b.SU(a.Bb))&&0<b.Kc&&(m=b.Kc),a.Bb!==m&&(a.CZ(m,k),c.y4(d,m)),k=c.AYa(a,g.data).then(function(){var m2t;m2t=2;while(m2t!==1){switch(m2t){case 4:return h;break;m2t=1;break;case 2:return h;break;}}}),p.Seb=!0,0===d&&c.ff.xG(g.fo.R));P2t=16;break;case 2:P2t=1;break;case 3:P2t=g?9:16;break;case 18:b=c.ad.O;P2t=17;break;case 10:return k;break;case 19:return a.Md(Y11,h),k;break;case 16:return k;break;case 9:h=g.pa;m=g.fo.stream;p=c.Wa.Be[d];P2t=6;break;case 1:d=a.M;g=b[d];k=T.resolve(void 0);P2t=3;break;case 12:t.co=b.co;P2t=11;break;case 6:t=c.Wa.Ju[d];f.U(b.Cp)||c.ff.WGa(b.Cp,b.Pm,b.Ll);t.io=b.io;P2t=12;break;case 20:P2t=!g.fo?19:18;break;case 11:P2t=!a.OCb(h)?10:20;break;}}}while(c2t!==13){Z11="c";Z11+="a";Z11+="tc";Z11+="h";W11="ch";W11+="eckFor";W11+="Hc";W11+="d";W11+="Start";c11="Previously adopted request list";c11+=" still retain";c11+="e";c11+="d was une";c11+="xpected";switch(c2t){case 2:c=this;(null===(d=this.sg)||void 0===d?0:d.Rz())&&this.Md(c11);this.sg=void 0;c2t=3;break;case 9:c2t=!this.N2a||!this.sb.Me?8:7;break;case 3:g=this.K;c2t=9;break;case 8:return this.sb.Z5(),T.resolve();break;case 7:this.Ra.Fs(W11);this.gc.forEach(function(b){var x2t;x2t=2;while(x2t!==1){switch(x2t){case 2:b.O.u===a&&(k=b);x2t=1;break;}}});return this.sb.Me.Nnb(a,k?k.O:void 0).then(function(a){var r2t,d,k,m11,o11,p11;r2t=2;while(r2t!==6){m11="headerCa";m11+="cheDa";m11+="ta";m11+="NotFound";o11="adopt";o11+="Hc";o11+="dSt";o11+="ar";o11+="t";p11="ch";p11+="ec";p11+="kFo";p11+="rH";p11+="cdEnd";switch(r2t){case 2:c.Ra.Fs(p11);r2t=5;break;case 5:r2t=f.U(a)?4:3;break;case 3:d=c.na.Nb.Ic(0);r2t=9;break;case 9:k=c.na.Nb.Ic(1);c.Ra.Fs(o11);return c.qv.RJa(function(){var h2t,f,h,q11;h2t=2;while(h2t!==6){q11="adopt";q11+="Hcd";q11+="End";switch(h2t){case 2:f=T.resolve();c.qk&&(f=b(k,a));h=T.resolve();h2t=3;break;case 3:!c.Pn||g.cza&&!f||(h=g.cza?f.then(function(c){var k2t;k2t=2;while(k2t!==1){switch(k2t){case 4:return c?b(d,a):T.resolve();break;k2t=1;break;case 2:return c?b(d,a):T.resolve();break;}}}):b(d,a));c.opa=a;c.Ra.Fs(q11);h2t=7;break;case 7:return T.all([f,h]);break;}}});break;case 4:return g.IJ||c.qv.bF||c.NS(m11),T.resolve();break;}}}).then(function(){var E2t,a,X11;E2t=2;while(E2t!==5){X11="adop";X11+="tedCo";X11+="mpletedReq";X11+="uest";X11+="s";switch(E2t){case 2:g.IJ||(null===(a=c.sg)||void 0===a?0:a.Rz())||c.qv.bF||c.NS(X11);E2t=5;break;}}})[Z11](function(a){var Q2t,w11;Q2t=2;while(Q2t!==1){w11="headerC";w11+="ache:loo";w11+="kupDataP";w11+="romise";w11+=" caught error:";switch(Q2t){case 4:c.Ia("",a);Q2t=3;break;Q2t=1;break;case 2:c.Ia(w11,a);Q2t=1;break;}}});break;}}};a.prototype.AYa=function(a,b){var U2t,c,d,g,k,h,m,p;U2t=2;while(U2t!==13){switch(U2t){case 4:return T.resolve();break;case 5:U2t=0===b.length?4:3;break;case 2:c=this;U2t=5;break;case 8:k=Math.min(this.gc[0].ga||Infinity,d.ga||Infinity);h=a.M;m=this.Wa.Be[h];U2t=14;break;case 14:return this.qv.RJa(function(){var n2t,t;n2t=2;function d(){var H2t,d,B11,E11;H2t=2;while(H2t!==4){B11="adoptDa";B11+="ta, ";B11+="n";B11+="ot adopting failed mediaRequest:";E11="adoptData,";E11+=" not ";E11+="adopting ";E11+="aborted ";E11+="mediaRequest:";switch(H2t){case 9:d=b.shift();H2t=3;break;H2t=5;break;case 5:7===d.readyState?a.Ia(E11,d.toString()):6===d.readyState?(a.Ia(B11,d.toString()),c.Vy(d,!1)):a.Bb>=d.Oc&&a.Bb<d.$d&&(a.Bb<k||!f.ka(k))?(t.push(c.BYa(a,d).then(function(){var y2t;y2t=2;while(y2t!==1){switch(y2t){case 4:d.complete||c.Jya(d);y2t=4;break;y2t=1;break;case 2:d.complete&&c.Jya(d);y2t=1;break;}}})),a.CZ(d.$d),f.ka(k)&&a.Bb>=k&&c.Ra.c4(g,d.$d),0===h&&c.ff.xG(d.R),d.complete?(m.Pp+=d.duration,d.rnb&&(m.rN+=d.duration),p=d):(c.sg||(c.sg=new Fa.CKa(c.I)),c.sg.push(d))):c.Vy(d,!1);H2t=4;break;case 2:d=b.shift();H2t=5;break;}}}while(n2t!==3){switch(n2t){case 1:n2t=0<b.length?5:4;break;case 5:d();n2t=1;break;case 2:t=[];n2t=1;break;case 8:t=[];n2t=2;break;n2t=1;break;case 4:return T.all(t);break;case 14:return T.all(t);break;n2t=3;break;}}}).then(function(){var R2t,b,f;R2t=2;while(R2t!==8){switch(R2t){case 2:p&&a.Kya(p);R2t=5;break;case 5:R2t=p||(null===(b=c.sg)||void 0===b?0:b.Rz())?4:8;break;case 4:b=c.gc[d.O.Ua];f=a.M8(a.Bb);void 0!==f?(a.Sl=f,a.xg=b.O.Yf[h].stream.ai(a.Sl)):a.Sl=a.jg?a.jg.index+1:a.Sl+1;R2t=8;break;}}});break;case 3:d=a.bX;g=d.la;U2t=8;break;}}};a.prototype.BYa=function(a,b){var L2t,c,S11,u11,y11;L2t=2;while(L2t!==9){S11=",";S11+=" pts";S11+=": ";u11=",";u11+=" sta";u11+="t";u11+="e";u11+=": ";y11="adoptMedi";y11+="aRequest: ty";y11+="pe: ";switch(L2t){case 3:return a.Sa.a4a(b);break;case 2:c=a.M;this.K.Vf&&this.Ra.Ni(y11+c+u11+b.readyState+S11+b.Oc);this.y4(c,b.Oc);L2t=3;break;}}};a.prototype.u4=function(a,b,c){var a2t,f;a2t=2;while(a2t!==8){switch(a2t){case 2:f=this;void 0===b&&(b=N.GQ.I5);(c||this.na.Nb).zea(a,b);this.EI.reset();(void 0===a?u.Of:[a]).forEach(function(a){var V2t;V2t=2;while(V2t!==1){switch(V2t){case 2:f.eb(a)&&(f.Bq[a].reset(),f.Ie[a].reset(),f.R1a(a),f.ff.hrb(a));V2t=1;break;}}});a2t=8;break;}}};a.prototype.$fa=function(a){var o2t,b;o2t=2;while(o2t!==4){switch(o2t){case 2:b=this;(void 0===a?u.Of:[a]).forEach(function(a){var t2t,c;t2t=2;while(t2t!==5){switch(t2t){case 2:null===(c=b.Bq[a])||void 0===c?void 0:c.stop();t2t=5;break;}}});o2t=4;break;}}};a.prototype.CG=function(a){var Y2t,b;Y2t=2;while(Y2t!==3){switch(Y2t){case 2:b=this;(void 0===a?u.Of:[a]).forEach(function(a){var q2t,c;q2t=2;while(q2t!==5){switch(q2t){case 2:null===(c=b.Bq[a])||void 0===c?void 0:c.resume();q2t=5;break;}}});return T.resolve();break;}}};a.prototype.qJ=function(a){var F2t,b,c;F2t=2;while(F2t!==9){switch(F2t){case 2:b=this;a=void 0===a?u.Of:[a];null===(c=this.EI)||void 0===c?void 0:c.reset();a.forEach(function(a){var T2t,c;T2t=2;while(T2t!==5){switch(T2t){case 2:null===(c=b.Bq[a])||void 0===c?void 0:c.resume();T2t=5;break;}}});F2t=9;break;}}};a.prototype.R1a=function(a){var u2t,b;u2t=2;while(u2t!==9){switch(u2t){case 2:b=this.Wa.Be[a];this.Wa.pr[a].$aa=void 0;b.Pp=0;u2t=3;break;case 3:b.rN=0;u2t=9;break;}}};N1t=87;break;case 2:Object.defineProperties(a.prototype,{addEventListener:{get:function(){var m1t;m1t=2;while(m1t!==1){switch(m1t){case 2:return this.addListener.bind(this);break;case 4:return this.addListener.bind(this);break;m1t=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{removeEventListener:{get:function(){var x1t;x1t=2;while(x1t!==1){switch(x1t){case 2:return this.removeListener.bind(this);break;case 4:return this.removeListener.bind(this);break;x1t=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rob:{get:function(){var r1t;r1t=2;while(r1t!==1){switch(r1t){case 4:return this.Ue.oc;break;r1t=1;break;case 2:return this.Ue.oc;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Pn:{get:function(){var h1t;h1t=2;while(h1t!==1){switch(h1t){case 4:return this.eb(9);break;h1t=1;break;case 2:return this.eb(0);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{qk:{get:function(){var k1t;k1t=2;while(k1t!==1){switch(k1t){case 2:return this.eb(1);break;case 4:return this.eb(7);break;k1t=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{attributes:{get:function(){var E1t;E1t=2;while(E1t!==1){switch(E1t){case 4:return this.R2;break;E1t=1;break;case 2:return this.R2;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{cu:{get:function(){var Q1t;Q1t=2;while(Q1t!==1){switch(Q1t){case 2:return this.Ng;break;case 4:return this.Ng;break;Q1t=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{tN:{get:function(){var U1t;U1t=2;while(U1t!==1){switch(U1t){case 4:return 2>=this.RR?this.RR:1;break;U1t=1;break;case 2:return 0<=this.RR?this.RR:0;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ad:{get:function(){var n1t;n1t=2;while(n1t!==1){switch(n1t){case 2:return this.gc[this.UC];break;case 4:return this.gc[this.UC];break;n1t=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Io:{get:function(){var H1t;H1t=2;while(H1t!==1){switch(H1t){case 4:return this.sb.Io;break;H1t=1;break;case 2:return this.sb.Io;break;}}},enumerable:!0,configurable:!0}});N1t=13;break;case 104:a.prototype.Rtb=function(a,b,c){var g79,f;g79=2;while(g79!==6){switch(g79){case 2:g79=1;break;case 1:q.fl.Il(0);a=this.gc[a];a.Rga(b);g79=3;break;case 9:a.Hl(0).uc.some(function(a){var Z79;Z79=2;while(Z79!==4){switch(Z79){case 2:f=a.oj();Z79=1;break;case 9:f=a.oj();Z79=9;break;Z79=1;break;case 1:Z79=!(f&&f.stream&&f.stream.X&&c<f.stream.X.Ah(0))?5:4;break;case 5:return!!f;break;case 7:return~~f;break;Z79=4;break;}}});g79=8;break;case 8:f?(a.O.Yf[0]=f,a.AN=!1,f.stream.ud&&a.yT()):(a.O.Yf[0]=void 0,a.AN=!1,a.O.jG([a.Hl(0)],!0,0));g79=7;break;case 3:g79=a.O.eW?9:7;break;case 7:this.qJ(0);g79=6;break;}}};a.prototype.w1a=function(a,b){var J79,c;J79=2;while(J79!==3){switch(J79){case 2:c=this.Ie[a.M];a=this.na.wN(a.Dd,a.M,b,this.sb.LZ||0,function(a){var s79;s79=2;while(s79!==1){switch(s79){case 4:c.$Y(a);s79=3;break;s79=1;break;case 2:c.$Y(a);s79=1;break;}}});f.U(a)||this.Xe.Sh();J79=3;break;}}};a.prototype.n_a=function(a){var i79,b;i79=2;while(i79!==8){switch(i79){case 5:a=this.gc[a.manifestIndex].O.ar(b,a.streamId);this.$1a(this.na.Nb.re(b),a);this.K=this.Kta.HYa(a.Af,this.K);i79=9;break;case 9:this.gc.forEach(function(a,b){var f79,c;f79=2;while(f79!==4){switch(f79){case 2:c=a.O;c.eW||0===b||c.jG([a.Hl(0),a.Hl(1)]);f79=4;break;}}});i79=8;break;case 2:b=a.mediaType;i79=5;break;}}};a.prototype.q_a=function(a){var K79,b,c;K79=2;while(K79!==7){switch(K79){case 2:b=a.request;a=a.mediaType;K79=4;break;case 4:c=b.Sa.Dd;c.bob(a);b.X8&&this.Ra.s0a(b);b.$t&&this.Ra.H0a(a,b.O.Ua,c.la);K79=7;break;}}};a.prototype.$1a=function(a,b){var B79;B79=2;while(B79!==1){switch(B79){case 2:this.Wa.pr[a.M].eA={id:b.pa,index:b.Ch,R:b.R,Da:b.jb&&b.jb.Fd&&b.jb.Da?b.jb.Da.Ca:0,location:b.location};B79=1;break;}}};a.prototype.AW=function(a){var I79,b,c,f,d,g,k;I79=2;while(I79!==12){switch(I79){case 2:b={};c=this.Ie;f=this.na;I79=3;break;case 13:return b;break;case 9:d=f.Nb;g=d.Ic(0);k=d.Ic(1);k&&g&&(b.vspts=k.Bb,b.aspts=g.Bb,b.vbuflbytes=k.Dm.ba,b.abuflbytes=g.Dm.ba,b.vbuflmsec=f.Oq(d,1),b.abuflmsec=f.Oq(d,0),a&&(b.a=g.Sa.X.toJSON(),b.v=k.Sa.X.toJSON()));I79=14;break;case 3:I79=!f.Nb.H7?9:13;break;case 14:a&&c&&(a=c[1],c=c[0],a&&c&&(b.atoappend=a.wZ(),b.vtoappend=c.wZ()));I79=13;break;}}};a.prototype.sya=function(a){var M79,b,c,f,d,g,k,h;M79=2;while(M79!==12){switch(M79){case 2:b=this.na.Nb;c=b.re(a);M79=4;break;case 7:g=c.Sa.oY;k=this.na.Ed;h=Q.Zj()[a];return{type:a,availableMediaBuffer:h-d,completeBuffer:b.Nk(a),incompleteBuffer:g,playbackBitrate:c.iEa,streamingBitrate:f,streamingTime:c.Bb+k,usedMediaBuffer:d,toappend:c.QJa};break;case 4:M79=c?3:12;break;case 3:f=this.Wa.pr[a];d=this.na.kz(b,a);f=f.eA?f.eA.R:0;M79=7;break;}}};a.prototype.Tvb=function(){var e79,a,s11;e79=2;while(e79!==4){s11="request";s11+="G";s11+="arbag";s11+="eCollection";switch(e79){case 2:a={type:s11,time:Q.time.fa()};R.Ga(this,a.type,a);e79=4;break;}}};a.prototype.Cq=function(a,b,c,d,g,k){var v79,F11;v79=2;while(v79!==1){F11="NFErr_M";F11+="C_Str";F11+="eamin";F11+="gFailure";switch(v79){case 2:this.lD||(f.U(c)&&(c=F11),this.lD=!0,this.Ra.K0a(c,a,d,g,k,b));v79=1;break;}}};a.prototype.kpa=function(){var N79,O11;N79=2;while(N79!==5){O11="Networ";O11+="k f";O11+="ailures";O11+=" reset";O11+="!";switch(N79){case 2:this.Ia(O11);this.Xe.Sh();N79=5;break;}}};N1t=94;break;}}function a(a,f,d,g,k,m,p,t,q,u,y){var X1t,D,r,I,T,ca,e11,V11,L11,d11,z11,a11;X1t=2;while(X1t!==74){e11="b";e11+="ranchin";e11+="g";V11="manag";V11+="erd";V11+="eb";V11+="ugevent";L11="me";L11+="dia|as";L11+="ej";L11+="s";d11="ASE";d11+="J";d11+="S";z11="1SI";z11+="YbZrNJ";z11+="C";z11+="p";z11+="9";a11="med";a11+="i";a11+="aca";a11+="che";switch(X1t){case 6:this.Ia=this.I.warn.bind(this.I);this.fj=this.I.trace.bind(this.I);X1t=13;break;case 65:f.LJ=!0;this.gc=[f];this.ff=new n.EKa(this,this.I,a,this.sb.Vb,u,this.sF(),k,this.eb.bind(this),T);X1t=62;break;case 37:this.Ng.on(this.sb.Me,a11,function(a){var W1t,N11;W1t=2;while(W1t!==1){N11="m";N11+="ed";N11+="iaca";N11+="c";N11+="he";switch(W1t){case 4:R.Ga(D,"",a);W1t=3;break;W1t=1;break;case 2:R.Ga(D,N11,a);W1t=1;break;}}});X1t=36;break;case 38:X1t=(u.Zga||u.Lx)&&this.sb.Me?37:36;break;case 59:this.ff.Sga(this.K);X1t=58;break;case 26:this.Bk=p;this.K=u=this.Kta.FYa(f,u);X1t=24;break;case 51:this.pfa=new l.z1(this.sb.Vb,this.sb.Yg,this.K,void 0);this.pfa.sD(f);a=this.pfa.Jib();k=null;X1t=47;break;case 24:this.dS=m.IA;this.Vqa=!!m.$G;this.N2a=!!m.v_;this.TC=m.tM;this.oS=void 0;X1t=34;break;case 47:u.aL&&(k=this.sb.Io.Ms);W.Qu.Ae().reset();f=b.Ska.create({Ua:0,ta:f,Wk:d,CGa:g,mf:!!m.mf,Yza:!1,Xh:!!m.Xh,Lq:y||this.DI,T:0,ga:m.ga,Ra:this.Ra,cr:this.kpa.bind(this),Yp:this.Yp.bind(this),eb:this.eb.bind(this),Gb:this,config:this.K,I:this.I,Xe:this.Xe,al:this.al,Me:this.Vqa?this.sb.Me:void 0,Iw:this.Iw});X1t=65;break;case 36:I&&u.qE&&!u.zcb&&(u.set?u.set({enableAdaptiveParallelStreaming:!1}):u.qE=!1);0===Math.floor(1E6*Math.random())%u.NJ&&(this.N1a=new C.cWa());this.Bq=[];this.Ie=[];X1t=51;break;case 9:z11;this.I=new Q.Console(d11,L11,"("+p.sessionId+")");this.Md=this.I.error.bind(this.I);X1t=6;break;case 39:this.Ng.on(this.sb.Me,V11,function(a){var d1t;d1t=2;while(d1t!==1){switch(d1t){case 4:R.Ga(D,a.type,a);d1t=5;break;d1t=1;break;case 2:R.Ga(D,a.type,a);d1t=1;break;}}});X1t=38;break;case 3:this.Iw={wq:[Object.create(null),Object.create(null)]};X1t=9;break;case 62:X1t=u.i8&&this.ff.LW?61:58;break;case 42:this.Xe=new z.sOa(this,this.I,this.eb.bind(this));this.UK=new V.rOa(this,this.I,r);X1t=40;break;case 2:D=this;this.qv=new M.$Va();this.DI=[];X1t=3;break;case 58:N=f.O;this.na=new h.ILa(this,this.Ra,this.I,this.B4.bind(this),N,this.wS,this.K,this.Xe,this.V,this.uL.bind(this));N={tM:this.tM,Er:this.Er,qk:this.qk,IA:this.IA};this.Wa=new B.aXa(this.I,this.ff,this.K,this.eb.bind(this),this.V,N,this.sb.Vb,this.Ra,this.Xe,this.na,T);X1t=77;break;case 44:this.Ng=new c.Yx();this.al=new P.MWa(this,this.I,this.eb.bind(this),r);X1t=42;break;case 40:X1t=u.Vf&&this.sb.Me?39:38;break;case 34:this.V=new O.SKa(q);this.wS=k||0;this.UC=0;this.R2=t;this.lD=!1;this.SI=void 0;this.RR=-1;X1t=44;break;case 17:this.Uw=new A.yRa(this,this.I,this.eb.bind(this),T);this.p2a=[!m.RTb,!m.UMb];this.eb(0)&&this.eb(1);this.sb=a;X1t=26;break;case 77:X1t=this.ao?76:74;break;case 13:r=new oa.sTa(this,this.I);this.Ra=r;this.Kta=new fa.LMa(this.I);I=!(!f||!f.choiceMap||e11!==f.choiceMap.type);T=I?{rE:!1,ao:!1}:K.fhb(u);this.rE=T.rE;this.ao=T.ao;X1t=17;break;case 76:ca=this;this.V.addListener(function(a){var c1t,P1t;c1t=2;while(c1t!==1){switch(c1t){case 2:try{P1t=2;while(P1t!==1){switch(P1t){case 2:ca.Wa.RBb.bind(ca.Wa)(a);P1t=1;break;}}}catch(ib){var I11;I11="Hindsight: Error wh";I11+="e";I11+="n";I11+=" adding updatePlaySegment Lis";I11+="tener: ";j4tt.d91(0);ca.Ra.Tl(j4tt.z91(ib,I11));}c1t=1;break;}}});X1t=74;break;case 61:u=u.ckb;for(var N in u){d=u[N];u.hasOwnProperty(N)&&d&&(this.K[N]=d);}X1t=59;break;}}}}();d.RWa=a;g.Wi(c.EventEmitter,a);},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(16);g=a(43);h=a(70);a=function(a){function b(b,c,f,d,g,m){d=a.call(this,b,c,d,g,m)||this;c.ba=f.byteLength;h.pi.call(d,b,c);d.dD=f;d.UYa=c.ba;return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{Xb:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{Rm:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{Qc:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{ek:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{$h:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{response:{get:function(){return this.dD;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{rnb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{ye:{get:function(){return this.UYa;},enumerable:!0,configurable:!0}});b.prototype.Xz=function(){return!0;};b.prototype.vD=function(a){this.Ci=a.appendBuffer(this.response,f.Pl(this));return{$:this.Ci};};b.prototype.qj=function(){return-1;};b.prototype.abort=function(){return!0;};b.prototype.ic=function(){};b.prototype.zO=function(){return!1;};return b;}(a(166).GB);d.PKa=a;g.Wi(h.pi,a);},function(g,d,a){var f,h,q,b,k;function c(a){return{mediaType:a.M,streamId:a.pa,movieId:a.u,bitrate:a.R,location:a.location,serverId:a.Fb,saveToDisk:!0,offset:a.offset,bytes:a.ba,timescale:a.W,frameDuration:a.stream.La&&a.stream.La.Cb,encrypted:a.lj,initSegments:1<a.bi.length?a.bi.map(function(a){return{fi:a.Kz,s:a.data.byteLength,e:!!a.lj};}):void 0};}Object.defineProperty(d,"__esModule",{value:!0});f=a(6);h=a(730);q=a(385);b=a(16);k=a(29);d.URa={kQ:"movieEntry",MPa:"header",C1:"metadata",tQa:"headerData",uHb:"headerMetadata",pPa:"sizes",oPa:"durations",qja:"fragments",dSa:"response",Ij:"billboard",dv:{lifespan:259200}};d.Wwa=function(a,b,c){var f,d;f=b.headerData;c&&b.sizes instanceof ArrayBuffer&&b.durations instanceof ArrayBuffer&&(d={Aj:c.startTicks,offset:c.offset,W:c.timescale,sizes:new Uint32Array(b.sizes),Gd:new Uint32Array(b.durations)});return{Xb:!0,M:a.mediaType,u:a.movieId,pa:a.streamId,R:a.bitrate,location:a.location,Fb:a.serverId,ba:a.bytes,offset:a.offset,M$:f,rW:a.initSegments,lj:a.encrypted,W:a.timescale,La:a.frameDuration,ve:a.saveToDisk,X:d};};d.Vwa=function(a,b){var c,f,d;b=b.response;c=a.startTicks;f=a.durationTicks;void 0!==c&&void 0!==f&&(d=c+f);return{Xb:!1,M:a.mediaType,u:a.movieId,pa:a.streamId,R:a.bitrate,location:a.location,Fb:a.serverId,ba:a.bytes,offset:a.offset,response:b,W:a.timescale,gb:a.startTicks,$n:f,ve:a.saveToDisk,yb:d};};d.Zxa=function(a){return{he:a.priority,u:a.movieId,headers:{},Bp:0,aE:0,cW:0,ve:a.saveToDisk,Sb:a.stats,co:a.firstSelectedStreamBitrate,io:a.initSelectionReason,Cp:a.histDiscountedThroughputValue,Ll:a.histTdigest,Pm:a.histAge,vl:void 0};};d.aya=function(a,b,c,d,g){var m,p;m={headers:{},data:{}};d.forEach(function(f){var d,p,l;d=f.M;d=g&&g.ar(d,f.pa);p=[];if(f.Xb)if(!Array.isArray(f.rW)||2>f.rW.length)p.push({Kz:0,data:f.M$});else for(var t=0,u=0;u<f.rW.length;++u){l=f.rW[u];p.push({Kz:l.fi,data:f.M$.slice(t,t+l.s),lj:l.e});t+=l.s;}d?(f.X&&d.cY(p,f.W,f.La?new k.Ta(f.La,f.W):void 0,f.X),f.Xb&&d&&d.ud?(void 0===m.headers&&(m.headers={}),m.headers[f.pa]=new q.P_(d,{ba:f.ba,offset:f.offset,bi:p,lj:f.lj},b)):f.response instanceof ArrayBuffer&&void 0!==d.X&&void 0!==f.gb&&void 0!==f.W&&void 0!==f.yb&&(p=d.X.RU(new k.Ta(f.gb,f.W).Ma),void 0!==p&&(d=new h.PKa(d,{W:f.W,gb:f.gb,yb:f.yb,index:p.index,offset:f.offset,ba:f.ba},f.response,c,a,b),void 0===m.data&&(m.data={}),m.data[f.pa]||(m.data[f.pa]=[]),m.data[f.pa].push(d)))):b.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: "+f.pa+" movieId: "+f.u);});if(!f.U(m.data)){p=m.data;Object.keys(p).forEach(function(a){p[a].sort(function(a,b){return a.gb-b.gb;});});}return m;};d.Uxa=function(a){return{mediaType:a.M,streamId:a.pa,movieId:a.u,bitrate:a.R,location:a.location,serverId:a.Fb,saveToDisk:!0,offset:a.offset,bytes:a.ba,timescale:a.W,startTicks:a.gb,durationTicks:a.$n};};d.chb=c;d.Zgb=function(a){var f,d,g,k;f=c(a);a.stream.ud&&a.stream&&a.stream.X&&(d={timescale:a.stream.X.W,startTicks:a.stream.X.Aj,offset:a.stream.X.Cg(0)},k=a.stream.X.yG,g=k.sizes.buffer,k=k.Gd.buffer);return{mediaType:f.mediaType,streamId:f.streamId,movieId:f.movieId,bitrate:f.bitrate,location:f.location,serverId:f.serverId,saveToDisk:!0,offset:f.offset,bytes:f.bytes,timescale:f.timescale,frameDuration:f.frameDuration,headerData:b.Qq(a.bi.map(function(a){return a.data;})),initSegments:f.initSegments,encrypted:a.lj,fragments:d,sizes:g,durations:k};};d.$xa=function(a){return{priority:a.he,movieId:a.u,saveToDisk:a.ve,firstSelectedStreamBitrate:a.co,initSelectionReason:a.io,histDiscountedThroughputValue:a.Cp,histTdigest:a.Ll,histAge:a.Pm};};d.rlb=function(a){return!f.has(a,"startTicks");};d.Xza=function(a){return!a.M$||!a.W||!a.X||void 0===a.X.Aj||void 0===a.X.offset||void 0===a.X.Gd||!a.X.Gd.length||void 0===a.X.sizes||!a.X.sizes.length;};d.Wza=function(a){return void 0===a.ba||void 0===a.offset||void 0===a.W||void 0===a.gb||void 0===a.$n;};},function(g,d,a){var q,b;function c(a,b,f){Object.keys(a).forEach(function(d){var g,k;if(q.qf(a[d]))if(a[d].DW){g=a[d];k=f+g.offset;a[d]=b.slice(k,k+g.byteLength);}else a[d]=c(a[d],b,f);});return a;}function f(a,b,c){Object.keys(a).forEach(function(d){var g;if(q.DW(a[d])){g=a[d];b.push(g);a[d]={DW:!0,offset:c.j7,byteLength:g.byteLength};c.j7+=g.byteLength;}else q.qf(a[d])&&f(a[d],b,c);});return a;}function h(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;}q=a(112);b=a(58);g.P={w8a:function(a){var c,d,g;c=b(a,{});a=[];c=f(c,a,{j7:0});c=JSON.stringify(c);d=new ArrayBuffer(c.length+4);g=new DataView(d);g.setUint32(0,c.length);for(var k=4,m=0,q=c.length;m<q;m++)g.setUint8(k,c.charCodeAt(m)),k++;a=[d].concat(a);return h.apply(null,a);},v8a:function(a){var b;b=new DataView(a,0,4).getInt32(0);for(var f=new Uint8Array(a,4,b),d="",g=0;g<f.byteLength;g++)d+=String.fromCharCode(f[g]);b=4+b;d=JSON.parse(d);return c(d,a,b);}};},function(g,d,a){var h;function c(a,b){return a.length>b.length?1:b.length>a.length?-1:0;}function f(a,b){var c,d,g;c=[];if(h.qf(b)){d={};g={};g[a]=d;c.push(g);c=Object.keys(b).reduce(function(c,g){var k,m,p;k=b[g];p={};h.DW(k)?(m=a+".__embed__."+g,p[m]=k,c.push(p)):h.qf(k)?(m=a+".__sub__."+g,k=f(m,k),d[g]=k[0][m],c=c.concat(k.slice(1))):d[g]=k;return c;},c);}else g={},g[a]=b,c.push(g);return c;}h=a(112);g.P={Jbb:f,clb:function(a){var b,n;b=Object.keys(a).map(function(a){return a.split(".");});b.sort(c);for(var f=b[0],d=f.length,f=a[f.join(".")],g=1;g<b.length;g++)for(var h=!1,m=!1,q=f,l=d;l<b[g].length;l++){n=b[g][l];switch(n){case"__metadata__":break;case"__sub__":m=!0;break;case"__embed__":h=!0;break;default:m?(q=q[n],m=!1):h&&(q[n]=a[b[g].join(".")],h=!1);}}return f;},vlb:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(g,d,a){function c(a){return a;}function f(){return c;}a(6);g.P={xL:f,m$:f};},function(g,d,a){var c,f,h,q;c=a(6);f=a(112);h={};h[f.qn.Vx]=function(a){return a;};h[f.qn.KQ]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};h[f.qn.OBJECT]=function(a){var b;b=a||new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c<b.byteLength;c++)a+=String.fromCharCode(b[c]);return JSON.parse(a);};q={};q[f.qn.Vx]=function(a){return a;};q[f.qn.KQ]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),f=0,d=a.length;f<d;f++)c[f]=a.charCodeAt(f);return b;};q[f.qn.OBJECT]=function(a){return c.U(a)||c.Ja(a)?a:q[f.qn.KQ](JSON.stringify(a));};g.P={xL:function(a){return h[a]||h[f.qn.Vx];},m$:function(a){return q[a]||q[f.qn.Vx];}};},function(g){function d(a,f,d,g){a.trace(":",d,":",g);f(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,f,g,h){g=h?g.bind(h):g;h=!1;if(a){this.console&&(g=d.bind(null,this.console,g,f));if("function"===typeof a.addEventListener)h=a.addEventListener(f,g);else if("function"===typeof a.addListener)h=a.addListener(f,g);else throw Error("Emitter does not have a function to add listeners for '"+f+"'");this.listeners.push([a,f,g]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var c,f;c=a[0];f=a[1];a=a[2];"function"===typeof c.removeEventListener?c.removeEventListener(f,a):"function"===typeof c.removeListener&&c.removeListener(f,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};g.P=a;},function(g){function d(a,f){var c;if(void 0===f||"function"!==typeof f||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.qm)return this.qm={},this.qm[a]=[f],!0;c=this.qm[a];return void 0===c?(this.qm[a]=[f],!0):0>c.indexOf(f)?(c.push(f),!0):!1;}function a(a,f){a=this.qm?this.qm[a]:void 0;if(!a)return!1;a.forEach(function(a){a(f);});return!0;}g.P={addEventListener:d,on:d,removeEventListener:function(a,f){var c;if(void 0===f||"function"!==typeof f||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.qm)return!1;c=this.qm[a];if(void 0===c)return!1;f=c.indexOf(f);if(0>f)return!1;if(1===c.length)return delete this.qm[a],!0;c.splice(f,1);return!0;},Ga:a,emit:a,removeAllListeners:function(a){this.qm&&(void 0===a?delete this.qm:delete this.qm[a]);return this;}};},function(g){function d(a){if(!(this instanceof d))return new d(a);if("undefined"===typeof a)this.Ak=function(a,c){return a<=c;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.Ak=a;}this.Gn=[];}function a(f,d){var g,b,k,h,m,u,l;g=f.Gn;b=f.Ak;k=2*d+1;h=2*d+2;m=g[d];u=g[k];l=g[h];u&&b(u.he,m.he)&&(!l||b(u.he,l.he))?(c(g,d,k),a(f,k)):l&&b(l.he,m.he)&&(c(g,d,h),a(f,h));}function c(a,c,d){var b;b=a[c];a[c]=a[d];a[d]=b;}d.prototype.clear=function(){this.Gn=[];};d.prototype.Qm=function(a,d){this.Gn.push({he:a,value:d});a=this.Gn;d=this.Ak;for(var f=a.length-1,b=0===f?null:Math.floor((f-1)/2);null!==b&&d(a[f].he,a[b].he);)c(a,f,b),f=b,b=0===f?null:Math.floor((f-1)/2);};d.prototype.remove=function(){var f;if(0!==this.Gn.length){f=this.Gn[0];c(this.Gn,0,this.Gn.length-1);this.Gn.pop();a(this,0);return f.value;}};d.prototype.QF=function(){if(0!==this.Gn.length)return this.Gn[0].value;};d.prototype.enqueue=d.prototype.Qm;d.prototype.Kua=d.prototype.remove;d.prototype.Jx=function(){return this.Gn.map(function(a){return a.value;});};g.P=d;},function(g,d,a){var f,h,q,b,k,p,t,u;function c(a,d,g){var r,S;function m(a,b,c,f){a.info.call(a,function(a,d){var g;if(a)f(a);else{try{g=d.values[this.context].entries[b][c].size;}catch(sa){g=-1;}-1<g?f(null,g):this.jq(function(a,b){a?f(a):(b[c]&&(g=b[c].size),f(null,g));});}}.bind(a));}function l(a,b,f,d,g,p,q){var u;p?p.Gk||(p.Gk={}):p={Gk:{}};r(d);u=h.time.now();d=new t(function(c,d){a.create(h.storage.bC,b,f,function(a,b){a?d(a):c(b);});}).then(function(f){f.$?m(a,h.storage.bC,b,function(a,d){a?q(a):(S(d),r(d),p.Gk[c.sP.t1]={$:!0,time:g,Di:d,Pw:b,XEa:f,duration:h.time.now()-u},p.nj=f.nj,q(null,p));}):(p.Gk[c.sP.t1]={$:!1,Pw:b,error:f.error},q(null,p));},function(a){q(a);});k.zr(d);}function n(a,b,c,f,d,g){f.Qm(c.time,c);for(var k=c.time-864E5,h=f.QF();h&&!isNaN(h.time)&&h.time<k;)h=f.Kua(),r(0-(h.ba||0)),h=f.QF();f=f.Jx().map(function(a){return a.time+";"+a.ba;});l(a,b,Array.prototype.join.call(f,"|"),c.ba,c.time,d,g);}function y(a,b,f,d,g,k,t,u,l){var y;y=h.time.now();a.create(f,d,g,function(g,D){var C;if(g)p.error("Failed to replace item",d,g);else if(D.$){C=D.nj;m(a,f,d,function(f,g){var m,p;if(f)l(f);else{f={time:u,ba:g||0};m={nj:C,Gk:{}};p=h.time.now()-y;m.Gk[c.sP.REPLACE]={$:!0,time:u,Di:g,Pw:d,XEa:D,duration:p};k?n(a,b,f,t,m,l):(r(g),l(null,m));}});}else l(q.VQ.ln(D.error||"Failed to create item"));});}function D(a,b,f,d,g,k,t,u,l){var y;y=h.time.now();a.append(f,d,g,function(g,D){var C;if(g)p.error("Failed to save item "+d,g),l(g);else if(D.$){C=D.nj;m(a,f,d,function(f,g){var m,p;if(f)l(f);else{f={time:u,ba:g||0};m={nj:C,Gk:{}};p=h.time.now()-y;m.Gk[c.sP.jWa]={$:!0,time:u,Di:g,Pw:d,XEa:D,duration:p};k?n(a,b,f,t,m,l):(r(g),l(null,m));}});}else l(q.VQ.ln(D.error||"Failed to save item"));});}function B(a,b){a&&f.Qb(a.remove)&&a.bj.valid&&a.remove(h.storage.bC,b.PC,function(c,d){if(c)p.error("Failed to delete old journal key",c);else try{d&&(f.U(d.error)||d.error.some(function(a){return"NFErr_FileNotFound"===a.ZOb;}))&&n(a,b.PC,{time:0,ba:0},b.mJ,0,function(){});}catch(V){}});}if(!a.bj.valid)return u;this.Koa=f.U(d)||f.Ja(d)?0:d;this.n3=a;this.J3=this.FI=0;this.mJ=new b();this.j1a=g||"default";this.PC=this.j1a+".NRDCACHEJOURNALKEY";r=function(a){isNaN(a)||(this.FI+=a);return this.FI;}.bind(this);S=function(a){isNaN(a)||(this.J3+=a);return this.J3;}.bind(this);this.T9=function(){return this.PC;};this.save=function(a,b,c,f){var d;d=h.time.now();D(this.n3,this.PC,a,b,c,0<=this.Koa,this.mJ,d,f);};this.replace=function(a,b,c,f){var d;d=h.time.now();y(this.n3,this.PC,a,b,c,0<=this.Koa,this.mJ,d,f);};this.fxa=function(a){var b,d;b=this.FI;a-=864E5;for(var c=this.mJ.Jx(),f=0;f<c.length;f++){d=c[f];d.time<a&&!isNaN(d.ba)&&(b-=d.ba);}return b;};(function(a){var b;b=a.n3;a.FI=0;b.read(h.storage.bC,a.PC,0,-1,function(c,f){var d,g,k,t;d=[];g=0;k=!0;if(c)p.error("Failed to compile records",c);else if(f.$){c=String.fromCharCode.apply(null,new Uint8Array(f.value));c=String.prototype.split.call(c,"|");f=c.reduce(function(a,b){return a+(b.length+40);},0);r(f);d=c.map(function(a){a=a.split(";");return{time:Number(a[0]),ba:Number(a[1])};});try{if(!isNaN(d.reduce(function(a,b){return a+b.ba;},0)))for(var k=!1,m=h.time.now()-864E5;g<d.length;g++){t=d[g];t.time<m||(a.mJ.Qm(t.time,t),r(t.ba));}}catch(O){}}k&&B(b,a);});}(this));}f=a(6);h=a(113);q=a(209);b=a(738);d=a(58);k=a(208);p=new h.Console("DISKWRITEMANAGER","media|asejs");t=h.Promise;d({sP:{jWa:"saveitem",REPLACE:"replaceitem",t1:"journalupdate"}},c);u={save:function(a,b,c,f){f(q.Kka);},replace:function(a,b,c,f){f(q.Kka);},T9:function(){return"";},fxa:function(){return 0;}};c.prototype.constructor=c;g.P={create:function(a,b,f){return new c(a,b,f);},fJb:u};},function(g,d,a){var k,p,t,u,l,n,B,r,C;function c(){}function f(b,d,g,m,t){var u;u=k.Qb(m)?m:c;this.Fv=b;this.ss=g.lp;this.Ts=0;this.QZa=g.Tdb||"NONE";this.ws=k.U(t)||k.Ja(t)?0:t;this.Ad={};this.$o=g.lRb||p.storage.bC;this.tq=d;this.rD=l.create(this.tq,g.$$a*this.ws,this.Fv);this.on=this.addEventListener=C.addEventListener;this.removeEventListener=C.removeEventListener;this.emit=this.Ga=C.Ga;this.lpa=q(this,f.Ld.REPLACE);this.s_a=q(this,f.Ld.aoa);this.Ny;this.Ny=g.yJa?a(735):a(734);this.tq.query(this.$o,this.Xm(""),function(a,b){var c;if(a)u(a);else{c=this.rD.T9();a=Object.keys(b).filter(function(a){return a!==c&&n.cF(a);}).map(this.Mga.bind(this));this.QY(a,function(a,c){Object.keys(c).map(function(a){var f,d;f=c[a];this.Ad[n.MU(a)]=f;if(f.Aea&&1<Object.keys(f.Aea).length){d=0;Object.keys(f.Aea).forEach(function(a){b[this.Xm(a)]&&k.ka(b[this.Xm(a)].size)&&(d+=b[this.Xm(a)].size);}.bind(this));a=n.MU(a);this.Ad[a].size=d;}else a=n.MU(a),b[this.Xm(a)]&&(this.Ad[a].size=b[this.Xm(a)].size);}.bind(this));h(this.tq,this.$o,this.Fv,function(a,b){this.Ts=b;a?u(a):u(null,this);}.bind(this));}.bind(this));}}.bind(this));}function h(a,b,f,d){var g;g=k.Qb(d)?d:c;a.query(b,f,function(a,b){a?g(a):(a=Object.keys(b).reduce(function(a,c){return a+(b[c].size||0);},0),g(null,a));});}function q(a,b){return function(c,d,g,m,t){return function(q,u){var l;if(q)d||a.Ga(f.Ld.ERROR,{itemKey:c,error:q}),g(q);else{l={Di:0,duration:0,items:[],time:p.time.now()};Object.keys(u.Gk).map(function(b){var c;c=u.Gk[b];b={key:a.Mga(c.Pw),rf:b};c.$?(l.Di+=c.Di,b.QW=c.Di,k.ka(c.duration)&&(l.duration+=c.duration)):b.error=c.error;l.items.push(b);});q=k.Qb(m)?m():0;0<t&&(l.$D=t-q);h(a.tq,a.$o,a.Fv,function(c,f){c?g(c):(a.Ts=f,l.nj=a.ss-f,d||a.Ga(b,r.kxa(l)),g(null,l));});}};};}function b(a,b){return 0<b&&a>=b?!0:!1;}k=a(6);p=a(113);t=a(209);d=a(58);u=new p.Console("MEDIACACHE","media|asejs");l=a(739);n=a(363);B=a(112);r=a(208);C=a(111).EventEmitter;d({Ld:{aoa:"writeitem",REPLACE:"replaceitem",t1:"journalupdate",ERROR:"mediacache-error"}},f);f.prototype.getName=function(){return this.Fv;};f.prototype.Mga=function(a){return a.slice(this.Fv.length+1);};f.prototype.K9=function(){return Object.keys(this.Ad).filter(function(a){a=n.m9(this.Ad[a]);return void 0===a||0>=a.Cta();}.bind(this));};f.prototype.Whb=function(){return Object.keys(this.Ad).reduce(function(a,b){var c;c=this.Ad[b];return c&&c.creationTime<a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:p.time.now()}).DSb;};f.prototype.Pgb=function(){var a;switch(this.QZa){case"FIFO":a=this.Whb();}return a;};f.prototype.ebb=function(a){var b;b=k.Qb(a)?a:c;this.Jxa(function(c){var f,d,g;f=this.Ad;d=Object.keys(f).reduce(function(a,b){b=f[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((c=c.filter(function(a){return!n.cF(a)&&0>d.indexOf(a);}))&&0<c.length){g=this;c=p.Promise.all(c.map(function(a){return new p.Promise(function(b,c){g["delete"](a,function(a){a?c(a):b();});});})).then(function(){b(void 0,{iea:!0});},function(a){b(a,{iea:!1});});r.zr(c);}else a(void 0,{iea:!1});}.bind(this));};f.prototype.Fub=function(a,b,f){var d,g;d=k.Qb(b)?b:c;b=this.Xm(a);g=p.time.now();this.tq.read(this.$o,b,0,-1,function(b,c){var h;if(b)d(b);else if(c&&c.$&&c.value){k.Qb(f)||(f=this.Ny.xL(B.qn.Vx),n.cF(a)?f=this.Ny.xL(B.qn.OBJECT):(b=this.Ad[a],!k.U(b)&&k.ka(b.resourceIndex[a])?(b=b.resourceIndex[a],k.U(b)&&(b=B.qn.Vx),f=this.Ny.xL(b)):u.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{h=f(c.value);}catch(W){return d(t.hC.ln(W.message));}c={duration:p.time.now()-g};this.Ad[a]&&k.ka(this.Ad[a].size)&&(c.mt=k.ka(this.Ad[a].size)?this.Ad[a].size:0);d(null,h,c);}else d(t.hC.ln(c.error));}.bind(this));};f.prototype.read=function(a,b,c){this.Fub(a,b,c);};f.prototype.QY=function(a,b,f){var d,g,h;d=k.Qb(b)?b:c;if("[object Array]"!==Object.prototype.toString.call(a))d(t.hC.ln("item keys must be an array"));else{g={};h=[];a=p.Promise.all(a.map(function(a){return new p.Promise(function(b,c){var d;f&&!k.U(f[a])&&(d=this.Ny.xL(f[a]));this.read(a,function(f,d,k){f?(d={},d[a]=f,c(d)):(g[a]=d,h.push({duration:k.duration,mt:k.mt}),b());},d);}.bind(this));}.bind(this))).then(function(){var a;a={};0<h.length&&(a=h.reduce(function(a,b){k.ka(b.duration)&&(a.duration+=b.duration);k.ka(b.mt)&&(a.mt+=b.mt);return a;},{duration:0,mt:0}));d(null,g,a);},function(a){d(a);});r.zr(a);}};f.prototype.write=function(a,f,d,g,h){var m,p,q;d=k.Qb(d)?d:c;m=this.Xm(a);p="function"===typeof h?h():0;q=B.z$(f);q=this.Ny.m$(q)(f);q.byteLength+this.Ts>=this.ss?d(t.KB):b(q.byteLength+p,this.ws)?d(t.WQ):this.rD.save(this.$o,m,f,this.s_a(a,g,d,h,this.ws),q.byteLength);};f.prototype.replace=function(a,f,d,g,h){var m,p,q,l;m=k.Qb(d)?d:c;p=this.Xm(a);q=0;"function"===typeof h&&(q=h());d=B.z$(f);l=this.Ny.m$(d)(f);d=(this.Ad[a]||{}).size||0;0>=d&&this.Ad[a]?this.gya([a],function(c){u.trace("Replacing key",a,"which exists:",!!this.Ad[a],this.Ad[a]?this.Ad[a]:void 0,"and has size",c,"with",f,"with size",l.byteLength,"plus _used",this.Ts,"vs capacity",this.ss);l.byteLength-c+this.Ts>=this.ss?m(t.KB):b(l.byteLength-c+q,this.ws)?m(t.WQ):this.rD.replace(this.$o,p,f,this.lpa(a,g,m,h,this.ws),l.byteLength);}.bind(this)):(u.trace("Replacing key",a,"which exists:",!!this.Ad[a],this.Ad[a]?this.Ad[a]:void 0,"and has size",d,"with",f,"with size",l.byteLength,"plus _used",this.Ts,"vs capacity",this.ss),l.byteLength-d+this.Ts>=this.ss?m(t.KB):b(l.byteLength-d+q,this.ws)?m(t.WQ):this.rD.replace(this.$o,p,f,this.lpa(a,g,m,h,this.ws),l.byteLength));};f.prototype.Kvb=function(a,b,d,g){var h;h=k.Qb(b)?b:c;"[object Object]"!==Object.prototype.toString.call(a)?h(t.VQ.ln("items must be a map of keys to objects")):(b=p.Promise.all(Object.keys(a).map(function(b){return new p.Promise(function(c){this.replace(b,a[b],function(a,f){a?c({error:a,dn:b}):c(f);},!0,g);}.bind(this));}.bind(this))).then(function(a){var b,c,m,q;try{b=Number.MAX_VALUE;c=a.reduce(function(a,c){c.error||(a.Di+=c.Di,k.ka(c.duration)&&(a.duration+=c.duration),!k.U(c.nj)&&c.nj<b&&(b=c.nj),c.items.map(function(b){a.items.push({key:b.key,rf:b.rf,QW:b.QW,Gnb:b.Gnb,duration:b.duration});}),b<Number.MAX_VALUE&&(a.nj=b));return a;},{Di:0,items:[],time:p.time.now(),duration:0});0<this.ws&&(c.$D=this.ws-g());m=a.filter(function(a){return!k.U(a.error);});q=r.Hya(m);d||(q?q.forEach(function(a){this.Ga(f.Ld.ERROR,a);}.bind(this)):this.Ga(f.Ld.REPLACE,r.kxa(c)));h(q,c);}catch(V){h(V);}}.bind(this),function(a){d||this.Ga(f.Ld.ERROR,a);h(a);}.bind(this)),r.zr(b));};f.prototype["delete"]=function(a,b){var f;f=k.Qb(b)?b:c;this.tq.remove(this.$o,this.Xm(a),function(a,b){a?f(a):b&&b.$?h(this.tq,this.$o,this.Xm(""),function(a,b){a?f(a):(this.Ts=b,f());}.bind(this)):f(t.mNa.ln(b.error));}.bind(this));};f.prototype.Jxa=function(a){this.query("",function(b,c){b?(u.error("Failed to get keys",b),a([])):a(c);});};f.prototype.query=function(a,b){var f,d;f=k.Qb(b)?b:c;d=this.rD.T9();this.tq.query(this.$o,this.Xm(a),function(a,b){a?f(a):f(null,Object.keys(b).filter(function(a){return a!==d;}).map(this.Mga.bind(this)));}.bind(this));};f.prototype.Xm=function(a){return this.Fv+"."+a;};f.prototype.clear=function(a){var b;b=k.Qb(a)?a:c;this.Jxa(function(a){var c;c=p.Promise.all(a.map(function(a){return new p.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){b(a);},function(a){this.Ga(f.Ld.ERROR,a);b([],a);}.bind(this));r.zr(c);}.bind(this));};f.prototype.gya=function(a,b){var f,d;f=k.Qb(b)?b:c;d=(a||[]).map(function(a){return this.Xm(a);}.bind(this));this.tq.query(this.$o,this.Fv,function(b,c){b?(u.error("failed to get persisted size for keyset ",a,b),f(0)):(b=Object.keys(c).filter(function(a){return 0<=d.indexOf(a);}).reduce(function(a,b){return a+(c[b].size||0);},0),f(b));}.bind(this));};f.prototype.Zfb=function(a){return this.rD.fxa(a);};f.prototype.constructor=f;g.P=f;},function(g,d,a){var f,h,q,b,k;function c(a){this.bj=a;this.context=a.context;this.PCa="NULLCONTEXT"===a.context?!0:!1;}f=a(6);h=a(113);q=new h.Console("DISKCACHE","media|asejs");b={context:"NULLCONTEXT",read:function(a,b,c,f,d){d("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,f){f("MediaCache is not supported");},append:function(a,b,c,f){f("MediaCache is not supported");},query:function(a,b,c){c([]);}};c.prototype.Ty=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length-1];a=a.slice(1,a.length-1);a.push(function(a){c(null,a);});try{if(this.PCa)throw Error("Media Cache not supported");b.apply(this.bj,a);}catch(y){c(y);}};c.prototype.query=function(a,b,c,f){try{if(this.PCa)throw Error("Media Cache not supported");this.bj.query(a,b,function(a){c(null,a);},f);}catch(D){c(D);}};c.prototype.read=function(a,b,c,f,d){this.Ty(this.bj.read,a,b,c,f,d);};c.prototype.remove=function(a,b,c){this.Ty(this.bj.remove,a,b,c);};c.prototype.create=function(a,b,c,f){this.Ty(this.bj.create,a,b,c,f);};c.prototype.append=function(a,b,c,f){this.Ty(this.bj.append,a,b,c,f);};c.prototype.info=function(a){this.Ty(this.bj.info,a);};c.prototype.jq=function(a){this.Ty(this.bj.jq,a);};c.prototype.flush=function(a){this.Ty(this.bj.flush,a);};c.prototype.clear=function(){this.bj.clear();};g.P={q$a:function(a){var d,g,m,p,l;d=a.JOb||"NRDMEDIADISKCACHE";k=a.ow||0;0!==k||f.U(h.options)||f.U(h.options.vF)||(k=h.options.vF);a=k;try{p=h.storage.kE;if(!p||!f.qf(p))throw q.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(m=p[d])q.warn("Disk store exists, returning"),g=new c(m);else{if(f.U(h.storage)||!f.Qb(h.storage.ST)||h.options&&0===h.options.vF)throw q.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";q.warn("Disk store context doesn't exist, creating with size "+a);l=h.storage.ST({context:d,size:a,encrypted:!0,signed:!0});if(!l||!l.valid)throw"Failed to create disk store context";g=new c(l);}}catch(I){q.warn("Exception creating disk store context - returning NullContext (noops)",I);g=new c(b);}return g;},Bgb:function(){return k;},$Fb:c};},function(g,d,a){var c,f,h,q,b;c=a(6);h=[];b=!1;g.P={xW:function(d,g,m){var k;if(b)c.Qb(m)&&(f.jo||f.Vz?setTimeout(function(){m(f);},0):h.push(m));else{b=!0;k=a(113);k.TL(d);q=new k.Console("MEDIACACHE","media|asejs");f=new(a(364))(g,function(a){a&&q.warn("Failed to initialize MediaCache",a);c.Qb(m)&&setTimeout(function(){m(f);},0);h.map(function(a){setTimeout(function(){a(f);},0);});});}return f;},pPb:function(b,d){f=new(a(364))(b,function(a,b){a&&q.warn("Failed to initialize MediaCache",a);c.Qb(d)&&setTimeout(function(){d(b);},0);});}};},function(g,d,a){var c,f,h,q,b,k,p;Object.defineProperty(d,"__esModule",{value:!0});c=a(27);a(8);f=a(742);h=a(6);q=a(214);b=a(16);g=a(43);k=a(731);p=k.URa;a=function(){var j11;function a(a,b,c){var R11,q01,o01,p01,W01;R11=2;while(R11!==13){q01="me";q01+="dia";q01+="|";q01+="ase";q01+="js";o01="MEDIAC";o01+="A";o01+="C";o01+="H";o01+="E";p01="1SIYb";p01+="Z";p01+="rNJ";p01+="Cp9";W01="Media cache has";W01+=" not bee";W01+="n initiaized";switch(R11){case 8:this.rl=b;this.xe=c;this.xq=Promise.reject(W01);p01;R11=13;break;case 4:this.Hn=a.aca?a.aca:!1;this.W_a=a.VBa?a.VBa:!1;this.K=a;R11=8;break;case 2:this.I=new b.Console(o01,q01);this.O4=(a.Lx||a.Zga)&&0<(a.ow||(b.options||{}).vF||0);this.NZa=a.Mcb?a.Mcb:!1;R11=4;break;}}}j11=2;while(j11!==27){switch(j11){case 2:a.prototype.Ub=function(a,b){var M11,c,X01;M11=2;while(M11!==4){X01="M";X01+="edi";X01+="a cac";X01+="he is disabled";switch(M11){case 2:c=this;return this.xq=this.O4?new Promise(function(d,g){var b11;b11=2;while(b11!==1){switch(b11){case 2:(void 0!==b&&null!==b?b.xW:function(a){var D11;D11=2;while(D11!==1){switch(D11){case 4:return f.xW(c.rl,c.K,a);break;D11=1;break;case 2:return f.xW(c.rl,c.K,a);break;}}})(function(b){var x11,f,m01;x11=2;while(x11!==3){m01="Med";m01+="ia cache did not in";m01+="itialize";switch(x11){case 5:f=b.jo;(b=b.Vz)?g(b):f?(c.vyb(a),d()):g(Error(m01));x11=3;break;case 8:c.Nh=b;x11=2;break;x11=5;break;case 2:c.Nh=b;x11=5;break;}}});b11=1;break;}}}):Promise.reject(X01);break;}}};a.prototype.nnb=function(a){var t11,b,c,f;t11=2;while(t11!==9){switch(t11){case 2:b=this;c=[p.kQ,a].join(".");f=this.rl.time.fa();t11=3;break;case 3:return this.xq.then(function(){var l11;l11=2;while(l11!==1){switch(l11){case 2:return new Promise(function(d){var C11;C11=2;while(C11!==1){switch(C11){case 2:b.Nh.NA(p.Ij,c,function(c){var K11,g,E01;K11=2;while(K11!==9){E01="m";E01+="edi";E01+="acachelooku";E01+="p";switch(K11){case 2:K11=1;break;case 1:K11=!c||0>=c.length?5:4;break;case 4:g=c[0];b.Nh.read(p.Ij,g,function(c,f){var r11,T11,m,p,w01,Z01;r11=2;while(r11!==14){w01=" ";w01+="f";w01+="ai";w01+="led";Z01="Re";Z01+="ading ";Z01+="m";Z01+="ovie ent";Z01+="ry ";switch(r11){case 3:try{T11=2;while(T11!==1){switch(T11){case 2:m=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f)));T11=1;break;}}}catch(S){}r11=8;break;case 5:r11=!h.U(f)?4:8;break;case 2:c&&b.I.warn(Z01+g+w01,c);r11=5;break;case 4:r11=f instanceof ArrayBuffer?3:9;break;case 9:m={priority:f.priority,movieId:f.movieId,saveToDisk:f.saveToDisk,firstSelectedStreamBitrate:f.firstSelectedStreamBitrate,initSelectionReason:f.initSelectionReason,histDiscountedThroughputValue:f.histDiscountedThroughput,histTdigest:f.histTdigest,histAge:f.histAge,headerCount:f.headerCount,dataRequestCount:f.dataRequestCount,headerRequestCount:f.headerRequestCount,stats:f.stats};r11=8;break;case 8:h.U(m)||(p=k.Zxa(m));h.U(p)||h.Ja(p)||(p.Sb=p.Sb||{},p.headers=p.headers||{});b.Zza(p)?d(p):(b.T1a(a),d());r11=14;break;}}});K11=9;break;case 5:d(),b.uG(E01,{jX:b.rl.time.fa()-f,ZT:!1});K11=9;break;}}});C11=1;break;}}});break;}}});break;}}};a.prototype.inb=function(a,b,c){var U11,f,d,B01;U11=2;while(U11!==8){B01="Media cache ";B01+="is ";B01+="not enabled";switch(U11){case 2:f=this;U11=5;break;case 5:U11=!this.xq?4:3;break;case 4:return Promise.reject(B01);break;case 3:d=this.rl.time.fa();return this.xq.then(function(){var G11;G11=2;while(G11!==1){switch(G11){case 2:return new Promise(function(g){var Q11;Q11=2;while(Q11!==1){switch(Q11){case 2:f.Nh.NA(p.Ij,a,function(k){var J11;J11=2;while(J11!==5){switch(J11){case 2:k=k.reduce(function(a,b){var i31,c,y01;i31=2;while(i31!==8){y01="drm";y01+="Header.__e";y01+="mb";y01+="ed__";switch(i31){case 2:c=b.substr(0,b.lastIndexOf("."));i31=5;break;case 4:return a;break;case 3:a[c]?a[c].push(b):a[c]=[b];return a;break;case 5:i31=-1!==c.indexOf(y01)?4:3;break;}}},{});f.lub(k,b).then(function(b){var H31,k,m,S01,u01;H31=2;while(H31!==6){S01="med";S01+="iac";S01+="ache";S01+="look";S01+="up";u01="No ";u01+="content";u01+=" data foun";u01+="d fo";u01+="r ";switch(H31){case 2:H31=1;break;case 1:H31=void 0===c||void 0===b?5:4;break;case 5:return g();break;case 4:k=f.rl.time.fa()-d;m=!1;h.U(b)||h.U(b.data)||!h.qf(b.data)?f.I.trace(u01+a,c):m=!0;f.uG(S01,{jX:k,ZT:m});g(b);H31=6;break;}}},function(){var k31;k31=2;while(k31!==1){switch(k31){case 4:g();k31=5;break;k31=1;break;case 2:g();k31=1;break;}}});J11=5;break;}}});Q11=1;break;}}});break;}}});break;}}};j11=4;break;case 13:a.prototype.mnb=function(a,b){var u31,c;u31=2;while(u31!==4){switch(u31){case 2:c=this;return b&&b.headers&&b.headers&&0<Object.keys(b.headers).length&&b.data?new Promise(function(a){var S31,c,f;S31=2;while(S31!==7){switch(S31){case 4:S31=b.data?3:8;break;case 2:c={};S31=5;break;case 3:f=b.data;S31=9;break;case 8:return a(c);break;case 5:b.headers&&Object.keys(b.headers).forEach(function(a){var s31;s31=2;while(s31!==5){switch(s31){case 2:c[a]||(c[a]={});c[a].header=!0;s31=5;break;}}});S31=4;break;case 9:Object.keys(f).forEach(function(a){var F31;F31=2;while(F31!==5){switch(F31){case 2:c[a]||(c[a]={});f[a].forEach(function(b){var O31;O31=2;while(O31!==1){switch(O31){case 2:h.U(b.Oc)||(c[a][b.Oc]=!0);O31=1;break;}}});F31=5;break;}}});S31=8;break;}}}):this.spa(a).then(function(b){var a31;a31=2;while(a31!==5){switch(a31){case 1:return new Promise(function(b){var N31;N31=2;while(N31!==1){switch(N31){case 2:c.Nh.read(p.Ij,a,function(c,f){var z31,d,g;z31=2;while(z31!==4){switch(z31){case 5:b();z31=4;break;case 2:z31=1;break;case 3:z31=h.U(f)?9:8;break;case 1:z31=c?5:3;break;case 8:d=f[a];g={};d.headers&&Object.keys(d.headers).forEach(function(a){var d31;d31=2;while(d31!==5){switch(d31){case 3:g[a]&&(g[a]={});d31=2;break;d31=1;break;case 2:g[a]||(g[a]={});d31=1;break;case 1:g[a].header=!0;d31=5;break;}}});z31=14;break;case 14:d.data&&Object.keys(d.data).forEach(function(a){var L31;L31=2;while(L31!==5){switch(L31){case 2:g[a]||(g[a]={});Object.keys(d.data[a]).forEach(function(b){var V31;V31=2;while(V31!==1){switch(V31){case 4:g[a][b]=~4;V31=5;break;V31=1;break;case 2:g[a][b]=!0;V31=1;break;}}});L31=5;break;}}});b(g);z31=4;break;case 9:b(void 0);z31=4;break;}}});N31=1;break;}}});break;case 2:a31=b?1:5;break;}}});break;}}};a.prototype.Lhb=function(){var e31,a,s01;e31=2;while(e31!==4){s01="M";s01+="e";s01+="dia cache is not enabled";switch(e31){case 2:a=this;return this.xq?this.xq.then(function(){var I31;I31=2;while(I31!==1){switch(I31){case 2:return new Promise(function(b){var j31;j31=2;while(j31!==1){switch(j31){case 2:a.Nh.NA(p.Ij,p.kQ,function(a){var R31,c;R31=2;while(R31!==8){switch(R31){case 1:R31=!a||0>=a.length?5:4;break;case 2:R31=1;break;case 5:b([]);R31=8;break;case 4:c=[];a.forEach(function(a){var M31;M31=2;while(M31!==1){switch(M31){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&c.push(a[1]);M31=1;break;}}});b(c);R31=8;break;}}});j31=1;break;}}});break;}}}):Promise.reject(s01);break;}}};a.prototype.uG=function(a,b){var b31,c,N01,a01,O01,F01;b31=2;while(b31!==8){N01="me";N01+="diaca";N01+="che";N01+="looku";N01+="p";a01="save";a01+="tod";a01+="i";a01+="s";a01+="k";O01="mediac";O01+="ac";O01+="hesta";O01+="ts";F01="med";F01+="iaca";F01+="c";F01+="h";F01+="e";switch(b31){case 9:this.NZa&&this.emit(F01,c);b31=8;break;case 2:c={type:O01,operation:a};a01===a&&(c.saveTime=b.nGa);N01===a&&(c.lookupTime=b.jX,c.dataFound=b.ZT);c.oneObject=this.Hn;b31=9;break;}}};j11=10;break;case 4:a.prototype.jnb=function(a,b){var P31,c,f;P31=2;while(P31!==3){switch(P31){case 2:c=this;f=this.rl.time.fa();return this.xq.then(function(){var v31;v31=2;while(v31!==1){switch(v31){case 4:return c.spa(a);break;v31=1;break;case 2:return c.spa(a);break;}}}).then(function(d){var A31,z01;A31=2;while(A31!==5){z01="med";z01+="iac";z01+="ache";z01+="looku";z01+="p";switch(A31){case 2:A31=d?1:4;break;case 1:return c.z1a(a.toString(),b,f);break;case 9:A31=d?7:3;break;A31=d?1:4;break;case 4:c.uG(z01,{jX:c.rl.time.fa()-f,ZT:!1});A31=5;break;}}});break;}}};a.prototype.Bwb=function(a,b){var h31,c;h31=2;while(h31!==4){switch(h31){case 2:c=k.$xa(a);this.Nh.save(p.Ij,[p.kQ,a.u].join("."),c,p.dv,function(){var n31;n31=2;while(n31!==1){switch(n31){case 4:b();n31=8;break;n31=1;break;case 2:b();n31=1;break;}}});h31=4;break;}}};a.prototype.Awb=function(a,c){var g31,f,d,g,m,q,t;g31=2;while(g31!==19){switch(g31){case 10:q[d+"."+p.oPa]={dn:t.Gd.buffer,vd:p.dv};g31=20;break;case 6:g31=a.stream.ud&&!h.U(a.stream.X)?14:20;break;case 7:q[d+"."+p.tQa]={dn:b.Qq(a.bi.map(function(a){var f31;f31=2;while(f31!==1){switch(f31){case 2:return a.data;break;case 4:return a.data;break;f31=1;break;}}})),vd:p.dv};g31=6;break;case 2:f=this;d=[a.u,a.pa,p.MPa].join(".");g=this.rl.time.fa();m=k.chb(a);q={};q[d+"."+p.C1]={dn:m,vd:p.dv};g31=7;break;case 20:this.Nh.mGa(p.Ij,q,function(b){var Y31;Y31=2;while(Y31!==5){switch(Y31){case 2:b||(b=f.rl.time.fa()-g,a.uj&&(h.U(a.uj.Sb.hn)&&(a.uj.Sb.hn=0),a.uj.Sb.hn+=b));c();Y31=5;break;}}});g31=19;break;case 14:m={timescale:a.stream.X.W,startTicks:a.stream.X.Aj,offset:a.stream.X.Cg(0)};t=a.stream.X.yG;q[d+"."+p.qja]={dn:m,vd:p.dv};q[d+"."+p.pPa]={dn:t.sizes.buffer,vd:p.dv};g31=10;break;}}};a.prototype.zwb=function(a,b,c){var c31,f,d,g,m,q,L01;c31=2;while(c31!==11){L01="Unabl";L01+="e to sa";L01+="v";L01+="e fragment because response is";L01+=" not an ArrayBuffer";switch(c31){case 2:f=this;d=a.response;c31=4;break;case 3:g=this.rl.time.fa();m=[a.u,a.pa,a.Oc].join(".");a=k.Uxa(a);c31=7;break;case 4:c31=d instanceof ArrayBuffer?3:12;break;case 7:q={};q[m+"."+p.C1]={dn:a,vd:p.dv};h.U(d)||(q[m+"."+p.dSa]={dn:d,vd:p.dv});this.Nh.mGa(p.Ij,q,function(a){var W31,d01;W31=2;while(W31!==5){d01="Fai";d01+="led to ";d01+="save fragment";switch(W31){case 2:a?f.I.warn(d01,a):(a=f.rl.time.fa()-g,h.U(b.Sb.hn)&&(b.Sb.hn=0),b.Sb.hn+=a);c();W31=5;break;}}});c31=11;break;case 12:c(Error(L01));c31=11;break;}}};j11=7;break;case 10:a.prototype.lub=function(a,b){var D31,c,f;D31=2;while(D31!==3){switch(D31){case 4:return Promise.all(f).then(function(a){var t31;t31=2;while(t31!==5){switch(t31){case 2:a.sort(function(a,b){var l31;l31=2;while(l31!==1){switch(l31){case 2:return a.Xb===b.Xb?0:a.Xb?-1:1;break;}}});return k.aya(c.K,c.I,c.xe,a,b);break;}}});break;case 2:c=this;f=Object.keys(a).map(function(b){var x31;x31=2;while(x31!==1){switch(x31){case 2:return c.o$a(a[b]);break;case 4:return c.o$a(a[b]);break;x31=1;break;}}});D31=4;break;}}};a.prototype.o$a=function(a){var C31,b,c,f,d;C31=2;while(C31!==3){switch(C31){case 2:b=this;d={};return new Promise(function(g,h){var K31,m;K31=2;while(K31!==5){switch(K31){case 2:b.Nh.QY(p.Ij,a,function(a,b){var r31,q,T31,I01,e01,V01;r31=2;while(r31!==5){switch(r31){case 2:try{T31=2;while(T31!==19){I01="Missin";I01+="g or inv";I01+="alid m";I01+="edia data parts for stream ";e01="Missing or invali";e01+="d header data parts fo";e01+="r stream";e01+=" ";V01="Header ";V01+="fragments was an array buffer,";V01+=" is invalid type ";switch(T31){case 3:T31=c instanceof ArrayBuffer?9:7;break;case 5:Object.keys(b).map(function(a){var U31,g,k,G31;U31=2;while(U31!==9){switch(U31){case 3:g===p.qja?c=b[a]:d[g]=b[a];U31=9;break;case 5:U31=g===p.C1?4:3;break;case 2:g=a.substr(a.lastIndexOf(".")+1);U31=5;break;case 4:try{G31=2;while(G31!==5){switch(G31){case 2:k=new Uint8Array(b[a]);f=JSON.parse(String.fromCharCode.apply(null,k));G31=5;break;}}}catch(W){f=b[a];}U31=9;break;}}});T31=4;break;case 6:T31=m.Xb?14:11;break;case 11:T31=k.Wza(m)?10:12;break;case 7:m=k.Wwa(f,d,c);T31=6;break;case 9:q=V01+m.pa;return h(q);break;case 13:return q=e01+m.pa,h(q);break;case 12:g(m);T31=19;break;case 4:T31=k.rlb(f)?3:20;break;case 20:m=k.Vwa(f,{response:d.response});T31=6;break;case 1:return h(a);break;case 14:T31=k.Xza(m)?13:12;break;case 10:return q=I01+m.pa,h(q);break;case 2:T31=a||void 0===b?1:5;break;}}}catch(S){h(S);}r31=5;break;}}});K31=5;break;}}});break;}}};a.prototype.z1a=function(a,b,c){var Q31,f;Q31=2;while(Q31!==4){switch(Q31){case 2:f=this;Q31=5;break;case 5:return new Promise(function(d,g){var J31,m;J31=2;while(J31!==5){switch(J31){case 2:f.Nh.read(p.Ij,a,function(p,q){var i01,u,l,t,n,C,y,D,b01,M01,R01,j01;i01=2;while(i01!==4){b01="mediac";b01+="achel";b01+="ook";b01+="up";M01="Missing or invalid header";M01+=" da";M01+="ta par";M01+="ts f";M01+="or stream ";R01="Mi";R01+="ssing or invalid media";R01+=" data parts for stream ";j01="Header fr";j01+="agments was ";j01+="an array buffer, ";j01+="is inval";j01+="id type ";switch(i01){case 29:u++;i01=23;break;case 12:u=0,l=Object.keys(t.headers);i01=11;break;case 16:i01=k.Xza(n)?15:27;break;case 7:i01=t.movieEntry?6:43;break;case 10:n=l[u];n=t.headers[n];i01=19;break;case 11:i01=u<l.length?10:25;break;case 9:d();i01=4;break;case 23:i01=u<l.length?22:28;break;case 44:void 0!==m&&(m.uj=p);i01=43;break;case 2:i01=1;break;case 35:C=t[n][D[y]];C=k.Vwa(C,C);i01=33;break;case 17:n=k.Wwa(n,n,n.fragments);i01=16;break;case 18:return p=j01+n.streamId,g(p);break;case 32:return p=R01+C.pa,g(p);break;case 24:t=t.data,u=0,l=Object.keys(t);i01=23;break;case 26:u++;i01=11;break;case 15:return p=M01+n.pa,g(p);break;case 31:q.push(C);i01=30;break;case 8:t=q[a];i01=7;break;case 6:p=k.Zxa(t.movieEntry);q=[];i01=13;break;case 25:i01=t.data?24:28;break;case 21:i01=y<D.length?35:29;break;case 30:y++;i01=21;break;case 22:n=l[u],y=0,D=Object.keys(t[n]);i01=21;break;case 1:i01=p?5:3;break;case 3:i01=h.U(q)?9:8;break;case 43:f.uG(b01,{jX:f.rl.time.fa()-c,ZT:!0});d(m);i01=4;break;case 13:i01=t.headers?12:25;break;case 33:i01=k.Wza(C)?32:31;break;case 5:g(p);i01=4;break;case 19:i01=n.fragments instanceof ArrayBuffer?18:17;break;case 28:m=k.aya(f.K,f.I,f.xe,q,b);i01=44;break;case 27:q.push(n);i01=26;break;}}});J31=5;break;}}});break;}}};a.prototype.spa=function(a){var H01,b,D01;H01=2;while(H01!==4){D01="Media ";D01+="cache is n";D01+="o";D01+="t";D01+=" enabled";switch(H01){case 2:b=this;return this.xq?this.xq.then(function(){var k01;k01=2;while(k01!==1){switch(k01){case 2:return new Promise(function(c){var P01;P01=2;while(P01!==1){switch(P01){case 2:b.Nh.NA(p.Ij,a.toString(),function(b){var v01;v01=2;while(v01!==1){switch(v01){case 2:b&&0!==b.length?1===b.length&&b[0]===a.toString()?c(!0):c(!1):c(!1);v01=1;break;}}});P01=1;break;}}});break;}}}):Promise.reject(D01);break;}}};a.prototype.T1a=function(a){var A01,f,d;A01=2;while(A01!==9){switch(A01){case 2:f=this;d=a.toString();this.Nh.NA(p.Ij,[p.kQ,a].join("."),c);A01=3;break;case 3:this.Nh.NA(p.Ij,d,c);A01=9;break;}}function c(a){var n01;n01=2;while(n01!==1){switch(n01){case 4:a.map(b);n01=6;break;n01=1;break;case 2:a.map(b);n01=1;break;}}}function b(a){var h01,x01;h01=2;while(h01!==1){x01="del";x01+="et";x01+="e";switch(h01){case 2:f.Nh[x01](p.Ij,a);h01=1;break;}}}};a.prototype.vyb=function(a){var g01,b,C01,t01;g01=2;while(g01!==3){C01="medi";C01+="ac";C01+="ache";C01+="-err";C01+="or";t01="m";t01+="edi";t01+="a";t01+="cache";switch(g01){case 2:b=new c.Yx();b.on(this.Nh,t01,function(b){var f01,l01;f01=2;while(f01!==4){l01="m";l01+="edi";l01+="a";l01+="cache";switch(f01){case 2:f01=b.keys||b.items?1:5;break;case 9:f01=b.keys&&b.items?8:4;break;f01=b.keys||b.items?1:5;break;case 1:b.keys||b.items.map(function(a){var Y01;Y01=2;while(Y01!==1){switch(Y01){case 4:return a.key;break;Y01=1;break;case 2:return a.key;break;}}});f01=5;break;case 5:a.emit(l01,b);f01=4;break;case 7:a.emit("",b);f01=6;break;f01=4;break;}}});g01=4;break;case 4:b.on(this.Nh,C01,function(b){var c01,r01,K01;c01=2;while(c01!==5){r01="medi";r01+="a";r01+="cache";K01="e";K01+="r";K01+="ror";switch(c01){case 2:b.type=K01;a.emit(r01,b);c01=5;break;}}});g01=3;break;}}};return a;break;case 7:a.prototype.Cwb=function(a){var p31,N,d,m,t,u,b,c,f,g,l,n,r,U,z;p31=2;while(p31!==32){switch(p31){case 14:f.headers=g;p31=13;break;case 27:p31=U instanceof q.O_&&U.response instanceof ArrayBuffer&&!h.U(U.Oc)?26:24;break;case 3:d=k.$xa(a);f.movieEntry=d;p31=8;break;case 24:N++;p31=16;break;case 7:g={};Object.keys(a.headers).forEach(function(b){var o31,c;o31=2;while(o31!==4){switch(o31){case 2:c=k.Zgb(a.headers[b]);g[b]=c;o31=4;break;}}});p31=14;break;case 26:z=k.Uxa(U);p31=25;break;case 16:p31=N<n.length?15:23;break;case 25:r[U.Oc]={mediaType:z.mediaType,streamId:z.streamId,movieId:z.movieId,bitrate:z.bitrate,location:z.location,serverId:z.serverId,saveToDisk:z.saveToDisk,offset:z.offset,bytes:z.bytes,timescale:z.timescale,startTicks:z.startTicks,durationTicks:z.durationTicks,response:U.response};p31=24;break;case 8:p31=a.headers?7:13;break;case 17:N=0;p31=16;break;case 23:d[l]=r;p31=22;break;case 35:d={lifespan:259200};this.W_a&&(d.convertToBinaryData=!0);this.Nh.save(p.Ij,a.u,f,d,function(a){var q31,T01;q31=2;while(q31!==1){T01="s";T01+="av";T01+="e";T01+="t";T01+="odisk";switch(q31){case 2:a||b.uG(T01,{nGa:b.rl.time.fa()-c});q31=1;break;}}});p31=32;break;case 21:f.data=d;p31=35;break;case 18:p31=n?17:22;break;case 11:p31=t<u.length?10:21;break;case 10:l=u[t];n=m[l];r={};p31=18;break;case 12:d={},m=a.data,t=0,u=Object.keys(a.data);p31=11;break;case 15:U=n[N];p31=27;break;case 13:p31=a&&a.data?12:35;break;case 22:t++;p31=11;break;case 2:b=this;c=this.rl.time.fa();f={};p31=3;break;}}};a.prototype.Zza=function(a){var m31;m31=2;while(m31!==1){switch(m31){case 2:return!(h.U(a)||h.Ja(a)||h.U(a.Sb)||h.Ja(a.Sb)||h.U(a.u)||h.Ja(a.u)||h.U(a.he)||h.Ja(a.he));break;}}};a.prototype.Onb=function(a){var X31,b,c;X31=2;while(X31!==3){switch(X31){case 2:b=this;c=h.U(a)?"":a.toString();return new Promise(function(a){var Z31,w31;Z31=2;while(Z31!==4){switch(Z31){case 8:a();Z31=0;break;Z31=4;break;case 9:Z31=h.U(b.Nh)?2:0;break;Z31=h.U(b.Nh)?1:5;break;case 2:Z31=h.U(b.Nh)?1:5;break;case 5:try{w31=2;while(w31!==1){switch(w31){case 2:b.Nh.NA(p.Ij,"",function(b){var E31;E31=2;while(E31!==5){switch(E31){case 2:b=b.filter(function(a){var B31,U01;B31=2;while(B31!==5){U01="mo";U01+="v";U01+="ieEn";U01+="tr";U01+="y";switch(B31){case 2:a=a.split(".");return c&&(c===a[0]||U01===a[0]&&c===a[1]);break;}}}).reduce(function(a,b){var y31,c,G01;y31=2;while(y31!==3){G01="mov";G01+="ie";G01+="Ent";G01+="ry";switch(y31){case 2:c=b.split(".");G01!==c[0]&&(b=c[1],c=c[2],h.U(a[b])&&(a[b]={}),h.U(a[b][c])&&(a[b][c]=!0));return a;break;}}},{});a(b);E31=5;break;}}});w31=1;break;}}}catch(I){a();}Z31=4;break;case 1:a();Z31=4;break;}}});break;}}};j11=13;break;}}}();d.FSa=a;g.Wi(c.EventEmitter,a);},function(g,d,a){var c,f,h,q,b,k,p,t,u,l,n,r,I,C,K,Q,T,ca,R,S,N,U,z,fa;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(27);f=a(8);h=a(6);q=a(231);b=a(214);k=a(393);p=a(85);a(404);t=a(365);u=a(164);l=a(13);n=a(219);r=a(743);I=a(69);C=a(21);K=a(3);Q=a(211);T=a(375);ca=K.Promise;R=new K.Console("HEADERCACHE","media|asejs");a=new K.Console("MEDIACACHE","media|asejs");S=K.NB;N=R.trace.bind(R);a.trace.bind(a);U=R.warn.bind(R);z=R.error.bind(R);fa=R.info.bind(R);a=function(a){var Q01;Q01=2;function d(b,c,f,d){var J01,o3W,k3W;J01=2;while(J01!==25){o3W="1S";o3W+="I";o3W+="YbZrNJC";o3W+="p9";k3W="ca";k3W+="t";k3W+="ch";switch(J01){case 3:b.xMb=fa;b.TI=Object.create(null);b.ql=c;J01=7;break;case 2:b=a.call(this)||this;b.fj=N;b.Md=z;b.Ia=U;J01=3;break;case 14:b.Bi=[];b.bJ=c.fU;J01=12;break;case 12:b.Is=[];J01=11;break;case 11:b.vR=!1;b.FC=[];b.eD={};b.O4=(b.ql.Lx||b.ql.Zga)&&0<(b.ql.ow||(K.options||{}).vF||0);J01=18;break;case 7:b.me=Object.create(null);b.uv=0;J01=14;break;case 18:b.Hn=b.ql.aca;b.Te=void 0;b.O4&&(b.ql.ow||(c=(K.options||{}).vF||0,b.ql.set?b.ql.set({ow:c}):b.ql.ow=(K.options||{}).vF||0),b.Te=new r.FSa(b.ql,K,b),b.Te.Ub(b,d).then(function(){var i51,p3W;i51=2;while(i51!==1){p3W="Media cache ";p3W+="init";p3W+="ialize";p3W+="d";switch(i51){case 2:N(p3W);i51=1;break;case 4:N("");i51=9;break;i51=1;break;}}})[k3W](function(a){var H51,e3W;H51=2;while(H51!==1){e3W="Media ";e3W+="cache ";e3W+="did not initialize";switch(H51){case 2:z(e3W,a);H51=1;break;case 4:z("",a);H51=6;break;H51=1;break;}}}));b.Bk=f;J01=27;break;case 27:o3W;return b;break;}}}while(Q01!==49){switch(Q01){case 12:d.prototype.hBa=function(a){var o51;o51=2;while(o51!==1){switch(o51){case 2:return this.HEa(this.me[a]);break;case 4:return this.HEa(this.me[a]);break;o51=1;break;}}};d.prototype.eu=function(){var q51,G3W;q51=2;while(q51!==1){G3W="Media cache is ";G3W+="n";G3W+="ot ena";G3W+="bled";switch(q51){case 2:return this.Te?this.Te.Lhb():ca.reject(G3W);break;}}};d.prototype.wwa=function(){var m51,c,f,d,S3W,r3W;function a(a){var X51;X51=2;while(X51!==1){switch(X51){case 2:a.ita();X51=1;break;case 4:a.ita();X51=8;break;X51=1;break;}}}m51=2;while(m51!==3){switch(m51){case 2:c=0;for(f in this.me){d=this.me[f];if(d.data){for(var g in d.data){S3W="in";S3W+=" ent";S3W+="ry:";r3W="mi";r3W+="ssing headerEntry f";r3W+="or streamId:";d.headers[g]||z(r3W,g,S3W,d);b(d,g);d.data[g].forEach(a);delete d.data[g];}delete d.data;}}this.J1a(c);m51=3;break;}}function b(a,b){var Z51;Z51=2;while(Z51!==1){switch(Z51){case 2:a&&a.data&&a.data[b].forEach(function(a){var w51;w51=2;while(w51!==5){switch(w51){case 2:a.abort();c+=a.ye;w51=5;break;}}});Z51=1;break;}}}};d.prototype.ru=function(a){var E51,b;E51=2;while(E51!==4){switch(E51){case 2:b=this.me[a.u];b&&(this.Xb(a)?h.U(b.Sb.eza)&&!h.U(a.$e)&&(b.Sb.eza=a.$e):h.U(b.Sb.YF)&&!h.U(a.$e)&&(b.Sb.YF=a.$e));E51=4;break;}}};Q01=19;break;case 7:d.prototype.list=function(){var f51;f51=2;while(f51!==1){switch(f51){case 2:return this.Bi;break;case 4:return this.Bi;break;f51=1;break;}}};d.prototype.wfa=function(a){var Y51;Y51=2;while(Y51!==1){switch(Y51){case 2:this.bJ!==a&&(this.bJ=a,this.hR());Y51=1;break;}}};d.prototype.sM=function(a,b){var c51;c51=2;while(c51!==4){switch(c51){case 1:c51=(b=a.headers[b])?5:4;break;case 9:c51=(a=this.me[a])?4:1;break;c51=(a=this.me[a])?1:4;break;case 2:c51=(a=this.me[a])?1:4;break;case 5:return b;break;}}};d.prototype.Nnb=function(a,b){var W51,c,f;W51=2;while(W51!==3){switch(W51){case 2:c=this;f=this.hBa(a);W51=4;break;case 4:return f||!this.Te?ca.resolve(f):(this.Hn?this.O_a(a,b):this.N_a(a,b)).then(function(a){var p51;p51=2;while(p51!==1){switch(p51){case 4:return c.HEa(a);break;p51=1;break;case 2:return c.HEa(a);break;}}});break;}}};Q01=12;break;case 37:d.prototype.HEa=function(a){var m61,b,c,f;m61=2;while(m61!==10){switch(m61){case 5:m61=a&&a.data?4:10;break;case 2:b={};m61=5;break;case 4:for(c in a.data){f=a.data[c];0<f.length&&(b[f[0].M]={pa:c,fo:a.headers[c],data:f});}b.vl=a.vl;m61=9;break;case 9:b.Bp=a.Bp;b.Sb=a.Sb;b.co=a.co;b.io=a.io;b.Cp=a.Cp;b.Pm=a.Pm;b.Ll=a.Ll;m61=11;break;case 11:return b;break;}}};d.prototype.Nsa=function(a,b,c,f,d,g){var X61,K3W,v3W,b3W;X61=2;while(X61!==8){K3W="updat";K3W+="e";K3W+="StreamSelection returned nul";K3W+="l ";K3W+="list";v3W="selectStr";v3W+="eam returned nul";v3W+="l";b3W="defa";b3W+="u";b3W+="l";b3W+="t";switch(X61){case 5:X61=(b=b.stream[f?1:0].tZ(b.V,c,void 0,f?a.CY:a.KA))?4:3;break;case 1:a=Q[b3W](d,g);X61=5;break;case 2:X61=b.location.WO(a,c)?1:9;break;case 4:return c=c[b.wd],c.io=b.reason,c.Cp=b.Wt,c.fkb=b.Pm,c.hW=b.Ll,c;break;case 3:U(v3W);X61=8;break;case 9:U(K3W);X61=8;break;}}};d.prototype.tya=function(a,b,c,f,d,g){var Z61,k,h,m,p;Z61=2;while(Z61!==14){switch(Z61){case 2:k=b.M===l.Fa.VIDEO;Z61=5;break;case 5:h=[];m=[];b.uc.forEach(function(a){var w61;w61=2;while(w61!==1){switch(w61){case 2:(a.Gp?m:h).push(a);w61=1;break;}}});Z61=9;break;case 9:b=[];f&&0!==h.length&&(p=this.Nsa(a,c,h,k,d,g))&&b.push(p);p||(p=this.Nsa(a,c,m,k,d,g))&&b.push(p);return b;break;}}};d.prototype.Lib=function(a,b,c,f,d,g){var E61,k,m,p,t,u,s3W,c3W;E61=2;while(E61!==10){s3W="Unable to find re";s3W+="quested audio track in mani";s3W+="f";s3W+="est:";c3W="Unable to";c3W+=" fi";c3W+="nd audio nor video tracks in ma";c3W+="ni";c3W+="fest:";switch(E61){case 2:k=this;E61=5;break;case 6:E61=h.U(t)&&h.U(u)?14:13;break;case 5:m=new q.Q_({Ua:0,ta:c,Wk:void 0,eb:function(){var B61;B61=2;while(B61!==1){switch(B61){case 4:return+1;break;B61=1;break;case 2:return!0;break;}}},Yba:{HW:!!d,Daa:!1},Xh:!1,Lq:[],config:g,Gfa:void 0,N$:void 0,tL:void 0,Vb:a.Vb,Yg:a.Yg,JF:void 0,v8:void 0,WA:void 0});p=m.Hp[0];a=K.Zj();b.V.buffer.lp=a[l.Fa.VIDEO];E61=8;break;case 8:m.getTracks(1).some(function(a){var y61;y61=2;while(y61!==3){switch(y61){case 1:return!1;break;case 2:y61=a.iA.stereo?1:5;break;case 5:t=k.tya(m.va,a,b,d,g,p);return!0;break;}}});m.getTracks(0).some(function(a){var u61;u61=2;while(u61!==1){switch(u61){case 2:return a.cb===f?(u=k.tya(m.va,a,b,d,g,p),!0):!1;break;}}});E61=6;break;case 14:U(c3W,f);E61=10;break;case 12:U(s3W,f);E61=10;break;case 13:E61=h.U(u)&&f?12:11;break;case 11:return[].concat(t||[]).concat(u||[]);break;}}};Q01=52;break;case 33:d.prototype.xYa=function(a){var U51;U51=2;while(U51!==1){switch(U51){case 2:this.joa(a,a.uj);U51=1;break;case 4:this.joa(a,a.uj);U51=8;break;U51=1;break;}}};Q01=32;break;case 41:d.prototype.O_a=function(a,b){var h61,c,l3W;h61=2;while(h61!==4){l3W="Med";l3W+="ia";l3W+=" cac";l3W+="he is n";l3W+="ot enabled";switch(h61){case 2:c=this;return this.Te?this.Te.jnb(a,b).then(function(b){var n61;n61=2;while(n61!==5){switch(n61){case 1:return c.me[a]=b.uj,++c.uv,c.hR(),c.Bi.push(b.uj),c.Bi.sort(c.GY),c.koa(a,b),c.cache[a];break;case 2:n61=b&&b.uj?1:5;break;case 3:n61=b||b.uj?3:1;break;n61=b&&b.uj?1:5;break;}}}):ca.reject(l3W);break;}}};d.prototype.N_a=function(a,b){var g61,c,f,d,z3W;g61=2;while(g61!==6){z3W="Media ca";z3W+="che is not";z3W+=" enabled";switch(g61){case 5:g61=this.Te?4:7;break;case 4:f=void 0;d=!1;this.Te.Zza(this.me[a])?(f=ca.resolve(this.me[a]),d=!0):f=this.Te.nnb(a);return f.then(function(f){var f61;f61=2;while(f61!==1){switch(f61){case 2:return!h.U(f)&&c.Te?c.Te.inb(a,b,f).then(function(b){var Y61;Y61=2;while(Y61!==5){switch(Y61){case 2:b&&(d||(c.me[a]=f,++c.uv,c.hR(),c.Bi.push(f),c.Bi.sort(c.GY)),c.koa(a,b));return c.me[a];break;}}}):ca.resolve(void 0);break;}}});break;case 2:c=this;g61=5;break;case 7:return ca.reject(z3W);break;}}};d.prototype.koa=function(a,b){var c61,c,f,d,g;c61=2;while(c61!==14){switch(c61){case 5:c61=b?4:14;break;case 2:c=this;c61=5;break;case 4:f=this.me[a];d=b.headers;f&&d&&Object.keys(d).forEach(function(a){var W61;W61=2;while(W61!==1){switch(W61){case 4:c.wYa(d[a],f);W61=8;break;W61=1;break;case 2:c.wYa(d[a],f);W61=1;break;}}});c61=8;break;case 8:c61=b.data?7:14;break;case 7:g=b.data;Object.keys(g).forEach(function(a){var p61,b,c;p61=2;while(p61!==8){switch(p61){case 2:b=g[a];h.U(f.data)&&(f.data={});h.U(f.data[a])&&(f.data[a]=[]);p61=3;break;case 3:c=f.data;b.forEach(function(b){var o61;o61=2;while(o61!==1){switch(o61){case 4:c[a].push(b);o61=6;break;o61=1;break;case 2:c[a].push(b);o61=1;break;}}});p61=8;break;}}});c61=14;break;}}};d.prototype.GY=function(a,b){var q61;q61=2;while(q61!==1){switch(q61){case 4:return b.he+a.he;break;q61=1;break;case 2:return b.he-a.he;break;}}};Q01=37;break;case 44:d.prototype.G1a=function(a){var P61,J3W;P61=2;while(P61!==5){J3W="c";J3W+="a";J3W+="c";J3W+="heEvict";switch(P61){case 2:a={type:J3W,movieId:a};this.emit(a.type,a);P61=5;break;}}};d.prototype.Q1a=function(a,b){var v61,c;v61=2;while(v61!==9){switch(v61){case 2:c=a.Vc;h.U(a.KFa)||this.lS(a,a.KFa);!this.Te||!a.ve||this.Hn||h.U(a.ax)||a.ax[a.pa]&&a.ax[a.pa].header?b():this.Te.Awb(a,b);c.v_||0!==Object.keys(this.TI).length||this.Moa();v61=9;break;}}};d.prototype.W1a=function(a,b){var A61,N3W;A61=2;while(A61!==4){N3W="p";N3W+="reb";N3W+="uff";N3W+="s";N3W+="tats";switch(A61){case 1:a={type:N3W,movieId:a.u,stats:{prebuffstarted:a.Sb.YF,prebuffcomplete:a.Sb.AY}};this.emit(a.type,a);A61=4;break;case 9:a.Sb.AY=b;A61=7;break;A61=1;break;case 2:a.Sb.AY=b;A61=1;break;}}};Q01=41;break;case 2:c.__extends(d,a);Object.defineProperties(d.prototype,{cache:{get:function(){var k51;k51=2;while(k51!==1){switch(k51){case 2:return this.me;break;case 4:return this.me;break;k51=1;break;}}},enumerable:!0,configurable:!0}});d.prototype.bZ=function(){var P51;P51=2;while(P51!==1){switch(P51){case 2:return this.Is.map(function(a){var v51;v51=2;while(v51!==1){switch(v51){case 2:return a.bZ();break;case 4:return a.bZ();break;v51=1;break;}}});break;}}};d.prototype.Jk=function(){var A51;A51=2;while(A51!==5){switch(A51){case 2:this.flush();this.Moa();A51=5;break;case 3:this.flush();this.Moa();A51=4;break;A51=5;break;}}};Q01=3;break;case 17:d.prototype.trb=function(a){var u51,b;u51=2;while(u51!==8){switch(u51){case 2:b=this;a.DAb=a.Qc;this.xYa(a);h.U(a.ML)||a.ML(a.DAb);this.Q1a(a,function(){var S51;S51=2;while(S51!==1){switch(S51){case 2:h.U(a)||(h.U(a.uj)||a.uj.cW--,b.kR(a));S51=1;break;}}});u51=8;break;}}};d.prototype.urb=function(a){var s51,b,c,f,d,y7W,O7W,L7W,f7W,n3W;s51=2;while(s51!==14){y7W="manage";y7W+="rdebugeven";y7W+="t";O7W=", rem";O7W+="aini";O7W+="ng:";O7W+=" ";L7W=",";L7W+=" ";L7W+="p";L7W+="ts: ";f7W=", ";f7W+="st";f7W+="reamId: ";n3W=", header";n3W+="Cache dat";n3W+="aComplete: movieId: ";switch(s51){case 9:s51=(this.ql.Vf&&(c="@"+K.time.fa()+n3W+c+f7W+a.pa+L7W+a.T+O7W+(f.aE-1),this.emit(y7W,{message:c})),a.ve&&0===a.responseType&&this.Te&&!this.Hn)?8:6;break;case 8:d=K.time.now();this.Te.zwb(a,f,function(c){var F51;F51=2;while(F51!==4){switch(F51){case 2:c||h.U(f)||(c=K.time.fa()-d,h.U(f.Sb)&&(f.Sb={}),h.U(f.Sb.hn)&&(f.Sb.hn=0),f.Sb.hn+=c);--f.aE;F51=5;break;case 5:b.kR(a);F51=4;break;}}});s51=14;break;case 2:b=this;c=a.u;f=this.me[c]||a.uj;s51=3;break;case 6:--f.aE,b.kR(a);s51=14;break;case 3:s51=f?9:14;break;}}};d.prototype.Goa=function(){var O51;O51=2;while(O51!==1){switch(O51){case 2:0===this.Is.length&&(this.Is=[u.kq.Ae.UD(0,void 0,!1,!1,this.Bk,this.ql),u.kq.Ae.UD(1,void 0,!1,!1,this.Bk,this.ql)],S.Cf());O51=1;break;}}};d.prototype.Moa=function(){var a51,a;a51=2;while(a51!==3){switch(a51){case 4:a.forEach(function(a){var N51;N51=2;while(N51!==1){switch(N51){case 2:u.kq.Ae.G7(a);N51=1;break;case 4:u.kq.Ae.G7(a);N51=8;break;N51=1;break;}}});a51=3;break;case 2:a=this.Is;this.Is=[];a51=4;break;}}};d.prototype.S_a=function(){var z51,a;z51=2;while(z51!==4){switch(z51){case 2:a=this;!this.vR&&0<this.FC.length&&(this.FC.forEach(function(b){var d51;d51=2;while(d51!==1){switch(d51){case 2:a.lS(b.akb,b.Kc);d51=1;break;}}}),this.FC=[]);z51=4;break;}}};d.prototype.O1a=function(a,b){var L51,c,d,g,k,m,p,q,u,y,D,r,B,I,m7W;L51=2;while(L51!==24){m7W="A config m";m7W+="ust be p";m7W+="assed to _requestHeader";switch(L51){case 2:c=this;d=b.u;L51=4;break;case 8:p=b.zhb();q=p.ta;u=p.mf;p=p.BD;L51=13;break;case 4:g=b.he;k=b.Kc;m=b.ve;L51=8;break;case 13:f.assert(b.config,m7W);y=b.config;L51=11;break;case 17:return ca.reject();break;case 18:L51=!D?17:16;break;case 11:y=t.Jta(y,q);b={stream:[new T.w2(y.C5,y,void 0),new T.w2(y.XZ,y,void 0)],location:new n.z1(a.Vb,a.Yg,y,void 0),V:{state:C.oa.rg,KW:!0,buffer:{lp:void 0,T:0,Xc:0,Bb:0,Dl:0,Qi:0,X:[],Eh:void 0,i9:void 0}}};b.location.sD(q);D=this.Lib(a,b,q,p,u,y);L51=18;break;case 16:r=this.me[d];r||(r={he:g,u:d,headers:Object.create(null),Bp:0,cW:0,aE:0,data:void 0,ve:m,Sb:{},kU:void 0,pra:void 0},!r.ve||this.Hn?this.me[d]=r:r.Sb.hn=0,this.Bi.push(r),this.Bi.sort(this.GY));B=[];y.$jb&&(I=2292+12*Math.ceil(q.duration/2E3));return(m&&this.Te?this.Hn?this.Te.mnb(d,r):this.Te.Onb(d):ca.resolve(void 0)).then(function(a){var V51;V51=2;while(V51!==5){switch(V51){case 2:D.forEach(function(b){var e51,f;e51=2;while(e51!==4){switch(e51){case 2:f=I?I:y.dW;y.bL&&r.headers[b.pa]||(h.U(r.co)&&b.M===l.Fa.VIDEO&&(r.co=b.R,r.io=b.io,r.Cp=b.Cp,r.Pm=b.fkb,r.Ll=b.hW),u&&b.M===l.Fa.VIDEO&&y.NU?f=y.NU:y.BJa&&b.Hr&&(f=b.Hr.offset+b.Hr.size),b={stream:b,url:b.url,offset:0,ba:f,ve:m},m&&(r.Sb.Lob=!h.U(a)&&0<Object.keys(a).length,b.ax=a),b=c.P1a(b,k,r,y),B.push(b));e51=4;break;}}});return ca.all(B);break;}}}).then(function(a){var I51;I51=2;while(I51!==1){switch(I51){case 2:return new ca(function(b){var j51;j51=2;while(j51!==1){switch(j51){case 2:c.Te&&m&&!c.Hn?c.Te.Bwb(r,function(){var R51;R51=2;while(R51!==1){switch(R51){case 2:b(a);R51=1;break;case 4:b(a);R51=7;break;R51=1;break;}}}):b(a);j51=1;break;}}});break;}}}).then(function(a){var M51;M51=2;while(M51!==3){switch(M51){case 2:a=Math.max.apply(Math,a);r.Sb.WU=r.Sb.eza;r.Sb.$W=a;return{firstheadersent:r.Sb.WU,lastheadercomplete:r.Sb.$W};break;}}});break;}}};Q01=24;break;case 3:d.prototype.JJ=function(a,b,c){var h51,f,d;h51=2;while(h51!==7){switch(h51){case 4:h51=(f[b]=a)?3:9;break;case 2:f=this.eD;d=a;h51=4;break;case 9:c&&delete f[b];d?(this.vR=!1,this.S_a()):this.vR=!0;h51=7;break;case 3:for(var g in f){f.hasOwnProperty(g)&&!1===f[g]&&(d=!1);}h51=9;break;}}};d.prototype.Atb=function(a,b){var n51,c,d,g,k,d7W,F7W,Q7W;n51=2;while(n51!==25){d7W="A c";d7W+="on";d7W+="fig must";d7W+=" be passed to prepareP";F7W="); ign";F7W+="oring";F7W+=" prepa";F7W+="re for mo";F7W+="vieId: ";Q7W="PTS passed to";Q7W+=" H";Q7W+="eaderCache.prepareP is not undefined or a positive n";Q7W+="umb";Q7W+="er (";switch(n51){case 13:return z(Q7W+g+F7W+c),ca.reject();break;case 6:return ca.reject();break;case 11:n51=!h.U(c)&&(2<=c.Bp||!k.bL)?10:16;break;case 16:n51=!b.ve||!this.Te||this.Hn?15:26;break;case 17:return ca.resolve();break;case 27:return ca.reject();break;case 20:n51=(c.he=d,this.Bi.sort(this.GY),!h.U(g))?19:17;break;case 10:n51=!this.Hn||!c.ve?20:17;break;case 19:void 0===c.data&&(c.Sb.YF=void 0);n51=18;break;case 18:for(var m in c.headers){a=c.headers[m];!h.U(a.url)&&null!==a.url&&(void 0===c.data||void 0===c.data[m]||c.data[m].length<k.z7)?this.lS(a,g):(h.U(a.url)||null===a.url)&&void 0!==c.data&&void 0!==c.data[m]&&0<c.data[m].length&&delete c.headers[m];}n51=17;break;case 26:return this.O1a(a,b);break;case 12:c=this.me[c];n51=11;break;case 15:n51=d>k.L$||this.uv+1>this.bJ&&d>this.Bi[0].he?27:26;break;case 7:n51=k.Oob?6:14;break;case 14:n51=!h.U(g)&&(!h.ka(g)||0>g)?13:12;break;case 2:c=b.u;d=b.he;g=b.Kc;f.assert(b.config,d7W);k=b.config;this.wfa(k.fU);n51=7;break;}}};d.prototype.flush=function(){var g51,a,Y7W,A7W;g51=2;while(g51!==7){Y7W="man";Y7W+="ag";Y7W+="erdeb";Y7W+="ug";Y7W+="event";A7W=", h";A7W+="eader";A7W+="Cache flush";A7W+=":";A7W+=" ";switch(g51){case 2:this.wwa();for(var b in this.TI){a=this.TI[b];a.abort();}g51=4;break;case 4:this.me=Object.create(null);this.uv=0;this.Bi=[];this.ql.Vf&&(a="@"+K.time.fa()+A7W,this.emit(Y7W,{message:a}));g51=7;break;}}};Q01=7;break;case 30:d.prototype.hR=function(){var J51,b,c,f;J51=2;function a(a){var i61;i61=2;while(i61!==5){switch(i61){case 2:a.abort();f+=a.ye;i61=5;break;}}}while(J51!==11){switch(J51){case 2:f=0;J51=5;break;case 5:J51=!(this.uv<=this.bJ)?4:11;break;case 4:J51=this.uv>this.bJ?3:12;break;case 3:J51=(c=this.Bi.shift())?9:4;break;case 9:b=c.u;J51=8;break;case 6:delete this.me[b];--this.uv;J51=13;break;case 8:J51=c.data?7:6;break;case 7:for(var d in c.data){c.data[d].forEach(a);delete c.data[d];}J51=6;break;case 13:this.G1a(b);J51=4;break;case 12:this.H1a(f);J51=11;break;}}};d.prototype.H1a=function(a){var H61,D7W;H61=2;while(H61!==1){D7W="disca";D7W+="rd";D7W+="e";D7W+="dB";D7W+="ytes";switch(H61){case 2:0!==a&&(a={type:D7W,bytes:a},this.emit(a.type,a));H61=1;break;}}};d.prototype.J1a=function(a){var k61,B7W;k61=2;while(k61!==1){B7W="flu";B7W+="sh";B7W+="edBy";B7W+="te";B7W+="s";switch(k61){case 2:0!==a&&(a={type:B7W,bytes:a},this.emit(a.type,a));k61=1;break;}}};Q01=44;break;case 32:d.prototype.wYa=function(a,b){var G51;G51=2;while(G51!==1){switch(G51){case 4:this.joa(a,b);G51=4;break;G51=1;break;case 2:this.joa(a,b);G51=1;break;}}};d.prototype.joa=function(a,b){var Q51,c;Q51=2;while(Q51!==3){switch(Q51){case 2:c=a.pa;Q51=5;break;case 8:c=a.pa;Q51=1;break;Q51=5;break;case 4:b.pra||b.ve&&!this.Hn||(b.pra=!0,++this.uv),b.headers||(b.headers={}),b.headers[c]=a,this.ql.bL&&(b.Bp||(b.Bp=0),++b.Bp),this.hR();Q51=3;break;case 5:Q51=(b=this.me[a.u]||b)?4:3;break;}}};Q01=30;break;case 19:d.prototype.Oi=function(a){var B51;B51=2;while(B51!==1){switch(B51){case 2:this.Xb(a)?this.trb(a):this.urb(a);B51=1;break;}}};d.prototype.dN=function(a){var y51,E7W;y51=2;while(y51!==5){E7W="_";E7W+="onErro";E7W+="r: ";switch(y51){case 2:U(E7W,a.toString());this.kR(a);y51=5;break;}}};Q01=17;break;case 24:d.prototype.i3=function(a,b){var b51,c;b51=2;while(b51!==7){switch(b51){case 4:b=new k.Dha(a.stream,b,this.Is[c],a,this,!0,R);b.ve=a.ve;b.Me=this;b51=8;break;case 2:c=a.stream.M;2>this.Is.length&&this.Goa();b51=4;break;case 8:return b;break;}}};d.prototype.pZa=function(a,c){var D51,f;D51=2;while(D51!==7){switch(D51){case 2:f=a.stream.M;2>this.Is.length&&this.Goa();c=b.O_.create(a.stream,c,this.Is[f].track,a,this,!0,R);c.ve=a.ve;c.Me=this;return c;break;}}};d.prototype.kR=function(a){var x51,b,P7W;x51=2;while(x51!==8){P7W="sav";P7W+="et";P7W+="odi";P7W+="sk";switch(x51){case 3:b=this.me[a.u]||a.uj;b&&0===b.cW&&0===b.aE&&(this.W1a(b,a.Qc),b.ve&&this.Te&&(b.Sb.Lob||(this.Hn?this.Te.Cwb(b):this.Te.uG(P7W,{nGa:b.Sb.hn}))));x51=8;break;case 2:this.Xb(a)&&delete this.TI[a.pa];this.Xb(a)||delete a.response;a.ic();x51=3;break;}}};d.prototype.P1a=function(a,b,c,f){var t51,d;t51=2;while(t51!==11){switch(t51){case 9:t51=!d.vr()?8:7;break;case 8:return ca.reject();break;case 3:d.ax=a.ax;t51=9;break;case 2:d=this.i3(a,f);d.KFa=b;d.uj=c;t51=3;break;case 7:c.cW++;this.TI[d.pa]=d;t51=14;break;case 14:t51=a.ML?13:12;break;case 13:d.ML=a.ML;t51=11;break;case 12:return new ca(function(a){var l51;l51=2;while(l51!==1){switch(l51){case 2:d.ML=a;l51=1;break;case 4:d.ML=a;l51=8;break;l51=1;break;}}});break;}}};d.prototype.X_a=function(a,b,c){var C51,f,d;C51=2;while(C51!==7){switch(C51){case 2:f=a.A7;b.ve&&this.Te&&(a.wX?f=a.wX:a.KBa&&0<a.KBa&&(f=2E3*a.KBa));C51=4;break;case 3:return function(a,b){var c0z=j4tt;var K51;K51=2;while(K51!==1){switch(K51){case 4:c0z.R3W(0);return c0z.w3W(f,b);break;K51=1;break;case 2:c0z.R3W(1);return c0z.I3W(b,f);break;}}};break;case 4:C51=0<f?3:9;break;case 9:d=c&&c.length<a.z7?c.length:a.z7;return function(a){var J0z=j4tt;var r51;r51=2;while(r51!==1){switch(r51){case 4:J0z.R3W(2);return J0z.I3W(a,d);break;r51=1;break;case 2:J0z.R3W(1);return J0z.I3W(a,d);break;}}};break;}}};d.prototype.lS=function(a,b){var T51,c,f,d,g,k,m,p,q,t,u,n,a7W,H7W,h7W,Z7W,u7W,x7W,M7W;T51=2;while(T51!==47){a7W="m";a7W+="ana";a7W+="ge";a7W+="r";a7W+="debugevent";H7W=", sta";H7W+="rt";H7W+="Pt";H7W+="s:";H7W+=" ";h7W=",";h7W+=" ";h7W+="pt";h7W+="s";h7W+=": ";Z7W=", str";Z7W+="eamI";Z7W+="d";Z7W+=": ";u7W=", ";u7W+="he";u7W+="aderCache re";u7W+="questData: m";u7W+="ovieId: ";x7W="und";x7W+="ef";x7W+="ined";M7W="no proper frag";M7W+="ment found to request dat";M7W+="a at pts";switch(T51){case 2:c=a.u;f=a.pa;d=a.stream;g=a.Vc;T51=9;break;case 37:++u;T51=39;break;case 7:T51=this.FC.length>g.K$?6:47;break;case 42:q.ve=a.ve;T51=41;break;case 13:T51=k?12:47;break;case 41:T51=!h.U(m)&&!q.Qa?40:36;break;case 26:q=a.stream.ai(p);T51=25;break;case 40:j4tt.q3W(3);u=j4tt.I3W(1,p);T51=39;break;case 27:z(M7W,b);T51=47;break;case 49:++p;T51=44;break;case 19:b=k.vl;T51=18;break;case 18:a.M===l.Fa.AUDIO&&g.On&&!g.$y&&d.ii&&(b=Math.max(d.X&&d.X.Ah(0)||0,b+d.ii.Ma));m=a.stream.X;p=m&&m.Gl(b);T51=15;break;case 39:T51=u<m.length&&(q.ba<n||q.duration<g)?38:36;break;case 15:T51=-1===p||void 0===p?27:26;break;case 10:k.kU=a;return;break;case 23:T51=this.Cfa(a.M,g)?22:35;break;case 43:T51=(void 0===q&&(q=a.stream.ai(p)),void 0!==q)?42:49;break;case 28:n=u===l.Fa.VIDEO?g.HX:g.BX,g=u===l.Fa.VIDEO?g.xpb:g.mpb;T51=44;break;case 48:k.kU&&!h.U(k.vl)&&(a=k.kU,delete k.kU,this.lS(a,k.vl));T51=47;break;case 8:this.FC.push({akb:a,Kc:b});T51=7;break;case 12:T51=a.M===l.Fa.AUDIO?11:18;break;case 36:h.U(k.vl)&&(k.vl=q.T);q.ve&&(q.responseType=0);a.ve&&this.Te&&a.ax&&a.ax[f]&&x7W!==typeof q.T&&a.ax[f][q.T]||(u=this.pZa(q,a.Vc),u.ve&&(u.uj=a.uj),u.vr(),++k.aE,b.push(u));T51=52;break;case 44:T51=p<(m&&m.length||0)&&!c(t,d)?43:48;break;case 25:T51=!h.U(q)?24:34;break;case 50:q=void 0;T51=49;break;case 14:k=this.me[c]||a.uj;T51=13;break;case 35:g.Vf&&(b="@"+K.time.fa()+u7W+c+Z7W+f+h7W+b+H7W+q.T,this.emit(a7W,{message:b}));T51=34;break;case 21:t&&(q.M===l.Fa.AUDIO&&!g.gca&&t.Kc<(g.On&&!g.$y&&d.ii?Math.floor(d.ii.Ma):0)&&(++t.bm,t.Kc+=q.La.Ma),0<t.bm&&q.yj({start:t.bm}));T51=35;break;case 38:q.k5(m.get(u)),q.VM=u+1,p=u;T51=37;break;case 11:T51=void 0===k.vl?10:19;break;case 22:t=q.SU(b);T51=21;break;case 6:this.FC.shift();T51=7;break;case 52:++t;d+=q.duration;T51=50;break;case 24:q.ve=a.ve;T51=23;break;case 34:void 0===k.data&&(k.data={});void 0===k.data[f]&&(k.data[f]=[]);b=k.data[f];c=this.X_a(g,a,m);t=d=0;u=q&&q.M;T51=28;break;case 9:T51=this.vR?8:14;break;}}};Q01=33;break;case 52:d.prototype.Cfa=function(a,b){var S61;S61=2;while(S61!==1){switch(S61){case 2:return a===l.Fa.VIDEO&&b.Et||a===l.Fa.AUDIO;break;}}};d.prototype.Xb=function(a){var s61;s61=2;while(s61!==1){switch(s61){case 2:return!!a.Xb;break;case 4:return-+a.Xb;break;s61=1;break;}}};return d;break;}}}(p.Vr);d.TPa=a;I(g.EventEmitter.prototype,a.prototype);},function(g,d,a){var c,f,h,q,b,k,p,t,u,l,n,r,I,C,K,Q;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(6);h=a(13);g=a(27);q=a(744);b=a(729);k=a(701);p=a(3);t=p.Promise;u=a(218);l=a(382);n=a(217);r=a(700);I=a(358);C=new p.Console("ASEJS","media|asejs");K=C.trace.bind(C);Q=C.warn.bind(C);g=function(d){var W7W;function g(b,c){var V7W,f,g,m8W,y8W,O8W;V7W=2;while(V7W!==12){m8W="D";m8W+="E";m8W+="B";m8W+="UG";m8W+=":";y8W="nf";y8W+="-ase v";y8W+="ersion:";O8W="1SIY";O8W+="bZ";O8W+="rN";O8W+="JCp";O8W+="9";switch(V7W){case 14:O8W;return f;break;case 4:K(y8W,g,m8W,!1);f.MR=!1;f.$R=!1;f.K=b;f.eD=[];f.wJ=c;V7W=14;break;case 2:f=d.call(this)||this;g=a(366);V7W=4;break;}}}W7W=2;while(W7W!==31){switch(W7W){case 3:Object.defineProperties(g.prototype,{LZ:{get:function(){var t7W;t7W=2;while(t7W!==1){switch(t7W){case 2:return this.uS;break;case 4:return this.uS;break;t7W=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Haa:{get:function(){var U7W;U7W=2;while(U7W!==1){switch(U7W){case 4:return+f.U(this.o2a);break;U7W=1;break;case 2:return!f.U(this.o2a);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Qfa:{get:function(){var j7W;j7W=2;while(j7W!==1){switch(j7W){case 4:return this.e2a;break;j7W=1;break;case 2:return this.e2a;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Me:{get:function(){var X7W;X7W=2;while(X7W!==1){switch(X7W){case 2:return this.Qf;break;case 4:return this.Qf;break;X7W=1;break;}}},enumerable:!0,configurable:!0}});W7W=6;break;case 2:c.__extends(g,d);Object.defineProperties(g.prototype,{Vb:{get:function(){var C7W;C7W=2;while(C7W!==1){switch(C7W){case 2:return this.f3.Vb;break;case 4:return this.f3.Vb;break;C7W=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Ym:{get:function(){var T7W;T7W=2;while(T7W!==1){switch(T7W){case 2:return this.f3.Ym;break;case 4:return this.f3.Ym;break;T7W=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Io:{get:function(){var g7W;g7W=2;while(g7W!==1){switch(g7W){case 2:return this.Cqa;break;case 4:return this.Cqa;break;g7W=1;break;}}},enumerable:!0,configurable:!0}});W7W=3;break;case 6:Object.defineProperties(g.prototype,{Yg:{get:function(){var i7W;i7W=2;while(i7W!==1){switch(i7W){case 2:return this.f3.Yg;break;case 4:return this.f3.Yg;break;i7W=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{daa:{get:function(){var w7W;w7W=2;while(w7W!==1){switch(w7W){case 2:return this.$R;break;case 4:return this.$R;break;w7W=1;break;}}},enumerable:!0,configurable:!0}});W7W=13;break;case 20:g.prototype.tba=function(a){var o7W;o7W=2;while(o7W!==1){switch(o7W){case 2:return this.Qf&&(a=this.Qf.hBa(a))?a:!1;break;}}};g.prototype.eu=function(){var G7W;G7W=2;while(G7W!==1){switch(G7W){case 2:return this.Qf?this.Qf.eu():t.resolve([]);break;}}};g.prototype.E1a=function(a){var r7W,b,Q8W;r7W=2;while(r7W!==3){Q8W="can";Q8W+="'t find ";Q8W+="session in array,";Q8W+=" movieId:";switch(r7W){case 2:this.Vb.BZ(null);r7W=5;break;case 5:b=this.eD.indexOf(a);f.U(b)?Q(Q8W,a.ad.O.u):(this.eD.splice(b,1),0===this.eD.length&&this.Ym.xzb(),this.Ym.save(),this.Yg.save());r7W=3;break;}}};g.prototype.cHa=function(){};g.prototype.nV=function(a,b,c){var S7W;S7W=2;while(S7W!==1){switch(S7W){case 4:return u.Ehb(a,b,c);break;S7W=1;break;case 2:return u.Ehb(a,b,c);break;}}};g.prototype.qya=function(){var b7W,F8W;b7W=2;while(b7W!==4){F8W="getS";F8W+="essionStatistics: Streaming";F8W+="Manager not initted";switch(b7W){case 5:Q(F8W);b7W=4;break;case 9:b7W=this.MR?6:8;break;b7W=this.MR?1:5;break;case 2:b7W=this.MR?1:5;break;case 1:return this.Vb.Dfb();break;case 7:Q("");b7W=3;break;b7W=4;break;case 8:return this.Vb.Dfb();break;b7W=4;break;}}};W7W=27;break;case 13:g.prototype.Ub=function(a,b,c,d,g,h){var I7W,m,p,B8W,D8W,Y8W,A8W,d8W;I7W=2;while(I7W!==20){B8W="m";B8W+="ed";B8W+="iacache";D8W="c";D8W+="ache";D8W+="Ev";D8W+="ict";Y8W="flu";Y8W+="sh";Y8W+="e";Y8W+="dBy";Y8W+="tes";A8W="dis";A8W+="carded";A8W+="B";A8W+="yt";A8W+="es";d8W="pre";d8W+="bu";d8W+="ffsta";d8W+="ts";switch(I7W){case 3:0<p.ku&&(!f.U(a)&&a>p.ku&&(a=p.ku),b>p.ku&&(b=p.ku));I7W=9;break;case 12:I7W=p.$G||p.v_?11:10;break;case 11:b=new q.TPa(this,p,c,h),a=function(a){var R7W;R7W=2;while(R7W!==1){switch(R7W){case 4:m.emit(a.type,a);R7W=2;break;R7W=1;break;case 2:m.emit(a.type,a);R7W=1;break;}}},b.addListener(d8W,a),b.addListener(A8W,a),b.addListener(Y8W,a),b.addListener(D8W,a),(p.Zga||p.Lx)&&b.addListener(B8W,function(a){var q7W,E8W;q7W=2;while(q7W!==1){E8W="me";E8W+="diacac";E8W+="he";switch(q7W){case 2:m.emit(E8W,a);q7W=1;break;case 4:m.emit("",a);q7W=2;break;q7W=1;break;}}}),this.Qf=b;I7W=10;break;case 6:k(p);this.f3=l.g0.fya(p,this.wJ);this.Cqa=new r(p);I7W=12;break;case 2:m=this;p=this.K;l.g0.reset();I7W=3;break;case 9:f.U(a)&&(this.o2a=b);this.uS=d;this.e2a=g;I7W=6;break;case 10:this.MR=!0;I7W=20;break;}}};W7W=12;break;case 27:g.prototype.hta=function(a){var v7W,b;v7W=2;while(v7W!==9){switch(v7W){case 2:b=this.Yg||new n(this.K,this.wJ);b.Mva(a);v7W=4;break;case 4:b.save();this.Vb&&this.Vb.reset();v7W=9;break;}}};g.prototype.r_=function(a){var K7W;K7W=2;while(K7W!==1){switch(K7W){case 4:p.TL(a);K7W=9;break;K7W=1;break;case 2:p.TL(a);K7W=1;break;}}};g.prototype.xT=function(a,b){var c7W,P8W;c7W=2;while(c7W!==1){P8W="c";P8W+="a";P8W+="t";P8W+="c";P8W+="h";switch(c7W){case 2:this.Qf&&(a=this.Qf.Atb(this,a),f.U(b)||a.then(b),a[P8W](function(a){var s7W,M8W;s7W=2;while(s7W!==1){M8W="cachePrepar";M8W+="e";M8W+=" caught e";M8W+="rror:";switch(s7W){case 2:K(M8W,a);s7W=1;break;case 4:K("",a);s7W=7;break;s7W=1;break;}}}));c7W=1;break;}}};g.prototype.iK=function(){var l7W;l7W=2;while(l7W!==1){switch(l7W){case 2:this.Qf&&this.Qf.flush();l7W=1;break;}}};W7W=23;break;case 12:g.prototype.sY=function(){var p7W;p7W=2;while(p7W!==1){switch(p7W){case 4:this.$R=-1;p7W=9;break;p7W=1;break;case 2:this.$R=!0;p7W=1;break;}}};g.prototype.Gm=function(a,c,d,g,k,m,q,t,u,l){var k7W,x8W;k7W=2;while(k7W!==4){x8W="open";x8W+=": streamingManager not ini";x8W+="tted";switch(k7W){case 2:k7W=this.MR?1:5;break;case 9:k7W=this.MR?7:4;break;k7W=this.MR?1:5;break;case 5:Q(x8W);k7W=4;break;case 1:return t=t||this.K,this.Vb.reset(),this.Ym.lzb(),this.Cqa.reset(),void 0===m&&(m=this.nV(a,c)),f.U(this.uS)&&(p.Zj()[h.Fa.VIDEO]<=t.upb?this.uS=0:this.uS=t.eZ),a=new b.RWa(this,a,l,c,d,g,k,m,q,t,u),this.eD.push(a),a;break;case 7:Q("");k7W=5;break;k7W=4;break;}}};g.prototype.sM=function(a,b){var e7W;e7W=2;while(e7W!==1){switch(e7W){case 2:return this.Qf&&(a=this.Qf.sM(a,b))?a:!1;break;}}};W7W=20;break;case 35:g.prototype.wT=function(){var n7W;n7W=2;while(n7W!==1){switch(n7W){case 2:this.Qf&&this.Qf.Jk();n7W=1;break;}}};g.prototype.Gsa=function(){var f8W;f8W=2;while(f8W!==1){switch(f8W){case 4:return this.Qf?this.Qf.bZ():1;break;f8W=1;break;case 2:return this.Qf?this.Qf.bZ():null;break;}}};g.prototype.OGa=function(){var L8W,a,u8W;L8W=2;while(L8W!==9){u8W="sessionHistoryReport: ase-manager not ";u8W+="i";u8W+="nitted";switch(L8W){case 2:L8W=1;break;case 1:L8W=this.MR?5:3;break;case 5:a=new I.m1(this.Io.Ms,this.K,C);return{CD:a.gsa,BRb:a.hsa,bTb:a.Exb};break;case 3:Q(u8W);L8W=9;break;}}};return g;break;case 23:g.prototype.Z5=function(){var z7W;z7W=2;while(z7W!==1){switch(z7W){case 2:this.Qf&&this.Qf.wwa();z7W=1;break;}}};g.prototype.jK=function(){var J7W;J7W=2;while(J7W!==1){switch(J7W){case 2:return this.Qf?this.Qf.list():[];break;case 4:return this.Qf?this.Qf.list():[];break;J7W=1;break;}}};g.prototype.Hsa=function(a){var N7W;N7W=2;while(N7W!==1){switch(N7W){case 2:this.Qf&&this.Qf.wfa(a);N7W=1;break;}}};W7W=35;break;}}}(g.EventEmitter);d.uRa=g;},function(g,d){function a(a,d){var f;f={};Object.keys(d).forEach(function(b){f[b]=c(a,d[b]);});return f;}function c(a,c){return{va:a.viewableId,og:c.startTimeMs,qh:c.endTimeMs||Infinity,Yn:c.defaultNext||null,we:c.transitionHint,j_:c.transitionDelayZones,next:c.next};}Object.defineProperty(d,"__esModule",{value:!0});d.p7a=function(c){return{rh:c.initialSegment,we:c.transitionType,ab:a(c,c.segments)};};d.HNb=a;d.GNb=c;},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(21);f=a(3);h=a(8);g=function(){function a(a,c){this.console=a;this.A$=c;this.zua=[];this.psa={};}a.prototype.fB=function(a,c){void 0===c?this.zua=a:this.psa[c]=a;};a.prototype.web=function(a,d){var b,g,k;a=this.A$(a);h.assert(void 0!==a);null===(b=f.jw)||void 0===b?void 0:b.call(f,a);k=(g=this.psa[a],null!==g&&void 0!==g?g:this.zua);return d.map(function(a){return c.dT(a.pz,a.R,k).inRange;});};return a;}();d.eYa=g;},function(g,d,a){var f,h;function c(a,b,c){var d,g;d=Array.isArray(c)?c[0]:c;g=Array.isArray(c)?c[1]:c;b.on(d,function(b){a.emit(g,f.__assign(f.__assign({},b),{type:g}));});}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);h=a(367);d.$nb=function(a,b,d){[["debug","managerdebugevent"],"endOfStream","initialAudioTrack","locationSelected","logdata","openComplete","startEvent",["streamerEnd","streamerend"]].forEach(function(a){c(b,d.events,a);});d.events.on("error",function(a){a=f.__assign(f.__assign({},a),{manifestIndex:0});b.emit("error",a);});d.events.on("segmentComplete",function(a){var c;c=b.xda?h.nI.Xea(a.segmentId):0;b.emit("segmentComplete",{type:"segmentComplete",mediaType:a.mediaType,manifestIndex:c,segmentId:a.segmentId});});d.events.on("segmentNormalized",function(a){var c,f,d;c=b.xda?h.nI.Xea(a.segmentId):0;f=Math.floor(a.normalizedEnd.Ma);d=Math.floor(a.contentEnd.Ma);b.emit("maxPosition",{type:"maxPosition",index:c,endPts:f,maxPts:d});if(0<c)return b.fail("ManifestRangeEvent not implemented for non-zero manifestIndex");a=Math.floor(a.normalizedStart.Ma);b.emit("manifestRange",{type:"manifestRange",index:c,manifestOffset:0,startPts:0===c?0:a,endPts:f,maxPts:d});});d.events.on("segmentStarting",function(a){b.emit("maxBitrates",{type:"maxBitrates",audio:a.maxBitrates.audio,video:a.maxBitrates.video});b.emit("segmentStarting",a);});d.events.on("updateStreamingPts",function(c){var f,g,k;f=b.xda?h.nI.Xea(c.position.$a):0;g=a.Jq.HL(b.u).ta.video_tracks[c.trackIndex].type;k=d.rjb(c.position);b.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:g,manifestIndex:f,trackIndex:c.trackIndex,movieTime:k.q8a.Ma});});};d.Znb=function(a,b){[["debug","managerdebugevent"],"buffering","bufferingStarted","segmentAppended","segmentPresenting","streamPresenting"].forEach(function(f){return c(a,b.events,f);});b.events.on("bufferingComplete",function(c){a.emit("bufferingComplete",{type:"bufferingComplete",time:c.time,actualStartPts:b.Gya(c.actualStartPosition).Ma,aBufferLevelMs:c.aBufferLevelMs,vBufferLevelMs:c.vBufferLevelMs,selector:c.selector,initBitrate:c.initBitrate,skipbackBufferSizeBytes:c.skipbackBufferSizeBytes});});b.events.on("ptsChanged",function(b){a.emit("ptschanged",b.Ma);});};},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(27);f=a(69);h=a(16);d.l5a=function(a){f(c.EventEmitter.prototype,a);Object.defineProperties(a,{Xc:{get:function(){return new h.Ta(this.sd(),1E3);}}});return a;};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(407);f=a(749);g=function(){function a(){this.Jq=c.Ae();this.wda=[];}a.prototype.U4a=function(a,b){var c;c=this.Aeb(a);c?(c.Pd&&c.Pd.rbb(),c.Pd=b,b.Xra(c.hj),a=c.hj,c=c.Uk):(c=f.l5a(a),a=this.Jq.H3a(c),b.Xra(a),this.wda.push({Uk:c,hj:a,Pd:b}));return{hj:a,Uk:c};};a.prototype.Aeb=function(a){var b;if(this.wda.some(function(c){b=c;return c.Uk===a;}))return b;};return a;}();d.qVa=g;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(3);f=a(8);g=function(){var Z8W;Z8W=2;while(Z8W!==3){switch(Z8W){case 14:return a;break;Z8W=3;break;case 4:return a;break;case 2:a.prototype.tD=function(){var H8W,V8W;H8W=2;while(H8W!==5){V8W="More than maxAllowed";V8W+="Outstanding";V8W+="Requests are outstanding";switch(H8W){case 2:this.YM++;f.assert(this.YM<=this.BBa,V8W);H8W=5;break;}}};a.prototype.WY=function(){var a8W,C8W;a8W=2;while(a8W!==4){C8W="Received remove re";C8W+="quest when there a";C8W+="re no requests outstanding";switch(a8W){case 2:this.YM--;f.assert(0<=this.YM,C8W);this.mK();a8W=4;break;}}};a.prototype.mK=function(){var W8W;W8W=2;while(W8W!==1){switch(W8W){case 2:W8W=this.YM<this.BBa&&this.Maa()?2:1;break;}}};Z8W=4;break;}}function a(a){var h8W,t8W,g8W,T8W;h8W=2;while(h8W!==9){t8W="1SI";t8W+="Yb";t8W+="Z";t8W+="rN";t8W+="JCp9";g8W="m";g8W+="edia";g8W+="|";g8W+="a";g8W+="sejs";T8W="AS";T8W+="EJS_";T8W+="R";T8W+="EQUEST_PACER";switch(h8W){case 2:this.Maa=a;this.YM=0;this.BBa=3;h8W=4;break;case 4:this.console=new c.Console(T8W,g8W);t8W;h8W=9;break;}}}}();d.gWa=g;},function(g,d,a){var c,f,h,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(3);f=a(21);h=a(16);q=a(8);g=function(){function a(a){void 0===a&&(a=500);this.g6a=a;this.state=new h.uQ(f.Lf.jm);this.kx=new h.uQ(f.oa.rg);}Object.defineProperties(a.prototype,{Li:{get:function(){return this.state.value===f.Lf.Pe||this.state.value===f.Lf.Lh;},enumerable:!0,configurable:!0}});a.prototype.Dcb=function(a){q.assert(!this.events,"Cannot reassign BufferingStateTracker emitter!");this.events=a;this.Li&&(this.tva(),this.gHa());};a.prototype.Ebb=function(){this.events=void 0;this.u6();};a.prototype.CG=function(a,b){void 0===b&&(b=!1);this.Zp=a;this.Yv=0;this.VX=void 0;a=this.Li;this.set(b?f.Lf.Lh:f.Lf.Pe);!a&&this.events&&(this.tva(),this.gHa());};a.prototype.fk=function(a){this.CG(a,!0);};a.prototype.vg=function(a,b){var c;this.Yv=100;c=this.Li;this.set(f.Lf.JQ);this.u6();this.events&&c&&this.xcb(a,b);this.Xkb=this.Ykb=this.Zp=void 0;};a.prototype.stop=function(){this.set(f.Lf.jm);this.u6();};a.prototype.set=function(a){this.state.set(a);switch(a){case f.Lf.jm:this.kx.set(f.oa.jm);break;case f.Lf.Pe:this.kx.set(f.oa.Pe);break;case f.Lf.Lh:this.kx.set(f.oa.Lh);break;case f.Lf.JQ:this.kx.set(f.oa.Ec);}};a.prototype.tva=function(){q.assert(this.events);this.VX=this.Yv;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:c.time.fa(),percentage:this.Yv});};a.prototype.gHa=function(){var a;a=this;this.Jca=setInterval(function(){return a.ycb();},this.g6a);};a.prototype.u6=function(){this.Jca&&(clearInterval(this.Jca),this.Jca=void 0);};a.prototype.ycb=function(){this.Li&&this.events&&void 0!==this.Yv&&this.Yv!==this.VX&&this.events.emit("buffering",{type:"buffering",time:c.time.fa(),percentage:this.Yv})&&(this.VX=this.Yv);};a.prototype.xcb=function(a,b){q.assert(this.events);this.VX=this.Yv;this.events.emit("bufferingComplete",{type:"bufferingComplete",time:c.time.fa(),actualStartPosition:this.Zp,aBufferLevelMs:a,vBufferLevelMs:b,selector:this.Ykb,initBitrate:this.Xkb,skipbackBufferSizeBytes:this.fTb});};return a;}();d.MLa=g;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(16);f=a(86);g=function(){function a(){this.hf=new c.$Sa();}Object.defineProperties(a.prototype,{size:{get:function(){return this.hf.size;},enumerable:!0,configurable:!0}});a.prototype.reset=function(){this.forEach(function(a){a.Tg();});this.hf.clear();};a.prototype.cxa=function(a){return this.hf.get(a);};a.prototype.mea=function(a){return this.hf["delete"](a.la.id,a);};a.prototype.forEach=function(a){var b;b=this;this.hf.forEach(function(c,f){return a(c,f,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.hf.reduce(function(b,f,d){return a(b,f,d,c);},b);};a.prototype.map=function(a){var b;b=this;return this.hf.map(function(c,f){return a(c,f,b);});};a.prototype.filter=function(a){var b;b=this;return this.hf.filter(function(c,f){return a(c,f,b);});};a.prototype.GBb=function(a,b){var c,d;c=this;d=f.D8a(a);a=Object.keys(d).map(function(a){return[a,d[a],c.hf.count(a)];});this.hf.keys().filter(function(a){return void 0===d[a];}).forEach(function(a){c.hf.get(a).forEach(function(a){return a.Tg();});c.hf["delete"](a);});a.filter(function(a){return a[1]<a[2];}).forEach(function(a){var b;b=a[0];a=a[1];return c.hf.get(b).slice(a).forEach(function(a){a.Tg();c.hf["delete"](b,a);});});a.filter(function(a){return a[1]>a[2];}).forEach(function(a){var f,d;f=a[0];d=a[1];a=a[2];for(var g=0;g<d-a;++g)c.hf.set(f,b(f));});};a.prototype.JV=function(){return f.Mt(this.hf.values().map(function(a){return a.Wxa();}));};return a;}();d.tVa=g;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(8);f=a(370);g=function(){function a(a,b){this.tcb=a;this.h4a=b;this.dha=!1;this.ED=this.Xv=0;}a.prototype.aDb=function(a,b){var g,h,m,q;function d(){var a,c,f;a=q.pop();c=h(a);if(c.Xv!==l.Xv){c.Xv=l.Xv;f=b(a,c.Bt,c.Dda).E_;m(a).forEach(function(b){var d,k;d=b.QCb;k=h(d);k.Xv!==g.Xv&&(b=c.Bt+b.weight,k.ED!==g.ED?f&&(k.ED=g.ED,k.Bt=b,k.Dda=a,q.push(d)):b<k.Bt&&(k.Bt=b,k.Dda=a,q.Jtb(d)));});}}g=this;h=this.h4a;m=this.tcb;c.assert(!this.dha);this.dha=!0;this.Xv=this.Xv+1|0;this.ED=this.ED+1|0;q=new f.gla([a],function(a,b){return h(a).Bt-h(b).Bt;});a=h(a);a.Bt=0;a.Dda=void 0;for(var l=this;!q.empty;)d();this.dha=!1;};return a;}();d.jOa=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(754);d.i8a=function(a,d){return new c.jOa(function(c){return Object.keys(c.la.next||{}).map(function(b){return{QCb:a.Ki(b),weight:a.Rya(c,b)?d:c.cL?c.cL.kd(c.iB).Ma:Infinity};});},function(a){return a.i4a;});};d.xNb=function(a,c){var f,b,d,g,h;f=Object.keys(a.ab);b=Object.keys(c.ab);d=b.filter(function(a){return-1===f.indexOf(a);});g=f.filter(function(a){return-1===b.indexOf(a);});h=f.filter(function(f){return-1===b.indexOf(f)?!1:a.ab[f].qh!==c.ab[f].qh;});return{LMb:d,Fvb:g,BNb:h};};},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(16);g=function(){function a(a,f,b){var d;d=this;this.id=a;this.la=f;this.we=b;this.i4a={};this.Qpa=!1;this.NV=function(a){var b,c,f;return f=null===(c=null===(b=d.la.next)||void 0===b?void 0:b[a])||void 0===c?void 0:c.we,null!==f&&void 0!==f?f:d.we;};this.uJ=new c.Ta(f.og,1E3);this.s3=void 0!==f.qh&&null!==f.qh?new c.Ta(f.qh,1E3):c.Ta.Nkb;}Object.defineProperties(a.prototype,{va:{get:function(){return this.la.va;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{UX:{get:function(){return this.Qpa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{iB:{get:function(){return this.uJ;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{cL:{get:function(){return this.s3;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.uJ.Ma;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.s3.Ma;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{lx:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Gx:{get:function(){return this.SX.length?!this.la.Yn&&0===this.Eca.length:!0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{SX:{get:function(){var a,c;return Object.keys((c=null===(a=this.la)||void 0===a?void 0:a.next,null!==c&&void 0!==c?c:{}));},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Eca:{get:function(){var a;a=this;return this.SX.filter(function(c){var b,f;return!(null===(f=null===(b=a.la.next)||void 0===b?void 0:b[c])||void 0===f||!f.weight);});},enumerable:!0,configurable:!0}});a.prototype.normalize=function(a,c){this.uJ=a;this.s3=c;this.Qpa=!0;};a.prototype.rxa=function(){var a;return this.Eca.length?(a=this.Eca.map(this.NV).reduce(function(a,b){return a===b?b:void 0;}),null!==a&&void 0!==a?a:this.we):this.we;};return a;}();d.CVa=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(756);g=function(){function a(a){this.hi=a;this.ab={};}a.tlb=function(a){return"immediate"===a||"delayedSeamless"===a;};a.prototype.Ki=function(a){var f,b,d;b=this.ab[a];if(void 0===b){b=this.hi.ab[a];if(void 0===b)throw Error("Segment not found ("+a+")");d=(f=b.we,null!==f&&void 0!==f?f:this.hi.we);b=new c.CVa(a,b,d);this.ab[a]=b;}return b;};a.prototype.Agb=function(a){var c;c=this;return Object.keys(this.hi.ab).filter(function(b){var f;return void 0!==(null===(f=c.hi.ab[b].next)||void 0===f?void 0:f[a.id]);}).map(function(a){return c.Ki(a);});};a.prototype.Zib=function(a,c){var b,f;return null===(f=null===(b=a.la.next)||void 0===b?void 0:b[c])||void 0===f?void 0:f.weight;};a.prototype.Rya=function(c,f){return a.tlb(c.NV(f));};return a;}();d.AVa=g;},function(g,d){function a(a,f,d,g,b,k,h){if(h&&-1===f.indexOf(h.id)&&!a.Rya(h,b.id))return{E_:!1};a=h&&a.Zib(h,b.id);if(void 0===a||0<a)if(-1!==f.indexOf(b.id)||k<d)return g.push(b.id),{E_:!0};return{E_:!1};}Object.defineProperty(d,"__esModule",{value:!0});d.jea=function(c,f,d,g,b){var k,h,m;h=[];m=(null===(k=d.cL)||void 0===k?void 0:k.kd(d.iB).Ma)||0;f.aDb(d,function(f,d,k){return a(c,g,b.Ma+m,h,f,d,k);});return h;};d.STb=a;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(371);f=a(210);new(a(3)).Console("ASEJS_PREDICTOR","media|asejs");a=function(a){var U8W;function d(b,c){var j8W,g,R8W;j8W=2;while(j8W!==8){R8W="1SI";R8W+="Y";R8W+="bZr";R8W+="N";R8W+="JCp9";switch(j8W){case 2:g=a.call(this,b,c)||this;g.KA=function(a,b){var X8W;X8W=2;while(X8W!==1){switch(X8W){case 4:return f.KA(g.config,a,b);break;X8W=1;break;case 2:return f.KA(g.config,a,b);break;}}};g.CY=function(a,b,c){var i8W,f;i8W=2;while(i8W!==9){switch(i8W){case 2:c=null!==c&&void 0!==c?c:g.sF;f=d.Kyb(a,g.config);a=a.Da?a.Da.Ca*(100-g.Pfb(b,f))/100|0:0;return g.Wua(a,c);break;}}};j8W=3;break;case 3:R8W;return g;break;}}}U8W=2;while(U8W!==3){switch(U8W){case 4:return d;break;case 2:c.__extends(d,a);d.Kyb=function(a,c){var w8W,b,f;w8W=2;while(w8W!==3){switch(w8W){case 2:f=!!a.lo;c.lga&&(null===(b=a.Da)||void 0===b?void 0:b.Ca)<c.tK&&(f=!0);w8W=4;break;case 4:return f;break;case 14:return f;break;w8W=3;break;}}};d.prototype.Pfb=function(a,c){var I8W,b,d;I8W=2;while(I8W!==8){switch(I8W){case 4:c=c?b.L6:b.L5;Array.isArray(c)&&(d=f.Pdb(c,a.Dl-a.Xc,b.K5));return d;break;case 2:b=this.config;d=c?b.K6:b.J5;I8W=4;break;}}};U8W=4;break;}}}(g.Mha);d.UWa=a;},function(g,d,a){var c,f,h,q,b,k,p,t;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(115);f=a(371);h=a(210);a=a(3);q=g.GT;b=g.u7a;k=g.Qva;p=g.Qdb;t=g.Dwb;new a.Console("ASEJS_PREDICTOR","media|asejs");a=function(a){var q8W;q8W=2;while(q8W!==5){switch(q8W){case 2:c.__extends(f,a);return f;break;}}function f(c,f){var p8W,d,v19;p8W=2;while(p8W!==11){v19="1S";v19+="I";v19+="YbZrNJ";v19+="Cp9";switch(p8W){case 7:d.filter=c.ip.filter;d.Ryb=!!c.ip.simpleScaling;c.ip.niqrfilter&&c.ip.niqrcurve&&(d.HCa=c.ip.niqrfilter,d.fqb=b(c.ip.niqrcurve,1,0,4));v19;p8W=12;break;case 12:return d;break;case 2:d=a.call(this,c,f)||this;d.KA=function(a,b){var k8W;k8W=2;while(k8W!==1){switch(k8W){case 4:return h.KA(d.config,a,b);break;k8W=1;break;case 2:return h.KA(d.config,a,b);break;}}};d.CY=function(a,b,c){var e8W,f,g,h,m,q,u;e8W=2;while(e8W!==13){switch(e8W){case 3:h=Math.pow(Math.max(1-f/d.J5a,0),d.D5a);e8W=9;break;case 2:c=null!==c&&void 0!==c?c:d.sF;u=(g=null===(f=a.Da)||void 0===f?void 0:f.Ca,null!==g&&void 0!==g?g:0);f=(m=null===(h=a[d.filter])||void 0===h?void 0:h.Ca,null!==m&&void 0!==m?m:u);e8W=3;break;case 9:m=b.Dl-b.Xc;d.Ryb?(b=k(d.hua,m,1),m=k(d.gua,m,1),b=b*h+m*(1-h)):b=k(t(d.hua,d.gua,h),m,1);a=d.HCa&&(null===(q=a[d.HCa])||void 0===q?void 0:q.XM);void 0!==a&&(q=p(d.fqb,a),b=Math.min(b*q,1));j4tt.B19(0);return d.Wua(j4tt.c19(1,b,u),c);break;}}};Array.isArray(c.ip.curves)&&(d.hua=b(c.ip.curves[0],0,0,1),d.gua=b(c.ip.curves[1],0,0,1));d.J5a=q(c.ip.threshold||6E3,1,1E5);d.D5a=q(c.ip.gamma||1,.1,10);p8W=7;break;}}}}(f.Mha);d.zSa=a;},function(g,d,a){var c,f,h,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(21);f=a(114);h=a(3);q=a(211);g=function(){function a(a,b,c){this.config=a;this.Tyb=b;this.navigator=c;a=q["default"](this.config);this.qtb=[a.KA,a.CY];}a.prototype.gxb=function(a,b,f,d){var g;if(this.usb(f.track)){g=f.$p.au;d=d?this.s4a(f.$a,d,f.track.uc):f.track.uc;g&&!g.track.equals(f.track)&&(g=this.Heb(g,d));if(0===f.M&&g&&!this.Dyb(f,g))return g;a=this.J$a(a===c.Lf.Pe?c.oa.Pe:a===c.Lf.Lh?c.oa.Lh:a===c.Lf.JQ?c.oa.Ec:c.oa.rg,b,f);if(a=f.IG.tZ(a,d,void 0,this.qtb[f.M],!0,f.track.O.Zh))return d=d[a.wd],f.$p.WZ(d),d;}};a.prototype.s4a=function(a,b,c){var f;f=b.web(a,c.map(function(a){return a.Xw;}));return c.filter(function(a,b){return f[b];});};a.prototype.Heb=function(a,b){var c;c=b[0];b.filter(function(a){return a.pf&&!a.Xg&&a.inRange;}).every(function(b){return b.R<=a.R?c=b:!1;});return c;};a.prototype.Dyb=function(a,b){return 0<this.config.MG.length?!0:(a=a.$p.kF)&&a===b.location?!1:!0;};a.prototype.usb=function(a){return a.O.ck.WO(a.O.va,a.uc);};a.prototype.J$a=function(a,b,d){var ca;for(var g,k,m=b.kd(this.Tyb),p=[],q=d,t=b,l,n,r=0;q;){ca=q.Xgb(m);if(0===ca.X.length)break;t=ca.X[0].VF;void 0===l&&(l=ca.X[ca.X.length-1].sda,n=ca.hda>=ca.X.length?l:ca.X[ca.hda].VF);p=ca.X.concat(p);r+=ca.Qi;q=this.navigator.parent(q);}m={lp:h.Zj()[d.M],T:t.Ma,Xc:b.Ma,Bb:(k=null===(g=l)||void 0===g?void 0:g.Ma,null!==k&&void 0!==k?k:b.Ma),Dl:n?n.Ma:b.Ma,Eh:p.reduce(function(a,b){return a+b.ba;},0),Qi:r,i9:p.length,X:p};g=1===d.M?this.config.fP:this.config.QJ;k=f.Ae();return{state:a,Mw:a===c.oa.Ec,zx:d.Sl,buffer:m,V7:g,iBa:!1,ZK:!1,Mn:null===k||void 0===k?void 0:k.Mn,M:d.M,Xc:b.Ma,lo:!1,KW:!1};};return a;}();d.zPa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bmb=function(a,c){a=a.ab[c.$a];if(void 0===a)return!1;if(void 0===a.qh||null===a.qh)throw Error("Cannot validate graph position without endTimeMs");a=a.qh-a.og;return 0<=c.offset.Ma&&c.offset.Ma<a;};d.kqb=function(a){return a;};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(27);g=function(a){function d(b,c){var d;d=a.call(this)||this;d.track=b;d.op=!1;d.cu=new f.Yx();d.cu.on(b,"networkfailing",function(){d.emit("networkfailing");});d.cu.on(b,"error",function(){d.emit("error");});if(c)d.op=!0,setTimeout(function(){return d.emit("created");},0);else d.cu.on(b,"created",function(){d.op=!0;d.emit("created");});return d;}c.__extends(d,a);Object.defineProperties(d.prototype,{H8:{get:function(){return this.track.H8;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{$h:{get:function(){return this.track.$h;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ek:{get:function(){return this.track.ek;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Zva:{get:function(){return this.track.Zva;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{config:{get:function(){return this.track.config;},enumerable:!0,configurable:!0}});d.prototype.Jk=function(){this.cu.clear();};d.prototype.Rm=function(){return this.track.Rm();};d.prototype.bZ=function(){return this.track.bZ();};d.prototype.toString=function(){return this.track.toString();};d.prototype.toJSON=function(){return this.track;};return d;}(f.EventEmitter);d.hWa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f){this.I=a;this.Mg=f;this.QHa=!1;}a.prototype.ji=function(a,f,d,g,b,h){this.QHa||(this.QHa=!0,a={type:"error",error:null!==d&&void 0!==d?d:"NFErr_MC_StreamingFailure",errormsg:a,networkErrorCode:g,httpCode:b,nativeCode:h,viewableId:f},this.I.error("notifyStreamingError: "+JSON.stringify(a)),this.Mg.emit("error",a));};return a;}();d.eXa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.iqb=function(a,c,f){var d,g,b,h;b=a[0];a=a[1];h=null===a||void 0===a?void 0:a.gwa(c.Ma);null===b||void 0===b?void 0:b.gwa((d=null===h||void 0===h?void 0:h.T,null!==d&&void 0!==d?d:c.Ma));c=f?f.Ma:void 0;f=null===a||void 0===a?void 0:a.hwa(c);null===b||void 0===b?void 0:b.hwa((g=null===f||void 0===f?void 0:f.ga,null!==g&&void 0!==g?g:c));null===b||void 0===b?void 0:b.Fza();null===a||void 0===a?void 0:a.Fza();};},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(765);g=function(){function a(a){var c,b,f,d;c=this;b=a.O;f=a.gd;d=a.QD;a=a.uK;this.Cza=this.oK=!1;this.Zsa=function(){c.oK||c.vra()&&c.LCa();};this.gd=f;this.O=b;this.QD=d;this.uK=a;}a.prototype.Ub=function(a){if(this.oK)throw Error("Cannot call init() after cleanup");if(this.Cza)throw Error("Cannot call init() twice");this.Cza=!0;this.qDa=a;this.O.Hw.addListener("onHeaderFragments",this.Zsa);this.vra()&&this.LCa();};a.prototype.ic=function(){this.oK||(this.oK=!0,this.qDa=void 0,this.O.Hw.removeListener("onHeaderFragments",this.Zsa));};a.prototype.LCa=function(){var a;this.oK||(this.mqb(),null===(a=this.qDa)||void 0===a?void 0:a.call(this),this.ic());};a.prototype.vra=function(){return this.gd.every(function(a){return a.track.ud;});};a.prototype.mqb=function(){c.iqb(this.gd,this.QD,this.uK);};return a;}();d.ZUa=g;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(82);f=a(3);g=function(){function a(a){this.YX=a;}a.prototype.Exa=function(a,b,d){var g;g=a.X;a=a.ai(b);a.VM=b+1;if(!a.Qa)for(++b;b<g.length&&b<d.jg.index&&(a.duration<d.AF||0!==b%this.YX);++b)a.k5(g.get(b)),a.VM=b+1,c.nb&&d.fj("getFragmentForHudsonRequest: extended fragment startPts:",a.T,"to duration:",a.duration,"size:",a.ba,"index: ",b,"min request size in ms:",d.AF);a.Hmb=d.Dd.Rkb+(f.time.fa()-d.Dd.Wkb);c.nb&&d.fj("getFragmentForHudsonRequest( "+b+") returning: "+JSON.stringify(a));return a;};return a;}();d.$Pa=g;g=function(){function a(){}a.prototype.Exa=function(a,b,f,d){var g,h;g=a.X;h=b===f.xg.index;b===f.jg.index?(a=a.Cxa(f.jg),a.gO(f.jg.Ex),a.zBa(),a.cyb(f.Dd.la)):h?(a=a.Cxa(f.xg),a.gO(f.xg.Ex)):a=a.ai(b);a.VM=b+1;if(!a.Qa&&!d)for(++b;b<g.length&&b<f.jg.index&&(a.ba<f.jCa||a.duration<f.AF);++b)a.k5(g.get(b)),a.VM=b+1,c.nb&&f.fj("getFragmentForRequest: extended fragment startPts:",a.T,"to duration:",a.duration,"size:",a.ba,"min request size:",f.jCa,"min request duration:",f.AF);c.nb&&f.fj("getFragmentForRequest( "+b+") returning: "+JSON.stringify(a)+", stream: "+JSON.stringify(a.stream));return a;};return a;}();d.rTa=g;},function(g,d,a){var f,h,q,b,k,p;function c(a,c,d){k=d;p=d.map(function(a,b){return a.pf&&a.inRange&&!a.Xg?b:null;}).filter(function(a){return null!==a;});if(null===b)return a=h(d),b=d[a].R,new q(a);if(!p.length)return null;a=p.filter(function(a){return d[a].R==b;})[0];return void 0===a?(f.log("Defaulting to first stream due to unvalid bitrate requested: "+b),new q(p[0])):new q(a);}a(6);a(13);d=a(32);a=a(3);f=d.console;h=d.P8;q=d.yn;b=null;k=null;p=null;a.a7a&&(a.a7a.IG={Ub:function(){p=k=b=null;},tZ:function(a){b=a;},PPb:function(){return{all:k,tJa:p};}});g.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(g,d,a){(function(){var i19,c,K41;i19=2;while(i19!==7){K41="1SI";K41+="YbZ";K41+="r";K41+="NJCp";K41+="9";switch(i19){case 4:a(32);c=a(21).Lf;g.P={checkBuffering:function(a,d,g,b,h){var y6z=j4tt;var n19,k,m,q,l,n,r,C,T41,M41,V41,j41,I09,U09;function f(b){var X19;X19=2;while(X19!==5){switch(X19){case 2:b=g.X.RU(a.Xc+b,void 0,!0);return(n-a.Qi)/(n+(b.offset+b.ba)-r);break;}}}n19=2;while(n19!==36){T41="nore";T41+="buf";T41+="f";M41="ou";M41+="tofr";M41+="ange";V41="hi";V41+="gh";V41+="t";V41+="p";j41="m";j41+="ax";j41+="s";j41+="ize";switch(n19){case 6:return{complete:!0,reason:j41};break;case 22:n19=k>=q?21:38;break;case 25:n19=-1===b?24:23;break;case 3:q=0;l=h.Yga&&!m?h.$w:h.Uba;n19=8;break;case 43:n19=0<C?42:41;break;case 13:return{complete:!1,uM:!0};break;case 42:return q=Math.min(l,k+C),{complete:!1,YA:q,xj:f(q)};break;case 35:return{complete:!0,reason:V41};break;case 12:q=h.$g*(m?h.fea:1);h.Qcb&&g.jb&&g.jb.bh&&g.jb.bh.Ca>h.sba&&(q+=h.g5+g.jb.bh.Ca*h.ida);b&&(q+=b.UT*h.h5);q=l?Math.min(l,q):q;n19=19;break;case 23:r=g.X.Cg(b);n19=22;break;case 28:m=g.X.get(h);y6z.E41(0);I09=y6z.r41(16,26,2);C=I09*C/d-m.T-q;n19=43;break;case 34:q=g.X.Gd(b);h=Math.min(b+Math.floor(h.GN/q),g.X.length-1);C=g.X.Cg(h);y6z.E41(1);U09=y6z.r41(20,2241,7,16,9);q=U09*r/d-a.Xc;n19=30;break;case 21:n19=d>g.R*h.OU?35:34;break;case 24:return{complete:!0,reason:M41};break;case 17:n=0;a.X.forEach(function(b){var d19;d19=2;while(d19!==1){switch(d19){case 2:n+=b.T+b.duration>a.Xc?b.ba:0;d19=1;break;}}});n19=15;break;case 7:n19=k>=l?6:14;break;case 26:b=g.X.Gl(a.Bb);n19=25;break;case 8:l=Math.min(h.zM,l);n19=7;break;case 40:--h;n19=29;break;case 14:n19=d<=h.yba&&(0<d||!h.A8)?13:12;break;case 2:k=a.Dl-a.Xc;n19=5;break;case 29:n19=h>b?28:39;break;case 30:--h;n19=29;break;case 5:m=d===c.Lh;d=g.Da||0;n19=3;break;case 27:return d<g.R&&(q=Math.min(l,Math.max(h.GN*(g.R/d-1),q))),{complete:!1,YA:q,xj:(n-a.Qi)/(n+(q-(a.Bb-a.Xc))*g.R/8)};break;case 18:return{complete:!1,YA:q};break;case 15:n19=!g.X||!g.X.length?27:26;break;case 41:C=m.offset;n19=40;break;case 19:n19=!d?18:17;break;case 38:0<d&&d<g.R&&(q=Math.min(l,Math.max(h.GN*(g.R/d-1),q)));return{complete:!1,YA:q,xj:f(q)};break;case 39:return{complete:!0,reason:T41};break;}}}};K41;i19=7;break;case 2:a(6);a(13);i19=4;break;}}}());},function(g,d,a){(function(){var F41,f,d,h,b,Z1L;function c(a,c,d,g){var t41,k,K1L,e1L,I41;t41=2;while(t41!==11){K1L="player missing st";K1L+="re";K1L+="ami";K1L+="n";K1L+="gIndex";e1L="Must";e1L+=" ";e1L+="have at least ";e1L+="one selected stream";switch(t41){case 3:j4tt.i1L(0);I41=j4tt.r1L(13,11,1);g=d.length-I41;t41=9;break;case 2:h(!f.U(g),e1L);h(f.ka(c.zx),K1L);c=b(g);t41=3;break;case 9:t41=-1<g?8:13;break;case 8:k=d[g];t41=7;break;case 6:return c.wd=g,c;break;case 7:t41=k.jb&&k.jb.Da&&k.R<k.jb.Da.Ca-a.yAb?6:14;break;case 14:--g;t41=9;break;case 13:c.wd=0;return c;break;}}}F41=2;while(F41!==13){Z1L="1SIY";Z1L+="bZ";Z1L+="rNJ";Z1L+="Cp9";switch(F41){case 2:f=a(6);a(13);d=a(32);a(3);h=d.assert;b=d.yn;F41=7;break;case 7:d=a(212);g.P={STARTING:d.STARTING,BUFFERING:d.BUFFERING,REBUFFERING:d.REBUFFERING,PLAYING:c,PAUSED:c};Z1L;F41=13;break;}}}());},function(g,d,a){var f;function c(a,c,b){return new f(b.length-1);}a(6);f=a(32).yn;g.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(g,d,a){var f;function c(){return new f(0);}a(6);f=a(32).yn;g.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(g,d,a){(function(){var G1L,d,h,b,k,p,t,u,l,n,r,A1L;function f(a,c,f,g){var s1L,h,m,q,t,n,y,D,C,r,B,I,z1L,V1L,T1L,x1L,y1L,I1L,D1L,F1L,U1L,f1L,J1L,N1L,m1L,B1L,q1L,j1L,O1L,p1L,b1L,t1L,c1L,l1L,o1L;s1L=2;while(s1L!==43){z1L="kbps, streaming";z1L+="P";z1L+="ts";z1L+=" :";V1L=", aud";V1L+="io ";V1L+="t";V1L+="hroughput:";T1L=" kbp";T1L+="s, prof";T1L+="i";T1L+="le :";x1L="selectAudio";x1L+="Stream: selected str";x1L+="eam :";y1L=" ";y1L+="kbp";y1L+="s";I1L=" ";I1L+="kbp";I1L+="s,";I1L+=" t";I1L+="o ";D1L="switching";D1L+=" audio fro";D1L+="m ";F1L="d";F1L+="o";F1L+="wn";U1L="u";U1L+="p";f1L=", ";f1L+="s";f1L+="treamingPts = ";J1L=", last";J1L+="Up";J1L+="switchPt";J1L+="s = ";N1L="  Upswitch allowed. last";N1L+="Down";N1L+="switchPts = ";m1L=" ";m1L+="k";m1L+="b";m1L+="p";m1L+="s";B1L=" kbps";B1L+=" >";B1L+=" ";q1L="throughput for ";q1L+="audi";q1L+="o";q1L+=" ";j1L="m";j1L+="s";O1L=", ";O1L+="b";O1L+="uffer ";O1L+="level = ";p1L=",";p1L+=" lastUps";p1L+="wi";p1L+="tc";p1L+="hPts = ";b1L="  Upswitch n";b1L+="ot allowed. lastDownswi";b1L+="tchPts = ";t1L=" kb";t1L+="ps, try to dow";t1L+="nswitch";c1L=" kbp";c1L+="s";c1L+=" < ";l1L="throug";l1L+="hp";l1L+="ut for aud";l1L+="io ";o1L="Mus";o1L+="t have at least one selected ";o1L+="stream";switch(s1L){case 2:p(!d.U(g),o1L);h=f[g].Af;s1L=4;break;case 18:k&&b.log(l1L+D+c1L+C.eva+"*"+n+t1L),--y;s1L=17;break;case 31:k&&b.log(b1L+I+p1L+B+O1L+r+j1L);s1L=30;break;case 3:return new l(g);break;case 24:s1L=y<q.length-1&&D>C.cJa*n&&(k&&b.log(q1L+D+B1L+C.cJa+"*"+n+m1L),n=c.buffer,r=n.Dl-n.Xc,t.X&&t.X.length)?23:30;break;case 17:s1L=0<=y?16:30;break;case 19:s1L=y&&D<C.eva*n?18:24;break;case 6:t=f[g];n=t.R;y=q.indexOf(g);D=t.Da;C=a.g5a;s1L=10;break;case 10:s1L=0>y?20:19;break;case 34:s1L=++y<q.length?33:30;break;case 20:m=0;s1L=30;break;case 26:m=n;s1L=30;break;case 32:m=n;s1L=30;break;case 33:s1L=(n=q[y],r=f[n],u(r)&&D>C.cJa*r.R)?32:34;break;case 21:s1L=c.Mw&&r>C.fu&&(void 0===I||Number(B)>I||n.Bb-I>C.fX)?35:31;break;case 23:B=this.bba;I=this.UW;s1L=21;break;case 35:k&&b.log(N1L+I+J1L+B+f1L+n.Bb);s1L=34;break;case 30:D=f[m];m!==g&&k&&b.log((m>g?U1L:F1L)+D1L+t.R+I1L+D.R+y1L);k&&b.log(x1L+D.R+T1L+h+V1L+D.Da+z1L+c.buffer.Bb);return new l(m);break;case 27:s1L=u(r)&&(0==y||r.R*C.eva<D)?26:25;break;case 25:y--;s1L=17;break;case 8:a.cIa.some(function(b){var g1L,d,g,k,m,p,t;g1L=2;while(g1L!==13){switch(g1L){case 2:g1L=1;break;case 1:d=b.profiles;g=d&&0<=d.indexOf(h);g1L=4;break;case 4:g1L=g?3:14;break;case 3:k=(b=b.OF)&&b.FX||a.FX;m=b&&b.qRb||-Infinity;p=b&&b.sF||Infinity;t=c.buffer.lp;g1L=6;break;case 6:q=f.filter(function(a){var a1L,b;a1L=2;while(a1L!==4){switch(a1L){case 2:b=a.R;return b>=m&&b<=p&&0<=d.indexOf(a.Af)&&b*k/8<t;break;}}}).map(function(a){var k1L;k1L=2;while(k1L!==1){switch(k1L){case 2:return a.Ch;break;case 4:return a.Ch;break;k1L=1;break;}}});g1L=14;break;case 14:return g;break;}}});s1L=7;break;case 4:s1L=!(a&&a.MG&&0<=a.MG.indexOf(h))?3:9;break;case 7:s1L=q&&1<q.length?6:30;break;case 16:n=q[y];r=f[n];s1L=27;break;case 9:m=g;s1L=8;break;}}}G1L=2;while(G1L!==20){A1L="1SI";A1L+="Yb";A1L+="ZrNJCp9";switch(G1L){case 5:h=a(32);b=h.console;k=h.debug;G1L=9;break;case 2:d=a(6);G1L=5;break;case 9:p=h.assert;t=a(58);a(13);u=h.aA;l=h.yn;n=a(372);G1L=12;break;case 12:r=a(21).oa;g.P={STARTING:function(a,f,d,g){var R1L,h,m,d1L,M1L,S1L;R1L=2;while(R1L!==14){d1L=" k";d1L+="bps";d1L+=", pr";d1L+="ofile :";M1L="selectAudi";M1L+="oStreamSta";M1L+="rting: selected ";M1L+="stream :";S1L="s";S1L+="ele";S1L+="ctAudioStreamStarting: overr";S1L+="iding config with ";switch(R1L){case 2:h=a;m=d[g||0].Af;R1L=4;break;case 3:h={minInitAudioBitrate:a.NM,minHCInitAudioBitrate:a.MM,maxInitAudioBitrate:a.yM,minRequiredAudioBuffer:a.FX},k&&b.log(S1L+JSON.stringify(m)),t(m,h);R1L=9;break;case 4:R1L=(m=a&&a.MG&&0<=a.MG.indexOf(m)?c(m,a.cIa):c(m,a.d5a))?3:9;break;case 9:a=n[r[r.rg]](h,f,d,g);d=d[a.wd];k&&b.log(M1L+d.R+d1L+d.Af);return a;break;}}},BUFFERING:f,REBUFFERING:f,PLAYING:f,PAUSED:f};A1L;G1L=20;break;}}function c(a,b){var L1L,c;L1L=2;while(L1L!==3){switch(L1L){case 8:L1L=2;break;L1L=1;break;case 2:L1L=1;break;case 1:c=void 0;b.some(function(b){var X1L,f;X1L=2;while(X1L!==3){switch(X1L){case 1:f=b.profiles;(f=f&&0<=f.indexOf(a))&&(c=b.override);return f;break;case 2:X1L=1;break;}}});return c;break;}}}}());},function(g,d,a){var f,h,q,b;function c(a,c,d){var g,k;g=this.N3;c=c.buffer.Bb;k="forward"===a.qwb;if(f.U(g))return g=k?h(d):h(d,d.length),this.O3=c,this.N3=g,new b(g);q(d[g])||(g=h(d,g),this.O3=c,this.N3=g);if(0>g)return null;if(c>this.O3+a.AAb){a=d.map(function(a,b){return a.pf&&a.inRange&&!a.Xg?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;k?g=(a.indexOf(g)+1)%a.length:(g=a.indexOf(g)-1,0>g&&(g=a.length-1));this.N3=a[g];this.O3=c;return new b(a[g]);}return new b(g);}f=a(6);a(13);d=a(32);h=d.P8;q=d.aA;b=d.yn;g.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(g,d,a){var c,f,h,q,b,k,p,t,u,l,n;Object.defineProperty(d,"__esModule",{value:!0});c=a(86);f=a(58);h=a(6);q=a(387);b=a(3);g=a(115);a=a(32);k=a.Ipb;p=a.p6a;t=a.GT;u=a.yn;l=g.Ifa;d.AGa=n;(function(){var v1L,u0I;function y(a,b){var Q1L,c,v0I,M0I,K9L;Q1L=2;while(Q1L!==8){v0I="si";v0I+="g";v0I+="moid";M0I="l";M0I+="o";M0I+="g";switch(Q1L){case 4:c=b.rG;return(c=b.BGa[c])&&2===c.length?1E3*(c[0]+c[1]*Math.log(1+a)):b.qo;break;case 5:Q1L=0===b.rG.lastIndexOf(M0I,0)?4:9;break;case 9:return 0===b.rG.lastIndexOf(v0I,0)?(c=b.rG,(c=b.BGa[c])&&2===c.length?1E3*(c[0]+c[1]*l(a)):b.qo):b.qo;break;case 2:j4tt.O0I(1);K9L=j4tt.j0I(1013,3,3,15,2003);a=t(a,0,1E5)/K9L;Q1L=5;break;}}}v1L=2;function m(a,b){var W1L,f,d;W1L=2;while(W1L!==11){switch(W1L){case 3:W1L=0===d?9:8;break;case 5:f=a.sW;d=c.wD(f,function(a){var E1L;E1L=2;while(E1L!==1){switch(E1L){case 4:return b>=a.r;break;E1L=1;break;case 2:return b<=a.r;break;}}});W1L=3;break;case 2:W1L=1;break;case 1:W1L=a.sW?5:12;break;case 7:return f[f.length-1].d;break;case 9:return f[0].d;break;case 12:return a.qo;break;case 8:W1L=-1===d?7:6;break;case 6:j4tt.e0I(0);a=f[j4tt.j0I(d,1)];f=f[d];return Math.floor(a.d+(f.d-a.d)*(b-a.r)/(f.r-a.r));break;}}}function D(b,c){var u1L,f,d,k,m,p,q,U0I,P0I,G0I,b0I,B0I;u1L=2;while(u1L!==8){U0I="no_s";U0I+="u";U0I+="it";U0I+="able_stream";P0I="De";P0I+="layTarge";P0I+="t";G0I="Bit";G0I+="rat";G0I+="e";b0I="V";b0I+="M";b0I+="A";b0I+="F";B0I="n";B0I+="o_";B0I+="va";B0I+="l";B0I+="id_";switch(u1L){case 4:q--;u1L=1;break;case 2:f=!!b.CF&&!!b.RBa&&c.every(function(a){var Y1L;Y1L=2;while(Y1L!==1){switch(Y1L){case 4:return a.Dc||790<a.Dc;break;Y1L=1;break;case 2:return a.Dc&&110>=a.Dc;break;}}}),d=null,k=!1,m=!1,p=!1,q=c.length-1;u1L=1;break;case 1:u1L=0<=q&&(f?c[q].Dc>=b.CF:c[q].R>=b.qr)&&!(k=c[q],d=a(k,b),m=g(k.R,d.Wt,b),p=y(d.Wt,b),d.Uz=m,m=m<p,k=f?k.Dc>=b.CF&&k.Dc<=b.RBa:k.R>=b.qr&&k.R<=b.iu,p=m&&k)?5:3;break;case 5:p=[B0I],!k&&f&&p.push(b0I),k||f||p.push(G0I),m||p.push(P0I),d.reason=p.join("");u1L=4;break;case 3:h.Ja(d)&&(d=a(c[0],b),d.reason=U0I);return d;break;}}}function g(a,b,c){var C1L;C1L=2;while(C1L!==5){switch(C1L){case 2:a=p(c.$g,a*c.eca);return k(a,b);break;}}}function a(a,b){var n1L,c,d,x0I,k0I;n1L=2;while(n1L!==12){x0I="hi";x0I+="s";x0I+="t_th";x0I+="roughput";k0I="hist";k0I+="_tdig";k0I+="est";switch(n1L){case 14:d?(b=a.vh(b.sZ/100)||c.Xp.Da,c.Wt=b,c.reason=k0I):c.Xp.Da&&(b=c.Xp.Da,c.Wt=b,c.reason=x0I);return c;break;case 2:c=new u();c.Xp=a;a=c.Xp.jb||{};n1L=3;break;case 7:n1L=(d=h.ka(b.sZ)&&0<=b.sZ&&100>=b.sZ&&!h.U(a)&&!h.Ja(a))?6:14;break;case 6:d=q.Cna.$hb(a),h.Qb(d)?(a.vh=d,d=!0):d=!1;n1L=14;break;case 3:c.Ll=a.wl&&a.mi;c.Pm=a.wl?a.wl:0;a=f(c.Ll,{});n1L=7;break;}}}while(v1L!==5){u0I="1";u0I+="S";u0I+="IYbZr";u0I+="NJCp";u0I+="9";switch(v1L){case 2:d.AGa=n=function(a,b,c){var i9L,W0I;i9L=2;while(i9L!==1){W0I="h";W0I+="ist";W0I+="orica";W0I+="l";switch(i9L){case 2:return W0I===a.raa?ca(a,b,c):a.EJ?D(a,c):r(a,b,c);break;}}};u0I;v1L=5;break;}}function ca(a,f,d){var r9L,g,Y0I,n0I,X0I;r9L=2;while(r9L!==6){Y0I="v";Y0I+="b";n0I="n";n0I+="u";n0I+="m";n0I+="be";n0I+="r";X0I="hi";X0I+="st_";X0I+="bitra";X0I+="te";switch(r9L){case 8:a.reason=X0I;return a;break;case 3:a=new u();a.Xp=c.Sv(d.reverse(),function(a){var P9L;P9L=2;while(P9L!==1){switch(P9L){case 4:return a.R>=g;break;P9L=1;break;case 2:return a.R<=g;break;}}})||d[0];r9L=8;break;case 5:r9L=n0I!==typeof g?4:3;break;case 2:g=b.storage.get(Y0I);r9L=5;break;case 4:return a.EJ?D(a,d):r(a,f,d);break;}}}function r(a,b,f){var w1L,d,h;w1L=2;while(w1L!==9){switch(w1L){case 2:d=new u();h=Math.max(a.qr,a.AX,b.KW?a.kca:-Infinity);w1L=4;break;case 4:d.Xp=c.Sv(f.filter(function(b){var h1L;h1L=2;while(h1L!==1){switch(h1L){case 4:return b.R<a.iu;break;h1L=1;break;case 2:return b.R<=a.iu;break;}}}).reverse(),function(b){var H1L,c,f,k,p0I,r0I,t0I,z0I;H1L=2;while(H1L!==12){p0I="no";p0I+="_histor";p0I+="ical_lte_minbitra";p0I+="t";p0I+="e";r0I="hist_tput_lt_minbi";r0I+="trat";r0I+="e";t0I="lt_hist_lte_mi";t0I+="n";t0I+="bitrate";z0I="hist_buf";z0I+="ft";z0I+="i";z0I+="me";switch(H1L){case 5:H1L=b.R>h?4:13;break;case 2:c={Da:b.Da,wl:b.jb&&b.jb.wl,mi:b.jb&&b.jb.mi};H1L=5;break;case 8:k=m(a,b);H1L=7;break;case 4:b=b.R;f=c.Da;H1L=9;break;case 7:g(b,f,a)<=k?(d.Wt=f,c&&(d.Pm=c.wl?c.wl:0,d.Ll=c.wl&&c.mi),d.reason=z0I,c=!0):c=!1;H1L=6;break;case 14:c=!1;H1L=6;break;case 9:H1L=f?8:14;break;case 13:f=c.Da,b.R<=f?(d.Wt=f,c&&(d.Pm=c.wl?c.wl:0,d.Ll=c.wl?c.mi:void 0),d.reason=t0I,c=!0):f?(d.Wt=f,c&&(d.Pm=c.wl?c.wl:0,d.Ll=c.wl?c.mi:void 0),d.reason=r0I,c=!1):(d.reason=p0I,c=!0);H1L=6;break;case 6:return c;break;}}})||f[0];return d;break;}}}}());},function(g,d,a){var c;a(6);c=a(32).console;g.P=function(a,d,g,b,h,p,t,u,l,n,r,I,C,K,Q){var M6z=j4tt;var V0I,f,k,m,q,y,D,B,fa,a4Y,c4Y,w4Y;V0I=2;while(V0I!==53){a4Y=" >= fragme";a4Y+="nt";a4Y+="sLength: ";c4Y="Streami";c4Y+="n";c4Y+="gIn";c4Y+="de";c4Y+="x: ";w4Y="1";w4Y+="SI";w4Y+="Y";w4Y+="bZrNJC";w4Y+="p9";switch(V0I){case 34:V0I=r<B?33:32;break;case 24:V0I=u<d?23:54;break;case 23:q=m[u];y=k[u];V0I=21;break;case 25:M6z.u4Y(0);D*=M6z.H4Y(f,1E3);V0I=24;break;case 14:fa=0;a=a.Gd[0];M6z.N4Y(1);h=M6z.H4Y(f,1E3,a,h);V0I=11;break;case 31:return{result:!1,vM:a/(f/1E3),xw:!1};break;case 35:B=Math.max(q,n);V0I=34;break;case 39:B=a;V0I=38;break;case 38:b=Math.min(a,b);V0I=24;break;case 21:V0I=r<q?35:37;break;case 40:V0I=u>=l&&a>D?54:39;break;case 32:V0I=!Q&&(a=t-g,a<K)?31:30;break;case 29:M6z.u4Y(2);g+=M6z.H4Y(0,p,q,I);t+=y;V0I=44;break;case 2:w4Y;f=a.W;d=Math.min(a.length,d);k=a.Gd;V0I=9;break;case 43:V0I=h<g&&fa<u?42:41;break;case 44:r-=q;V0I=43;break;case 41:++u;V0I=40;break;case 37:V0I=(a=Math.max(t-g,0),a<C&&a<B)?36:29;break;case 19:u>=d&&c.error(c4Y+u+a4Y+d);g+=a;0===t&&(g=0);M6z.N4Y(0);g*=M6z.H4Y(f,1E3);M6z.u4Y(0);t*=M6z.H4Y(f,1E3);M6z.N4Y(0);K*=M6z.M4Y(f,1E3);M6z.u4Y(0);C*=M6z.H4Y(f,1E3);V0I=25;break;case 54:return{result:!0,vM:b/(f/1E3),xw:!0};break;case 9:m=a.sizes;M6z.N4Y(3);D=M6z.M4Y(b,g);b=Infinity;B=0;V0I=14;break;case 33:g=h,r+=m[fa],++fa,a=k[fa],h+=a;V0I=34;break;case 36:return{result:!1,vM:Math.min(a,b)/(f/1E3),xw:!0};break;case 42:r+=m[fa],++fa,h+=k[fa];V0I=43;break;case 11:M6z.u4Y(4);a=M6z.M4Y(0,8,p,I);M6z.u4Y(5);I=M6z.M4Y(8,I,0);M6z.N4Y(0);p=M6z.M4Y(f,1E3);V0I=19;break;case 30:M6z.u4Y(3);a=M6z.M4Y(t,g);V0I=29;break;}}};},function(g,d,a){var c,f,h,q,b,k;Object.defineProperty(d,"__esModule",{value:!0});c=a(86);f=a(6);g=a(32);h=a(373);q=g.assert;b=g.yn;d.bfa=k;(function(){var j4Y,V8Y;function a(a,d,g){var X4Y,k,m,p,t,u,I4Y,t4Y;function h(b){var K4Y,c,L4Y;K4Y=2;while(K4Y!==7){L4Y="bu";L4Y+="ff_";L4Y+="lt";L4Y+="_h";L4Y+="ist";switch(K4Y){case 2:c=b.Da;K4Y=5;break;case 4:return!1;break;case 5:K4Y=!c||(b.R>m?a.nCb:1)*b.R>c?4:3;break;case 3:u=L4Y;t=c;return!0;break;}}}X4Y=2;while(X4Y!==13){I4Y="Must hav";I4Y+="e at least one selected stre";I4Y+="am";t4Y="no_fea";t4Y+="sible";t4Y+="_st";t4Y+="re";t4Y+="am";switch(X4Y){case 7:d.Xp=k;p!==k&&(d.reason=u,d.Wt=t);return d;break;case 4:m=k.R;p=k;k.Da&&(k=c.Sv(d.slice(0,Math.min(g+(a.f4a?2:1),d.length)).reverse(),h),void 0===k&&(k=d[0],u=t4Y,t=k.Da));d=new b();X4Y=7;break;case 2:q(!f.U(g),I4Y);k=d[g];X4Y=4;break;}}}j4Y=2;while(j4Y!==5){V8Y="1";V8Y+="SIYbZ";V8Y+="rNJ";V8Y+="Cp9";switch(j4Y){case 2:d.bfa=k=function(b,c,d,f,g,k){var r4Y,g8Y;r4Y=2;while(r4Y!==1){g8Y="p";g8Y+="layi";g8Y+="n";g8Y+="g";switch(r4Y){case 2:return g8Y===b.U5?h.rZ.call(this,b,c,d,f,g,k):a(b,d,f);break;}}};V8Y;j4Y=5;break;}}}());},function(g,d,a){var f;function c(a,c,b){a=b.map(function(a,b){return a.pf&&a.inRange&&!a.Xg?b:null;}).filter(function(a){return null!==a;});return a.length?new f(a[Math.floor(Math.random()*a.length)]):null;}a(13);f=a(32).yn;g.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(g,d,a){var f,h,q,b;function c(a,c,d,g){if(f.U(g))a=h(d);else if(q(d[g]))a=g;else if(a=h(d,g),0>a)return null;return new b(a);}f=a(6);a(13);d=a(32);h=d.P8;q=d.aA;b=d.yn;g.P={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(g,d,a){var c,f,h,q,b,k,p,t,u,l;Object.defineProperty(d,"__esModule",{value:!0});c=a(6);f=a(13);h=a(3);q=a(86);b=a(21);k=a(374);p=new h.Console("ASEJS_STREAM_SELECTOR","media|asejs");t=[b.oa[b.oa.rg],b.oa[b.oa.Pe],b.oa[b.oa.Lh],b.oa[b.oa.Ec],b.oa[b.oa.jh],"checkBuffering"];u={first:a(779),random:a(778),optimized:a(212),roundrobin:a(774),selectaudio:a(372),selectaudioadaptive:a(773),"default":a(212),lowest:a(772),highest:a(771),throughputthreshold:a(770),checkdefault:a(769),testscript:a(768)};l={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};g=function(){var Y8Y;function a(a,b,c){var x8Y,d,Y1Z;x8Y=2;while(x8Y!==6){Y1Z="1SI";Y1Z+="Yb";Y1Z+="ZrNJCp9";switch(x8Y){case 8:a=a||this.K.XZ;this.ff=t.reduce(function(b,c){var B8Y;B8Y=2;while(B8Y!==5){switch(B8Y){case 2:b[c]=((u[a]||u[l[c]])[c]||u[l[c]][c]).bind(d);return b;break;}}},{});x8Y=6;break;case 5:this.$N=a;this.K=b;Y1Z;c&&(this.SC=c.SC,this.KR=c.KR);x8Y=8;break;case 2:d=this;x8Y=5;break;}}}Y8Y=2;while(Y8Y!==7){switch(Y8Y){case 2:a.prototype.tZ=function(a,d,g,m,t,u){var U6z=j4tt;var F8Y,l,n,y,D,C,r,B,I,K,Q,T,z,n8Y,v1Z,C8Y,Z8Y;F8Y=2;while(F8Y!==56){v1Z="Strea";v1Z+="m selector calle";v1Z+="d";v1Z+=" with invalid player state ";switch(F8Y){case 62:this.KR=f.aQ.rg;F8Y=35;break;case 15:B=T;D.YZ?B=T.filter(function(a){var q8Y;q8Y=2;while(q8Y!==1){switch(q8Y){case 2:return a.xw;break;case 4:return a.xw;break;q8Y=1;break;}}}):a.state!==b.oa.Ec&&a.state!==b.oa.jh&&(B=T.filter(function(a){var o8Y;o8Y=2;while(o8Y!==1){switch(o8Y){case 2:return!a.rHa;break;case 4:return~a.rHa;break;o8Y=1;break;}}}));T=0<B.length?B:T.slice(0,1);void 0!==C&&(B=q.wD(T,function(a){var m8Y;m8Y=2;while(m8Y!==1){switch(m8Y){case 2:return a.R>d[C].R;break;case 4:return a.R<=d[C].R;break;m8Y=1;break;}}}),r=0<B?B-1:0===B?0:T.length-1);a.state!==b.oa.rg&&void 0===r&&(a.state=b.oa.rg);F8Y=23;break;case 33:F8Y=(z.fE=[],d.forEach(function(a,b){var W8Y;W8Y=2;while(W8Y!==4){switch(W8Y){case 2:a===z.Xp&&(z.wd=b);a.bga&&z.fE.push(a.pa);a.bga=!1;W8Y=4;break;}}}),!z.fE.length)?32:52;break;case 54:--D;F8Y=38;break;case 52:F8Y=!z||null===z.wd?51:50;break;case 53:r||(z.fE=void 0);F8Y=52;break;case 10:Q=B[I-1].R,B=q.wD(d,function(a){var h8Y;h8Y=2;while(h8Y!==1){switch(h8Y){case 4:return a.R<=Q;break;h8Y=1;break;case 2:return a.R>Q;break;}}}),C=0<B?B-1:0===B?0:d.length-1;F8Y=20;break;case 19:this.YU(d,function(b){var A8Y;A8Y=2;while(A8Y!==1){switch(A8Y){case 2:b.pf&&b.inRange&&!b.Xg&&b.jb&&b.jb.Fd?(l!==b.jb&&(l=b.jb,a&&a.lo&&b.jb&&(b.jb.lo=!0),y=Math.floor(m(b.jb,a.buffer,b.track.O.Hp[0])),y=0===y?1:y),b.Da=y):b.Da=void 0;A8Y=1;break;}}});a.state===b.oa.rg&&c.ka(C)&&(a.state=b.oa.Pe);T=d.filter(function(a){var Q8Y;Q8Y=2;while(Q8Y!==1){switch(Q8Y){case 2:return a&&a.pf&&a.inRange&&!a.Xg;break;}}});T.length||(T=d.filter(function(a){var k8Y;k8Y=2;while(k8Y!==1){switch(k8Y){case 4:return a||a.pf||-a.Xg;break;k8Y=1;break;case 2:return a&&a.pf&&!a.Xg;break;}}}),T.forEach(function(a){var U8Y;U8Y=2;while(U8Y!==1){switch(U8Y){case 4:a.inRange=~5;U8Y=8;break;U8Y=1;break;case 2:a.inRange=!0;U8Y=1;break;}}}));F8Y=15;break;case 2:g=a.buffer;n=h.time.fa();D=this.K;C=this.SC;c.ka(C)&&a.state===b.oa.rg&&(C=this.SC=void 0);F8Y=8;break;case 36:t.X&&t.X.length||(r=!0,z.fE.push(t.pa));F8Y=53;break;case 64:z.wd=function(a){var G8Y;G8Y=2;while(G8Y!==1){switch(G8Y){case 2:return q.wD(d,function(b){var J8Y;J8Y=2;while(J8Y!==1){switch(J8Y){case 4:return b!=T[a];break;J8Y=1;break;case 2:return b===T[a];break;}}});break;}}}(z.wd);F8Y=52;break;case 41:++D;F8Y=44;break;case 37:F8Y=(t=d[D],t.pf&&t.inRange&&!t.Xg)?36:54;break;case 11:F8Y=!(0<=C)?10:20;break;case 61:F8Y=n8Y===b.oa.Lh?62:60;break;case 6:I=B.length;F8Y=14;break;case 39:U6z.q1Z(0);C8Y=U6z.e1Z(2,8,325,18,17);D=z.wd-C8Y;F8Y=38;break;case 58:return p.error(v1Z+b.oa[a.state]),null;break;case 38:F8Y=0<=D?37:53;break;case 60:F8Y=n8Y===b.oa.Ec?35:59;break;case 46:a.state!==b.oa.Ec&&a.state!==b.oa.jh?(t=k.oEa(a.state),u=this.Cm(a.buffer,t,D,u),(z.vg=u.complete)?z.wsa=u.reason:(z.vg=!1,z.YA=u.YA,z.uM=u.uM,z.xj=u.xj)):z.vg=!0;a.ZK&&(z.Bb=g.Bb,u=a&&a.zx,t=D.X,z.Fi=t&&void 0!==u&&!isNaN(u)&&0<=u&&u<t.length?t.Ah(u):g.Bb,z.ptb=D.Da||0,z.Pqb=D.jb&&D.jb.Da&&D.jb.Da.Ca||0,z.i6a=g.Dl-g.Xc,z.Csa=g.Eh,z.kx=a.state,z.Mn=a&&a.Mn,z.TIa=n,z.qAb=h.time.fa());return z;break;case 13:K=B[I-1].pa;C=q.wD(d,function(a){var p8Y;p8Y=2;while(p8Y!==1){switch(p8Y){case 2:return a.pa===K;break;case 4:return a.pa!=K;break;p8Y=1;break;}}});F8Y=11;break;case 32:B=g.Dl-g.Xc;t=void 0;r=!1;F8Y=29;break;case 8:c.ka(C)&&C>=d.length&&(C=this.SC=void 0);B=g.X;F8Y=6;break;case 22:this.P3=this.L3=void 0;F8Y=21;break;case 29:F8Y=D.wHa&&B>D.CX?28:53;break;case 21:this.KR=f.aQ.rg;F8Y=35;break;case 35:z=this.ff[b.oa[a.state]].call(this,D,a,T,r,m,!!t);F8Y=34;break;case 20:c.U(C)&&(C=this.SC);F8Y=19;break;case 40:F8Y=!r?39:53;break;case 51:return null;break;case 28:U6z.m1Z(1);Z8Y=U6z.l1Z(20,19);D=z.wd+Z8Y;F8Y=44;break;case 63:F8Y=n8Y===b.oa.Pe?62:61;break;case 34:F8Y=z.Xp?33:64;break;case 50:this.SC=z.wd;D=d[z.wd];z.reason&&(D.Fo=z.reason,D.afa=z.Wt,D.Uz=z.Uz,D.Pm=z.Pm,D.Ll=z.Ll);c.ka(C)&&D.R<d[C].R&&(this.L3=g.Bb);F8Y=46;break;case 23:n8Y=a.state;F8Y=n8Y===b.oa.rg?22:63;break;case 44:F8Y=D<d.length?43:40;break;case 14:F8Y=0<I?13:20;break;case 42:t.X&&t.X.length||(r=!0,z.fE.push(t.pa));F8Y=40;break;case 43:F8Y=(t=d[D],t.pf&&t.inRange&&!t.Xg)?42:41;break;case 59:F8Y=n8Y===b.oa.jh?35:58;break;}}};a.prototype.Cm=function(a,b,c,d){var y8Y;y8Y=2;while(y8Y!==1){switch(y8Y){case 2:return this.ff.checkBuffering.call(this,a,b,c,d,this.K);break;}}};a.prototype.WZ=function(a,b,d){var z8Y;z8Y=2;while(z8Y!==1){switch(z8Y){case 2:c.U(b)?this.L3=this.P3=void 0:b.R<d.R&&(this.P3=a);z8Y=1;break;}}};Y8Y=4;break;case 4:a.prototype.YU=function(a,b){var O8Y,c,d8Y;O8Y=2;while(O8Y!==3){switch(O8Y){case 14:++c;O8Y=8;break;O8Y=1;break;case 5:b(a[c],c,a);O8Y=4;break;case 2:j4tt.m1Z(2);d8Y=j4tt.e1Z(16,14,14,8,143);c=a.length-d8Y;O8Y=1;break;case 1:O8Y=0<=c?5:3;break;case 4:--c;O8Y=1;break;}}};Object.defineProperties(a.prototype,{UW:{get:function(){var S8Y;S8Y=2;while(S8Y!==1){switch(S8Y){case 2:return this.L3;break;case 4:return this.L3;break;S8Y=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bba:{get:function(){var E8Y;E8Y=2;while(E8Y!==1){switch(E8Y){case 2:return this.P3;break;case 4:return this.P3;break;E8Y=1;break;}}},enumerable:!0,configurable:!0}});return a;break;}}}();d.w2=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,d){this.track=a;d?(this.au=d.au,this.fA=d.fA,this.Zaa=d.Zaa,this.iM=d.iM):this.fA=this.au=void 0;}a.prototype.WZ=function(a){this.au=a;};a.prototype.Yxb=function(a){this.track=a;};return a;}();d.dXa=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(165);a(29);g=function(){function a(a,c){this.$c=a;this.console=c;this.nz=this.XA=this.vA=0;}a.prototype.Ceb=function(a,d,b,f,g){var h;if(this.$c){h=a.X;if(h){if(1===b)b=h.Gl(this.$c*a.La.Ma,void 0,!0),h=a.ai(b),h.yj({start:0,end:this.$c-b*h.a8.Ct(a.La)}),this.vA=this.$c;else{b=c.Yxa(f,g)+f.c5a*a.La.Ma;b=d+b;d=Math.ceil(b/a.La.Ma);b=h.Gl(b,void 0,!0);for(g=f=0;g<b;++g)h=a.ai(g),f+=h.a8.Ct(a.La);f=d-f;h=a.ai(b);h.yj({end:f});this.vA=d;}h.zBa();return h;}}};return a;}();d.ZWa=g;},function(g,d,a){var c,f,h,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(128);h=a(82);g=a(3);a=a(216);q=g.Promise;a=function(a){function b(b){b=a.call(this,b)||this;b.reset();return b;}c.__extends(b,a);b.prototype.clear=function(){this.reset();a.prototype.clear.call(this);};b.prototype.kG=function(){var b;b=this.Ml;a.prototype.kG.call(this);(b||this.wz&&this.wz.Ml)&&this.reset();};b.prototype.Rfb=function(){var a,b,c;a=this;this.wz&&this.wz.Ml&&this.reset();b=0;c=new f.HB(function(){var d,g,h;if(0===a.count)return f.HB.v$();d=void 0;g=a.hg.slice(b,a.zta);b=a.zta;g.length?(d=g.map(function(a){a.NFa.resolve();return a.item.value;}),d=q.resolve({value:d,done:!1})):d=a.cya(b++).then(function(a){return a.done?a:{value:[a.value],done:!1};});h=g.length||1;d.then(function(){c.$E||(a.Tda(h),b-=h);});return d;});return this.wz=c;};b.prototype.reset=function(){h.nb&&this.console&&this.console.trace("Reset");this.wz&&this.wz.Uf();this.wz=void 0;};return b;}(a.n2);d.eLa=a;},function(g,d,a){var c,f,h,q,b;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);a(8);g=a(43);f=a(3);h=a(114);q=a(70);a=a(169);b=f.Lj;a=function(a){function d(b,c,d,f,g,h,k){f.responseType=0;d=a.call(this,b,d,"",f,g,c,k)||this;q.pi.call(d,b,f);d.Wba=c.Wba;d.Xba=c.Xba;d.S8=0;return d;}c.__extends(d,a);d.prototype.Ub=function(){this.Tb||(this.Tb=h.Ae());};d.prototype.vr=function(){return b.prototype.open.call(this,this.xI,{start:this.offset,end:this.offset+Math.max(this.Xba,Math.floor(this.Wba*this.ba))-1},this.wI,{},void 0,void 0,void 0);};d.prototype.fJ=function(){var a;a=this.Qc||this.$e;this.Uc||(this.Uc=!0,this.S8=a);};d.prototype.e4=function(){this.S8=this.Qc;};d.prototype.f4=function(){};d.prototype.eJ=function(){var a;a=this.Qc;this.Tb&&this.Tb.Rv(this.ye,this.S8,a,{requestId:this.pm(),ae:this.Fb,type:this.M,BB:!0});this.ig=this.Uc=!1;this.ic();};d.prototype.ZC=function(){this.ic();};return d;}(a.FB);d.aLa=a;g.Wi(q.pi,a,!1);},function(g,d,a){var c,f,h,q,b,k,p;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(97);h=a(8);a(3);q=a(16);b=a(213);k=a(70);p=a(222);g=function(a){function d(b,c,f,g,h,m){c=a.call(this,b,g,h,c,m)||this;c.HZa=f;c.om=void 0;c.v3=d.PB.INIT;c.CMb=g.offset;c.K3=k.pi.prototype.toString.call(c)+" multiple";c.iD(b.url,g.offset,8,0);return c;}c.__extends(d,a);Object.defineProperties(d.prototype,{data:{get:function(){return this.om;},enumerable:!0,configurable:!0}});d.prototype.Oi=function(a){var c,g;this.om=this.om?q.Qq(this.om,a.response):a.response;a.HN();switch(this.v3){case d.PB.INIT:c=new DataView(this.om);g=c.getUint32(0);c=c.getUint32(4);f.Cy(c);this.iD(a.url,a.offset+a.ba,g,0);b.EB.prototype.Oi.call(this,a);this.v3=d.PB.Lka;break;case d.PB.Lka:c=new DataView(this.om);g=c.getUint32(this.voa-8);c=c.getUint32(this.voa-4);f.Cy(c);this.iD(a.url,a.offset+a.ba,g-8,0);this.v3=d.PB.Jka;b.EB.prototype.Oi.call(this,a);break;case d.PB.Jka:b.EB.prototype.Oi.call(this,a);break;default:h.assert(!1);}};d.prototype.iD=function(a,b,c,d){a=new p.vP(this.stream,this.HZa,this.K3+" ("+this.wa.length+")",{u:this.u,M:this.M,pa:this.pa,R:this.R,offset:b,ba:c,url:a,location:this.location,Fb:this.Fb,responseType:d},this,this.Vc,this.I);this.push(a);this.voa=this.wa.reduce(function(a,b){return a+b.ba;},0);};d.PB={INIT:0,Lka:1,Jka:2,name:["INIT","MOOF","MDAT"]};return d;}(b.EB);d.VKa=g;},function(g,d,a){var c,f,h,q,b,k,p,t;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);a(8);f=a(6);g=a(43);h=a(3);q=a(114);b=a(70);k=a(169);p=a(166);t=h.Lj;a=function(a){function d(c,d,f,g,h,k,m){var p;p=this;p=["cache","edit"].filter(function(a,b){return[k,g.Qa][b];});p=p.length?"("+p.join(",")+")":"";void 0===g.responseType&&(g.responseType=t.oc&&!t.oc.mG.ty?0:1);p=a.call(this,c,f,p,g,h,d,m)||this;b.pi.call(p,c,g);p.M_a=g.Hmb;p.Ng.on(p,t.Ld.vJb,p.S0a);p.Ng.on(p,t.Ld.uJb,p.R0a);return p;}c.__extends(d,a);d.prototype.Ub=function(a){p.GB.prototype.Ub.call(this,a);this.Tb||!this.Vc.VS&&this.Xb||(this.Tb=q.Ae());};d.prototype.vr=function(){var a;a={start:this.offset,end:this.offset+this.ba-1};void 0!==this.Oc&&0<=this.Oc&&void 0!==this.$d&&(this.xI=this.Mpa(this.xI,!0),a={start:0,end:-1});return t.prototype.open.call(this,this.xI,a,this.wI,{},void 0,void 0,this.eoa);};d.prototype.u_=function(){var a,b,c;if(this.complete)return 0;a=this.LFa;b=a.O;if(!a.url)return this.I.warn("updateurl, missing url for streamId:",a.pa,"mediaRequest:",this,"stream:",a),1;c=this.Mpa(a.url,!1);return this.url===c||(b.DZ(this,a.location,a.cc),this.zO(c))?0:(this.I.warn("swapUrl failed: ",this.zE),2);};d.prototype.fJ=function(){this.Uc||(this.Uc=!0,this.Rm=this.track.Rm(),this.Jz(this),this.Xk=0,this.Yk=this.Qc);};d.prototype.e4=function(){var a;a=this.Qc;this.Iz(this);this.Yk=a;};d.prototype.f4=function(){var a;a=this.Qc;this.EE(this);this.Yk=a;this.Xk=this.ye;};d.prototype.S0a=function(){var a;a=this.zmb;this.ig=!0;this.Tb&&(this.Tb.SA(a,{requestId:this.pm(),ae:this.Fb,type:this.M}),this.Tb.vea());};d.prototype.eJ=function(){var a;a=this.Qc;this.Tb&&this.ig&&this.Tb.UA(h.time.fa(),this.ig,{requestId:this.pm(),ae:this.Fb,type:this.M});this.ig=this.Uc=!1;this.up(this);this.Yk=a;this.Xk=this.ye;this.ic();};d.prototype.R0a=function(){this.Tb&&(this.Tb.Rv(this.KQb,this.zmb,this.ymb,{requestId:this.pm(),ae:this.Fb,type:this.M}),this.Tb.UA(this.ymb,this.ig,{requestId:this.pm(),ae:this.Fb,type:this.M}));this.ig=!1;};d.prototype.$Ya=function(a,b,c,d){return void 0===a||void 0===b||void 0===c?0:b<c?0:a<c?d:a-c;};d.prototype.Mpa=function(a,b){var c,d;if(f.U(this.Oc)||0>this.Oc||f.U(this.$d))return a;c=[];d=this.$Ya(this.Oc,this.$d-1,this.M_a,this.Vc.Dpb);c.push("ptsRange/"+this.Oc+"-"+(this.$d-1));0<d&&b&&c.push("timeDelay/"+d);a=a.split("?");b=a[0];for(var d="",g=0;g<c.length;g++)d+="/"+c[g];return a[1]?b+(d+"?"+a[1]):b+d;};return d;}(k.FB);d.RKa=a;g.Wi(b.pi,a,!1);},function(g,d,a){var c,f,h,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(8);g=a(43);h=a(223);a=a(171);q=function(){function a(b,c){this.Ba=[];this.zi=void 0;this.Wb=0;this.I=b;c&&c.length&&(Array.isArray(c)?(this.Ba=c.slice(),this.AI(0,this.Ba.length)):c instanceof a&&(this.Ba=c.Ba.slice(),this.AI(0,this.Ba.length)));}Object.defineProperties(a.prototype,{length:{get:function(){return this.Ba.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.Ba.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{first:{get:function(){return this.Ba[0];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{uh:{get:function(){return this.Ba[this.Ba.length-1];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gb:{get:function(){return this.first&&this.first.gb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{yb:{get:function(){return this.uh&&this.uh.yb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.Wb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{W:{get:function(){return this.first&&this.first.W;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Tp:{get:function(){return this.first&&this.first.Tp;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.Ba;},enumerable:!0,configurable:!0}});a.prototype.get=function(a){0>a&&(a+=this.Ba.length);return this.Ba[a];};a.prototype.push=function(a){this.Ba.push(a);this.AI(this.Ba.length-1);return this.length;};a.prototype.unshift=function(a){this.Ba.unshift(a);this.AI(0,1);return this.length;};a.prototype.pop=function(){if(0!==this.Ba.length)return this.r4(this.Ba.length-1),this.Ba.pop();};a.prototype.shift=function(){if(0!==this.Ba.length)return this.r4(0),this.Ba.shift();};a.prototype.splice=function(a,b){for(var d,f=[],g=2;g<arguments.length;g++)f[g-2]=arguments[g];0>a&&(a+=this.Ba.length);0>a&&(a=0);a>this.Ba.length&&(a=this.Ba.length);if(void 0===b||0>b)b=0;b=Math.min(b,this.Ba.length-a);0<b&&this.r4(a,a+b);g=(d=this.Ba).splice.apply(d,c.__spreadArrays([a,b],f));0<f.length&&this.AI(a,a+arguments.length-2);return g;};a.prototype.slice=function(b,c){void 0===b&&(b=0);void 0===c&&(c=this.Ba.length);0>b&&(b+=this.Ba.length);if(b>=this.Ba.length)return new a(this.I);c>this.Ba.length&&(c=this.Ba.length);0>c&&(c+=this.Ba.length);return new a(this.I,this.Ba.slice(b,c));};a.prototype.Qm=function(a){if(0===this.Ba.length||a.gb>=this.yb)this.push(a);else if(a.yb<=this.gb)this.unshift(a);else{for(var b=0,c=this.Ba.length-1,d;b<c-1;)d=Math.floor((c+b)/2),f.assert(d!==c&&d!==b),a.gb>=this.Ba[d].yb?b=d:c=d;f.assert(b!==c);f.assert(this.Ba[b].yb<=a.gb&&this.Ba[c].gb>=a.yb);this.splice(c,0,a);}};a.prototype.remove=function(a){a=this.Ba.indexOf(a);if(0>a)return!1;this.splice(a,1);return!0;};a.prototype.concat=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=b.map(function(a){return a.Ba;});return new a(this.I,Array.prototype.concat.apply(this.Ba,b));};a.prototype.forEach=function(a){var b;b=this;this.Ba.forEach(function(c,d){return a(c,d,b);});};a.prototype.some=function(a){var b;b=this;return this.Ba.some(function(c,d){return a(c,d,b);});};a.prototype.every=function(a){var b;b=this;return this.Ba.every(function(c,d){return a(c,d,b);});};a.prototype.map=function(a){var b;b=this;return this.Ba.map(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.Ba.reduce(function(b,d,f){return a(b,d,f,c);},b);};a.prototype.indexOf=function(a){return this.Ba.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.Ba.some(function(d,f){c=f;return a(d,f,b);})?this.Ba[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.Ba.some(function(d,f){c=f;return a(d,f,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.I,this.Ba.filter(function(a,d){return b(a,d,c);}));};a.prototype.YU=function(a){for(var b=this.Ba.length-1;0<=b;--b)a(this.Ba[b],b,this);};a.prototype.BE=function(a){if(this.empty||a<this.qc||a>=this.te)return-1;for(var b=0,c=this.Ba.length-1,d;c>b;){d=Math.floor((c+b)/2);if(a>=this.Ba[d].qc&&a<this.Ba[d].te){c=d;break;}a<this.Ba[d].te?c=d-1:b=d+1;}return c;};a.prototype.lwa=function(a){a=this.BE(a);return 0<=a?this.Ba[a]:void 0;};a.prototype.OS=function(a){var b;b=this.Ba[a].yb;for(a+=1;a<this.Ba.length&&b===this.Ba[a].gb;++a)b=this.Ba[a].yb;a<this.Ba.length?void 0===this.zi?this.zi=new h.kH(this,{yb:b}):this.zi.qfa(b):void 0===this.zi?this.zi=new h.kH(this,{}):this.zi.r6();};a.prototype.qC=function(a,b){for(var c=a;c<b;++c)this.Wb+=this.Ba[c].ba;void 0===this.zi||0===a?this.OS(0):this.zi.yb===this.yb?this.OS(a-1):this.Ba[a].gb===this.zi.yb&&this.OS(a);};a.prototype.Ks=function(a,b){var c;if(0===a)this.zi=void 0,b<this.length&&this.OS(b);else{c=this.zi;c.yb>this.Ba[a-1].yb&&(b<this.length?c.qfa(this.Ba[a-1].yb):c.r6());}for(;a<b;++a)this.Wb-=this.Ba[a].ba;};a.prototype.AI=function(a,b){void 0===b&&(b=a+1);this.qC(a,b);};a.prototype.r4=function(a,b){void 0===b&&(b=a+1);this.Ks(a,b);};return a;}();d.N_=q;g.Wi(a.wP,q);},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);a(8);g=function(){function a(a,c){this.zc=a;this.AC=c;this.Ds();}Object.defineProperties(a.prototype,{length:{get:function(){return this.Ev;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.Ev;},enumerable:!0,configurable:!0}});a.prototype.pfb=function(){return this.JC&&this.JC.get(0);};a.prototype.A5a=function(){return this.uC&&this.uC.get(this.uC.length-1);};a.prototype.get=function(a){0>a&&(a+=this.length);for(var c=0;c<this.zc.length;++c)if(this.tg[c+1]>a)return this.zc[c].get(a-this.tg[c]);};a.prototype.push=function(a){this.zc[this.AC(a)].push(a);this.Ds();return this.Ev;};a.prototype.shift=function(){var a;if(this.JC){a=this.JC.shift();this.Ds();return a;}};a.prototype.pop=function(){var a;if(this.uC){a=this.uC.pop();this.Ds();return a;}};a.prototype.unshift=function(a){this.zc[this.AC(a)].unshift(a);this.Ds();return this.Ev;};a.prototype.Qm=function(a){var c;c=this.AC(a);this.zc[c].Qm(a);this.Ds();};a.prototype.remove=function(a){var c;c=this.zc.some(function(b){return b.remove(a);});c&&this.Ds();return c;};a.prototype.splice=function(a,d){var l,n,r,C;for(var b,f=[],g=2;g<arguments.length;g++)f[g-2]=arguments[g];for(var g=[],h,m=a+Math.max(0,d),q=0;q<this.zc.length;++q){l=this.zc[q];n=this.tg[q];r=this.tg[q+1];if(a<r){C=a-n;n=Math.min(m-n,l.length);void 0===h&&0<C&&n<l.length?Array.prototype.push.apply(g,l.splice.apply(l,c.__spreadArrays([C,n-C],f))):(Array.prototype.push.apply(g,l.splice(C,n-C)),void 0===h&&(h=0<q&&0===C?q-1:q));a=r;if(a>=m)break;}}if(f.length&&void 0!==h){for(m=this.AC(f[0]);0<h&&m<h&&this.zc[h].empty;)--h;for(;f.length&&m===h;){this.zc[h].push(f.shift());if(!f.length)break;m=this.AC(f[0]);}for(;f.length&&++h<this.zc.length&&this.zc[h].empty;)for(;f.length&&m===h;){this.zc[h].push(f.shift());if(!f.length)break;m=this.AC(f[0]);}f.length&&(b=this.zc[h]).splice.apply(b,c.__spreadArrays([0,0],f));}this.Ds();return g;};a.prototype.find=function(a){var c,b;c=this;return this.zc.some(function(d,f){b=d.find(c.Uy(a,f));return void 0!==b;})?b:void 0;};a.prototype.findIndex=function(a){var b;for(var c=0;c<this.zc.length;++c){b=this.zc[c].findIndex(this.Uy(a,c));if(-1!==b)return b+this.tg[c];}return-1;};a.prototype.indexOf=function(a){var b;for(var c=0;c<this.zc.length;++c){b=this.zc[c].indexOf(a);if(-1!==b)return b+this.tg[c];}return-1;};a.prototype.map=function(a){var c,b;c=this;b=this.zc.map(function(b,d){return b.map(c.Uy(a,d));});return Array.prototype.concat.apply([],b);};a.prototype.reduce=function(a,c){var b;b=this;return this.zc.reduce(function(c,d,f){return d.reduce(b.V2a(a,f),c);},c);};a.prototype.forEach=function(a){var c;c=this;this.zc.forEach(function(b,d){b.forEach(c.Uy(a,d));});};a.prototype.YU=function(a){for(var c=this.zc.length-1;0<=c;--c)this.zc[c].YU(this.Uy(a,c));};a.prototype.some=function(a){var c;c=this;return this.zc.some(function(b,d){return b.some(c.Uy(a,d));});};a.prototype.every=function(a){var c;c=this;return this.zc.every(function(b,d){return b.every(c.Uy(a,d));});};a.prototype.afb=function(a,c){var h,m;function b(b){return b.reduce(function(b,c,d,f){return void 0===c?b:void 0===b?d:0>a(c,f[b])?d:b;},void 0);}for(var d=this,f=this.zc.map(function(){return 0;}),g=this.zc.filter(function(a){return a.empty;}).length;g<this.zc.length;){h=f.map(function(a,b){return a<d.zc[b].length?d.zc[b].get(a):void 0;});m=b(h);c(h[m],this.tg[m]+f[m],this);++f[m];f[m]===this.zc[m].length&&++g;}};a.prototype.move=function(a){return this.remove(a)?(this.Qm(a),!0):!1;};a.prototype.xyb=function(){var a;if(this.zc[1].length){a=this.zc[1].shift();this.zc[0].push(a);this.Ds();}};a.prototype.Deb=function(a){for(var c=-1,b=0;b<this.zc.length;++b)if(c=a(this.zc[b]),-1!==c){c+=this.tg[b];break;}return c;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.Ds=function(){var c;this.Ev=0;this.tg=[0];this.uC=this.JC=void 0;for(var a=0;a<this.zc.length;++a){c=this.zc[a];this.Ev+=c.length;this.tg.push(this.tg[this.tg.length-1]+c.length);!this.JC&&c.length&&(this.JC=c);c.length&&(this.uC=c);}};a.prototype.Uy=function(a,c){var b,d;b=this;d=this.tg[c];return function(c,f){return a(c,d+f,b);};};a.prototype.V2a=function(a,c){var b,d;b=this;d=this.tg[c];return function(c,f,g){return a(c,f,d+g,b);};};return a;}();d.IMa=g;},function(g,d,a){var c,f,h,q,b,k;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);a(8);f=a(788);g=a(43);h=a(787);q=a(171);b=a(85);k=a(223);a=function(a){function d(c,d){var f,g;f=this;g=[new h.N_(c),new h.N_(c),new h.N_(c)];f=a.call(this,g,function(a){return a.complete?f.empty||a.gb<=f.S7a?0:1:a.active?1:2;})||this;f.yc=g[0];f.Uc=g[1];f.Rs=g[2];f.Jn=0;f.O2=0;f.I=c;b.Vr.call(f,d);return f;}c.__extends(d,a);Object.defineProperties(d.prototype,{ba:{get:function(){return this.yc.ba+this.Uc.ba+this.Rs.ba;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return this.Uc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return this.yc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Lub:{get:function(){return this.Jn;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{mz:{get:function(){return this.yc.ba;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Qi:{get:function(){return this.yc.ba+this.Uc.ba-this.Jn;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.pfb();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{uh:{get:function(){return this.A5a();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{b8:{get:function(){return!this.yc.empty||this.Rs.empty||this.Uc.empty?this.first:this.Uc.gb<this.Rs.gb?this.Uc.first:this.Rs.first;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{HAa:{get:function(){return this.Rs.empty||this.Uc.empty?this.uh:this.Uc.yb<this.Rs.yb?this.Rs.uh:this.Uc.uh;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{uwa:{get:function(){return this.Rs.first;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{W:{get:function(){return this.first&&this.first.W;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{gb:{get:function(){return this.b8&&this.b8.gb;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{yb:{get:function(){return this.HAa&&this.HAa.yb;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Tp:{get:function(){return this.first&&this.first.Tp;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{R7a:{get:function(){return this.yc.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Lkb:{get:function(){return this.$d-this.Q7a||0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{S7a:{get:function(){return this.yc.empty?this.gb:this.yc.yb;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Q7a:{get:function(){return this.yc.empty?this.Oc:this.yc.$d;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{xta:{get:function(){return this.yc.empty?this.qc:this.yc.te;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Pr:{get:function(){return this.Rs.length;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Mn:{get:function(){return this.Uc.length;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{W7a:{get:function(){return this.yc.length;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{vZ:{get:function(){return this.yc.concat(this.Uc);},enumerable:!0,configurable:!0}});d.prototype.qC=function(a){var b;a.Fq?++this.O2:this.Jn+=a.ye||0;if(this.empty)this.zi=new k.kH(this,{});else if(a.gb!==this.yb&&a.gb===this.zi.yb){b=a.yb;this.afb(function(a,b){return a.gb-b.gb;},function(a){b=a.gb===b?a.yb:b;});b===this.yb&&this.zi.r6();}a.aHa(this);};d.prototype.Ks=function(a){a.Fq?--this.O2:this.Jn-=a.ye;this.empty?this.zi=void 0:a.gb!==this.yb&&a.yb<this.zi.yb&&a.gb>=this.zi.gb&&this.zi.qfa(a.gb);a.ita();};d.prototype.push=function(b){this.qC(b);return a.prototype.push.call(this,b);};d.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b&&this.Ks(b);return b;};d.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b&&this.Ks(b);return b;};d.prototype.unshift=function(b){this.qC(b);return a.prototype.unshift.call(this,b);};d.prototype.Qm=function(b){this.qC(b);a.prototype.Qm.call(this,b);};d.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return!1;this.Ks(b);return!0;};d.prototype.splice=function(b,d){for(var f=[],g=2;g<arguments.length;g++)f[g-2]=arguments[g];g=a.prototype.splice.apply(this,c.__spreadArrays([b,d],f));f.forEach(this.qC.bind(this));g.forEach(this.Ks.bind(this));return g;};d.prototype.fub=function(a){var b;b=this;this.reduce(function(c,d,f){d.Fq&&(a&&a(d,f,b),0===c.length||c[0].end!==f?c.unshift({start:f,end:f+1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end-a.start);});};d.prototype.BE=function(a){return this.Deb(function(b){return b.BE(a);});};d.prototype.lwa=function(a){a=this.BE(a);return-1!==a?this.get(a):void 0;};d.prototype.exb=function(a){var c;for(var b=[];a<this.length;){c=this.get(a);c&&b.push(c);a++;}return b;};d.prototype.ru=function(a){this.move(a);this.Jz(a);};d.prototype.fN=function(a){this.Jn+=a.ye-a.Xk;this.EE(a);};d.prototype.Oi=function(a){for(this.Jn+=a.ye-a.Xk;this.Uc.first&&this.Uc.first.complete&&(this.yc.empty?this.Uc.first===this.b8:this.Uc.first.gb===this.yc.yb);)this.xyb();this.up(a);};d.prototype.cN=function(a,b,c){this.Jn-=a.ye;++this.O2;this.bV(a,b,c);};return d;}(f.IMa);d.QKa=a;g.Wi(b.Vr,a,!1);g.Wi(q.wP,a);},function(g,d,a){var c,f,h,q,b,k;Object.defineProperty(d,"__esModule",{value:!0});c=a(97);f=a(165);h=a(13);q=a(16);a(8);b=a(29);k=a(3);g=function(){var o1Z;o1Z=2;while(o1Z!==13){switch(o1Z){case 3:a.prototype.cZa=function(a){var k1Z,N38;k1Z=2;while(k1Z!==1){N38="o";N38+="n";N38+="Ex";N38+="i";N38+="t";switch(k1Z){case 2:return this.woa(a,this.Vc.Jza,N38);break;case 4:return this.woa(a,this.Vc.Jza,"");break;k1Z=1;break;}}};a.prototype.GYa=function(a,c,d){var Z1Z,h,k,m,p,q,t,l,u,n;Z1Z=2;function g(a){var c1Z,b,c;c1Z=2;while(c1Z!==9){switch(c1Z){case 4:j4tt.y38(0);c=j4tt.w38(u,b);return{Bo:a,$n:b,uPb:c,JCa:0<a&&c<q/1E3};break;case 2:a=Math.floor(Math.min(t,a)/p.Cb);b=p.Cb*a;c1Z=4;break;}}}while(Z1Z!==18){switch(Z1Z){case 2:k=this.Vc;m=!0;h=!1;a=f.Yxa(k,a);Z1Z=9;break;case 14:u=l-this.Kwa;d=k.dfb||d;c&&!d&&(h=g(u),n=h.Bo,h=h.JCa);h||(n=l-b.Ta.rca(a,q),n=new b.Ta(n-this.Kwa,q),c=g(k.$c?Infinity:Math.max(0,n.Cb)),n=c.Bo,(c=c.JCa)&&0<n&&!k.$c&&--n);this.yj({start:0,end:n});n<(k.zpb||1)&&(m=!1);Z1Z=19;break;case 9:p=this.La;q=p.W;t=this.$n;l=c?c.pN:this.yY-2*p.Cb;Z1Z=14;break;case 19:return{zyb:m,Pnb:h};break;}}};a.prototype.vD=function(a,b,c,d,f,g){var s1Z,k,m;s1Z=2;while(s1Z!==6){switch(s1Z){case 5:s1Z=this.Ci?4:3;break;case 3:this.Lwa?a=a.appendBuffer(q.Qq(this.pva),q.Pl(this)):this.Qa&&!this.$t?(k=this.JZa(a,b,c,f,g),a=k.$,k=k.Tm):this.Qa&&this.$t?(k=this.KZa(a,b,d,f,g),a=k.$,k=k.Tm):a=this.M===h.Fa.AUDIO&&m.Fr&&c&&this.Ex&&c.te>=this.te&&this.$d-this.Ex<this.Ex-this.Oc?!0:a.appendBuffer(this.response,q.Pl(this));this.Ci=!0;this.HN();return{$:a,Tm:k};break;case 2:m=this.Vc;s1Z=5;break;case 4:return{$:!1};break;}}};a.prototype.JZa=function(a,b,d,f,g){var I1Z,m,p,t,l,S38,i38,U38,X38;I1Z=2;while(I1Z!==6){S38=" ";S38+="f";S38+="r";S38+="om [ ";i38="AseF";i38+="ragm";i38+="entMedia";i38+="Request: Fragment edit fai";i38+="led for ";U38="medi";U38+="a";U38+="|";U38+="asejs";X38="M";X38+="P";X38+="4";switch(I1Z){case 3:this.M===h.Fa.AUDIO&&d&&(f?g&&this.Y7():this.Coa(d)?d.Qa&&this.Qa&&this.Qa.start!==d.Qa.end&&this.yj({start:d.Qa.end}):(p=this.bZa(b),d.te===this.qc&&(p.Ir=0)));0>=this.duration&&(l=!1,m=!0);l&&(this.Qa&&(0<this.Qa.start||p.Ir)?(m=new c.fv(new k.Console(X38,U38),this.stream,this.response),(b=m.zFa(this.Qa.start,this.FF,p.Ir,p.yea))?(m=a.appendBuffer(q.Qq(b.yg),q.Pl(this)),t=this.kS(p),this.ZR(b.yg)):(this.I.error(i38+this.toString()+S38+this.yw+"-"+this.dV+"]"),m=!0)):m=a.appendBuffer(this.response,q.Pl(this)));return{$:m,Tm:t};break;case 2:p={Ir:0};m=!1;l=!0;I1Z=3;break;}}};o1Z=6;break;case 2:a.prototype.Coa=function(a){var X1Z;X1Z=2;while(X1Z!==1){switch(X1Z){case 2:return a&&a.u===this.u&&a.Iwa===this.Iwa?!0:!1;break;}}};a.prototype.aZa=function(a){var C1Z,b,c,d;C1Z=2;while(C1Z!==7){switch(C1Z){case 2:b=this.Vc;C1Z=5;break;case 9:Array.isArray(a)&&Array.isArray(b.Kq)?a=a.filter(function(a){var H1Z,p1Z;H1Z=2;while(H1Z!==1){switch(H1Z){case 2:j4tt.t38(1);p1Z=j4tt.b38(14,14);return p1Z!==b.Kq.indexOf(a);break;case 4:return~0==b.Kq.indexOf(a);break;H1Z=1;break;}}}):Array.isArray(b.Kq)?a=b.Kq:Array.isArray(a)||(a=[]);return-1!==a.indexOf(this.profile)?{Awa:!!c,UFa:!c,Jfa:!c||!d}:{Awa:!1,UFa:!1,Jfa:!d};break;case 5:c=void 0!==b.Cx?b.Cx:a&&a.Cx;d=void 0!==b.Bx?b.Bx:a&&a.Bx;a=a&&a.Kq;C1Z=9;break;}}};a.prototype.woa=function(a,b,c){var B1Z,d,f,g,C38,o38;B1Z=2;while(B1Z!==13){C38="d";C38+="e";C38+="fa";C38+="u";C38+="lt";o38="de";o38+="f";o38+="au";o38+="l";o38+="t";switch(B1Z){case 2:g=this.Vc;a=this.aZa(a);B1Z=4;break;case 4:B1Z=void 0!==g.XL&&null!==g.XL?3:14;break;case 3:B1Z=(d=(void 0!==b?b:g.XL)||0,b=g.Hza&&g.Hza[this.stream.profile])?9:8;break;case 8:a.Ir=a.Jfa?void 0!==d?d:1:0;a.yea=void 0!==f?f:a.UFa;return a;break;case 9:f=b.name,d=void 0!==b[c]?b[c]:void 0!==b[o38]?b[C38]:d;B1Z=8;break;case 14:a.Jfa=!1;B1Z=8;break;}}};a.prototype.bZa=function(a){var j1Z,a38;j1Z=2;while(j1Z!==1){a38="o";a38+="n";a38+="E";a38+="n";a38+="try";switch(j1Z){case 4:return this.woa(a,this.Vc.Iza,"");break;j1Z=1;break;case 2:return this.woa(a,this.Vc.Iza,a38);break;}}};o1Z=3;break;case 6:a.prototype.KZa=function(a,b,d,f,g){var b1Z,k,m,p,t,d38,n38;b1Z=2;while(b1Z!==6){d38=" f";d38+="rom";d38+=" [";d38+=" ";n38="Ase";n38+="Fragment";n38+="MediaRequest: Fragment edit ";n38+="failed for ";switch(b1Z){case 2:b1Z=1;break;case 9:m&&0===this.duration&&(m=!1);m?this.Qa&&this.Qa.end<this.pL||p.Ir?(m=new c.fv(this.I,this.stream,this.response),(m=m.DFa(this.Qa&&this.Qa.end,this.W,p.Ir,p.yea))?(a=a.appendBuffer(q.Qq(m.yg),q.Pl(this)),t=this.kS(p),this.ZR(m.yg)):(this.I.error(n38+this.toString()+d38+this.yw+"-"+this.dV+"]"),a=!0)):a=a.appendBuffer(this.response,q.Pl(this)):a=!0;return{$:a,Tm:t};break;case 1:k=this.Vc;p={Ir:0};m=!0;this.M===h.Fa.AUDIO&&(f?g&&(this.icb(),m=0<this.Qa.end):this.Coa(d)?d.Qa&&0!==d.Qa.start?this.yj({start:0,end:d.Qa.start}):m=!1:(p=this.cZa(b),k.Fr||(b=this.GYa(b,d,p.Awa),(m=b.zyb)&&b.Pnb&&!p.yea&&(p.Ir=0))));b1Z=9;break;}}};return a;break;}}function a(){var L1Z,R38;L1Z=2;while(L1Z!==1){R38="1SI";R38+="YbZrNJ";R38+="C";R38+="p9";switch(L1Z){case 4:"";L1Z=8;break;L1Z=1;break;case 2:R38;L1Z=1;break;}}}}();d.qEb=g;d["default"]=new g();},function(g,d,a){var c,f,h,q,b,k,p,t;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(13);h=a(97);g=a(3);q=a(16);a(8);b=a(213);k=a(70);p=a(222);t=g.Lj;a=function(a){function b(b,c,d,g,h,m,q){var l,u;g=a.call(this,b,d,g,m,q)||this;h=k.pi.prototype.toString.call(g)+(h?"(cache)":"");l={offset:d.offset,ba:d.pca,responseType:0};g.push(new p.vP(b,c,h+"(moof)",l,g,m,q));l={offset:d.offset+l.ba+8,ba:d.ba-(l.ba+8),responseType:t.oc&&!t.oc.mG.ty?0:1};if(g.M===f.Fa.VIDEO&&g.Qa){if(0<g.Qa.start){if(u=g.owa(g.Qa.start))l.offset=d.offset+u,l.ba=d.ba-u;}else g.Qa.end<g.pL&&(u=g.owa(g.Qa.end))&&(l.ba-=d.ba-u);}g.push(new p.vP(b,c,h+"(mdat)",l,g,m,q));return g;}c.__extends(b,a);b.prototype.vD=function(a){var b,c;if(this.Ci)return{$:!0};if(!this.Xz())return{$:!1};c=!1;if(this.Lwa)c=a.appendBuffer(q.Qq(this.pva),q.Pl(this));else if(this.Qa&&0<this.Qa.start){b=new h.fv(this.I,this.stream,this.wa[0].response);if(b=b.zFa(this.Qa.start,this.W))c=a.appendBuffer(q.Qq(b.yg),q.Pl(this)),this.ZR(b.yg);b=this.kS();}else if(this.Qa&&this.Qa.end<this.pL){b=new h.fv(this.I,this.stream,this.wa[0].response);if(b=b.DFa(this.Qa.end,this.W))c=a.appendBuffer(q.Qq(b.yg),q.Pl(this)),this.ZR(b.yg);b=this.kS();}else c=a.appendBuffer(this.wa[0].response,q.Pl(this));c&&(c=a.appendBuffer(h.xM(this.wa[1].ba),q.Pl(this)))&&(c=a.appendBuffer(this.wa[1].response,q.Pl(this)));this.Ci=c;this.svb();return{$:c,Tm:b};};return b;}(b.EB);d.OKa=a;},function(g,d,a){var c,f,h,q,b,k,p,t,l,n,r;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(8);h=a(6);q=a(214);b=a(789);k=a(786);p=a(785);t=a(784);g=a(85);l=a(3);n=a(783);r=l.Promise;a=function(a){function d(b,c,d,f,g,h){b=a.call(this,b)||this;b.K=c;b.I=d;b.Hs=f;b.Lc=g;b.Ve=h;b.vJa=!0;b.sm=new n.eLa(b.I);b.Md=b.I.error.bind(b.I);b.Ia=b.I.warn.bind(b.I);b.fj=b.I.trace.bind(b.I);b.xqa();return b;}c.__extends(d,a);Object.defineProperties(d.prototype,{console:{get:function(){return this.I;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{M:{get:function(){return this.Ve;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Dd:{get:function(){return this.Lc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{jB:{get:function(){return 0<this.TA;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Xfa:{get:function(){return!this.LI;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{TA:{get:function(){return this.wa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Pr:{get:function(){return this.wa.Pr;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{pub:{get:function(){return this.sm.count;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ik:{get:function(){return this.wa.xta;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Zk:{get:function(){return void 0===this.wa.qc?0:this.wa.te-this.wa.qc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Dm:{get:function(){return{ba:this.wa.mz,Ma:Math.max(this.wa.xta-this.wa.qc,0)||0};},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{OD:{get:function(){return this.wa.R7a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{mz:{get:function(){return this.wa.mz;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{m5:{get:function(){return this.wa.ba;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{tu:{get:function(){return this.g_a();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{oY:{get:function(){return this.wa.Lkb;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{bW:{get:function(){return this.wa.length>this.wa.Pr;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Mn:{get:function(){return this.wa.Mn;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{TDa:{get:function(){return this.wa.length-this.rm;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{X:{get:function(){return this.wa;},enumerable:!0,configurable:!0}});d.prototype.Tg=function(){this.wa.forEach(function(a){a.abort();a.ic();});this.xqa();this.sm.s8();};d.prototype.reset=function(){this.Tg();this.sm.kG();};d.prototype.close=function(){this.sm.s8();};d.prototype.y7a=function(){this.K2&&(this.K2=!1,this.sm.kG());};d.prototype.Oxb=function(){this.K2=!0;};d.prototype.O$a=function(a,b,c,d){var g,m;g=this.K;h.U(d)||(b.location=d.location,b.Fb=d.cc,b.nfa=d.Fo);m=a.O.jO;m&&(b.GZ=m.Fm({cK:a.Nk(this.Ve),TX:g.Ocb?g.TX:void 0,zIa:String(l.time.fa()),RT:g.Ccb?a.O.Hp[this.Ve]:void 0}));f.assert(!b.fo);g.Ncb?a=new p.VKa(d,g,c.track,b,this.wa,this.I):d.O.EU(this.Ve)?(a=new k.RKa(d,g,c.track,b,this.wa,!1,this.I),g.Bva&&(b=new t.aLa(d,g,c.track,b,this.wa,!1,this.I),b.Ub(this),b.vr())):a=q.O_.create(d,g,c.track,b,this.wa,!1,this.I);a.Ub(this);this.tD(a);return a;};d.prototype.a4a=function(a){var b;a.Ub(this);a.j5=!0;this.tD(a);b=r.resolve();a.complete?(this.d3(a),this.Hs.VCa(a.stream,a.qc,a.Oc),b=this.QO(),this.up(a)):(a.active&&this.Jz(a),a.oFa&&this.Iz(a));return b;};d.prototype.tD=function(a){this.wa.Qm(a);this.d3(a);a.$t&&(this.LI=!1);};d.prototype.FL=function(){return this.sm.Rfb();};d.prototype.ata=function(){this.rm===this.wa.length&&this.K2&&this.sm.s8();};d.prototype.QO=function(){var a,b,c,d;a=this;c=r.resolve();d=this.Lc;if(!d.Mza(this.Ve)||this.rm===this.wa.length)return c;for(var f=this.K.yob,g=0,k=[];this.rm<this.wa.length;){if(b=this.wa.get(this.rm)){if(this.wa.uwa&&this.wa.uwa.gb<b.gb)break;if(!b.Xz())break;k.push(b);++g;h.ka(this.qc)||(this.qc=b.qc);}++this.rm;if(!h.U(f)&&g>=f)break;}k.length&&(void 0!==this.sm.count&&(this.Md("Request Manager count"),this.sm.kG()),this.vJa?c=r.all(k.map(function(b){return a.sm.enqueue(b).then(function(){return a.UV(b);});})):(d.fib(this.M).Dbb(k),k.forEach(function(b){return a.UV(b);})),this.ata());return c;};d.prototype.UV=function(a){this.Ewa(a);};d.prototype.Jub=function(a){var d;for(var b,c=0;c<this.wa.length;++c){d=this.wa.get(c);d&&a<d.te&&(h.U(b)&&(b=c),d.Ci=!1);}h.U(b)||(this.rm=b,this.sm.kG());return this.QO();};d.prototype.$Y=function(){this.v1a();};d.prototype.wN=function(a,b){var c,d,f,g,h;c=this;d=this.K;f=!1;g=0;h=this.wa.some(function(h){if(a<h.te)return f&&c.d3(h),!0;++g;h.Ci||(c.Ia("pruning unappended request:",h&&h.toString()),d.Vf&&c.Hs.Ni("prune pts:"+a+" unappended request:"+(h&&h.toString())),h.X8&&(c.LI=!1,f=!0),c.tYa(h,b)||c.Md("MediaRequest.abort error:",h.$h));});0<g&&(this.wa.splice(0,g),this.rm-=Math.min(g,this.rm));return h;};d.prototype.FV=function(a){var b,c,d;void 0===a&&(a={Ik:null,WF:null,qc:null,Qi:0,Eh:0,X:[]});b=this.K;c=this.wa;h.ka(c.qc)&&(null===a.qc||c.qc<a.qc)&&(a.qc=c.qc);d=this.Ik;void 0!==d&&null===a.Ik&&(a.Ik=d);d=c.te;void 0!==d&&(null===a.WF||d>a.WF)&&(a.WF=d);a.Qi+=c.Qi;a.Eh=b.Lfa?a.Eh+c.Lub:a.Eh+c.mz;Array.prototype.unshift.apply(a.X,c.vZ.X);return a;};d.prototype.Vq=function(a){if(this.wa.length&&(a=this.wa.lwa(a)))return a;};d.prototype.hq=function(){var a,b;a=this;b=[];this.wa.forEach(function(c){var d;d=c.u_();1===d?b.push(c):2===d&&a.Dd.O.ji("swapUrl failure");});return b;};d.prototype.Ti=function(a){return this.K.FN?(this.sm.clear(),this.Jub(a)):r.resolve();};d.prototype.eN=function(a){a.Zz&&a.Xz()&&this.QO();this.Iz(a);};d.prototype.Oi=function(a){a.Zz&&!a.Ci&&this.QO();this.up(a);};d.prototype.p5=function(a){var b,c,d;b=1===this.Ve?"v_":"a_";c=this.wa;d=c.BE(a);a=0<=d?c.get(d):void 0;return(c=0<=d&&d+1<c.length?c.get(d+1):void 0)&&a?a.te!==c.qc?b+"rg":a.complete&&c.complete?b+"uk":b+"fd":b+"rm";};d.prototype.g_a=function(){return this.wa.Mn+this.wa.Pr;};d.prototype.xqa=function(){this.wa=new b.QKa(this.I,this);this.rm=0;this.sm.clear();this.qc=null;this.LI=!1;};d.prototype.d3=function(a){this.LI?a.X8=!1:this.LI=a.X8=!0;};d.prototype.tYa=function(a,b){if(!a.abort())return!1;"function"===typeof b&&b(a);return!0;};d.prototype.v1a=function(){var a,b;a=this;b=0;this.wa.fub(function(c,d){d<a.rm&&++b;});this.rm-=b;};return d;}(g.Vr);d.eWa=a;},function(g,d,a){var c,f,h,q,b;Object.defineProperty(d,"__esModule",{value:!0});c=a(13);f=a(16);h=a(29);q=a(114);b=a(3);g=function(){function a(a,b,c,d,f){this.lU=a;this.Ft=b;this.K=c;this.I=d;this.Ve=f;}a.prototype.Aqb=function(a){a={type:"requestCreated",request:a};f.Ga(this.Ft,a.type,a);};a.prototype.zqb=function(a){var b;b=a.Sa.Dd.la;a={type:"updateStreamingPts",position:{$a:b.id,offset:h.Ta.Mm(a.$d-b.T)},UG:a.stream.track.UG};f.Ga(this.Ft,a.type,a);};a.prototype.VCa=function(a,c,d){var g,h;g=this.Ve;h=this.lU.$p;h.WZ(a);1===g&&this.K.lZ&&(void 0===h.iM?h.iM=b.time.fa():b.time.fa()-h.iM>this.K.lZ&&(a.R!==h.Zaa&&(b.storage.set("vb",a.R),h.Zaa=a.R),h.iM=b.time.fa()));h.fA&&h.fA===a||(this.lU.IG.WZ(c,h.fA,a),h.fA=a,c=0,a.jb&&a.jb.Fd&&a.jb.Da&&(c=a.jb.Da.Ca),a={type:"streamSelected",nativetime:b.time.fa(),mediaType:g,streamId:a.id,manifestIndex:a.O.Ua,trackIndex:a.track.CJ,streamIndex:a.Ch,movieTime:d,bandwidth:c,longtermBw:c,rebuffer:0},f.Ga(this.Ft,a.type,a));};a.prototype.vqb=function(a,b,d){var g,h,k,m,p;g=b.O;h=g.ck;k=this.lU.$p;m=g.$lb(b);p=m.Jaa;m=m.amb;d&&b.cc&&!k.hM?(m=c.qg.qs,b.Fo=c.qg.name[m],this.UCa(g.Ua,a,b.cc,b.Fo,b.location,b.R),k.hM=b.cc):!d&&b.cc&&b.cc!==k.hM&&(m=m?void 0===k.hM?c.qg.qs:h.tG===c.qg.Z1?c.qg.pWa:c.qg.T_:c.qg.oWa,b.Fo=c.qg.name[m],this.UCa(g.Ua,a,b.cc,b.Fo,b.location,b.R),k.hM=b.cc);k.kF||(m={type:"logdata",target:"startplay",fields:{}},this.Ve===c.Fa.AUDIO?m.fields.alocid=b.location:this.Ve===c.Fa.VIDEO&&(m.fields.locid=b.location),f.Ga(this.Ft,m.type,m));d&&b.location&&!k.kF?(m=c.qg.qs,b.Fo=c.qg.name[m],this.SCa(g.Ua,a,b.location,b.kba,b.cc,b.bB,b.Fo,b.xr),k.kF=b.location):!d&&b.location&&b.location!==k.kF&&(m=p?void 0===k.kF?c.qg.qs:h.tG===c.qg.Z1?c.qg.nRa:c.qg.T_:c.qg.mRa,b.Fo=c.qg.name[m],this.SCa(g.Ua,a,b.location,b.kba,b.cc,b.bB,b.Fo,b.xr),b.xr=void 0,k.kF=b.location);this.K.Qp||(b.DAa=b.location,b.FAa=b.cc);};a.prototype.UCa=function(a,b,d,g,h,k){var m,p;m=this.Ve===c.Fa.VIDEO?"video":"audio";p=q.Ae().get(!1);a={type:"serverSwitch",manifestIndex:a,segmentId:b,mediatype:m,server:d,reason:g,location:h,bitrate:k,confidence:p.Fd};p.Fd&&(a.throughput=p.Da.Ca);this.lU.$p.hM&&(a.oldserver=d);f.Ga(this.Ft,a.type,a);};a.prototype.SCa=function(a,b,d,g,h,k,m,q){f.Ga(this.Ft,"locationSelected",{type:"locationSelected",manifestIndex:a,segmentId:b,mediatype:this.Ve===c.Fa.VIDEO?"video":"audio",location:d,locationlv:g,serverid:h,servername:k,selreason:m,seldetail:q});};a.prototype.c4=function(a,b){b={type:"lastSegmentPts",segmentId:a.id,pts:Math.floor(b)};a.lx||f.Ga(this.Ft,b.type,b);};a.prototype.Ni=function(a){a={type:"managerdebugevent",message:"@"+b.time.fa()+", "+a};f.Ga(this.Ft,a.type,a);};return a;}();d.$Ua=g;},function(g,d,a){var c,f,h,q,b,k,p,t,l,n,r,B,I,C,K,Q;Object.defineProperty(d,"__esModule",{value:!0});c=a(27);f=a(379);h=a(21);q=a(16);b=a(378);k=a(764);p=a(3);t=a(8);l=a(164);n=a(762);r=a(761);B=a(758);I=a(757);C=a(755);K=a(753);Q=a(752);g=function(){function a(a,b,d,g,h,m){this.I=a;this.hi=b;this.weight=d;this.config=g;this.HL=h;this.mK=m;this.Dq=f.Px.CLOSED;this.navigator=new I.AVa(b);this.qjb=C.i8a(this.navigator,g.btb);this.hf=new K.tVa();this.sjb=new r.zPa(this.config,q.Ta.Mm(this.config.tX),{parent:function(){}});this.events=new c.EventEmitter();this.Hzb=new k.eXa(a,this.events);this.iz=new Q.MLa();this.MN=[];this.console=new p.Console("ASEJS_PLAYGRAPH","asejs");}a.Q$a=function(a,b,c){return{qT:a.qT,rT:a.rT,gmb:function(){return a.tBb(b,c);}};};Object.defineProperties(a.prototype,{state:{get:function(){return this.Dq;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Zp:{get:function(){return this.Iqa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{hz:{get:function(){return this.iz.state;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{kx:{get:function(){return this.iz.kx;},enumerable:!0,configurable:!0}});a.prototype.open=function(){if(this.Dq!==f.Px.CLOSED)return!1;this.Dq=f.Px.OPEN;return!0;};a.prototype.close=function(a){this.Dq!==f.Px.CLOSED&&(this.Osa(),this.Dq=f.Px.CLOSED,a&&this.ji(a.Nva));};a.prototype.jyb=function(a,b){this.D5=a;this.cha=b;};a.prototype.gyb=function(a){this.e5a=void 0;this.D_=a;};a.prototype.Wwb=function(a){n.bmb(this.hi,a)&&(void 0===this.D5||void 0===this.cha?this.ji("No track selectors available"):(this.Iqa=n.kqb(a),this.Rub(),this.jea(),this.iz.CG(this.Iqa),this.mK()));};a.prototype.Osa=function(){this.hf.reset();this.MN.forEach(function(a){return a.Jk();});this.MN=[];};a.prototype.fk=function(a){var b;t.assert(a);b=this.navigator.Ki(a.$a);b=this.HL(b.va);t.assert(void 0!==b,"Missing viewable corresponding to rebuffer graph position");b.fk();this.iz.fk(a);b.bY();this.mK();};a.prototype.Xra=function(a){var b;if(void 0!==this.V){if(this.V===a)return;this.V.Qua(this);this.V=void 0;}b=this.HV();a.W4a(this,b)?this.V=a:this.ji("player in use");};a.prototype.rbb=function(){void 0!==this.V&&(this.V.Qua(this),this.V=void 0);};a.prototype.rjb=function(a){var b;b=this.navigator.Ki(a.$a);a=b.iB.add(a.offset);return{va:b.va,q8a:a};};a.prototype.JV=function(){var b,c,d,f;b=this;f=(null===(d=null===(c=this.V)||void 0===c?void 0:c.position)||void 0===d?void 0:d.offset)||q.Ta.Mm(0);return this.hf.reduce(function(c,d){var g,h,k;g=0;for(d=d.Wxa();g<d.length;g++){h=d[g];k=b.sjb.gxb(b.hz.value,f,h,0===h.M?b.e5a:b.D_);k&&c.push(a.Q$a(h,k,b.MN[h.M]));}return c;},[]);};a.prototype.ji=function(a,b,c,d,f,g){this.Hzb.ji(a,b,c,d,f,g);};a.prototype.HV=function(){var a,b;b=(null===(a=this.Zp)||void 0===a?void 0:a.$a)||this.hi.rh;return(a=this.hf.cxa(b)[0])?[a]:[];};a.prototype.jea=function(){var a,b;a=this.hib();if(void 0!==a){a=this.navigator.Ki(a);b=this.igb();a=B.jea(this.navigator,this.qjb,a,b,q.Ta.Mm(this.config.$5a));this.hf.GBb(a,this.e$a.bind(this));}};a.prototype.hib=function(){var a,b,c;return b=null===(a=this.V)||void 0===a?void 0:a.position.$a,null!==b&&void 0!==b?b:null===(c=this.Zp)||void 0===c?void 0:c.$a;};a.prototype.igb=function(){return this.hf.filter(function(a){return a.aT;}).map(function(a){return a.la.id;});};a.prototype.P0a=function(){var a;null===(a=this.V)||void 0===a?void 0:a.Lba();};a.prototype.Q0a=function(){};a.prototype.e$a=function(a){var c,d,f,g,h,k,m,p;g=this.navigator.Ki(a);h=this.navigator.Agb(g);t.assert(2>h.length,"Playgraph loops are not yet supported");k=(h=0<h.length?this.hf.cxa(h[0].id):void 0)&&h[0];h=0;k&&(h=k.ga+k.Ed-g.iB.Ma);m=this.HL(g.va);t.assert(void 0!==m);p=a===(null===(c=this.Zp)||void 0===c?void 0:c.$a)?g.iB.add(this.Zp.offset):g.iB;c=new b.$_(this.config,this.console,m,this.events,g,this.hxb(m),g.iB,p,h,function(){return 0;},k,[],this.hz);null===(d=c.events)||void 0===d?void 0:d.on("branchBufferingComplete",this.P0a.bind(this));null===(f=c.events)||void 0===f?void 0:f.on("branchStreamingComplete",this.Q0a.bind(this,c));this.YR(a,m,h);return c;};a.prototype.Rub=function(){var a,b,c,d,f;a=this;t.assert(this.Zp);c=l.kq.Ae;d=this.navigator.Ki(this.Zp.$a);f=null===(b=this.HL(d.va))||void 0===b?void 0:b.u;this.MN.forEach(function(a){return a.Jk();});this.MN=h.Of.map(function(b){return c.UD(b,f,!0,!1,{},a.config);});};a.prototype.hxb=function(a){var b,c;t.assert(this.D5,"Expected audio track selector to be defined");t.assert(this.cha,"Expected video track selector to be defined");b=this.D5.cfa(a.ta,a.ta.nT);b=a.getTracks(0)[b];c=this.cha.cfa(a.ta,a.ta.jP);a=a.getTracks(1)[c];return[b,a];};a.prototype.YR=function(a,b,c){a={type:"segmentStarting",segmentId:a,contentOffset:c,maxBitrates:{audio:b.Hp[0],video:b.Hp[1]}};this.events.emit(a.type,a);};return a;}();d.XKa=g;},function(g,d,a){var c,f,h,q,b;Object.defineProperty(d,"__esModule",{value:!0});c=a(215);f=a(165);h=a(13);q=a(29);g=function(){function a(a,c){this.K=a;this.I=c;this.Z3=this.T3=this.sv=q.Ta.De;this.VR=void 0;this.fj=this.I.trace.bind(this.I);this.YCa=new b(a,c);}a.prototype.Pea=function(a,b,c,d,f,g,k,m,l){var p,t,u,n,y,r,D;p=!1;a=a===h.Fa.AUDIO&&!!b.Qa&&this.U1a(b.stream);t=q.Ta.De;u=b.console;if(a){n=b.stream.La;y=this.e_a(b.profile,n);r=b.Ex+b.bn;if(b.$t)b=new q.Ta(b.ga-r,1E3),p=this.sv.add(b).TV(y);else if(void 0!==c){D=b.VF;new q.Ta(r-b.T,1E3);r=this.sv.add(c.kd(D));if(D.add(n).IAa(c)||r.TV(y))p=!0,D.add(n),r=r.kd(n);r.IF(this.sv)&&r.lessThan(q.Ta.MF.RM(-8))?(p=a=!1,this.YCa.reset(),this.sv=q.Ta.De,k=d.add(f),m(k),u.error("Unexpected seamless audio sync "+r.toString()+" at content pts "+b.Oc+" in stream "+b.stream.pa+" following "+g.$d)):(g=d.add(r).add(f),k=this.YCa.round(b,k,g,p),m(k),r.IF(this.sv)&&(this.T3=q.Ta.max(this.T3,r),this.Z3=q.Ta.min(this.Z3,r),l(this.T3,this.Z3),t=r.kd(this.sv),this.sv=r));}}return{Pea:a,hcb:p,h5a:t};};a.prototype.U1a=function(a){void 0===this.rJ&&(this.rJ=f.zra(this.K,a));return this.rJ;};a.prototype.e_a=function(a,b){void 0===this.VR&&("object"===typeof this.K.Qea&&this.K.Qea[a]?(a=new q.Ta(this.K.Qea[a],1E3).pg(b.W).add(new q.Ta(1,b.W)),this.VR=q.Ta.min(b,a)):this.VR=b);return this.VR;};return a;}();d.KWa=g;b=function(){function a(a,b){this.K=a;this.I=b;this.FS=0;}a.prototype.round=function(a,b,c,d){this.K.Fr||(a=this.XYa(a,c,d),b=b.kd(a),b.TV(q.Ta.MF.RM(2))?(c=c.kd(q.Ta.MF),++this.FS):this.FS&&b.lessThan(q.Ta.MF)&&(c=c.add(q.Ta.MF),--this.FS));return c;};a.prototype.reset=function(){this.FS=0;};a.prototype.XYa=function(a,b,d){var f;f=a.QD;this.K.On&&a.stream.ii&&(f=f.kd(a.stream.ii));d&&(f=f.add(a.stream.La));return c.sCa(f).add(c.sCa(b));};return a;}();},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function d(c,b){c=a.call(this,d.vfb(c,b))||this;c.OZa=b;c.name="AggregateError";return c;}c.__extends(d,a);d.vfb=function(a,b){return b.reduce(function(a,b){return a+"\n"+b;},a);};Object.defineProperties(d.prototype,{xE:{get:function(){return this.OZa;},enumerable:!0,configurable:!0}});return d;}(Error);d.DKa=g;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(128);f=a(82);g=function(){function a(a,b,c){this.I=a;this.QYa=b;this.Ve=c;this.tR=0;this.QR=!1;f.nb&&a.trace("creating new iterator for "+this.Ve);}Object.defineProperties(a.prototype,{k7:{get:function(){return this.Ioa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Plb:{get:function(){return this.QR;},enumerable:!0,configurable:!0}});a.prototype.next=function(){var a,b;a=this;b=this.ol;return b?b.next().then(function(c){if(a.ol!==b)return{done:!0};c.done||(a.tR+=c.value.length);return c;}):c.HB.v$();};a.prototype.kwb=function(){this.KHa();this.Qub();};a.prototype.KHa=function(){var a;if(this.ol){a=this.ol;a&&a.Uf();a&&f.nb&&this.I.trace("Disposing iterator that was on branch",this.k7&&this.k7.la);this.QR=!1;this.ol=void 0;}};a.prototype.Qub=function(){var a,b,d,g;a=this;if(!this.QR){b=this.I;d=this.QYa;g=this.Ve;this.tR=0;this.Ioa=void 0;this.ol=c.Mt(c.map(d.HV(),function(c){var d;a.Ioa=c;a.tR=0;f.nb&&b.trace("Received branch",c.la);d=c.FL(g);if(d)return{value:d};f.nb&&b.error("Skipping Branch",c.la);return{value:[]};},b),b);this.QR=!0;}};return a;}();d.JLa=g;},function(g,d,a){var c,f,h,q,b,k;Object.defineProperty(d,"__esModule",{value:!0});c=a(381);f=a(3);h=a(216);q=a(8);b=a(215);k=a(380);g=function(){function a(a,b,c,d,f){var g;g=this;this.Pd=a;this.V=b;this.I=c;this.K=d;this.IM=f;this.Cn=new h.n2(this.I);this.I$a();this.m4=new k.k2(this.Ay,function(){return g.aY();},function(){return g.V.position.offset.Ma;});}a.prototype.Hdb=function(a){this.Cn.enqueue(a);};a.prototype.aY=function(){q.assert(this.Pd);this.Pd.iz.vg(this.V.position.offset.Ma,this.V.position.offset.Ma);this.V.events.emit("bufferingComplete",{type:"bufferingComplete",actualStartPosition:this.V.position,time:f.time.fa()});};a.prototype.reset=function(){this.Ay.forEach(function(a){a.reset();});this.m4.reset();};a.prototype.fk=function(){this.m4.reset();};a.prototype.HV=function(){return this.Cn.Ixa();};a.prototype.I$a=function(){var a,d;a=this;d=new f.MediaSource(this.V.V);this.Ue=d;d.ZS(this.IM);this.Ay=d.sourceBuffers.map(function(f){var g;g=new b.Rha(a.I,f.M,d,f,a.K,{sd:function(){return a.V.V.Xc.Ma;},dr:function(b){return a.V.Uza(Number(b));}});return new c.Eha(g,f.M,a,a.I);});this.m4=new k.k2(this.Ay,function(){return a.aY();},function(){return a.V.position.offset.Ma;});};a.prototype.Tg=function(){this.Pd.iz.Ebb();this.Ay.forEach(function(a){return a.stop();});this.Ue.Jk();};return a;}();d.cLa=g;},function(g,d,a){var c,f,h,q;Object.defineProperty(d,"__esModule",{value:!0});c=a(27);f=a(8);h=a(3);q=a(798);g=function(){function a(a,b){var d;d=this;this.V=a;this.IM=b;this.events=new c.EventEmitter();this.XK=[];this.V.on("underflow",function(){return d.fk();});}Object.defineProperties(a.prototype,{Pd:{get:function(){var a;return null===(a=this.kT)||void 0===a?void 0:a.Pd;},enumerable:!0,configurable:!0}});a.prototype.Lba=function(){};Object.defineProperties(a.prototype,{position:{get:function(){return{$a:"s0",offset:this.V.Xc};},enumerable:!0,configurable:!0}});a.prototype.sfa=function(a){-1===this.XK.indexOf(a)&&this.XK.push(a);};a.prototype.Nxb=function(a){a=this.XK.indexOf(a);-1!==a&&this.XK.splice(a,1);};a.prototype.Uza=function(a){return-1!==this.XK.indexOf(a);};a.prototype.pEa=function(a){if(void 0!==this.Pd)return{$a:this.Pd.hi.rh,offset:a};};a.prototype.Gya=function(a){if(void 0!==this.Pd&&a.$a===this.Pd.hi.rh)return a.offset;};a.prototype.Qua=function(a){var b;f.assert(this.Pd===a);null===(b=this.kT)||void 0===b?void 0:b.Tg();this.kT=void 0;};a.prototype.W4a=function(a,b){var c;if(void 0!==this.Pd)return!1;c=new q.cLa(a,this,new h.Console(),a.config,this.IM);b.forEach(function(a){return c.Hdb(a);});this.kT=c;a.iz.Dcb(this.events);return!0;};a.prototype.fk=function(){var a;f.assert(this.Pd);this.Pd.fk(this.pEa(this.V.Xc));null===(a=this.kT)||void 0===a?void 0:a.fk();};return a;}();d.WKa=g;},function(g,d,a){var f,h;function c(a){this.K=a;this.ZI();}f=a(6);h=a(3);new h.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var a;a=this.Yc();h.storage.set("nh",a);};c.prototype.lzb=function(){this.Ry||(this.Ry=!0,this.Js=h.time.fa());};c.prototype.xzb=function(){var a;if(this.Ry){a=h.time.fa();this.Ps+=a-this.Js;this.Js=a;this.Ry=!1;this.YI=null;}};c.prototype.Kza=function(a,b){this.Ry&&(b>this.Js&&(this.Ps+=b-this.Js,this.Js=b),null===this.YI||a>this.YI)&&(a=b-a,this.NC.push([this.Ps-a,a]),this.z2a(),this.YI=b);};c.prototype.z2a=function(){var a;a=this.Ps-this.K.Zpb;this.NC=this.NC.filter(function(b){return b[0]>a;});};c.prototype.ZI=function(){var a;a=h.storage.get("nh");this.A4(a)||(this.Js=h.time.fa(),this.Ps=0,this.Ry=!1,this.YI=null,this.NC=[]);};c.prototype.A4=function(a){if(!(a&&f.has(a,"t")&&f.has(a,"s")&&f.has(a,"i")&&f.ka(a.t)&&f.ka(a.s)&&f.isArray(a.i)))return!1;this.Js=h.time.Oca(1E3*a.t);this.Ps=1E3*a.s;this.Ry=!1;this.NC=a.i.map(function(a){return[1E3*a[0],a[1]];});this.YI=null;return!0;};c.prototype.Yc=function(){return this.Ry?{t:h.time.now()/1E3|0,s:(this.Ps+(h.time.fa()-this.Js))/1E3|0,i:this.NC.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:h.time.oca(this.Js)/1E3|0,s:this.Ps/1E3|0,i:this.NC.map(function(a){return[a[0]/1E3|0,a[1]];})};};g.P=c;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(86);g=function(){function a(){}a.prototype.mrb=function(a,b){var d;d=this;return 0<b.length?c.__spreadArrays(b).sort(f.N7a(function(b){return d.ZYa(b,a);})).some(function(a){return a.gmb();}):!1;};a.prototype.ZYa=function(a,b){return a.rT.lessThan(b)?a.qT.Ma:a.rT.kd(b).add(a.qT).Ma;};return a;}();d.APa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});},function(g,d,a){var p,t,l,n,r,B,I;function c(a){var b,d,f;a=a.parent;b=!1;if(a&&a.children){d={};d[B.Mj]=[];d[B.Yi]=[];d[B.TEMPORARY]=[];f=a.children;f.forEach(function(a){a&&d[a.ce].push(a);});0<d[B.Mj].length||(d[B.Yi].length===f.length?a.ce!==B.Yi&&(a.ce=B.Yi,r.error("PERM failing :",l.fg.name[a.Bz]+" "+a.id),b=!0):(a.ce===B.Mj&&(a.ce=B.TEMPORARY,r.error("TEMP failing :",l.fg.name[a.Bz]+" "+a.id),b=!0),d[B.TEMPORARY].forEach(function(a){a.ce=B.Mj;})),b&&c(a));}}function f(a){var c;for(var b=[];a;a=a.parent)switch(a.Bz){case l.fg.sy:c=a;b.unshift(c.id+"("+c.name+")");break;case l.fg.tka:b.unshift(a.id);break;case l.fg.URL:b.unshift("<url for "+a.stream.R+">");}return b.length?"/"+b.join("/"):"";}function h(a){var b;if((a=a.parent)&&0<a.children.length&&a.ce!==B.Mj){b={};b[B.Mj]=[];b[B.Yi]=[];b[B.TEMPORARY]=[];a.children.forEach(function(a){a&&b[a.ce].push(a);});0<b[B.Mj].length&&(a.ce=B.Mj,h(a));}}function q(a){return a.ce!==B.Mj;}function b(a){switch(a.ce){case B.Mj:return"OK";case B.Yi:return"FAILED PERMANENTLY";case B.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID";}}function k(a,b){if(a.ce===B.TEMPORARY||a.ce===B.Yi&&b)a.ce=B.Mj;a.children&&a.children.forEach(function(a){a&&k(a,b);});}Object.defineProperty(d,"__esModule",{value:!0});p=a(0);t=a(6);g=a(27);l=a(13);n=a(3);r=new n.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.Mj=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.Yi=2]="PERMANENT";}(B||(B={})));(function(a){a[a.qs=0]="STARTUP";a[a.TVa=1]="REBUFFER";}(I||(I={})));a=function(a){var f38;f38=2;while(f38!==24){switch(f38){case 6:d.prototype.sD=function(a){var A38,b,D8V;A38=2;while(A38!==20){D8V="manif";D8V+="estA";D8V+="dded";switch(A38){case 9:a.servers.forEach(function(a){var v38,c,d,f;v38=2;while(v38!==14){switch(v38){case 5:v38=!b.Ho[c]?4:14;break;case 4:d=b.Pk[a.key];v38=3;break;case 2:c=a.id;v38=5;break;case 3:v38=d?9:14;break;case 9:f=[];a={id:c,Bz:l.fg.sy,ce:B.Mj,xr:void 0,parent:d,children:f,ld:f,name:a.name,type:a.type,tf:a.rank,location:d};b.Ho[a.id]=a;d.children.push(a);v38=14;break;}}});a.audio_tracks.forEach(function(a){var u38;u38=2;while(u38!==1){switch(u38){case 4:b.GEa(a);u38=9;break;u38=1;break;case 2:b.GEa(a);u38=1;break;}}});a.video_tracks.forEach(function(a){var x38;x38=2;while(x38!==1){switch(x38){case 4:b.GEa(a);x38=7;break;x38=1;break;case 2:b.GEa(a);x38=1;break;}}});A38=6;break;case 5:a.locations.forEach(function(a){var V38,c,d,f,g;V38=2;while(V38!==14){switch(V38){case 5:V38=!b.Pk[c]?4:14;break;case 2:c=a.key;V38=5;break;case 4:d=[];f=b.Yg.get(c);g=b.Rl;V38=8;break;case 8:a={id:c,Bz:l.fg.tka,ce:B.Mj,tf:a.rank,level:a.level,weight:a.weight,xr:void 0,parent:g,children:d,Ho:d,dc:{},jb:f};b.Pk[a.id]=a;g.children.push(a);V38=14;break;}}});this.UR=n.time.fa();this.mu.sort(function(a,b){var q38;q38=2;while(q38!==1){switch(q38){case 2:return a.level-b.level||a.tf-b.tf;break;}}});A38=9;break;case 10:this.dump();A38=20;break;case 2:b=this;A38=5;break;case 6:a=this.mu.filter(function(a){var D38,c;D38=2;while(D38!==3){switch(D38){case 2:c=a.Ho.every(function(a){var m38,n48;m38=2;while(m38!==1){switch(m38){case 2:return 0===a.ld.length;break;case 4:j4tt.g8V(0);n48=j4tt.B8V(14,3,23,10,10);return n48!=a.ld.length;break;m38=1;break;}}});c&&(a.Ho.forEach(function(a){var M38;M38=2;while(M38!==1){switch(M38){case 2:b.Ho[a.id]=void 0;M38=1;break;}}}),b.Pk[a.id]=void 0,a.parent=void 0,a.children.length=0,a.dc={});D38=4;break;case 4:return!c;break;case 14:return~c;break;D38=3;break;}}});a.forEach(function(a){var I38;I38=2;while(I38!==1){switch(I38){case 2:a.Ho.sort(function(a,b){var Z38;Z38=2;while(Z38!==1){switch(Z38){case 4:return a.tf+b.tf;break;Z38=1;break;case 2:return a.tf-b.tf;break;}}});I38=1;break;}}});this.mu=a;this.Rl.children=a;this.emit(D8V);A38=10;break;}}};d.prototype.WO=function(a,b){var K38,c,d,f,g,h,k,h8V,p8V,o8V,u8V;K38=2;while(K38!==15){h8V="(empty st";h8V+="ream lis";h8V+="t)";p8V="Did not find a UR";p8V+="L fo";p8V+="r ANY";p8V+=" st";p8V+="ream...";o8V="ne";o8V+="tworkFai";o8V+="led";u8V="Network has fai";u8V+="led";u8V+=", not updating stream selection";switch(K38){case 18:return this.cn(l.fg.fs,!1),!1;break;case 11:K38=!this.sG?10:20;break;case 6:h=l.Fe.ay;d.TM&&(h=l.Fe.$x);this.Vb.location&&f.Fd>=h&&(a=this.Pk[this.Vb.location])&&(a.jb=f);K38=12;break;case 20:k=this.sG;K38=19;break;case 2:c=this;d=this.config;f=this.Vb.get();g=0;n.jw&&n.jw(a);K38=8;break;case 10:return this.cn(l.fg.fs,!1),!1;break;case 19:K38=!k.length?18:17;break;case 8:K38=q(this.Rl)?7:6;break;case 12:t.Ja(this.sG)&&(this.sG=this.MBb());K38=11;break;case 7:return!1;break;case 17:b.forEach(function(a,b){var L38,m,r8V,S8V,C8V,m8V;L38=2;while(L38!==4){r8V=" ";r8V+="Kbp";r8V+="s)";S8V=" ";S8V+="(";C8V="]";C8V+=" ";m8V="Failing str";m8V+="eam ";m8V+="[";switch(L38){case 2:m=a.id;k.some(function(b){var W38,c,g;W38=2;while(W38!==7){switch(W38){case 4:return!1;break;case 2:c=b.dc[m];W38=5;break;case 5:W38=!c?4:3;break;case 3:g=c.Pk[0];void 0===a.FY&&(a.FY=g.id,a.Jda=c.XO[g.id][0].cc.id);return c.XO[b.id].some(function(c){var k38,m,x8V,R8V,Q8V,n8V;k38=2;while(k38!==11){x8V="locationfa";x8V+="ilov";x8V+="er";R8V="serverfail";R8V+="ove";R8V+="r";Q8V="perf";Q8V+="o";Q8V+="rma";Q8V+="nc";Q8V+="e";n8V="unk";n8V+="n";n8V+="o";n8V+="w";n8V+="n";switch(k38){case 9:m=n8V;a.location!==b.id&&(d.Qp?a.Jaa=b.id===g.id:m=b!==k[0]?""+l.qg.T_:void 0===a.location?""+l.qg.qs:t.U(a.DAa)||a.DAa===b.id?t.U(a.FAa)||a.FAa===c.cc.id?Q8V:R8V:x8V,a.location=b.id,a.kba=b.level,a.Fo=m);a.url=c.url;k38=6;break;case 1:k38=q(c.cc)?5:4;break;case 5:return c.cc.ce===B.TEMPORARY&&(a.ce=B.TEMPORARY),d.Qp&&a.cc===c.cc.id&&c.cc.xr&&(a.xr=c.cc.xr),!1;break;case 2:k38=1;break;case 3:return!1;break;case 4:k38=q(c)?3:9;break;case 12:return!0;break;case 6:a.cc=c.cc.id;a.bB=c.cc.name;a.jb=d.O5?b.jb.Fd>=l.Fe.$x||f.Fd<h?b.jb:f:f.Fd===l.Fe.HAVE_NOTHING||b.jb.Fd>=l.Fe.$x?b.jb:f;k38=12;break;}}});break;}}})?(a.Xg=void 0,a.ce=void 0,a.pf&&++g):a.ce&&a.ce===B.TEMPORARY?c.Rl.ce=B.TEMPORARY:a.Xg||(r.warn(m8V+b+C8V+m+S8V+a.R+r8V),a.B7a(),a.Xg=!0);L38=4;break;}}});return q(this.Rl)?(r.warn(u8V),this.OX=!0,this.emit(o8V,this.Rl.ce===B.Yi),!1):g?!0:(r.warn(p8V+(b.length?"":h8V)),this.cn(l.fg.fs,!0),!1);break;}}};d.prototype.Cxb=function(a,b){var O38,c,d;O38=2;while(O38!==9){switch(O38){case 2:c={};d=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;t.forEach(this.ld,function(f,g){var h38,h,k,m,p,I8V,c8V,d48;h38=2;while(h38!==13){I8V="8";I8V+="0";c8V="4";c8V+="4";c8V+="3";switch(h38){case 4:k=g.match(d);h38=3;break;case 2:f=f.parent?f.parent.id:"";h=c[f];h38=4;break;case 3:h38=k&&4===k.length?9:13;break;case 9:j4tt.g8V(1);d48=j4tt.t8V(13,14);m="s"===k[d48];p=k[2];k=k[3];k.length||(k=m?c8V:I8V);h38=14;break;case 14:t.ee(p)&&t.ee(k)&&p===a&&k==b&&(h?h.push(g):c[f]=[g]);h38=13;break;}}});O38=3;break;case 3:return c;break;}}};d.prototype.cn=function(a,d,g,h){var B38,g38,k,m,p,y8V,J8V,P8V,A8V,W8V,F8V,U8V,O8V,E8V;B38=2;while(B38!==25){y8V="ne";y8V+="tworkF";y8V+="ail";y8V+="e";y8V+="d";J8V="Emitting net";J8V+="workFaile";J8V+="d, perm";J8V+="anent =";P8V="In";P8V+="valid";P8V+=" failure ";P8V+="sta";P8V+="te";A8V=" : ";A8V+="w";A8V+="a";A8V+="s";A8V+=" ";W8V=" ";W8V+="at";W8V+=" ";F8V=" fa";F8V+="i";F8V+="lure reported";F8V+=" fo";F8V+="r ";U8V="T";U8V+="E";U8V+="M";U8V+="P";O8V="P";O8V+="E";O8V+="R";O8V+="M";E8V="Unable to find ";E8V+="failure";E8V+=" ";E8V+="entity for URL ";switch(B38){case 26:j4tt.L8V(2);r.warn(j4tt.t8V(g,E8V));B38=25;break;case 15:B38=27;break;case 16:B38=g38===B.Mj?14:15;break;case 9:r.warn((d?O8V:U8V)+F8V+l.fg.name[a]+W8V+f(k)+A8V+b(k));B38=8;break;case 27:throw Error(P8V);B38=14;break;case 8:g38=k.ce;B38=g38===B.Yi?7:6;break;case 17:this.dump();B38=25;break;case 6:B38=g38===B.TEMPORARY?14:16;break;case 10:a>m&&(r.warn(J8V,a===B.Yi),this.emit(y8V,a===B.Yi));this.sG=null;this.tG=l.qg.ERROR;h&&(this.tG=l.qg.wUa,k.xr=h);B38=17;break;case 1:B38=k&&k.parent&&k.Bz!==a?5:4;break;case 14:k.ce=p;c(k);this.OX=this.OX||q(this.Rl);a=this.Rl.ce;B38=10;break;case 4:B38=k?3:26;break;case 3:B38=p!==k.ce?9:25;break;case 7:return;break;case 5:k=k.parent;B38=1;break;case 2:k=a!==l.fg.fs&&g?this.ld[g]:this.Rl,m=this.Rl.ce,p=d?B.Yi:B.TEMPORARY;B38=1;break;}}};f38=11;break;case 18:d.prototype.close=function(){var e48;e48=2;while(e48!==1){switch(e48){case 2:this.config.wnb&&this.Bsb();e48=1;break;}}};d.prototype.GEa=function(a){var r48,b;r48=2;while(r48!==4){switch(r48){case 2:b=this;a.streams.forEach(function(a){var T48,c,d,f,N5V;T48=2;while(T48!==13){N5V="n";N5V+="o";N5V+="n";N5V+="e";N5V+="-";switch(T48){case 2:c=a.downloadable_id;d=b.dc[c];T48=4;break;case 4:T48=t.U(d)?3:7;break;case 8:b.dc[d.id]=d;T48=7;break;case 3:f=a.content_profile;d={id:c,R:a.bitrate,Dc:a.vmaf,type:a.type,profile:f,clear:0===f.indexOf(N5V),pf:!0,ld:[],XO:{},Pk:[]};T48=8;break;case 7:a.urls.forEach(function(a){var E48,c,f,g;E48=2;while(E48!==11){switch(E48){case 2:c=a.url;f=b.ld[c];E48=4;break;case 4:E48=t.U(f)&&(a=b.Ho[a.cdn_id])?3:11;break;case 3:g=a.location;f={id:c,Bz:l.fg.URL,ce:B.Mj,xr:void 0,parent:a,children:[],url:c,cc:a,stream:d};b.ld[c]=f;a.children.push(f);E48=6;break;case 6:d.ld.push(f);0===d.Pk.filter(function(a){var b48;b48=2;while(b48!==1){switch(b48){case 2:return a.id===g.id;break;case 4:return a.id!=g.id;break;b48=1;break;}}}).length&&d.Pk.push(g);g.dc[d.id]=d;(c=d.XO[g.id])?c.push(f):d.XO[g.id]=[f];E48=11;break;}}});t.Ud(d.XO,function(a){var w48;w48=2;while(w48!==1){switch(w48){case 2:a.sort(function(a,b){var y48;y48=2;while(y48!==1){switch(y48){case 4:return a.cc.tf%b.cc.tf;break;y48=1;break;case 2:return a.cc.tf-b.cc.tf;break;}}});w48=1;break;}}});d.Pk=d.Pk.sort(function(a,b){var t48;t48=2;while(t48!==1){switch(t48){case 2:return a.level-b.level||a.tf-b.tf;break;}}});T48=13;break;}}});r48=4;break;}}};d.prototype.MBb=function(){var N48,a,b,c,d;N48=2;while(N48!==10){switch(N48){case 8:d=n.time.fa();N48=7;break;case 2:a=this;b=this.config;c=this.mu.filter(function(a){var X48;X48=2;while(X48!==1){switch(X48){case 4:return~q(a)||4!=a.level;break;X48=1;break;case 2:return!q(a)&&0!==a.level;break;}}});N48=3;break;case 3:N48=0===c.length?9:8;break;case 9:return null;break;case 7:N48=null===this.UR||this.UR+b.jba<d?6:14;break;case 14:b=this.tG;c.sort(function(a,b){var i48;i48=2;while(i48!==1){switch(i48){case 2:return a.level-b.level||a.tf-b.tf;break;}}});N48=12;break;case 6:c.forEach(function(b){var U48;U48=2;while(U48!==1){switch(U48){case 2:b.id!==a.Vb.location&&(b.jb=a.Yg.get(b.id));U48=1;break;}}}),this.UR=d;N48=14;break;case 12:this.hr||t.Ja(b)||(this.hr=!0);return c;break;}}};d.prototype.Qvb=function(a){var S48,b;S48=2;while(S48!==9){switch(S48){case 2:b=this.Vb.location;this.hr=!1;this.Qtb=a;this.mu.forEach(function(a){var o48;o48=2;while(o48!==1){switch(o48){case 2:a.id!==b&&a.jb&&a.jb.Fd>l.Fe.ay&&(a.jb.Fd=l.Fe.ay);o48=1;break;}}});S48=9;break;}}};d.prototype.Bsb=function(){var C48,a;C48=2;while(C48!==4){switch(C48){case 2:a=this;this.OX||this.mu.forEach(function(b){var a48;a48=2;while(a48!==1){switch(a48){case 2:b.ce===B.TEMPORARY&&a.Yg.fail(b.id,n.time.fa());a48=1;break;}}});C48=4;break;}}};d.prototype.dump=function(){};return d;break;case 2:p.__extends(d,a);d.prototype.Jib=function(){var l38;l38=2;while(l38!==1){switch(l38){case 2:return this.mu[0].jb;break;case 4:return this.mu[2].jb;break;l38=1;break;}}};d.prototype.W9=function(){var j38;j38=2;while(j38!==1){switch(j38){case 4:return this.mu;break;j38=1;break;case 2:return this.mu;break;}}};d.prototype.Jt=function(){var c38;c38=2;while(c38!==1){switch(c38){case 4:return q(this.Rl);break;c38=1;break;case 2:return q(this.Rl);break;}}};f38=3;break;case 3:d.prototype.KGa=function(a){var F38;F38=2;while(F38!==5){switch(F38){case 2:F38=(a=this.ld[a])&&a.parent?1:5;break;case 1:return a.parent.id;break;case 9:return a.parent.id;break;F38=5;break;}}};d.prototype.eX=function(a){var H38;H38=2;while(H38!==5){switch(H38){case 2:H38=(a=this.ld[a])&&a.cc?1:5;break;case 1:return a.cc.location;break;}}};d.prototype.PHa=function(a){var s38;s38=2;while(s38!==5){switch(s38){case 3:s38=(a=this.ld[a])?5:8;break;s38=(a=this.ld[a])?1:5;break;case 1:return a.stream;break;case 2:s38=(a=this.ld[a])?1:5;break;}}};d.prototype.zwa=function(a){var Y38,b;Y38=2;while(Y38!==3){switch(Y38){case 5:b=a.bind(this);t.forEach(this.ld,function(a){var J38,c;J38=2;while(J38!==4){switch(J38){case 2:c=a.cc;b(c.location,c,a.stream,a);J38=4;break;}}});Y38=3;break;case 1:Y38=a?5:3;break;case 2:Y38=1;break;case 7:Y38=a?6:8;break;Y38=a?5:3;break;}}};f38=6;break;case 11:d.prototype.TFa=function(a,b){var p38;p38=2;while(p38!==3){switch(p38){case 2:p38=(a=this.Ho[a])?1:5;break;case 1:k(a,b),h(a);p38=5;break;case 7:k(a,b),h(a);p38=6;break;p38=5;break;case 5:this.sG=null;this.tG=l.qg.Z1;p38=3;break;}}};d.prototype.NN=function(a){var G38;G38=2;while(G38!==1){switch(G38){case 4:k(this.Rl,a);G38=2;break;G38=1;break;case 2:k(this.Rl,a);G38=1;break;}}};d.prototype.Vk=function(a){var P38,b;P38=2;while(P38!==5){switch(P38){case 2:null===(b=this.x0a)||void 0===b?void 0:b.call(this,a);P38=5;break;}}};d.prototype.fk=function(){var Q48;Q48=2;while(Q48!==1){switch(Q48){case 2:this.Qvb(I.TVa);Q48=1;break;case 4:this.Qvb(I.TVa);Q48=7;break;Q48=1;break;}}};f38=18;break;}}function d(b,c,d,f){var z38,g,s5V,q5V;z38=2;while(z38!==27){s5V="netw";s5V+="o";s5V+="rk";q5V="1SI";q5V+="YbZ";q5V+="rNJCp9";switch(z38){case 3:g.config=d;g.x0a=f;g.Qtb=I.qs;z38=7;break;case 17:g.tG=l.qg.qs;q5V;return g;break;case 2:g=a.call(this)||this;g.Vb=b;g.Yg=c;z38=3;break;case 20:g.Rl={id:s5V,Bz:l.fg.fs,ce:B.Mj,xr:void 0,parent:void 0,children:g.mu};g.UR=null;g.sG=null;z38=17;break;case 7:g.hr=void 0;g.Pk={};g.Ho={};g.ld={};g.dc={};g.mu=[];g.OX=!1;z38=20;break;}}}}(g.EventEmitter);d.z1=a;},function(g){var d,a,c;d=Object.getOwnPropertySymbols;a=Object.prototype.hasOwnProperty;c=Object.prototype.propertyIsEnumerable;g.P=function(){var a,d;try{if(!Object.assign)return!1;a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var c={},a=0;10>a;a++)c["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(c).map(function(a){return c[a];}).join(""))return!1;d={};"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a;});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},d)).join("")?!1:!0;}catch(b){return!1;}}()?Object.assign:function(f,g){var h,b;if(null===f||void 0===f)throw new TypeError("Object.assign cannot be called with null or undefined");b=Object(f);for(var k,m=1;m<arguments.length;m++){h=Object(arguments[m]);for(var t in h)a.call(h,t)&&(b[t]=h[t]);if(d){k=d(h);for(var l=0;l<k.length;l++)c.call(h,k[l])&&(b[k[l]]=h[k[l]]);}}return b;};},function(g,d,a){(function(c){var Q,T,z,R,S,N,G,W;function d(a,b){if(a===b)return 0;for(var c=a.length,d=b.length,f=0,g=Math.min(c,d);f<g;++f)if(a[f]!==b[f]){c=a[f];d=b[f];break;}return c<d?-1:d<c?1:0;}function h(a){return c.Qha&&"function"===typeof c.Qha.isBuffer?c.Qha.isBuffer(a):!(null==a||!a.yMb);}function q(a){return h(a)||"function"!==typeof c.ArrayBuffer?!1:"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a?a instanceof DataView||a.buffer&&a.buffer instanceof ArrayBuffer?!0:!1:!1;}function b(a){if(T.Qb(a))return S?a.name:(a=a.toString().match(G))&&a[1];}function k(a){return"string"===typeof a?128>a.length?a:a.slice(0,128):a;}function p(a){if(S||!T.Qb(a))return T.ZL(a);a=b(a);return"[Function"+(a?": "+a:"")+"]";}function t(a,b,c,d,f){throw new N.AssertionError({message:c,Xy:a,bo:b,zA:d,azb:f});}function l(a,b){a||t(a,!0,b,"==",N.ok);}function n(a,b,c,f){var g;if(a===b)return!0;if(h(a)&&h(b))return 0===d(a,b);if(T.aM(a)&&T.aM(b))return a.getTime()===b.getTime();if(T.hAa(a)&&T.hAa(b))return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase;if(null!==a&&"object"===typeof a||null!==b&&"object"===typeof b){if(!q(a)||!q(b)||Object.prototype.toString.call(a)!==Object.prototype.toString.call(b)||a instanceof Float32Array||a instanceof Float64Array){if(h(a)!==h(b))return!1;f=f||{Xy:[],bo:[]};g=f.Xy.indexOf(a);if(-1!==g&&g===f.bo.indexOf(b))return!0;f.Xy.push(a);f.bo.push(b);return r(a,b,c,f);}return 0===d(new Uint8Array(a.buffer),new Uint8Array(b.buffer));}return c?a===b:a==b;}function r(a,b,c,d){var f,g,h;if(null===a||void 0===a||null===b||void 0===b)return!1;if(T.eAa(a)||T.eAa(b))return a===b;if(c&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;f="[object Arguments]"==Object.prototype.toString.call(a);g="[object Arguments]"==Object.prototype.toString.call(b);if(f&&!g||!f&&g)return!1;if(f)return a=R.call(a),b=R.call(b),n(a,b,c);f=W(a);h=W(b);if(f.length!==h.length)return!1;f.sort();h.sort();for(g=f.length-1;0<=g;g--)if(f[g]!==h[g])return!1;for(g=f.length-1;0<=g;g--)if(h=f[g],!n(a[h],b[h],c,d))return!1;return!0;}function B(a,b,c){n(a,b,!0)&&t(a,b,c,"notDeepStrictEqual",B);}function I(a,b){if(!a||!b)return!1;if("[object RegExp]"==Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return!0;}catch(ma){}return Error.isPrototypeOf(b)?!1:!0===b.call({},a);}function C(a,b,c,d){var f,g,h;if("function"!==typeof b)throw new TypeError('"block" argument must be a function');"string"===typeof c&&(d=c,c=null);try{b();}catch(ia){f=ia;}b=f;d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:".");a&&!b&&t(b,c,"Missing expected exception"+d);f="string"===typeof d;g=!a&&T.FW(b);h=!a&&b&&!c;(g&&f&&I(b,c)||h)&&t(b,c,"Got unwanted exception"+d);if(a&&b&&c&&!I(b,c)||!a&&b)throw b;}function K(a,b){a||t(a,!0,b,"==",K);}Q=a(804);T=a(464);z=Object.prototype.hasOwnProperty;R=Array.prototype.slice;S=function(){return"foo"===function(){}.name;}();N=g.P=l;G=/\s*function\s+([^\(\s]*)\s*/;N.AssertionError=function(a){var c;this.name="AssertionError";this.Xy=a.Xy;this.bo=a.bo;this.zA=a.zA;this.message=a.message?a.message:k(p(this.Xy))+" "+this.zA+" "+k(p(this.bo));c=a.azb||t;Error.captureStackTrace?Error.captureStackTrace(this,c):(a=Error(),a.stack&&(a=a.stack,c=b(c),c=a.indexOf("\n"+c),0<=c&&(a=a.substring(a.indexOf("\n",c+1)+1)),this.stack=a));};T.Okb(N.AssertionError,Error);N.fail=t;N.ok=l;N.equal=function(a,b,c){a!=b&&t(a,b,c,"==",N.equal);};N.IF=function(a,b,c){a==b&&t(a,b,c,"!=",N.IF);};N.wua=function(a,b,c){n(a,b,!1)||t(a,b,c,"deepEqual",N.wua);};N.xua=function(a,b,c){n(a,b,!0)||t(a,b,c,"deepStrictEqual",N.xua);};N.NCa=function(a,b,c){n(a,b,!1)&&t(a,b,c,"notDeepEqual",N.NCa);};N.oqb=B;N.RHa=function(a,b,c){a!==b&&t(a,b,c,"===",N.RHa);};N.OCa=function(a,b,c){a===b&&t(a,b,c,"!==",N.OCa);};N["throws"]=function(a,b,c){C(!0,a,b,c);};N.KOb=function(a,b,c){C(!1,a,b,c);};N.iQb=function(a){if(a)throw a;};N.dga=Q(K,N,{equal:N.RHa,wua:N.xua,IF:N.OCa,NCa:N.oqb});N.dga.dga=N.dga;W=Object.keys||function(a){var b,c;b=[];for(c in a)z.call(a,c)&&b.push(c);return b;};}.call(this,a(150)));},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(386);g=function(){var l5V;function a(){var a5V,X5V;a5V=2;while(a5V!==5){X5V="1S";X5V+="IYbZ";X5V+="rN";X5V+="JC";X5V+="p9";switch(a5V){case 2:this.iS={};X5V;a5V=5;break;}}}l5V=2;while(l5V!==9){switch(l5V){case 3:return a;break;case 2:a.prototype.add=function(a,d,b,f){var G5V,g;G5V=2;while(G5V!==3){switch(G5V){case 2:g=this.iS;G5V=5;break;case 5:void 0===g[f]&&(g[f]=new c());g[f].add(a,d,b);G5V=3;break;}}};a.prototype.start=function(a,d){var H5V,b;H5V=2;while(H5V!==3){switch(H5V){case 2:b=this.iS;void 0===b[d]&&(b[d]=new c());H5V=4;break;case 4:b[d].start(a);H5V=3;break;}}};a.prototype.stop=function(a,c){var V5V,b;V5V=2;while(V5V!==4){switch(V5V){case 2:b=this.iS;void 0!==b[c]&&b[c].stop(a);V5V=4;break;}}};a.prototype.get=function(){var b5V,a,c,b,d,f,g;b5V=2;while(b5V!==6){switch(b5V){case 1:a=this.iS,c=Object.keys(a),b=[],d=0;b5V=5;break;case 4:f=c[d];g=a[f].get();g&&b.push({cdnid:f,avtp:g.Ca,tm:g.O7});b5V=8;break;case 5:b5V=d<c.length?4:7;break;case 2:b5V=1;break;case 8:d++;b5V=5;break;case 7:return b;break;}}};l5V=3;break;}}}();d.vMa=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(806);new(a(3)).Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");g=function(){var Z5V;function a(a){var z5V,w5V;z5V=2;while(z5V!==4){w5V="1SI";w5V+="YbZrNJCp";w5V+="9";switch(z5V){case 2:this.maa=a;this.Gt={};w5V;z5V=4;break;}}}Z5V=2;while(Z5V!==7){switch(Z5V){case 2:a.prototype.reset=function(){var f5V;f5V=2;while(f5V!==1){switch(f5V){case 2:this.Ix=new c.vMa();f5V=1;break;case 4:this.Ix=new c.vMa();f5V=6;break;f5V=1;break;}}};a.prototype.SA=function(a,c){var T5V;T5V=2;while(T5V!==1){switch(T5V){case 2:c.ae&&(this.maa?this.Ix.start(a,c.ae):1===c.type&&(this.Gt[c.ae]?this.Gt[c.ae].hP+=1:this.Gt[c.ae]={ae:c.ae,hP:1,QU:!1},this.eJa(a)));T5V=1;break;}}};a.prototype.UA=function(a,c){var M5V,b;M5V=2;while(M5V!==8){switch(M5V){case 5:M5V=this.maa?4:3;break;case 4:this.Ix.stop(a,c.ae);M5V=8;break;case 1:M5V=c.ae?5:8;break;case 2:M5V=1;break;case 3:b=this.Gt[c.ae];1===c.type&&b&&(--b.hP,0===b.hP&&(b.QU&&this.Ix.stop(a,c.ae),b.QU=!1,delete this.Gt[c.ae]),this.eJa(a));M5V=8;break;}}};Z5V=4;break;case 4:a.prototype.Rv=function(a,c,b,d){var K5V;K5V=2;while(K5V!==1){switch(K5V){case 2:d.ae&&(this.maa?this.Ix.add(a,c,b,d.ae):this.FJ===d.ae&&this.Ix.add(a,c,b,d.ae));K5V=1;break;}}};a.prototype.Jl=function(){var j5V;j5V=2;while(j5V!==1){switch(j5V){case 4:return this.Ix.get();break;j5V=1;break;case 2:return this.Ix.get();break;}}};a.prototype.eJa=function(a){var d5V,c,b;d5V=2;while(d5V!==3){switch(d5V){case 4:1===c.length&&!1===b.QU?(this.Ix.start(a,b.ae),this.FJ=b.ae):1<c.length&&this.FJ&&(c=this.Gt[this.FJ],this.Ix.stop(a,this.FJ),c.QU=!1,this.FJ=void 0);d5V=3;break;case 2:c=Object.keys(this.Gt);b=this.Gt[c[0]];d5V=4;break;}}};Z5V=8;break;case 8:return a;break;}}}();d.$Oa=g;},function(g,d,a){var f;function c(a){var c,b;c=a.sw;b=a.mw;this.pD=c;this.V2={uhd:a.uhdl,hd:a.hdl};this.Th=Math.max(Math.ceil(1*c/b),1);this.f0a=a.mins||1;f.call(this,c,b);this.reset();}f=a(167);new(a(3)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(f.prototype);c.prototype.flush=function(){this.Mc.map(function(a,c){this.nra(a,this.s9(c));},this);};c.prototype.x6a=function(){var a,c,b,d,f,g,h,I;a=this.V2;for(c in a)if(a.hasOwnProperty(c)){b=a[c];d=this.J4[c];f=this.I4[c];if(d.first){g=d.first;h=d.LA;void 0!==h&&(f[g][h]+=1);d.first=void 0;}for(var d=[],g=0,b=h=b.length+1,l=0;l<h;l++){for(var n=0,r=0;r<b;r++)n+=f[r][l];g+=n;d.push(n);}n=-1;if(g>this.f0a){for(l=n=0;l<h;l++)if(0<d[l])for(r=0;r<b;r++){I=f[r][l];0<I&&(n-=I*Math.log(1*I/d[l]));}n/=g*Math.log(2);}this.t3[c]=n;}return this.t3;};c.prototype.nra=function(a,c){var b,g,h;for(var b=this.Th,d=this.V2;this.yR.length>=b;)this.yR.shift();for(;this.zR.length>=b;)this.zR.shift();this.yR.push(a);this.zR.push(c);a=this.yR.reduce(function(a,b){return a+b;},0);c=this.zR.reduce(function(a,b){return a+b;},0);if(0<c){a=8*a/c;for(var f in d)if(d.hasOwnProperty(f)){c=this.J4[f];b=this.I4[f];g=this.nub(a,d[f]);h=c.LA;void 0!==h?b[g][h]+=1:c.first=g;c.LA=g;}}};c.prototype.nub=function(a,c){for(var b=0;b<c.length&&a>c[b];)b+=1;return b;};c.prototype.shift=function(){this.nra(this.Mc[0],this.s9(0));f.prototype.shift.call(this);};c.prototype.reset=function(){var a,c;this.J4={};this.yR=[];this.zR=[];this.I4={};this.t3={};a=this.V2;for(c in a)if(a.hasOwnProperty(c)){for(var b=this.I4,d=c,g,h=void 0,l=Array(h),h=g=a[c].length+1,n=0;n<h;n++){l[n]=Array(g);for(var r=0;r<g;r++)l[n][r]=0;}b[d]=l;this.J4[c]={first:void 0,LA:void 0};this.t3[c]=0;}f.prototype.reset.call(this);};g.P=c;},function(g,d,a){var f;function c(){this.Rh=void 0;this.Lv=0;}f=a(6);c.prototype.Yc=function(){return 0!==this.Lv&&this.Rh?{p25:this.Rh.gk,p50:this.Rh.Pi,p75:this.Rh.hk,c:this.Lv}:null;};c.prototype.Yd=function(a){if(!(!f.Ja(a)&&f.has(a,"p25")&&f.has(a,"p50")&&f.has(a,"p75")&&f.has(a,"c")&&f.isFinite(a.p25)&&f.isFinite(a.p50)&&f.isFinite(a.p75)&&f.isFinite(a.c)))return this.Rh=void 0,this.Lv=0,!1;this.Rh={gk:a.p25,Pi:a.p50,hk:a.p75};this.Lv=a.c;};c.prototype.get=function(){return{qY:this.Rh,Bo:this.Lv};};c.prototype.set=function(a,c){this.Rh=a;this.Lv=c;};c.prototype.reset=function(){this.Rh=void 0;this.Lv=0;};c.prototype.toString=function(){return"IQRHist("+this.Rh+","+this.Lv+")";};g.P=c;},function(g,d,a){var f,h,q,b,k,p,t,l,n,r;function c(a){this.BZa=a;}d=a(390);f=d.mOa;h=d.kOa;q=a(220).lOa;b=a(220).nYa;k=a(389);p=a(388);t=a(387).Cna;l=a(809);n=a(808);r=a(386);c.prototype.constructor=c;c.prototype.create=function(a,c){var d,g,m,u;g=this.BZa[a];m=c[a];u={};g&&Object.keys(g).forEach(function(a){u[a]=g[a];});m&&Object.keys(m).forEach(function(a){u[a]=m[a];});switch(u.type){case"slidingwindow":d=new q(u.mw);break;case"discontiguous-ewma":d=new h(u.mw);break;case"wssl":d=new b(u.mw,u.max_n);break;case"iqr":d=new k(u.mx,u.mn,u.bw,u.iv);break;case"tdigest":d=new p(u);break;case"discrete-ewma":d=new f(u.hl);break;case"tdigest-history":d=new t(u);break;case"iqr-history":d=new l(u);break;case"avtp":d=new r();break;case"entropy":d=new n(u);}d&&(d.type=u.type);return d;};g.P=c;},function(g){function d(a){this.DC=a;this.Nd=0;this.jD=null;}d.prototype.add=function(a,c,d){null!==this.jD&&c>this.jD&&(this.Nd+=c-this.jD,this.jD=null);this.DC.add(a,c-this.Nd,d-this.Nd,this.Nd);};d.prototype.stop=function(a){null===this.jD&&(this.jD=a);};d.prototype.Eda=function(a,c){return this.DC.Eda(a,c);};d.prototype.get=function(){return this.DC.get();};d.prototype.reset=function(){this.DC.reset();};d.prototype.toString=function(){return this.DC.toString();};g.P=d;},function(g){function d(a,c,d){this.qD=a;this.Th=Math.floor((a+c-1)/c);this.Fc=c;this.A1a=d;this.reset();}d.prototype.shift=function(){this.Mc.shift();this.tg.shift();};d.prototype.update=function(a,c){this.Mc[a]+=c;};d.prototype.push=function(a){this.Mc.push(0);this.tg.push(a?a:0);this.Oa+=this.Fc;};d.prototype.add=function(a,c,d,g){var f,b;if(null===this.Oa){f=Math.max(Math.floor((d-c+this.Fc-1)/this.Fc),1);for(this.Oa=c;this.Mc.length<f;)this.push(g);}for(;this.Oa<d;)if(this.push(g),this.A1a)for(;1<this.Mc.length&&d+g-(this.Oa-this.Fc*this.Mc.length+this.tg[0])>this.qD;)this.shift();else this.Mc.length>this.Th&&this.shift();if(c>this.Oa-this.Fc)this.update(this.Mc.length-1,a);else if(c==d)g=this.Mc.length-Math.max(Math.ceil((this.Oa-d)/this.Fc),1),0<=g&&this.update(g,a);else for(g=1;g<=this.Mc.length;++g){f=this.Oa-g*this.Fc;b=f+this.Fc;if(!(f>d)){if(b<c)break;this.update(this.Mc.length-g,Math.round(a*(Math.min(b,d)-Math.max(f,c))/(d-c)));}}for(;this.Mc.length>this.Th;)this.shift();};d.prototype.reset=function(){this.Mc=[];this.tg=[];this.Oa=null;};d.prototype.setInterval=function(a){this.Th=Math.floor((a+this.Fc-1)/this.Fc);};g.P=d;},function(g,d,a){var h,q,b,k;function c(a,b,c){h.call(this,a,b,c);}function f(a,b){q.call(this,new c(a,b,!1));}h=a(812);q=a(811);b=a(115).Lfb;k=a(115).ijb;c.prototype=Object.create(h.prototype);c.prototype.Ca=function(){return Math.floor(8*b(this.Mc)/this.Fc);};c.prototype.hh=function(){return Math.floor(64*k(this.Mc)/(this.Fc*this.Fc));};c.prototype.get=function(){return{Ca:this.Ca(),hh:this.hh(),lNb:this.Mc.length};};c.prototype.toString=function(){return"bsw("+this.qD+","+this.Fc+","+this.Th+")";};f.prototype=Object.create(q.prototype);f.prototype.setInterval=function(a){this.DC.setInterval(a);};g.P=f;},function(g,d,a){function c(a){this.data=a;this.right=this.left=null;}function f(a){this.Od=null;this.Ak=a;this.size=0;}d=a(392);c.prototype.Wf=function(a){return a?this.right:this.left;};c.prototype.gn=function(a,c){a?this.right=c:this.left=c;};f.prototype=new d();f.prototype.Qm=function(a){if(null===this.Od)return this.Od=new c(a),this.size++,!0;for(var d=0,b=null,f=this.Od;;){if(null===f)return f=new c(a),b.gn(d,f),ret=!0,this.size++,!0;if(0===this.Ak(f.data,a))return!1;d=0>this.Ak(f.data,a);b=f;f=f.Wf(d);}};f.prototype.remove=function(a){var d,b,f,m,h;if(null===this.Od)return!1;d=new c(void 0);b=d;b.right=this.Od;for(var f=null,g=null,h=1;null!==b.Wf(h);){f=b;b=b.Wf(h);m=this.Ak(a,b.data);h=0<m;0===m&&(g=b);}return null!==g?(g.data=b.data,f.gn(f.right===b,b.Wf(null===b.left)),this.Od=d.right,this.size--,!0):!1;};g.P=f;},function(g,d,a){function c(a){this.data=a;this.right=this.left=null;this.red=!0;}function f(a){this.Od=null;this.Ak=a;this.size=0;}function h(a){return null!==a&&a.red;}function q(a,b){var c;c=a.Wf(!b);a.gn(!b,c.Wf(b));c.gn(b,a);a.red=!0;c.red=!1;return c;}function b(a,b){a.gn(!b,q(a.Wf(!b),!b));return q(a,b);}d=a(392);c.prototype.Wf=function(a){return a?this.right:this.left;};c.prototype.gn=function(a,b){a?this.right=b:this.left=b;};f.prototype=new d();f.prototype.Qm=function(a){var d,f,g,k,m,l,n,r,K;d=!1;if(null===this.Od)this.Od=new c(a),d=!0,this.size++;else{f=new c(void 0);g=0;k=0;m=null;l=f;n=null;r=this.Od;for(l.right=this.Od;;){null===r?(r=new c(a),n.gn(g,r),d=!0,this.size++):h(r.left)&&h(r.right)&&(r.red=!0,r.left.red=!1,r.right.red=!1);if(h(r)&&h(n)){K=l.right===m;r===n.Wf(k)?l.gn(K,q(m,!k)):l.gn(K,b(m,!k));}K=this.Ak(r.data,a);if(0===K)break;k=g;g=0>K;null!==m&&(l=m);m=n;n=r;r=r.Wf(g);}this.Od=f.right;}this.Od.red=!1;return d;};f.prototype.remove=function(a){var d,f,n,g,r,l,K;if(null===this.Od)return!1;d=new c(void 0);f=d;f.right=this.Od;for(var g=null,k,m=null,l=1;null!==f.Wf(l);){n=l;k=g;g=f;f=f.Wf(l);r=this.Ak(a,f.data);l=0<r;0===r&&(m=f);if(!h(f)&&!h(f.Wf(l)))if(h(f.Wf(!l)))k=q(f,l),g.gn(n,k),g=k;else if(!h(f.Wf(!l))&&(r=g.Wf(!n),null!==r))if(h(r.Wf(!n))||h(r.Wf(n))){K=k.right===g;h(r.Wf(n))?k.gn(K,b(g,n)):h(r.Wf(!n))&&k.gn(K,q(g,n));n=k.Wf(K);n.red=!0;f.red=!0;n.left.red=!1;n.right.red=!1;}else g.red=!1,r.red=!0,f.red=!0;}null!==m&&(m.data=f.data,g.gn(g.right===f,f.Wf(null===f.left)),this.size--);this.Od=d.right;null!==this.Od&&(this.Od.red=!1);return null!==m;};g.P=f;},function(g,d,a){g.P={SVa:a(815),QEb:a(814)};},function(g,d,a){var c,f,h,q,b,k,p;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(170);h=a(393);q=a(21);b=a(3);g=a(85);k=a(383);p=a(8);a=function(a){function d(b,c,d,f,g,h,k,m,p,q,t){var l;l=a.call(this,b)||this;l.Nc=b;l.I=c;l.K=d;l.Vk=f;l.GV=g;l.yp=h;l.EW=k;l.Qf=m;l.nS=p;l.Df=q;l.upa=[void 0,void 0];l.R4=[];l.RI=null!==t&&void 0!==t?t:{wq:[Object.create(null),Object.create(null)]};return l;}c.__extends(d,a);Object.defineProperties(d.prototype,{wq:{get:function(){return this.RI.wq;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ap:{get:function(){return this.RI.ap;},set:function(a){this.RI.ap=a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{EC:{get:function(){return this.RI.EC;},set:function(a){this.RI.EC=a;},enumerable:!0,configurable:!0}});d.prototype.ic=function(){var a;a=this;this.wq.forEach(function(b,c){for(var d in b)b[d].ic(),a.E7(c,d);});};d.prototype.oj=function(a,b){return this.wq[a][b];};d.prototype.s6=function(){this.ap=void 0;};d.prototype.rfa=function(a,b){var c;if(b)this.ap=b;else if(!(this.ap&&0<this.ap.length||this.K.wHa))for(f.fl.Il(1),a=a.re(1).track.uc,b=0;b<a.length;++b){c=a[b];if(c.pf&&c.inRange&&!c.Xg&&!this.Qya(c.pa)){this.ap=[c.pa];break;}}};d.prototype.Dba=function(){var a,b;if(this.ap&&0!==this.ap.length&&!this.EC)for(f.fl.Il(1);0<this.ap.length;){a=this.ap.shift();b=this.Nc.ar(1,a);if(b&&!this.Qya(a)&&b.pf){this.EC=a;this.l_(b,{offset:0,BG:!0});break;}}};d.prototype.Wga=function(a,b){var c;c=this;b.forEach(function(b){var d;d=c.oj(a,b.pa);d&&!b.ud&&(d.stream.ud?b.QT(d.stream):(d.gN||(d.gN=[]),d.gN.push(c.Nc)));});};d.prototype.jG=function(a,b,c){var d,f,g;d=this;g=this.Nc;q.Of.forEach(function(f){var h,m,q,t,l;if(g.eb(f)&&(void 0===c||f===c)){t=a[f];p.assert(t&&g.getTrackById(t.cb)===t);t=t.uc;if(g.Fp)d.I.warn("requestHeadersFromManifest, shutdown detected");else if(g.ck.WO(g.va,t)){l=(q=null===(m=null===(h=d.yp(f))||void 0===h?void 0:h.eA)||void 0===m?void 0:m.R,null!==q&&void 0!==q?q:0);h=k.mwa(t,l);void 0===h&&d.I.warn("Unable to find stream for bitrate "+l);h=t[h];(m=g.oj(f,h.pa))&&m.stream.X?g.JBb(f,m):(f={offset:0,BG:!1,rw:1===f,Wq:!0,HF:!d.EW(g)},g.Tta(h,f,b));}else d.I.warn("requestHeadersFromManifest, unable to update urls");}});g.eW=!0;(null===(f=this.Df)||void 0===f?void 0:f.call(this,g.Ua)).yT();};d.prototype.WG=function(a){var c,d,f,g;c=this.K;d=this.oj(a.M,a.pa);if(d)return d.stream.X||d.BG&&this.jta(d),!1;d=this.I_a;f=this.J_a;if(void 0!==c.mca&&void 0!==d&&void 0!==f){g=b.time.fa();if(g-d<c.mca||g-f<c.mca)return!1;}a=this.l_(a,{url:a.url,offset:0});this.J_a=b.time.fa();return a;};d.prototype.l_=function(a,b,d,g){var h,k,m,p;m=a.M;f.fl.Il(m);p=a.pa;if(this.gZa(p,!!b.Wq))return null===(h=this.nS)||void 0===h?void 0:h.call(this),!1;if(h=this.oj(m,p))a=!1;else{h=c.__assign(c.__assign({},b),{ba:this.PZa(a)});d=this.GV(m,!!h.Wq,!!h.rw,!!h.HF,!!d);a.url&&(this.yp(m).cba=a.url);h=d=this.i3(a,d,h);if(!d.vr())return this.Nc.ji("MediaRequest open failed (2)",a.O.Ua,"NFErr_MC_StreamingFailure"),!1;a=!0;}b.Wq&&g&&(this.Nc.Yf[m]=h);null===(k=this.nS)||void 0===k?void 0:k.call(this);return a;};d.prototype.hq=function(){var a,b;a=this;b=[];this.wq.forEach(function(c,d){var h;f.fl.Il(d);for(var g in c){d=c[g];h=d.u_();1===h?b.push(d):2===h&&a.Nc.ji("swapUrl failure");}});return b;};d.prototype.Oi=function(a){var c,d;c=a.M;d=f.fl.Il(c);this.Nc.Fp?d.warn("header onrequestcomplete ignored, session shutdown:",a.toString()):(this.Vk({type:"logdata",target:"startplay",rd:{usedNativeDataView:a.BCb}}),a.nY>a.wrb&&(this.upa[c]=a.nY),a.BG&&this.jta(a),this.p_a(a),this.I_a=b.time.fa(),this.Nc.Hw.emit("onHeaderRequestComplete",a),this.up(a));};d.prototype.WS=function(a,b,c){var d;d=a.M;f.fl.Il(d);d=this.Nc.ar(d,a.pa);if(b!==!!a.lj)return!1;this.gra(a);a.$3a(d);this.ioa(a);this.Nc.Hw.emit("onHeaderFromCache",{fo:a,Teb:c});return!0;};d.prototype.V4=function(a,b){var c,d,f,g;c=[];d=this.wq[a];for(f in d){g=d[f];g&&!g.stream.X&&g.xh===b&&(this.E7(a,f),c.push({stream:g.stream,offset:g.offset,ba:g.ba,rw:g.rw,Wq:g.Wq,HF:g.HF,gda:g.gda}));}return c;};d.prototype.Cea=function(a){var b;b=this;a.forEach(function(a){b.l_(a.stream,a);});};d.prototype.gra=function(a){this.wq[a.M][a.pa]=a;};d.prototype.Qya=function(a){return!!this.oj(1,a);};d.prototype.p_a=function(a){var b,c,d,g,k;b=this.K;c=f.fl.Il(a.M);d=a.stream.X;if(b.o7){g=d.length;c.trace("fragment count:",g);for(var h=0;h<g;++h){k=d.get(h);c.trace("fragment: "+h+", startPts: "+k.T+", duration: "+k.duration+", offset: "+k.offset);}}this.ioa(a);if(b.RF&&b.RF.enabled&&void 0===d.Nx&&b.RF.simulatedFallback){g=d.length;b=[];for(h=0;h<g;++h)b[h]=Math.max(0,a.stream.Dc+this.y1a(h));d.nyb(b);}};d.prototype.ioa=function(a){var b,c;b=a.M;c=a.pa;f.fl.Il(b);a.gN&&(a.gN.forEach(function(d){(d=d.ar(b,c))&&d!==a.stream&&!d.ud&&d.QT(a.stream);}),a.gN=void 0);this.Nc.Ajb(a);};d.prototype.i3=function(a,b,c){var d,g;d=this;g=f.fl.Il(a.M);a=new h.Dha(a,this.K,b,c,this,!1,g);a.addListener("headerRequestCancelled",function(a){d.o_a(a.request);});a.Ub(void 0);this.gra(a);return a;};d.prototype.gZa=function(a,b){return this.Qf&&(a=this.Qf.sM(this.Nc.u,a))&&this.WS(a,!1,b)?!0:!1;};d.prototype.PZa=function(a){var b,c,d;b=a.Hr;c=a.O;d=this.K;return c.se.mf?d.NU?d.NU:d.dW:d.BJa&&b?b.offset+b.size:(a=this.upa[a.M])?a+128:2292+12*Math.ceil(c.duration/2E3);};d.prototype.o_a=function(a){this.E7(a.M,a.pa);};d.prototype.E7=function(a,b){delete this.wq[a][b];};d.prototype.jta=function(a){this.EC===a.pa&&(this.EC=void 0);};d.prototype.y1a=function(a){var b;b=this.K.RF.fallbackBound;void 0===this.R4[a]&&(this.R4[a]=Math.floor(2*Math.random()*b)-b);return this.R4[a];};return d;}(g.Vr);d.UPa=a;},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(27);h=a(3).ns;g=function(a){function b(b){var c;c=a.call(this)||this;c.jqa=b;c.JR=b.groupId;c.Ng=new f.Yx();c.Ng.on(c,h.Ld.cI,c.eJ);c.Ng.on(c,h.Ld.ny,c.ZC);return c;}c.__extends(b,a);b.prototype.vrb=function(a,b,c){h.prototype.open.call(this,a,b,c);};b.prototype.Txb=function(a){this.JR=a;};Object.defineProperties(b.prototype,{groupId:{get:function(){return this.JR;},enumerable:!0,configurable:!0}});b.prototype.ic=function(){this.Ng&&this.Ng.clear();h.prototype.ic.call(this);};b.prototype.eJ=function(a){this.jqa.Ntb(a.probed,a.affected);this.ic();};b.prototype.ZC=function(a){this.jqa.Ktb(a.probed,a.affected);this.ic();};return b;}(h);d.YKa=g;},function(g,d,a){var f,h,q;function c(a,c){this.$I=a;this.Iy=0===Math.floor(1E6*Math.random())%c.MA;this.groupId=1;this.config=c;this.Kt={};this.ox={};}f=a(6);h=a(3);new h.Console("ASEJS_PROBE_MANAGER","asejs");q=a(818).YKa;c.prototype.constructor=c;c.prototype.Mtb=function(a,c){var b,d,g,k,m,q,l,n,r,Q,T;b=this.$I;d=a.Fb;g=b.PHa(a.url);k=b.eX(a.url);m=this.config;q=h.time.fa();n=c;r=[];Q=g.Pk[0];T=!1;l=this.Kt[d];if(!l)l=this.Kt[d]={count:0,uh:q,Du:!1,error:c,ofa:[],Nda:{}};else if(l.uh>=q-m.b_)return;l.Du||(Q&&k.id===Q.id&&(a.isPrimary=!0),l.uh=q,l.Du=!1,l.error=c,++l.count,g&&g.ld&&0!==g.ld.length&&(f.forEach(g.ld,function(b){var c,f,g;c=b.cc.id;f=c+"-"+d;g=this.ox[f];if(void 0===g||void 0===g.HY)g&&g.em&&clearTimeout(g.em),b=this.Vta(b.url,a,c),this.ox[f]={$:!1,count:0,HY:b.qj()},r.push(b.qj()),T=!0;-1===l.ofa.indexOf(c)&&l.ofa.push(c);},this),this.Iy&&0<r.length&&(g={type:"logdata",target:"endplay",fields:{}},c=n,n={ts:h.time.fa(),es:c.tra,fc:c.$h,fn:c.$va,nc:c.ek,pb:r,gid:this.groupId},c.PL&&(n.hc=c.PL),g.fields.errpb={type:"array",value:n,adjust:["ts"]},b.Vk(g)),T&&this.groupId++));};c.prototype.Vta=function(a,c,d){var b,f,g;b=this.$I.eX(c.url);b&&b.jb&&b.jb.Dp&&b.jb.Dp.Ca||Math.random(0,1);b=new q(this);f=a.split("?");g="random="+parseInt(1E7*Math.random(),10);b.vrb(1<f.length?a+"&"+g:a+"?"+g,c,d);return b;};c.prototype.Ntb=function(a,c){var b,d,f,g,k,m,q,l;b=this.$I;d=this.config;f=c.Fb;g=this.Kt[f];m=a.url;q=this.ox[a.Fb+"-"+f];if(g&&(k=g.error,q)){q&&q.em&&clearTimeout(q.em);q.$=!0;q.count=0;q.HY=void 0;g.Nda[a.Fb]=!0;(q=this.Kt[a.Fb])&&!0===q.Du&&d.Xs&&(b.TFa(a.Fb,q.error.RO[1]),this.Iy&&(q={type:"logdata",target:"endplay",fields:{}},q.fields.errst={type:"array",value:{ts:h.time.fa(),id:a.requestId,servid:c.Fb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},b.Vk(q)),this.Kt[a.Fb]=void 0);if(m!==c.url){l=this.ox[f+"-"+f];l&&l.$||(f=(f=b.eX(m))&&f.jb&&f.jb.Dp&&f.jb.Dp.Ca||Math.random(0,1)*d.oX,f=Math.min(f,d.oX),setTimeout(function(){var d;if(!(!1!==g.Du||l&&l.$)&&(g.Du=!0,b.cn(k.RO[0],k.RO[1],c.url,k),this.Iy)){d={type:"logdata",target:"endplay",fields:{}};d.fields.erep={type:"array",value:{ts:h.time.fa(),id:a.requestId,servid:c.Fb,gid:a.groupId?a.groupId:-1},adjust:["ts"]};b.Vk(d);}}.bind(this),f));}this.Iy&&(q={type:"logdata",target:"endplay",fields:{}},q.fields.pbres={type:"array",value:{ts:h.time.fa(),id:a.requestId,result:1,servid:a.Fb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},b.Vk(q));}};c.prototype.Ktb=function(a,c){var b,d,g,k,m,q,l,n,r,Q;b=this.$I;d=parseInt(c.Fb,10);g=this.Kt[d];k=parseInt(a.Fb,10);m=this.ox[k+"-"+d];q=0;r=this.config;if(m&&g){m.$=!1;m.HY=void 0;g.Nda[k]=!1;n=g.ofa;if(r.Xs&&k===d&&c.isPrimary){Q=b.eX(c.url);Q=Q&&Q.jb&&Q.jb.Dp&&Q.jb.Dp.Ca||300*Math.random(0,1);Q=Q*Math.pow(2,m.count);Q=Math.min(Q,12E4);Q=Q+Math.random(0,1)*(1E4>Q?100:1E4);m.em=setTimeout(function(){var b;m.em=void 0;b=this.Vta(a.url,c,k);b.Txb(a.groupId);m.HY=b.qj();}.bind(this),Q);}++m.count;k===d&&(q=0,n.forEach(function(a){!1===g.Nda[a]&&q++;}),n.length===q&&g.count>=r.sX&&(l=g.error,g.Du=!0,f.forEach(b.PHa(c.url).ld,function(a){var c;b.cn(l.RO[0],l.RO[1],a.url,l);if(this.Iy){c={type:"logdata",target:"endplay",fields:{}};c.fields.erep={type:"array",value:{ts:h.time.fa(),id:-1,servid:a.cc.id},adjust:["ts"]};b.Vk(c);}},this)));this.Iy&&(d={type:"logdata",target:"endplay",fields:{}},d.fields.pbres={type:"array",value:{ts:h.time.fa(),id:a.requestId,result:0,servid:a.Fb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},b.Vk(d));}};c.prototype.p_=function(a){var b,c,d;b=a.url||a.mediaRequest.url;if(b){a=this.$I;b=a.KGa(b);c=this.Kt[b];d=this.ox[b+"-"+b];c&&c.Du&&this.config.Xs&&(a.TFa(c.error.tra,!1),this.Iy&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:h.time.fa(),id:-1,servid:b},adjust:["ts"]},a.Vk(c)),this.Kt[b]=void 0,d&&d.em&&clearTimeout(d.em));}};c.prototype.reset=function(){var a,c,d;a=this.ox;for(d in a)a.hasOwnProperty(d)&&(c=a[d+"-"+d])&&c.em&&clearTimeout(c.em);this.ox={};this.Kt={};};g.P=c;},function(g,d,a){var c,f,h,q,b,k,p,t,l,n,r,B,I,C;Object.defineProperty(d,"__esModule",{value:!0});c=a(6);f=a(13);h=a(3);q=new h.Console("ASEJS_ERROR_DIRECTOR","asejs");b=a(819);k=h.Lj;p=k.Vu;t={};l={};g=[f.fg.fs,!1];a=[f.fg.fs,!0];n=[f.fg.sy,!1];r=[f.fg.sy,!0];B=[f.fg.URL,!0];I=[-1,!1];C=[f.fg.sy,!1];t[p.aEb]=n;t[p.DNa]=n;t[p.tia]=n;t[p.PNa]=n;t[p.HNa]=r;t[p.cMa]=r;t[p.Xha]=C;t[p.a0]=C;t[p.dMa]=I;t[p.eMa]=C;t[p.fMa]=C;t[p.$La]=n;t[p.bMa]=n;t[p.Wha]=g;t[p.aMa]=n;t[p.ZLa]=C;t[p.rFb]=r;t[p.PPa]=C;t[p.Eja]=C;t[p.Dja]=C;t[p.g1]=C;t[p.Bja]=C;t[p.OPa]=B;t[p.i1]=r;t[p.eQ]=B;t[p.j1]=a;t[p.k1]=r;t[p.RPa]=B;t[p.fQ]=C;t[p.Fja]=r;t[p.QPa]=r;t[p.KNa]=r;t[p.ENa]=n;t[p.vWa]=n;t[p.uNa]=n;t[p.vNa]=n;t[p.wNa]=n;t[p.xNa]=n;t[p.yNa]=n;t[p.zNa]=n;t[p.ANa]=n;t[p.BNa]=n;t[p.CNa]=n;t[p.FNa]=n;t[p.GNa]=n;t[p.INa]=n;t[p.JNa]=n;t[p.LNa]=n;t[p.MNa]=n;t[p.NNa]=n;t[p.ONa]=n;t[p.QNa]=n;t[p.RNa]=n;t[p.uWa]=C;t[p.TIMEOUT]=g;l[p.Xha]=!0;l[p.Eja]=!0;l[p.Dja]=!0;l[p.Bja]=!0;l[p.tia]=!0;g=function(){var e5V;e5V=2;while(e5V!==12){switch(e5V){case 14:a.prototype.Qkb=function(){var r5V,b,c,d,f,R6z,L6z,J6z;r5V=2;function a(a){var u5V,b,c,d;u5V=2;while(u5V!==3){switch(u5V){case 2:b=a.length;u5V=1;break;case 1:u5V=b?5:4;break;case 4:return a;break;case 5:d=Math.floor(Math.random()*b--),c=a[b],a[b]=a[d],a[d]=c;u5V=1;break;}}}while(r5V!==11){R6z="m";R6z+="anifestAdde";R6z+="d";L6z="Ini";L6z+="tialized network fa";L6z+="i";L6z+="lur";L6z+="e simulation \"";J6z="manife";J6z+="stA";J6z+="dd";J6z+="ed";switch(r5V){case 3:f={n:0};r5V=9;break;case 2:b=this;c=this.ck;d=this.config.q7;r5V=3;break;case 8:c.on(J6z,function(){var o5V,d;o5V=2;while(o5V!==9){switch(o5V){case 2:d=[];f.n=f.n||0;c.zwa(function(a,b,c,g){var p5V;p5V=2;while(p5V!==1){switch(p5V){case 2:f[g.id]||(f[g.id]=!0,d.push(g.id));p5V=1;break;}}});a(d).forEach(function(a){var h5V;h5V=2;while(h5V!==5){switch(h5V){case 2:setTimeout(function(){var c5V;c5V=2;while(c5V!==1){switch(c5V){case 2:b.cn({url:a},k.Vu.k1);c5V=1;break;}}},4E3+f.n);f.n+=1E3;h5V=5;break;}}});o5V=9;break;}}});r5V=7;break;case 9:r5V=d==="1"?8:6;break;case 6:r5V=d==="2"?14:13;break;case 7:j4tt.v6z(0);q.warn(j4tt.g6z(d,'"',L6z));r5V=11;break;case 14:c.on(R6z,function(){var I5V,a;I5V=2;while(I5V!==9){switch(I5V){case 2:a=[];f.n=f.n||0;c.zwa(function(b,c,d,g){var E5V;E5V=2;while(E5V!==1){switch(E5V){case 2:f[g.id]||(f[g.id]=!0,a.push({R:d.R,url:g.id}));E5V=1;break;}}});I5V=3;break;case 3:a.sort(function(a,b){var O5V;O5V=2;while(O5V!==1){switch(O5V){case 2:return b.R-a.R;break;case 4:return b.R%a.R;break;O5V=1;break;}}}).map(function(a){var U5V;U5V=2;while(U5V!==1){switch(U5V){case 2:return a.url;break;case 4:return a.url;break;U5V=1;break;}}}).forEach(function(a){var F5V;F5V=2;while(F5V!==5){switch(F5V){case 2:setTimeout(function(){var W5V;W5V=2;while(W5V!==1){switch(W5V){case 2:c.Jt()||b.cn({url:a},k.Vu.eQ);W5V=1;break;}}},5E3*Math.random());f.n+=1E3;F5V=5;break;}}});I5V=9;break;}}});r5V=7;break;case 13:r5V=12;break;case 12:return;break;}}};e5V=13;break;case 2:a.prototype.fyb=function(a){var i5V;i5V=2;while(i5V!==1){switch(i5V){case 2:this.HZ=a;i5V=1;break;case 4:this.HZ=a;i5V=0;break;i5V=1;break;}}};a.prototype.cn=function(a,b,d,g){var v5V,h,m,p,u,y,r,D,B,K,o6z,i6z,h6z,Z6z,G6z;v5V=2;while(v5V!==23){o6z="Unmapped fail";o6z+="ure code i";o6z+="n JS";o6z+="ASE error ";o6z+="director : ";i6z="Invalid aff";i6z+="ecte";i6z+="d for network failu";i6z+="re";h6z=" : critica";h6z+="l e";h6z+="rror coun";h6z+="t = ";Z6z=" ";Z6z+="o";Z6z+="n";Z6z+=" ";G6z="F";G6z+="a";G6z+="ilur";G6z+="e ";switch(v5V){case 20:D=y.KGa(a.url);v5V=19;break;case 12:l[d]&&++this.UT;v5V=11;break;case 6:v5V=d&&c.isArray(t[d])?14:24;break;case 2:h=this;m=k.Vu.name;p=d?m[d]:void 0;m={};u=this.config;y=this.ck;v5V=7;break;case 11:v5V=r!==I?10:23;break;case 14:r=t[d];this.VW={PL:b,$h:d,$va:p,ek:g};v5V=12;break;case 7:q.warn(G6z+p+Z6z+JSON.stringify(a)+h6z+this.UT);v5V=6;break;case 10:v5V=void 0!==a.url?20:15;break;case 19:D&&(m[D]=[a.url]);v5V=18;break;case 26:q.error(i6z);return;break;case 18:B=r[0];K=r[1];u.Qp?c.forEach(m,function(c,k){var k5V,Y6z;k5V=2;while(k5V!==5){Y6z="e";Y6z+="r";Y6z+="ro";Y6z+="r";switch(k5V){case 2:r===C||r===n?h.Lda.Mtb({url:void 0!==a.url?a.url:c[0],Fb:k},{tra:k,RO:r,PL:b,$h:d,$va:p,ek:g}):c.some(function(a){var B5V;B5V=2;while(B5V!==5){switch(B5V){case 2:y.cn(B,K,a);return B===f.fg.sy;break;}}});!h.HZ||0!==b&&void 0!==b||(c=void 0!==a.url?a.url:c[0])&&h.HZ.dfa(Y6z,c);k5V=5;break;}}}):c.forEach(m,function(c,d){var t5V,l6z;t5V=2;while(t5V!==5){l6z="e";l6z+="rro";l6z+="r";switch(t5V){case 1:c.some(function(a){var L5V;L5V=2;while(L5V!==5){switch(L5V){case 2:y.cn(B,K,a);return B===f.fg.sy;break;}}}),!h.HZ||0!==b&&void 0!==b||(c=void 0!==a.url?a.url:c[0])&&h.HZ.dfa(l6z,c);t5V=5;break;case 2:t5V=r!==C||h.Nvb(d)?1:5;break;}}});v5V=23;break;case 15:v5V=void 0!==a.host&&void 0!==a.port?27:26;break;case 24:j4tt.j6z(1);q.error(j4tt.g6z(o6z,d));v5V=23;break;case 27:m=y.Cxb(a.host,a.port);v5V=18;break;}}};a.prototype.Nvb=function(a){var g5V,b,c,d;g5V=2;while(g5V!==13){switch(g5V){case 2:b=h.time.fa();c=this.config;d=this.tga[a];g5V=3;break;case 6:return d.Du=!0;break;case 3:g5V=d?9:14;break;case 7:g5V=!(d.uh>=b-c.b_||d.Du||(d.uh=b,++d.count,d.count<c.sX))?6:13;break;case 8:d.uh=b,d.count=1;g5V=13;break;case 9:g5V=d.uh<this.lF?8:7;break;case 14:this.tga[a]={uh:b,count:1};g5V=13;break;}}};a.prototype.Ejb=function(a){var D5V,b,c,d,f,g,k,m,q6z,H6z,w6z,k6z,c6z;D5V=2;while(D5V!==6){q6z="Network has ";q6z+="fa";q6z+="iled ";H6z="te";H6z+="mporari";H6z+="ly";w6z="p";w6z+="ermane";w6z+="ntl";w6z+="y";k6z=" ms ";k6z+="ag";k6z+="o";c6z=" ";c6z+="l";c6z+="a";c6z+="st success ";c6z+="was ";switch(D5V){case 2:b=this;c=h.time.fa()-this.lF;d=a;m=this.config;j4tt.v6z(2);q.warn(j4tt.x6z(c6z,k6z,a?w6z:H6z,q6z,c));!a&&c>m.vca&&(d=!0);D5V=7;break;case 7:d?(this.lG&&(clearTimeout(this.lG),this.lG=void 0),this.kta(),this.Lda.reset(),this.VW&&(f=this.VW.$h,g=this.VW.PL,k=this.VW.ek),this.Ljb({Elb:a,xrb:f,yrb:g,zrb:k})):this.lG||(this.lG=setTimeout(function(){var n5V;n5V=2;while(n5V!==5){switch(n5V){case 2:b.lG=void 0;b.NN();n5V=5;break;}}},m.wca));D5V=6;break;}}};a.prototype.NN=function(a){var Q5V;Q5V=2;while(Q5V!==1){switch(Q5V){case 2:this.lG||(this.ck.NN(!!a),this.tga={},this.cr());Q5V=1;break;}}};a.prototype.p_=function(a){var R5V,b;R5V=2;while(R5V!==9){switch(R5V){case 2:b=this.config;this.lF=Math.max(a.timestamp||h.time.fa(),this.lF);this.kta();R5V=3;break;case 3:b.Qp&&this.Lda.p_(a);R5V=9;break;}}};e5V=8;break;case 8:a.prototype.bY=function(){var x5V;x5V=2;while(x5V!==1){switch(x5V){case 2:this.UT=0;x5V=1;break;case 4:this.UT=6;x5V=5;break;x5V=1;break;}}};a.prototype.fk=function(){var m5V,a,b,c,f6z,D6z;m5V=2;while(m5V!==8){f6z="m";f6z+="s";D6z="S";D6z+="ettin";D6z+="g under";D6z+="flo";D6z+="w timeout in ";switch(m5V){case 2:a=this;b=this.config;c=b.Oba;this.lF=Math.max(h.time.fa(),this.lF);b.pCb&&!this.TO&&(q.info(D6z+c+f6z),this.TO=setTimeout(function(){var C5V,O6z,m6z;C5V=2;while(C5V!==4){O6z="Forcing permanent";O6z+=" ";O6z+="network failure after ";m6z="ms, ";m6z+="sin";m6z+="ce underflow with no success";switch(C5V){case 2:j4tt.v6z(0);q.info(j4tt.g6z(c,m6z,O6z));a.TO=void 0;a.ck.cn(f.fg.fs,!0);C5V=4;break;}}},c));m5V=8;break;}}};a.prototype.kta=function(){var S5V,W6z;S5V=2;while(S5V!==1){W6z="C";W6z+="leared un";W6z+="der";W6z+="flow tim";W6z+="eout";switch(S5V){case 2:this.TO&&(clearTimeout(this.TO),this.TO=void 0,q.info(W6z));S5V=1;break;}}};e5V=14;break;case 13:return a;break;}}function a(a,c,d,f){var Y5V,I6z,b6z;Y5V=2;while(Y5V!==11){I6z="ne";I6z+="tw";I6z+="orkFai";I6z+="l";I6z+="ed";b6z="1SIYb";b6z+="Zr";b6z+="N";b6z+="JCp";b6z+="9";switch(Y5V){case 2:this.ck=a;this.config=c;this.Ljb=d;this.cr=f;Y5V=3;break;case 3:b6z;t[p.g1]=c.qkb?r:C;this.ck.on(I6z,this.Ejb.bind(this));this.lF=h.time.fa();Y5V=6;break;case 6:this.UT=0;this.tga={};this.Lda=new b(a,c);Y5V=12;break;case 12:this.Qkb();Y5V=11;break;}}}}();d.cPa=g;},function(g,d,a){var h,q,b,k;function c(a,b,c,d){q.call(this,a,b,c,d);}function f(a,b,c){q.call(this,a,b,c,void 0);}h=a(84);q=a(395).XH;b=a(399);k=a(71).Eoa;c.prototype=Object.create(q.prototype);f.prototype=Object.create(c.prototype);f.prototype.h_a=function(a,c){return"string"===typeof c?b[c]:c?b.reset[a]||b.bzb[a]:b.bzb[a];};f.prototype.zFa=function(a,b,c,d){return this.Qa(a,b,!1,c,d);};f.prototype.DFa=function(a,b,c,d){return this.Qa(a,b,!0,c,d);};f.prototype.Qa=function(a,b,c,d,f){var k,m,p,q,t,l,n,u,r,y,D,z,G,M;function g(a){m=k[a];p=m.fq("traf");if(void 0===p||void 0===p.ft)return!1;q=p.fq("tfdt");if(void 0===q)return!1;t=p.fq("trun");return void 0===t?!1:!0;}if(!this.parse())return!1;k=this.Hc.moof;if(!k||0===k.length)return!1;if(void 0!==a)for(l=a,a=0;a<k.length;++a){if(!g(a))return!1;if(t.ie>l||c&&t.ie===l)break;l-=t.ie;}else if(a=c?k.length-1:0,!g(a))return!1;if(c&&a<k.length-1){n=k[a+1];this.ag.mk(this.fOb-n.startOffset,n.startOffset);}else!c&&0<a&&this.ag.mk(m.startOffset,0);n=p.fq("tfhd");if(void 0===n)return!1;q=p.fq("tfdt");u=t.ie;r=p.fq("saiz");y=p.fq("saio");D=p.fq(h.Gla);z=p.fq("sbgp");if(!(!r&&!y||r&&y))return!1;G=p.fq("sdtp");if(this.Hc.mdat&&a<this.Hc.mdat.length)M=this.Hc.mdat[a];else if(a!==k.length-1)return!1;void 0===l&&(l=c?t.ie:0);if(t.Qa(p,n,M||this.ag,b,l,p.ft,c))t.AU&&(!c&&q&&q.Qa(t.Uyb),r&&y&&(r.Qa(t.zG,c),y.Qa(D?0:r.Iea,p.ft,c)),D&&D.Qa(t.zG,c),G&&G.Qa(t.zG,u,c),z&&z.Qa(t.zG,c));else if(!c){if(a===k.length-1)return!1;this.ag.mk(k[a+1].startOffset-m.startOffset,m.startOffset);}else if(0===t.zG)return!1;d&&(b=this.h_a(this.stream.profile,f))&&t.Lvb(p,n,M,c,d,b);c=this.ag.Qa();d=c.reduce(function(a,b){return a+b.byteLength;},0);c={yg:c,length:d,BA:this.ag.view.byteLength};t.AU&&!M&&(c.gG=p.ft+t.gG,c.Cu=t.Cu);return c;};g.P={fv:f,xM:function(a){var b,c;b=new ArrayBuffer(8);c=new DataView(b);c.setUint32(0,a+8);c.setUint32(4,k("mdat"));return b;}};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(130);a(130);f=a(71);g=function(){function a(a,b,c){this.view=a;this.console=b;this.config=c;this.view=a;this.console=b;this.tA=this.oT=this.offset=0;}a.prototype.tgb=function(a){return new DataView(this.view.buffer,this.view.byteOffset+this.offset,a);};a.prototype.Gf=function(a){for(;this.tA<a;)this.oT=(this.oT<<8)+this.jd(),this.tA+=8;this.tA-=a;return this.oT>>>this.tA&(1<<a)-1;};a.prototype.jd=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};a.prototype.Dg=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};a.prototype.xb=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};a.prototype.cea=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};a.prototype.ssb=function(a,b){var c;c=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);b||0===(c&4278190080)||this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296*c+a;};a.prototype.Ri=function(a,b){a=this.ssb(a,b);this.offset+=8;return a;};a.prototype.tsb=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);0===((0<a?a:-a)&4278190080)||this.console.warn("Warning: read signed value > 56 bits");return 4294967296*a+b;};a.prototype.Gub=function(){var a;a=this.tsb();this.offset+=8;return a;};a.prototype.px=function(){return f.Cy(this.xb());};a.prototype.RY=function(){var b,c,d,f,g,h;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.xb(!0);c=this.Dg(!0);d=this.Dg(!0);f=this.Dg();g=this.Dg();h=this.xb();return[a(b,4),a(c,2),a(d,2),a(f,2),a(g,2)+a(h,4)].join("-");};a.prototype.Aub=function(){var a;a=this.view.byteOffset+this.offset;return this.view.buffer.slice(a,a+16);};a.prototype.yub=function(a){var b;b=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var c=this.jd();0!==c&&0<=--a;)b.push(c),c=this.jd();return String.fromCharCode.apply(null,b);};a.prototype.OY=function(a){var b,d;void 0===b&&(b=1);void 0===d&&(d=!0);return this.Hd(this.config.aH&&c.ejb||c.SE,1,a,b,d);};a.prototype.xub=function(a){var b,d,f;d=10;f=!1;void 0===d&&(d=2);void 0===f&&(f=!0);void 0===b&&(b=!1);return this.Hd(this.config.aH&&c.cjb||c.OV,2,a,d,f,b);};a.prototype.NY=function(a,b,d){var f;void 0===b&&(b=4);void 0===d&&(d=!0);void 0===f&&(f=!1);return this.Hd(this.config.aH&&c.djb||c.RE,4,a,b,d,f);};a.prototype.Cub=function(){for(var a=this.jd(),b=a&127;a&128;)a=this.jd(),b=b<<7|a&127;return b;};a.prototype.Hd=function(a,b,c,d,f,g){void 0===f&&(f=!0);void 0===g&&(g=!1);a=a(this.view,this.offset,c,d,g);this.offset=f||!d||d===b?this.offset+c*(d||b):this.offset+b;return a;};return a;}();d.hYa=g;},function(g,d,a){var c,f,h,q,b;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(131);h=a(398);q=a(71);g=a(822);b=function(){function a(a){a?(this.cm=a.cm.slice(),this.Po=a.Po.slice(),this.Cg=a.Cg.slice(),this.trim=a.trim):(this.cm=[],this.Po=[],this.Cg=[]);}Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.cm.length&&0===this.Po.length&&0===this.Cg.length;},enumerable:!0,configurable:!0}});return a;}();g=function(a){function d(c,d,f){c=a.call(this,c,d,f)||this;c.nva=[];c.cd=new b();return c;}c.__extends(d,a);d.t4a=function(a,b){if(b.offset+b.size<=a.byteLength)switch(b.size){case 1:a.setUint8(b.offset,b.value);break;case 2:b.kO?a.setInt16(b.offset,b.value):a.setUint16(b.offset,b.value);break;case 4:b.kO?a.setInt32(b.offset,b.value):a.setUint32(b.offset,b.value);break;case 8:f.assert(!b.kO);a.setUint32(b.offset,Math.floor(b.value/4294967296));a.setUint32(b.offset+4,b.value&4294967295);break;default:f.assert(!1);}};Object.defineProperties(d.prototype,{AU:{get:function(){return!this.cd.empty;},enumerable:!0,configurable:!0}});d.prototype.I_=function(a,b){this.cd.Po.push({offset:void 0!==b?b:this.offset,value:a,size:1});void 0===b&&(this.offset+=1);};d.prototype.qDb=function(a){this.cd.Po.push({offset:!1,value:a,size:2,kO:!1});};d.prototype.Oo=function(a,b){this.cd.Po.push({offset:void 0!==b?b:this.offset,value:a,size:4,kO:!1});void 0===b&&(this.offset+=4);};d.prototype.rDb=function(a,b){this.cd.Po.push({offset:void 0!==b?b:this.offset,value:a,size:8,kO:!1});void 0===b&&(this.offset+=8);};d.prototype.TJa=function(a){this.Oo(q.Eoa(a));};d.prototype.gha=function(a,b){this.cd.Cg.push({offset:this.offset,zm:a,value:b});this.offset+=4;};d.prototype.mk=function(a,b,c){this.cd.cm.push({offset:b,remove:a,ub:c});};d.prototype.YY=function(a,b,c,d){this.cd.cm.push({offset:c,remove:a,replace:b,ub:d});};d.prototype.trim=function(a){this.cd.trim=a;};d.prototype.mub=function(){this.nva.push(new b(this.cd));};d.prototype.ftb=function(){this.cd=this.nva.pop()||new b();};d.prototype.Qa=function(){var a,b,c,f,g,h,k;a=this;if(0===this.cd.cm.length&&0===this.cd.Po.length&&0===this.cd.Cg.length)return[void 0===this.cd.trim?this.view.buffer:this.view.buffer.slice(0,this.cd.trim)];this.cd.cm.sort(function(a,b){return a.offset-b.offset;});this.cd.Po.sort(function(a,b){return a.offset-b.offset;});this.dwb();b=this.zeb();c=this.view.buffer.slice(0,b);f=new DataView(c);this.cd.Po.forEach(d.t4a.bind(void 0,f));this.IBb(f);this.HBb(f);g=[];h=void 0!==this.cd.trim?Math.min(this.cd.trim,this.view.byteLength):this.view.byteLength;k=0;this.cd.cm.filter(function(a){return a.offset<=h;}).forEach(function(c){c.offset>k&&(g.push(f.buffer.slice(k,c.offset)),c.offset>f.byteLength&&f!==a.view&&(f=a.view,g.push(f.buffer.slice(b,c.offset))));c.replace&&g.push(c.replace);k=c.offset+c.remove;});k<b&&g.push(c.slice(k));k<h&&g.push(this.view.buffer.slice(Math.max(c.byteLength,k),h));return g;};d.prototype.zeb=function(){var a,b,c;a=[];b=this.cd.Po[this.cd.Po.length-1];c=this.cd.Cg[this.cd.Cg.length-1];b&&a.push(b.offset+b.size);c&&a.push(c.offset+4);this.cd.cm.filter(function(a){return a.ub;}).forEach(function(b){return a.push(b.ub.byteOffset+4);});b=Math.max.apply(void 0,a);return void 0!==this.cd.trim?Math.min(b,this.cd.trim):b;};d.prototype.dwb=function(){this.cd.cm=this.cd.cm.reduce(function(a,b){var c,d;if(0===a.length)return a.push(b),a;c=a[a.length-1];d=c.offset+c.remove;b.offset>=d?a.push(b):b.offset+b.remove>d&&(f.assert(c.ub===b.ub),c.remove+=b.offset+b.remove-d,b.replace&&(c.replace=c.replace?h.concat(c.replace,b.replace):b.replace));return a;},[]);};d.prototype.IBb=function(a){var b;b=this;this.cd.Cg.forEach(function(c){var d,f,g,h;d=a;f=c.offset;b.cd.cm.some(function(a){return a.offset<=c.offset&&a.replace&&a.offset+a.replace.byteLength>=c.offset+4?(d=new DataView(a.replace),f=c.offset-a.offset,!0):!1;});g=c.zm+(void 0!==c.value?c.value:d.getInt32(f));h=b.cd.cm.reduce(function(a,b){return b.offset>c.zm&&b.offset<g?a+(b.remove-(b.replace?b.replace.byteLength:0)):a;},0);d.setInt32(f,g-c.zm-h);});};d.prototype.HBb=function(a){this.cd.cm.forEach(function(b){var c;c=(b.remove||0)-(b.replace?b.replace.byteLength:0);if(0!==c)for(b=b.ub;b;)a.setUint32(b.byteOffset,a.getUint32(b.byteOffset)-c),b=b.parent;});};return d;}(g.hYa);d.gYa=g;},function(g){g.P=function a(c,f){var g;c.__proto__&&c.__proto__!==Object.prototype&&a(c.__proto__,f);Object.getOwnPropertyNames(c).forEach(function(a){g=Object.getOwnPropertyDescriptor(c,a);void 0!==g&&Object.defineProperty(f,a,g);});};},function(g,d,a){var c,f,h,q,b,k,p,l,n,r,D,B;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(824);h=a(398);q=a(131);b=a(229);k=a(26);g=a(401);p=a(400);l=a(397);n=a(130);r=a(230);D=a(84);B=a(396);a=function(){function a(a,b,c,d,f,g){this.console=a;this.stream=b;this.Vp=d;this.T3a=f;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);this.config=g||{};this.Tjb=n.zgb();}a.path=function(a,b){return b.reduce(function(a,b){return a&&a.Hc[b]&&a.Hc[b][0];},a);};a.Dhb=function(a){return a&&a.F6&&-1!==a.F6.indexOf("mcl0")?"mcl0":void 0;};a.Geb=function(a,c){var d;q.assert("mcl0"===a,"Unsupported McClearen brand");d=c.X;a=d.Gd;c=new b.Ta(120,1).pg(d.W).Cb;for(var f=0,d=d.Aj;f<a.length&&d<c;)d+=a[f++];return f;};a.prototype.parse=function(a){var b;b=this.Ewb();if(!b.done){if(b.ACa)return{hx:!1,U3a:b.ACa};this.console.error("Scan error: "+b.error);return{hx:!1,parseError:b.error||"unknown mp4 scan error"};}b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+b.offset);this.view=new DataView(b);a=this.Grb(a);return a.done?this.l8a():(this.console.error("Parse error: "+a.error),{hx:!1,parseError:a.error||"unknown mp4 parse error"});};a.prototype.Fz=function(a){return k.Kf.Fz(this,a);};a.prototype.Gz=function(a){return k.Kf.Gz(this,a);};a.prototype.Ewb=function(){var b,d;b=new B.VPa(this.Vp,this.T3a?[D.pQ,D.oQ]:[],this.config&&this.config.pTb||["moof",D.kla],this.config&&this.config.ODa);d=c.__assign(c.__assign({},this.config),{fda:!1});return new l.Z_(a.Lea,b,this.view,this.console,d).parse();};a.prototype.Grb=function(a){var b,d,g;b=new B.Hia(this.view.byteLength);d=Object.create(r.GF.Hc);this.config&&((this.config.NDa||this.config.LIa||this.config.MZ)&&f(r.GF.Jea,d),this.config.Iga&&f(r.GF.gBb,d),this.config.LIa&&f(r.GF.MIa,d));g=c.__assign(c.__assign({},this.config),{fda:!0});this.ag=new l.Z_(d,b,this.view,this.console,g);a=this.ag.parse(a);a.done&&(this.Hc=this.ag.Hc);return a;};a.prototype.l8a=function(){var c,d,f,g,k,m;c={hx:!0};d=a.path(this,["moov"]);f=a.path(d,["trak","mdia","minf","stbl","stsd"]);if(this.config.NDa)if(f)c.La=f.La,c.MSb=f.Hc;else return{hx:!1,parseError:"Missing sample descriptions"};g=a.path(f,["encv","sinf","schi"]);g&&(g=a.path(g,["tenc"])||a.path(g,[D.Hla]))&&(c.FU={WNb:g.Rw,xAa:g.xAa,HQb:!1});if(g=a.path(d,["trak","mdia","mdhd"]))c.W=g.W;if(g=a.path(d,["mvex","trex"]))c.cE=g&&g.rd.cE;!c.La&&c.cE&&c.W&&(c.La=new b.Ta(c.cE,c.W));if(g=a.path(this,["sidx"])){k=a.path(this,[D.pQ]);k=k&&k.Eob;m=a.path(this,[D.oQ]);m=m&&m.Uh;c.X=g.X;c.EF=k;c.Uh=m;}if(k=this.Hc.vmaf&&this.Hc.vmaf[0])c.Nx=k.Nx;if(this.config.owb)if(d)this.trim(d.byteOffset+d.byteLength),this.config.MZ&&f&&1<f.Hm&&g&&(c.bi=this.MZ(f,g)),void 0===c.bi&&(d=this.ag.AU?h.concat(this.ag.Qa()):this.view.buffer,c.bi=[{Kz:0,data:d}]);else return{hx:!1,parseError:"Missing movie box"};c.hx=!0;c.nY=this.ag.offset;return c;};a.prototype.trim=function(a){var b;b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+Math.min(a,this.view.byteLength));this.ag.trim(a);this.view=new DataView(b);};a.prototype.MZ=function(b,c){var d,f,g;d=Object.keys(b.Hc);f=d.filter(function(a){return"encv"!==a;});if(!(2>d.length||f.length===d.length||0===f.length)){d=a.path(this,["ftyp"]);g=a.Dhb(d);if(g)return d=[],this.ag.mub(),b.BFa("encv"),d.push({Kz:0,lj:!1,data:h.concat(this.ag.Qa())}),this.ag.ftb(),b.BFa(f[0]),b=a.Geb(g,c),d.push({Kz:b,lj:!0,data:h.concat(this.ag.Qa())}),d;}};a.Lea={};return a;}();d.my=a;a.Lea[D.K1]=g["default"];a.Lea[D.L1]=p["default"];},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){var a,b,c,d,f;this.Hf();a=this.Dr([{Fga:"int32"},{Fua:"int32"},{gU:"int32"},{iU:"int32"},{hU:"int32"}]);b=a.Fga;c=a.Fua;d=a.gU;f=a.hU;a=a.iU;this.rd={cb:b,Uab:c,cE:d,Bua:f,Cua:a};this.Fga=b;this.Fua=c;this.gU=d;this.iU=a;this.hU=f;return!0;};d.Je="trex";d.$b=!1;return d;}(a(26).Kf);d["default"]=g;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(84);a=a(26);f=g.J1;a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){this.Hf();this.rd=this.Dr([{ZX:"int32"},{PK:"int16"}]);return!0;};d.Je=f;d.$b=!1;return d;}(a.Kf);d["default"]=a;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(227);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){this.Hf();this.POa=f.cja.$Ea(this.L);return!0;};d.Je="esds";d.$b=!1;return d;}(a(26).Kf);d["default"]=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.AE=function(){var a;a=this.Gz("esds");if(a=a&&a.POa.Gz(5))this.eV=a.eV;return!0;};d.Je="mp4a";d.$b=!0;return d;}(a(173)["default"]);d["default"]=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){var a;this.L.jd();this.zKa=this.L.jd();this.L.jd();this.L.jd();this.L.jd();this.BHa=this.q4(this.L.jd()&31);this.q4(this.L.jd());this.IY=this.BHa.length?this.BHa[0][0]:this.zKa;this.lqa=this.L.offset;this.startOffset+this.length<this.L.offset&&(100===this.IY||110===this.IY||122===this.IY||144===this.IY)&&(this.L.jd(),this.L.jd(),this.q4(this.L.jd()));a=this.startOffset+this.length-this.lqa;0<a&&this.mk(a,this.lqa);return!0;};d.prototype.q4=function(a){var d;for(var b=[],c=0;c<a;++c){d=this.L.Dg();b.push(this.L.OY(d));}return b;};d.Je="avcC";d.$b=!1;return d;}(a(26).Kf);d["default"]=g;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(26);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){this.Hf();this.qGa=this.L.px();f.nb&&this.L.console.trace("SchemeTypeBoxTranslator: "+this.qGa);"cenc"===this.qGa&&(this.L.offset-=4,f.nb&&this.L.console.trace("SchemeTypeBoxTranslator: writing type piff at offset "+this.L.offset),this.Xa.TJa("piff"));this.L.xb();return!0;};d.Je="schm";d.$b=!1;return d;}(f.Kf);d["default"]=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){var b;this.Gqb=this.L.Dg()&7;this.Uzb=[];for(var a=0;a<this.Gqb;a++){b={qfb:this.L.Gf(2),c6a:this.L.Gf(5),d6a:this.L.Gf(5),d3a:this.L.Gf(3),MQb:this.L.Gf(1),Fqb:this.L.Gf(4)};0<b.Fqb?b.ANb=this.L.Gf(9):this.L.Gf(1);this.Uzb.push(b);}return!0;};d.Je="dec3";return d;}(a(26).Kf);d["default"]=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){this.qfb=this.L.Gf(2);this.c6a=this.L.Gf(5);this.d6a=this.L.Gf(3);this.d3a=this.L.Gf(3);this.L.Gf(1);this.L.Gf(5);this.L.Gf(5);return!0;};d.Je="dac3";return d;}(a(26).Kf);d["default"]=g;},function(g,d,a){var c,f,h,q,b;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(84);h=a(229);q=a(173);g=a(26);b=a(83);a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){this.Hf();this.Hm=this.L.xb();return!0;};d.prototype.AE=function(a){var c;c=Object.keys(this.Hc);c.length&&(c=c[0],this.Hc[c].length&&(c=this.Hc[c][0],c instanceof q["default"]?this.La=new h.Ta(c.eV,c.lGa):c instanceof b["default"]&&(c=c.Hc[f.J1])&&c.length&&(c=c[0].rd,1E3!==c.PK&&1001!==c.PK||0!==c.ZX%1E3?this.L.console.warn("Unexpected frame rate in NetflixFrameRateBox: "+c.ZX+"/"+c.PK):this.La=new h.Ta(c.PK,c.ZX)),this.La&&(a.La=this.La)));return!0;};d.prototype.BFa=function(a){void 0!==this.Hc[a]&&0!==this.Hc[a].length&&(this.Xa.Oo(this.Hm-1,this.byteOffset+12),a=this.Hc[a][0],this.mk(a.byteLength,a.byteOffset));};d.Je="stsd";d.$b=!0;return d;}(g.Kf);d["default"]=a;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(71);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){this.Hf();this.rd=this.Dr([{mSb:"int32"},{Mya:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.rd.Mya=f.Cy(this.rd.Mya);return!0;};d.Je="hdlr";d.$b=!1;return d;}(a(26).Kf);d["default"]=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){this.L.px();this.L.px();for(this.F6=[];this.L.offset<=this.byteOffset+this.byteLength-4;)this.F6.push(this.L.px());return!0;};d.Je="ftyp";d.$b=!1;return d;}(a(26).Kf);d["default"]=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){this.rd=this.Dr([{mNb:"int32"},{po:"int32"},{x5a:"int32"}]);return!0;};d.Je="btrt";d.$b=!1;return d;}(a(26).Kf);d["default"]=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){this.rd=this.Dr([{aQb:"int32"},{PTb:"int32"}]);return!0;};d.Je="pasp";d.$b=!1;return d;}(a(26).Kf);d["default"]=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){this.Hf();this.rd=this.Dr(1===this.version?[{Jwa:"int64"}]:[{Jwa:"int32"}]);return!0;};d.Je="mehd";d.$b=!1;return d;}(a(26).Kf);d["default"]=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){var a;this.Hf();a=1===this.version?[{oh:"int64"},{modificationTime:"int64"},{cb:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{oh:"int32"},{modificationTime:"int32"},{cb:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{Jmb:"int16"},{g4a:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.rd=this.Dr(a);this.rd.wTb=!!(this.Ze&1);this.rd.xTb=!!(this.Ze&2);this.rd.yTb=!!(this.Ze&4);this.rd.zTb=!!(this.Ze&8);this.L.console.trace("Finished parsing track box");return!0;};d.Je="tkhd";d.$b=!1;return d;}(a(26).Kf);d["default"]=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.Je="trak";d.$b=!0;return d;}(a(26).Kf);d["default"]=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(d,a);d.prototype.parse=function(){this.Hf();this.rd=1===this.version?this.Dr([{oh:"int64"},{modificationTime:"int64"},{W:"int32"},{duration:"int64"}]):this.Dr([{oh:"int32"},{modificationTime:"int32"},{W:"int32"},{duration:"int32"}]);return!0;};d.Je="mvhd";d.$b=!1;return d;}(a(26).Kf);d["default"]=g;},function(g,d,a){var c,f,h,q,b,k,p;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(97);h=a(8);g=a(3);q=a(394);a=a(405);b=new g.Console("FRAGMENTS","media|asejs");try{k=!0;}catch(t){k=!1;}p=function(a){function b(b,c){c=a.call(this,b.Lo,c)||this;c.Qy=b;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{ba:{get:function(){return this.Qy.Syb(this.dj);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{offset:{get:function(){return this.Qy.Cg(this.dj);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{pca:{get:function(){return this.Qy.EF&&this.Qy.EF[this.dj];},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{Uh:{get:function(){return this.Qy.Cfb(this.dj);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{Dc:{get:function(){return this.Qy.Nx&&this.Qy.Nx[this.dj];},enumerable:!0,configurable:!0}});b.prototype.toJSON=function(){return{index:this.index,contentStartTicks:this.gb,contentEndTicks:this.yb,durationTicks:this.$n,timescale:this.W,startPts:this.T,endPts:this.ga,duration:this.duration,additionalSAPs:this.Uh};};return b;}(a.DXa);d.xLb=p;g=function(){function a(a,c,d,f,g,h){this.YC=128;this.Yb=a;this.Nd=c.offset;this.wm=c.sizes;this.yC=this.GI=this.tg=this.Mqa=this.D4=void 0;this.h0a=d;this.P2=f&&f.Cg;this.Yqa=g;this.Ev=Math.min(this.Yb.length,this.wm.length);this.V_a=this.E6a();this.Lo.Fn.length!==this.wm.length&&b.error("Mis-matched stream duration ("+this.Lo.Fn.length+","+this.wm.length+") for movie id "+h);this.Lo.$S&&!this.P2&&b.error("Mis-matched additional SAPs information for movie id "+h);}a.XNb=function(a,b){var c,d;b=b.W;c=b/1E3;d=new DataView(a);a=Math.floor(a.byteLength/16);return{W:b,Aj:d.getUint32(4)*c,offset:65536*d.getUint32(8)+d.getUint16(12),sizes:f.YNa.RE(d,0,a,16),Gd:f.D2.from(Uint32Array,{length:a},function(a,b){return d.getUint16(16*b+14)*c;})};};Object.defineProperties(a.prototype,{M:{get:function(){return this.Yb.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.Ev;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Aj:{get:function(){return this.Yb.Aj;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{o8:{get:function(){return this.Yb.o8;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.Yb.T;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Yb.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rba:{get:function(){return this.Yb.Rba;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{rX:{get:function(){return this.V_a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{La:{get:function(){return this.Yb.La;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{W:{get:function(){return this.Yb.W;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Eh:{get:function(){return this.Mqa||this.Z2();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{EF:{get:function(){return this.h0a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{qra:{get:function(){return this.P2;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Nx:{get:function(){return this.Yqa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Lo:{get:function(){return this.Yb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{yG:{get:function(){return this.D4||this.sZa();},enumerable:!0,configurable:!0}});a.prototype.Syb=function(a){if(this.wm)return this.wm[a];b.error("sizesByIndex _sizes is undefined");return-1;};a.prototype.Ah=function(a){return this.Yb.Ah(a);};a.prototype.p8=function(a){return this.Yb.Ah(a)+this.Yb.Gd(a);};a.prototype.Cg=function(a){if(this.GI!==a||void 0===this.yC){if(0===a)return this.Nd;if(this.GI===a-1&&void 0!==this.yC)this.yC+=this.wm[this.GI],++this.GI;else{for(var b=this.tg||this.YYa(),c=Math.floor(a/this.YC),d=c*this.YC,b=b[c];d<a;++d)b+=this.wm[d];this.GI=a;this.yC=b;}}return this.yC;};a.prototype.Gd=function(a){return this.Yb.Gd(a);};a.prototype.get=function(a){return new p(this,a);};a.prototype.Cfb=function(a){var b,c,d;h.assert(0<=a);b=this.Lo.$S;c=this.Lo.rra;d=this.P2;if(!d||!b||!c||a>=b.length)return[];for(var f=[],g=a===b.length-1?c.length:b[a+1],b=b[a];b<g;++b)f.push({bm:c[b],Kc:this.Ah(a)+this.La.RM(c[b]).Ma,offset:d[b]});return f;};a.prototype.nyb=function(a){this.Yqa=a;};a.prototype.Gl=function(a,b,c){return this.Yb.Gl(a,b,c);};a.prototype.RU=function(a,b,c){return this.Yb.RU(a,b,c);};a.prototype.S6=function(a,b){return this.Yb.S6(a,b);};a.prototype.PW=function(a,b,c){var d,f,g,h,k,m,p,q,l;d=!0;f=0;h=this.Yb.Fn;k=this.wm;m=Math.floor(a*this.W/1E3);p=0;q=0;l=0;if(this.Yb.Qga&&this.Yb.Pga)for(f=this.Yb.Qga;f<=this.Yb.Pga;++f)p+=h[f],q+=k[f];if(q>b)d=!1;else for(;f<this.length&&(!c||f<c);){g=k[f];a=h[f];if(q+g>b&&p<m){d=!1;this.Yb.Qga=l;this.Yb.Pga=f;break;}for(;0<f-l&&q+g>b;)p-=h[l],q-=k[l],++l;p+=a;q+=g;++f;}return d;};a.prototype.subarray=function(b,c){h.assert(void 0===b||0<=b&&b<this.length);h.assert(void 0===c||c>b&&c<=this.length);return new a(this.Yb.subarray(b,c),{offset:this.Cg(b),sizes:this.wm.subarray(b,c)},this.EF&&this.EF.subarray(b,c),this.qra&&{Cg:this.qra});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length};};a.prototype.dump=function(){var c;b.trace("StreamFragments: "+this.length);for(var a=0;a<this.length;++a){c=this.get(a);b.trace("StreamFragments: "+a+": ["+c.T+"-"+c.ga+"] @ "+c.offset+", "+c.ba+" bytes");}};a.prototype.E6a=function(){var a,b,c,d,f;b=0;c=this.Yb.GBa;d=this.Yb.Fn;f=this.wm;if(void 0===c||c>=this.length){for(var g=0;g<this.length;++g)a=f[g]/d[g],a>b&&(b=a,c=g);void 0===this.Yb.GBa&&(this.Yb.GBa=c);}else b=f[c]/d[c];return Math.floor(b*this.W/125);};a.prototype.Z2=function(){for(var a=0,b=0;b<this.length;++b)a+=this.wm[b];return this.Mqa=a;};a.prototype.sZa=function(){return this.D4=new q.lna(this.Yb.Fn,this.wm,this.Yb.W);};a.prototype.YYa=function(){var a;if(!this.tg){a=k?new Float64Array(Math.ceil(this.length/this.YC)):Array(Math.ceil(this.length/this.YC));for(var b=this.Nd,c=0;c<a.length;++c){a[c]=b;for(var d=0;d<this.YC;++d)b+=this.wm[c*this.YC+d];}this.tg=a;}return this.tg;};return a;}();d.cXa=g;g.prototype.IHa=a.Bba(g.prototype.Ah);},function(g,d,a){var f,h,q,b,k,p,l;function c(a,b){var c,d;c=Math.floor(1E3*a/b);d=1E3*Math.round(c/1E3);return new k.Ta(d,Math.abs(Math.floor(1001*a/b)-d)>Math.abs(c-d)?1E3:1001);}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);h=a(58);q=a(6);b=a(405);k=a(29);a(8);p=a(21);l=a(404);g=function(){function a(b,d,f){this.K=d;this.I=f;this.npa=!1;this.S3=b.iA;this.Nc=b.O;this.Ve=b.M;this.x2a=b.UG;this.uYa=b.CJ;1===this.Ve&&(d=this.S3.streams[0],void 0!==d.framerate_value&&void 0!==d.framerate_scale&&(this.R3=c(d.framerate_value,d.framerate_scale).pFa()));this.sl=(this.IC=this.R3)&&this.IC.W;this.C3=this.Toa=!1;this.U$=-Infinity;this.mBa=Infinity;b=a.uZa(this,b.mf,b.Lq);d=b.po;f=b.uc;this.t_a=b.aW;this.U_a=d;this.Os=f;this.l2a=f.reduce(function(a,b){a[b.pa]=b;return a;},{});!1;}a.uZa=function(a,b,c){var d,g,k,m,t,n;d=a.K;g=1===a.M;k={};d.rO&&d.rO.enabled&&d.rO.profiles&&d.rO.profiles.forEach(function(a){k[a]={action:d.rO.action,applied:!1};});m=!1;t=0;n=[];a.iA.streams.forEach(function(u,r){var y,D,B,C,K;D=u.bitrate;B=u.vmaf;C=u.content_profile;K={inRange:!0,pf:!0};if(g){y=-1===u.content_profile.indexOf("none");K.pf=b&&!y||!b&&y;K.pf&&c&&h(p.dT(u.content_profile,u.bitrate,c),K);if(D<d.jpb||D>d.gob)K.inRange=!1;!q.Ja(B)&&(B<d.kpb||B>d.hob)&&(K.inRange=!1);k.hasOwnProperty(C)&&"keepLowest"===k[C].action&&(k[C].applied?K.inRange=!1:k[C].applied=!0);m=m||y;}K.inRange&&K.pf&&D>t&&(t=D);u=new l.ZKa(f.__assign({Xw:u,Ch:r,track:a},K),d,a.I);n.push(u);});return{aW:m,po:t,uc:n};};Object.defineProperties(a.prototype,{Tpb:{get:function(){return!this.ud&&!this.npa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ud:{get:function(){return!!this.Lo&&!!this.uW;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X7:{get:function(){return this.Toa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Nc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return String(this.Nc.u);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{cb:{get:function(){return this.S3.track_id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Ve;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{La:{get:function(){return this.IC;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{W:{get:function(){return this.sl;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{FF:{get:function(){return this.j0a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Lo:{get:function(){return this.Yb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{uW:{get:function(){return this.E3;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{iA:{get:function(){return this.S3;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{UG:{get:function(){return this.x2a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{CJ:{get:function(){return this.uYa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aW:{get:function(){return this.t_a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{po:{get:function(){return this.U_a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{uc:{get:function(){return this.Os;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{k9:{get:function(){return this.La.W;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{j9:{get:function(){return this.La.Cb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return 0;},enumerable:!0,configurable:!0}});a.prototype.ar=function(a){return this.QE()[a];};a.prototype.QE=function(){return this.l2a;};a.prototype.equals=function(a){return this.u===a.u&&this.M===a.M&&this.cb===a.cb;};a.prototype.Tca=function(){this.npa=!0;};a.prototype.cY=function(a,c,d,f,g){if(f&&void 0!==f.Aj&&(this.ud||void 0!==f.Gd&&f.Gd.length))if(a.Gp&&(this.Toa=!0),this.ud)!this.C3&&f.Gd&&f.Gd.length>this.Lo.length&&(this.Yb=new b.Hna(this.M,this.La,f,g),this.E3=a,this.U$=-Infinity,this.C3=!0);else{this.Fqa(c);if(d=d||this.R3)this.Eqa(d||this.R3),void 0===this.W&&this.Gqa(d.W);this.Yb=new b.Hna(this.M,this.La,f,g);this.E3=a;a.Gp&&(this.C3=!0);}else this.I&&this.I.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.A8a=function(a){this.ud||(this.Gqa(a.W),this.Fqa(a.FF),this.Eqa(a.La),this.Yb=a.Lo,this.E3=a.uW);};a.prototype.toJSON=function(){return{movieId:this.u,mediaType:this.M,trackId:this.cb};};a.prototype.toString=function(){return(0===this.M?"a":"v")+":"+this.cb;};a.prototype.Gqa=function(a){this.sl=a;};a.prototype.Fqa=function(a){this.j0a=a;};a.prototype.Eqa=function(a){this.IC=a;};return a;}();d.$Ka=g;},function(g){function d(a,c){this.Ca=a;this.hh=c;}d.prototype.Bda=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var c=1>a?a:2-a,d=Math.sqrt(-2*Math.log(c/2)),d=-.70711*((2.30753+.27061*d)/(1+d*(.99229+.04481*d))-d),g=0;2>g;g++)var h=Math.abs(d),b=1/(1+h/2),h=b*Math.exp(-h*h-1.26551223+b*(1.00002368+b*(.37409196+b*(.09678418+b*(-.18628806+b*(.27886807+b*(-1.13520398+b*(1.48851587+b*(-.82215223+.17087277*b))))))))),h=(0<=d?h:2-h)-c,d=d+h/(1.1283791670955126*Math.exp(-(d*d))-d*h);a=1>a?d:-d;}return this.Ca-Math.sqrt(2*this.hh)*a;};g.P=d;},function(g,d,a){var f;function c(a){this.qG=new Uint16Array(a.length);for(var c=0;c<a.length;++c)this.qG[c]=a.charCodeAt(c);}f=new(a(3)).Console("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(a){var c,b;c=this.qG.length;if(void 0===this.qG)f.warn("XORCiper.encrypt is called with undefined secret!");else{b="";for(var d=0;d<a.length;++d)b+=String.fromCharCode(this.qG[d%c]^a.charCodeAt(d));return encodeURIComponent(b);}};c.prototype.decrypt=function(a){var c,b;c="";b=this.qG.length;a=decodeURIComponent(a);for(var d=0;d<a.length;d++)c+=String.fromCharCode(this.qG[d%b]^a.charCodeAt(d));return c;};g.P=c;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(86);f=a(8);g=function(){function a(){this.data={};}Object.defineProperties(a.prototype,{empty:{get:function(){return 0===Object.keys(this.data).length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{size:{get:function(){var a;a=this;return Object.keys(this.data).reduce(function(b,c){return b+a.data[c].length;},0);},enumerable:!0,configurable:!0}});a.prototype.get=function(a){var b;return b=this.data[a],null!==b&&void 0!==b?b:[];};a.prototype.has=function(a,b){return(a=this.data[a])?void 0===b?!0:-1!==a.indexOf(b):!1;};a.prototype.count=function(a){return(a=this.data[a])?a.length:0;};a.prototype.keys=function(){return Object.keys(this.data);};a.prototype.values=function(){var a;a=this;return c.Mt(this.keys().map(function(b){return a.data[b];}));};a.prototype.set=function(a,b){(this.data[a]||(this.data[a]=[])).push(b);return this;};a.prototype.clear=function(){this.data={};};a.prototype["delete"]=function(a,b){var c,d;c=this.data[a];if(void 0===c)return!1;if(void 0===b)return f.assert(1===arguments.length),delete this.data[a],!0;d=c.indexOf(b);if(-1===d)return!1;1===c.length?delete this.data[a]:c.splice(d,1);return!0;};a.prototype.forEach=function(a,b){var c;c=this;a=void 0!==b?a.bind(b):a;this.keys().forEach(function(b){return c.data[b].forEach(function(d){return a(d,b,c);});});};a.prototype.reduce=function(a,b,c){var d,f;d=this;a=void 0!==c?a.bind(c):a;f=b;this.forEach(function(b,c){f=a(f,b,c,d);});return f;};a.prototype.map=function(a,b){var d;d=this;a=void 0!==b?a.bind(b):a;return c.Mt(this.keys().map(function(b){return d.data[b].map(function(c){return a(c,b,d);});}));};a.prototype.filter=function(a,b){var d;d=this;a=void 0!==b?a.bind(b):a;return c.Mt(this.keys().map(function(b){return d.data[b].filter(function(c){return a(c,b,d);});}));};return a;}();d.$Sa=g;},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=function(){function a(a,c){this.o=a;this.St=c?[c]:[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!0,configurable:!0}});a.prototype.addListener=function(a){-1===this.St.indexOf(a)&&(this.St=this.St.slice(),this.St.push(a));};a.prototype.removeListener=function(a){a=this.St.indexOf(a);-1!==a&&(this.St=this.St.slice(),this.St.splice(a,1));};return a;}();d.uKb=g;g=function(a){function d(c,b){return a.call(this,c,b)||this;}c.__extends(d,a);Object.defineProperties(d.prototype,{value:{get:function(){return this.o;},set:function(a){this.set(a);},enumerable:!0,configurable:!0}});d.prototype.set=function(a){var b,c;b=this.o;c=this.St;this.o=a;c.forEach(function(c){return c({oldValue:b,newValue:a});});};return d;}(g);d.uQ=g;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(16);g=a(3);f=g.Lj;new g.Console("ASEJS_SIDECHANNEL","media|asejs");g=function(){function a(a,b,d){this.Tl=d;this.X2a=new c.qYa(a);this.W2a=b.ia;this.RYa=1E3*b.Dob/b.e6a;this.GZa=b.pw;this.By=b.x6;}a.prototype.Fm=function(a){var b;b={s_xid:this.W2a,dl:this.GZa?1:0};a.cK&&(b.bs=c.GT(Math.floor(a.cK/this.RYa)+1,1,5));a.TX&&(b.limit_rate=a.TX);a.qsa&&(b.bb_reason=a.qsa);a.zIa&&(b.tm=a.zIa);a.RT&&a.cK&&a.cK>this.By.OM&&(this.By.CN[0]&&(b.cpr_ss=this.By.CN[0]*a.RT),this.By.CN[1]&&(b.cpr_ca=this.By.CN[1]*a.RT),this.By.CN[2]&&(b.cpr_rec=this.By.CN[2]*a.RT));return this.O0a(b);};a.prototype.dfa=function(a,b){var c,d;try{c=new f(void 0,"notification");d=this.Fm({qsa:a});b&&d&&c.open(b,void 0,2,void 0,void 0,void 0,d);}catch(t){this.Tl("SideChannel: Error when sending sendBlackBoxNotification. Error: "+t);}};a.prototype.O0a=function(a){var b;try{b=this.X1a(a);return this.X2a.encrypt(b);}catch(k){this.Tl("SideChannel: Error when obfuscating msg. Error: "+k);}};a.prototype.X1a=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;}();d.TWa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.jH||(d.jH={});g[g.CLOSED=0]="CLOSED";g[g.OPEN=1]="OPEN";},function(g,d,a){var c,f,h,q,b,k,p,l,n,r,D,B,I;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);f=a(27);h=a(850);q=a(231);b=a(801);k=a(382);p=a(799);l=a(794);n=a(751);r=a(29);D=a(164);B=a(369);I=a(86);g=function(){function a(a){this.I=a;this.events=new f.EventEmitter();this.Dq=h.jH.CLOSED;this.RS=[];this.bS=[];this.cS=[];this.cD=new n.gWa(this.Maa.bind(this));this.m_a=new b.APa();}Object.defineProperties(a.prototype,{state:{get:function(){return this.Dq;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wda:{get:function(){return this.bS;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zY:{get:function(){return this.cS;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Vb:{get:function(){this.HO();return this.ND.Vb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ym:{get:function(){this.HO();return this.ND.Ym;},enumerable:!0,configurable:!0}});a.prototype.open=function(a,b){if(this.Dq===h.jH.OPEN)return!1;this.ND=k.g0.fya(a,b);this.Dq=h.jH.OPEN;return!0;};a.prototype.J3a=function(a,b){this.HO();a=new l.XKa(this.I,a,100,b,this.Ywa.bind(this),this.cD.mK.bind(this.cD));this.cS.push(a);return a;};a.prototype.H3a=function(a){this.HO();a=new p.WKa(a,[0,1]);this.bS.push(a);return a;};a.prototype.S3a=function(a,b,d,f){var m,p,l;function g(a){return l[a];}function h(){}function k(a){m.events.emit("logdata",a);}m=this;this.HO();p=D.kq.Ae.UD("headers",""+a,!1,!1,{},d);l=[new B.fla(0),new B.fla(1)];a={ta:b,config:d,Gfa:d.Az?c.__assign(c.__assign({},f),{Tl:h,yp:g}):void 0,eb:function(){return!0;},Xh:!0,tL:void 0,Vb:this.ND.Vb,Yg:this.ND.Yg,v8:{eF:function(){return!0;},cr:h,ji:this.ji.bind(this,a),eM:function(){return!1;},Yp:h,Vk:k},N$:{Vk:k,GV:function(){return p;},yp:g,EW:function(){return!0;},Me:void 0,Ab:void 0,Df:void 0,Iw:void 0},WA:{tD:this.cD.tD.bind(this.cD),WY:this.cD.WY.bind(this.cD)},Ua:0,Wk:void 0,Yba:{HW:!1,Daa:!1},Lq:[],JF:h};a=new q.Q_(a);this.RS.push(a);};a.prototype.HL=function(a){return this.Ywa(a);};a.prototype.close=function(){this.x7a();};a.prototype.Maa=function(){return this.m_a.mrb(this.bS[0]?this.bS[0].position.offset:r.Ta.De,this.JV());};a.prototype.JV=function(){var a;a=this.cS.map(function(a){return a.JV();});return I.Mt(a);};a.prototype.HO=function(){if(this.Dq===h.jH.CLOSED)throw Error("Engine CLOSED");};a.prototype.x7a=function(){for(var a=0,b=this.RS;a<b.length;a++)b[a].ic();this.RS=[];};a.prototype.ji=function(a,b,c,d,f,g,h){this.cS.forEach(function(c){return c.ji(b,a,d,f,g,h);});};a.prototype.Ywa=function(a){return I.Sv(this.RS,function(b){return b.va===a;});};return a;}();d.BKa=g;},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(851);h=a(3);d.Ae=function(){var a;if(void 0===f){a=new h.Console("ASEJS","media|asejs");f=new c.BKa(a);}return f;};d.wqa=function(){f=void 0;};},function(g,d,a){var c,f,h,q,b,k,p;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(27);f=a(3);h=a(407);q=a(16);b=a(367);k=a(746);p=new f.Console("ASEJS","media|asejs");p.trace.bind(p);g=function(d){function f(b,c){var r6z,f;r6z=2;while(r6z!==12){var s6z="DEB";s6z+="UG";s6z+=":";var T6z="nf-ase";T6z+=" s";T6z+="him v";T6z+="ersion:";var K6z="1";K6z+="SIYb";K6z+="ZrN";K6z+="J";K6z+="Cp9";switch(r6z){case 7:f.Jq=h.Ae();f.zY={};K6z;return f;break;case 2:f=d.call(this)||this;f.config=b;f.d_=c;r6z=3;break;case 3:b=a(366);f.console=p;f.console.trace(T6z,b,s6z,!1);r6z=7;break;}}}var A6z;A6z=2;while(A6z!==14){switch(A6z){case 4:f.prototype.Ub=function(a,b,c,d,f,g){var e6z;e6z=2;while(e6z!==1){switch(e6z){case 2:this.Jq.open(this.config,this.d_,g);e6z=1;break;}}};f.prototype.sY=function(){};f.prototype.Gm=function(a,c,d,g,h,k,m,p){var S6z;S6z=2;while(S6z!==5){switch(S6z){case 2:this.zY[a.u]||(this.zY[a.u]=this.K$a(a,p,h));return this.Imb=new b.nI(this.console,this,this.zY[a.u],c,{$a:f.vHa,offset:q.Ta.Mm(d)},g,h,k,m);break;}}};f.prototype.K$a=function(a,b,c){var u6z,d,g;u6z=2;while(u6z!==9){var C6z="l";C6z+="a";C6z+="z";C6z+="y";switch(u6z){case 2:g=Number(a.movieId);this.Jq.S3a(g,a,b,{CA:c.CA,ia:c.ia,pw:c.pw});a.choiceMap?g=k.p7a(a.choiceMap):(a=f.vHa,g={rh:a,we:C6z,ab:(d={},d[a]={va:g,og:0,qh:Infinity,Yn:null,next:{}},d)});u6z=3;break;case 3:return this.Jq.J3a(g,b);break;}}};f.vHa=b.nI.rF(0);return f;break;case 2:c.__extends(f,d);Object.defineProperties(f.prototype,{Vb:{get:function(){var d6z;d6z=2;while(d6z!==1){switch(d6z){case 4:return this.Jq.Vb;break;d6z=1;break;case 2:return this.Jq.Vb;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Ym:{get:function(){var N6z;N6z=2;while(N6z!==1){switch(N6z){case 2:return this.Jq.Ym;break;case 4:return this.Jq.Ym;break;N6z=1;break;}}},enumerable:!0,configurable:!0}});A6z=4;break;}}}(g.EventEmitter);d.SWa=g;},function(g){function d(a,d,g,h){a.trace(":",g,":",h);d(h);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addListener=function(a,f,g,h){g=h?g.bind(h):g;if(a){this.console&&(g=d.bind(null,this.console,g,f));if("function"===typeof a.addListener)a.addListener(f,g);else if("function"===typeof a.addEventListener)a.addEventListener(f,g);else throw Error("Emitter does not have a function to add listeners for '"+f+"'");this.listeners.push([a,f,g]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var c,d;c=a[0];d=a[1];a=a[2];"function"===typeof c.removeEventListener?c.removeEventListener(d,a):"function"===typeof c.removeListener&&c.removeListener(d,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};g.P=a;},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(27);f=a(853);h=a(745);a=function(a){function b(b,c){var d;d=a.call(this)||this;d.K=b;d.Rb=new h.uRa(b,c);b.j8&&(d.wx=new f.SWa(b,c));["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"].forEach(function(a){d.Rb.on(a,function(b){return d.emit(a,b);});d.wx&&d.wx.on(a,function(b){return d.emit(a,b);});});return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{Vb:{get:function(){return this.Rb.Vb;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{Ym:{get:function(){return this.Rb.Ym;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{Io:{get:function(){return this.Rb.Io;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{LZ:{get:function(){return this.Rb.LZ;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{Haa:{get:function(){return this.Rb.Haa;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{Qfa:{get:function(){return this.Rb.Qfa;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{Me:{get:function(){return this.Rb.Me;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{Yg:{get:function(){return this.Rb.Yg;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{daa:{get:function(){return this.Rb.daa;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{sY:{get:function(){return this.Rb.sY.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{sM:{get:function(){return this.Rb.sM.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{tba:{get:function(){return this.Rb.tba.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{cHa:{get:function(){return this.Rb.cHa.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{nV:{get:function(){return this.Rb.nV.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{qya:{get:function(){return this.Rb.qya.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{eu:{get:function(){return this.Rb.eu.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{hta:{get:function(){return this.Rb.hta.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{r_:{get:function(){return this.Rb.r_.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{xT:{get:function(){return this.Rb.xT.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{iK:{get:function(){return this.Rb.iK.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{Z5:{get:function(){return this.Rb.Z5.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{jK:{get:function(){return this.Rb.jK.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{wT:{get:function(){return this.Rb.wT.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{Hsa:{get:function(){return this.Rb.Hsa.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{Gsa:{get:function(){return this.Rb.Gsa.bind(this.Rb);},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{OGa:{get:function(){return this.Rb.OGa.bind(this.Rb);},enumerable:!0,configurable:!0}});b.prototype.Ub=function(a,b,c,d,f,g){this.Rb.Ub(a,b,c,d,f,g);this.wx&&this.wx.Ub(a,b,c,d,f,g);};b.prototype.Gm=function(a,b,c,d,f,g,h,m,q,l){return this.wx&&m.YO?this.wx.Gm(a,b,c,d,f,g,h,m):this.Rb.Gm(a,b,c,d,f,g,h,m,q,l);};b.prototype.addEventListener=function(a,b){this.addListener(a,b);return!0;};b.prototype.removeEventListener=function(a,b){this.removeListener(a,b);return!0;};return b;}(g.EventEmitter);d.rSa=a;},function(g,d){var a;Object.defineProperty(d,"__esModule",{value:!0});g=a||(a={});g[g.jm=0]="STOPPED";g[g.Pe=1]="BUFFERING";g[g.Lh=2]="REBUFFERING";g[g.JQ=3]="STREAMING";d.Lf=a;},function(g,d){var a;Object.defineProperty(d,"__esModule",{value:!0});g=a||(a={});g[g.rg=0]="STARTING";g[g.Pe=1]="BUFFERING";g[g.Lh=2]="REBUFFERING";g[g.Ec=3]="PLAYING";g[g.jC=4]="STOPPING";g[g.jm=5]="STOPPED";g[g.jh=6]="PAUSED";d.oa=a;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(5);a=a(79);d.aKa=!0;d.Oma=!1;a=g.aa.get(a.ms);d.Xo={};d.Oka=a.sca;d.z0=a.It;d.OOa=a.Dz;d.xja=a.q9;d.pNa=a.pU;d.MFb=a.Rua;d.NFb=a.pU;d.sNa=a.Uua;d.VHb=a.omb;d.YHb=a.eBa;d.VIb=!1;d.hTa=!0;d.kh={z0:a.It,Wu:void 0,Uu:void 0,rNa:void 0,qNa:void 0,rUa:void 0,qia:void 0,oNa:void 0};},function(g,d,a){var f,h,q;function c(a){this.Mmb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(133);q=a(236);c.prototype.decode=function(a){var b;b=this.Dib(a.cdns);b={movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.W9(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.ugb(a),timedtexttracks:this.Vib(a.textTracks,b),media:this.ME(a.media),trickplays:this.bjb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:this.Qgb(a),initialHeader:void 0,Zf:this.Mmb()};b.VA=a.VA;b.iG=a.iG;b.Zf.v3a(b);return b;};c.prototype.ugb=function(a){var b,c,d;b=P(a.defaultMedia.split("|"));c=b.next().value;d=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:d,subtitleTrackId:b,preferenceOrder:0}];};c.prototype.W9=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};c.prototype.Dib=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};c.prototype.Eya=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};c.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.Gfb(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c&&c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};c.prototype.Gfb=function(a,c){var b;b=this;return a?(a=a.map(function(a){return{type:0,trackType:c.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:c.bcp47,urls:b.Eya(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:c.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};c.prototype.getVideoTracks=function(a,c){var b;b=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:b.jjb(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",drmHeader:c&&c.length?{bytes:c[0],checksum:"",keyId:c[0].substr(c.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};c.prototype.jjb=function(a,c){var b;b=this;return a?(a=a.map(function(a){return{type:1,trackType:c,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:b.Eya(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};c.prototype.Vib=function(a,c){var b;b=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:b.Qib(a.downloadables),ttDownloadables:b.Rib(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:c};}):[];};c.prototype.Qib=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};c.prototype.jib=function(a){var b;b=q.y2.f$();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(ea(a.map(function(a){return a.pixHeight;}))));};c.prototype.Rib=function(a){var b;if(a){b=this.jib(a);return a.reduce(function(a,c){c.isImage&&c.pixHeight!==b||(a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};c.prototype.ME=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};c.prototype.bjb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};c.prototype.Qgb=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return a.clientGenesis+1E3*b;};c.prototype.encode=function(){throw Error("encode not supported");};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(h.hI))],a);d.xSa=a;},function(g,d,a){var f;function c(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c.prototype.wg=function(a,c){var b;b=this;return a.map(function(a){return c.call(b,a);});};c.prototype.uE=function(a,c){var b,d;b={};for(d in a)b[d]=c.call(this,a[d]);return b;};f=c;f=g.__decorate([a.N()],f);d.hja=f;},function(g,d,a){var f,h,q;function c(a){var b;b=q.hja.call(this)||this;b.vc=a;return b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);q=a(860);da(c,q.hja);c.prototype.decode=function(a){return{u:a.movieId,so:a.packageId,rp:a.drmType,gcb:a.drmVersion,Zdb:a.expiration,Y6a:this.kab(a.cdnResponseData),media:this.sab(a.media),duration:a.duration,kg:a.playbackContextId,Dua:this.nab(a.defaultTrackOrderList),Lk:a.drmContextId,Rjb:a.hasDrmProfile,Pjb:a.hasClearProfile,xIa:this.Cab(a.timedtexttracks),PIa:this.Fab(a.trickplays),nT:this.jab(a.audio_tracks),jP:this.Kab(a.video_tracks),Ho:this.rua(a.servers),Pk:this.qab(a.locations),Zlb:a.isUsingLegacyBatchingAPI,dz:a.bookmark,Oya:a.hasDrmStreams,Qjb:a.hasClearStreams,links:a.links,nK:this.lab(a.choiceMap),Dza:a.initialHeader,hDb:this.Lab(a.watermarkInfo),ci:a.isBranching,acb:a.dpsid,$Cb:a.viewableType,gF:a.isSupplemental,lta:a.clientIpAddress,Zf:a.Zf};};c.prototype.encode=function(a){return{movieId:a.u,packageId:a.so,drmType:a.rp,drmVersion:a.gcb,expiration:a.Zdb,cdnResponseData:this.$cb(a.Y6a),media:this.hdb(a.media),duration:a.duration,playbackContextId:a.kg,defaultTrackOrderList:this.cdb(a.Dua),drmContextId:a.Lk,timedtexttracks:this.rdb(a.xIa),trickplays:this.vdb(a.PIa),audio_tracks:this.Zcb(a.nT),video_tracks:this.Adb(a.jP),servers:this.Dva(a.Ho),locations:this.fdb(a.Pk),isUsingLegacyBatchingAPI:a.Zlb,bookmark:a.dz,hasDrmProfile:a.Rjb,hasClearProfile:a.Pjb,hasDrmStreams:a.Oya,hasClearStreams:a.Qjb,links:a.links,choiceMap:this.adb(a.nK),initialHeader:a.Dza,watermarkInfo:this.Bdb(a.hDb),isBranching:a.ci,dpsid:a.acb,viewableType:a.$Cb,isSupplemental:a.gF,clientIpAddress:a.lta,Zf:a.Zf};};c.prototype.Lab=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};c.prototype.Bdb=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};c.prototype.lab=function(a){var b;b=this;return a&&{rh:a.initialSegment,type:a.type,va:a.viewableId,ab:this.uE(a.segments,function(a){return{og:a.startTimeMs,qh:a.endTimeMs,Yn:a.defaultNext,next:b.uE(a.next,function(a){return{weight:a.weight};})};})};};c.prototype.adb=function(a){var b;b=this;return a&&{initialSegment:a.rh,type:a.type,viewableId:a.va,segments:this.uE(a.ab,function(a){return{startTimeMs:a.og,endTimeMs:a.qh,defaultNext:a.Yn,next:b.uE(a.next,function(a){return{weight:a.weight};})};})};};c.prototype.kab=function(a){return{CA:a.pbcid,cB:a.sessionABTestCell};};c.prototype.$cb=function(a){return{pbcid:a.CA,sessionABTestCell:a.cB};};c.prototype.sab=function(a){return this.wg(a,this.rab);};c.prototype.hdb=function(a){return this.wg(a,this.gdb);};c.prototype.rab=function(a){return{cq:this.Dab(a.tracks),id:a.id};};c.prototype.gdb=function(a){return{tracks:this.tdb(a.cq),id:a.id};};c.prototype.Dab=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,z2:a.TEXT};};c.prototype.tdb=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,TEXT:a.z2};};c.prototype.nab=function(a){return this.wg(a,this.mab);};c.prototype.cdb=function(a){return this.wg(a,this.bdb);};c.prototype.mab=function(a){return{BD:a.audioTrackId,mA:a.mediaId,YCb:a.videoTrackId,VHa:a.subtitleTrackId,stb:a.preferenceOrder};};c.prototype.bdb=function(a){return{audioTrackId:a.BD,mediaId:a.mA,videoTrackId:a.YCb,subtitleTrackId:a.VHa,preferenceOrder:a.stb};};c.prototype.Cab=function(a){return this.wg(a,this.Bab);};c.prototype.rdb=function(a){return this.wg(a,this.qdb);};c.prototype.Bab=function(a){return this.vc.Wm(this.w7(a),{type:a.type,UIa:this.Aab(a.ttDownloadables),OA:a.rawTrackType,jF:a.languageDescription,language:a.language,id:a.id,NW:a.isNoneTrack,JW:a.isForcedNarrative,hva:a.downloadableIds,Ssa:this.rua(a.cdnlist),aF:a.isLanguageLeftToRight});};c.prototype.qdb=function(a){return this.vc.Wm(this.l8(a),{type:a.type,ttDownloadables:this.pdb(a.UIa),rawTrackType:a.OA,languageDescription:a.jF,language:a.language,id:a.id,isNoneTrack:a.NW,isForcedNarrative:a.JW,downloadableIds:a.hva,cdnlist:this.Dva(a.Ssa),trackType:a.Ej,new_track_id:a.Lp,isLanguageLeftToRight:a.aF});};c.prototype.Aab=function(a){return this.uE(a,this.zab);};c.prototype.pdb=function(a){return this.uE(a,this.odb);};c.prototype.zab=function(a){return{Sq:a.downloadUrls,Xjb:a.hashAlgo,Yjb:a.hashValue,height:a.height,width:a.width,slb:a.isImage,LM:a.midxOffset,zX:a.midxSize,size:a.size,rAb:a.textKey};};c.prototype.odb=function(a){return{downloadUrls:a.Sq,hashAlgo:a.Xjb,hashValue:a.Yjb,height:a.height,width:a.width,isImage:a.slb,midxOffset:a.LM,midxSize:a.zX,size:a.size,textKey:a.rAb};};c.prototype.Fab=function(a){if(a)return this.wg(a,this.Eab);};c.prototype.vdb=function(a){if(a)return this.wg(a,this.udb);};c.prototype.Eab=function(a){return{interval:a.interval,eEa:a.pixelsAspectY,dEa:a.pixelsAspectX,width:a.width,height:a.height,size:a.size,mE:a.downloadable_id,ld:a.urls,id:a.id};};c.prototype.udb=function(a){return{interval:a.interval,pixelsAspectY:a.eEa,pixelsAspectX:a.dEa,width:a.width,height:a.height,size:a.size,downloadable_id:a.mE,urls:a.ld,id:a.id};};c.prototype.jab=function(a){return this.wg(a,this.iab);};c.prototype.Zcb=function(a){return this.wg(a,this.Ycb);};c.prototype.iab=function(a){return this.vc.Wm(this.w7(a),{id:a.id,dc:this.hab(a.streams),Ej:a.trackType,Al:a.channels,language:a.language,j6:a.channelsFormat,kga:a.surroundFormatLabel,jF:a.languageDescription,isNative:a.isNative,Hbb:a.disallowedSubtitleTracks,MO:a.track_id,Vab:a.defaultTimedText,Qda:a.profileType,type:a.type,Zfa:a.stereo,profile:a.profile,qta:a.codecName,OA:a.rawTrackType});};c.prototype.Ycb=function(a){return this.vc.Wm(this.l8(a),{id:a.id,streams:this.Xcb(a.dc),trackType:a.Ej,channels:a.Al,language:a.language,channelsFormat:a.j6,surroundFormatLabel:a.kga,languageDescription:a.jF,isNative:a.isNative,disallowedSubtitleTracks:a.Hbb,track_id:a.MO,defaultTimedText:a.Vab,profileType:a.Qda,type:a.type,stereo:a.Zfa,profile:a.profile,codecName:a.qta,rawTrackType:a.OA});};c.prototype.Kab=function(a){return this.wg(a,this.Jab);};c.prototype.Adb=function(a){return this.wg(a,this.zdb);};c.prototype.Jab=function(a){return this.vc.Wm(this.w7(a),{type:a.type,dc:this.Iab(a.streams),W7:a.drmHeader&&this.qua(a.drmHeader),K7:a.dimensionsCount,L7:a.dimensionsLabel,skb:a.ict,lob:a.maxCroppedHeight,mob:a.maxCroppedWidth,nob:a.maxCroppedX,oob:a.maxCroppedY,Qda:a.profileType,Zfa:a.stereo,maxWidth:a.maxWidth,maxHeight:a.maxHeight,bEa:a.pixelAspectX,cEa:a.pixelAspectY,profile:a.profile,Bob:a.max_framerate_value,Aob:a.max_framerate_scale,opb:a.minCroppedHeight,ppb:a.minCroppedWidth,qpb:a.minCroppedX,rpb:a.minCroppedY,minHeight:a.minHeight,minWidth:a.minWidth,Kda:a.prkDrmHeaders&&a.prkDrmHeaders.map(this.qua),DE:a.flavor,MO:a.track_id});};c.prototype.zdb=function(a){return this.vc.Wm(this.l8(a),{type:a.type,streams:this.ydb(a.dc),drmHeader:a.W7&&this.Cva(a.W7),dimensionsCount:a.K7,dimensionsLabel:a.L7,ict:a.skb,maxCroppedHeight:a.lob,maxCroppedWidth:a.mob,maxCroppedX:a.nob,maxCroppedY:a.oob,profileType:a.Qda,stereo:a.Zfa,maxWidth:a.maxWidth,maxHeight:a.maxHeight,pixelAspectX:a.bEa,pixelAspectY:a.cEa,profile:a.profile,max_framerate_value:a.Bob,max_framerate_scale:a.Aob,minCroppedHeight:a.opb,minCroppedWidth:a.ppb,minCroppedX:a.qpb,minCroppedY:a.rpb,minHeight:a.minHeight,minWidth:a.minWidth,prkDrmHeaders:a.Kda&&a.Kda.map(this.Cva),flavor:a.DE,track_id:a.MO});};c.prototype.qua=function(a){return{ba:a.bytes,n7a:a.checksum,Rw:a.keyId};};c.prototype.Cva=function(a){return{bytes:a.ba,checksum:a.n7a,keyId:a.Rw};};c.prototype.w7=function(a){return{Ej:a.trackType,Lp:a.new_track_id,type:a.type};};c.prototype.l8=function(a){return{trackType:a.Ej,new_track_id:a.Lp,type:a.type};};c.prototype.hab=function(a){return this.wg(a,this.gab);};c.prototype.Xcb=function(a){return this.wg(a,this.Wcb);};c.prototype.gab=function(a){return{pz:a.content_profile,Ej:a.trackType,R:a.bitrate,size:a.size,Gp:a.isDrm,mE:a.downloadable_id,type:a.type,zca:a.new_stream_id,ld:this.sua(a.urls),Al:a.channels,j6:a.channelsFormat,kga:a.surroundFormatLabel,language:a.language,b5a:a.audioKey};};c.prototype.Wcb=function(a){return{content_profile:a.pz,trackType:a.Ej,bitrate:a.R,size:a.size,isDrm:a.Gp,downloadable_id:a.mE,type:a.type,new_stream_id:a.zca,urls:this.Eva(a.ld),channels:a.Al,channelsFormat:a.j6,surroundFormatLabel:a.kga,language:a.language,audioKey:a.b5a};};c.prototype.Iab=function(a){return this.wg(a,this.Hab);};c.prototype.ydb=function(a){return this.wg(a,this.xdb);};c.prototype.Hab=function(a){return{pz:a.content_profile,Ej:a.trackType,R:a.bitrate,size:a.size,Gp:a.isDrm,mE:a.downloadable_id,type:a.type,zca:a.new_stream_id,ld:this.sua(a.urls),rsb:a.peakBitrate,K7:a.dimensionsCount,L7:a.dimensionsLabel,aEa:a.pix_w,$Da:a.pix_h,QFa:a.res_w,PFa:a.res_h,Owa:a.framerate_value,Nwa:a.framerate_scale,czb:a.startByteOffset,Dc:a.vmaf,dua:a.crop_x,eua:a.crop_y,bua:a.crop_h,cua:a.crop_w};};c.prototype.xdb=function(a){return{content_profile:a.pz,trackType:a.Ej,bitrate:a.R,size:a.size,isDrm:a.Gp,downloadable_id:a.mE,type:a.type,new_stream_id:a.zca,urls:this.Eva(a.ld),peakBitrate:a.rsb,dimensionsCount:a.K7,dimensionsLabel:a.L7,pix_w:a.aEa,pix_h:a.$Da,res_w:a.QFa,res_h:a.PFa,framerate_value:a.Owa,framerate_scale:a.Nwa,startByteOffset:a.czb,vmaf:a.Dc,crop_x:a.dua,crop_y:a.eua,crop_h:a.bua,crop_w:a.cua};};c.prototype.sua=function(a){return this.wg(a,this.Gab);};c.prototype.Eva=function(a){return this.wg(a,this.wdb);};c.prototype.Gab=function(a){return{url:a.url,Rsa:a.cdn_id};};c.prototype.wdb=function(a){return{url:a.url,cdn_id:a.Rsa};};c.prototype.rua=function(a){return this.wg(a,this.yab);};c.prototype.Dva=function(a){return this.wg(a,this.ndb);};c.prototype.yab=function(a){return{id:a.id,key:a.key,nBa:a.lowgrade,name:a.name,tf:a.rank,type:a.type,Pbb:this.oab(a.dns)};};c.prototype.ndb=function(a){return{id:a.id,key:a.key,lowgrade:a.nBa,name:a.name,rank:a.tf,type:a.type,dns:this.ddb(a.Pbb)};};c.prototype.oab=function(a){if(a)return{host:a.host,hlb:a.ipv4,ilb:a.ipv6,efb:a.forceLookup};};c.prototype.ddb=function(a){if(a)return{host:a.host,ipv4:a.hlb,ipv6:a.ilb,forceLookup:a.efb};};c.prototype.qab=function(a){return this.wg(a,this.pab);};c.prototype.fdb=function(a){return this.wg(a,this.edb);};c.prototype.pab=function(a){return{key:a.key,tf:a.rank,weight:a.weight,level:a.level};};c.prototype.edb=function(a){return{key:a.key,rank:a.tf,weight:a.weight,level:a.level};};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(h.ef))],a);d.tSa=a;},function(g,d){function a(a){this.bc=a;this.kb=JSON.stringify(this.Ahb());}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Ahb=function(){var a;a=[];(!this.bc.ij||0>=this.bc.ij.length)&&a.push({error:"No CDN."});this.bc.y7||a.push({error:"No default audio track.",foundTracks:this.L9(this.bc.Qn)});this.bc.C7||a.push({error:"No default video track.",foundTracks:this.L9(this.bc.kn)});this.bc.B7||a.push({error:"No default subtitle track.",foundTracks:this.L9(this.bc.pk)});return a;};a.prototype.L9=function(a){return a&&0<a.length?a.map(function(a){return a.cb;}):"No tracks found.";};d.ySa=a;},function(g,d,a){var f,h,q,b,k,p;function c(a,b){a=h.le.call(this,a,"ManifestParserConfigImpl")||this;a.Zn=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);q=a(28);b=a(34);k=a(147);p=a(47);da(c,h.le);ra.Object.defineProperties(c.prototype,{hga:{configurable:!0,enumerable:!0,get:function(){return[];}},d9:{configurable:!0,enumerable:!0,get:function(){return"";}},g6:{configurable:!0,enumerable:!0,get:function(){return[];}},f6:{configurable:!0,enumerable:!0,get:function(){return[];}},f9:{configurable:!0,enumerable:!0,get:function(){return"";}},gaa:{configurable:!0,enumerable:!0,get:function(){return 0;}},QG:{configurable:!0,enumerable:!0,get:function(){return this.Zn.QG.ea(p.Wr);}},Lu:{configurable:!0,enumerable:!0,get:function(){return this.Zn.Lu;}}});a=c;g.__decorate([b.config(b.ega,"supportedAudioTrackTypes")],a.prototype,"hga",null);g.__decorate([b.config(b.string,"forceAudioTrack")],a.prototype,"d9",null);g.__decorate([b.config(b.WIa,"cdnIdWhiteList")],a.prototype,"g6",null);g.__decorate([b.config(b.WIa,"cdnIdBlackList")],a.prototype,"f6",null);g.__decorate([b.config(b.string,"forceTimedTextTrack")],a.prototype,"f9",null);g.__decorate([b.config(b.Kx,"imageSubsResolution")],a.prototype,"gaa",null);g.__decorate([b.config(b.Kx,"timedTextSimpleFallbackThreshold")],a.prototype,"QG",null);g.__decorate([b.config(b.ega,"timedTextProfiles")],a.prototype,"Lu",null);a=g.__decorate([f.N(),g.__param(0,f.l(q.aj)),g.__param(1,f.l(k.iI))],a);d.uSa=a;},function(g,d,a){var f,h,q,b;function c(a,b){return h.mQ.call(this,a,b)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(134);h=a(414);q=a(74);b=a(174);da(c,h.mQ);c.prototype.dsb=function(a){var c,d;c=this;a=P(f.uu(function(a){return a.dc&&0<a.dc.length;},a));d=a.next().value;a.next().value.forEach(function(a){return c.log.warn("Video track is missing streams",{trackId:a.Lp});});a=d.map(function(a){var d;d=a.Ej;d={type:q.Ig.video,cb:a.Lp,Wz:a.MO,Ej:b.C2[d.toLowerCase()]||b.rq.fC,OA:d,dc:[],Bg:{}};d.dc=c.IIa(a.dc,d);c.log.trace("Transformed video track",{StreamCount:d.dc.length});return d;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};c.prototype.Yrb=function(a){var b;b=a.map(function(a){return a.Kda;}).filter(Boolean);b=[].concat.apply([],[].concat(ea(b))).map(function(a){return a.ba;});a=a.map(function(a){return a.W7;}).filter(Boolean).map(function(a){return a.ba;});return 0<b.length?b:a;};d.fYa=c;},function(g,d,a){var f,h,q,b,k;function c(a,b,c,d){a=h.mQ.call(this,a,d)||this;a.config=b;a.j=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(441);h=a(414);q=a(134);b=a(74);k=a(174);da(c,h.mQ);c.prototype.Frb=function(a,c,d){var g,h,m;g=this;a=P(q.uu(function(a){return a.dc&&0<a.dc.length;},a));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is missing streams",g.Cya(a));});m=this.config.hga;a=P(q.uu(function(a){return 0===m.length||0<=m.indexOf(a.Ej);},h));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is not supported",g.Cya(a));});a=h.map(function(a){var h;h=a.Ej;h={type:b.Ig.audio,cb:a.Lp,Wz:a.MO,Ej:k.C2[h.toLowerCase()]||k.rq.fC,OA:h,Hk:a.language,displayName:a.jF,Al:a.Al,DNb:a.Al,CNb:Number(a.Al[0]),pk:g.Efb(a.Lp,c,d),Bg:{Bcp47:a.language,TrackId:a.Lp},dc:[],isNative:a.isNative};h.dc=g.IIa(a.dc,h);g.log.trace("Transformed audio track",h,{StreamCount:h.dc.length,AllowedTimedTextTracks:h.pk.length});h.qta=f.Gha[h.dc[0].Af];return h;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};c.prototype.i5a=function(a){var b,c;b=this;c=this.config.d9;if(c){if(a=P(a.filter(function(a){return a.Hk==c||a.cb==c;})).next().value)return a;}else if(this.j.ZU&&(a=P(a.filter(function(a){return a.cb==b.j.ZU;})).next().value))return a;};c.prototype.Cya=function(a){return{language:a.jF,bcp47:a.language,type:a.Ej};};c.prototype.Efb=function(a,b,c){return b.filter(function(b){return b.cq.AUDIO===a;}).map(function(a){return a.cq.z2;}).map(function(a){return c.find(function(b){return b.cb===a;});}).filter(Boolean);};d.dLa=c;},function(g,d){function a(a,d,g){this.log=a;this.j=d;this.Jga=g;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.csb=function(a){var c;c=this;a=(a||[]).filter(function(a){return a.ld&&0<a.ld.length;}).map(function(a){return c.Jga(c.j,a.id,a.height,a.width,a.dEa,a.eEa,a.size,{unknown:a.ld[0]});});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,c){return a.size-c.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};d.JXa=a;},function(g,d){function a(a,d,g,h,b,k){this.Gba=a;this.h6=d;this.hIa=g;this.nBb=h;this.bsa=b;this.IJa=k;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Vrb=function(a){var c,d,g,b,h,p,l,n,r,D,B,I,C,K,Q,z;a=this.Gba.decode(a);c=this.h6.LDa(a.Ho,a.Pk,!0);d=this.hIa.bsb(a.xIa);g=this.nBb.csb(a.PIa);b=this.bsa.Frb(a.nT,a.media,d);h=this.IJa.dsb(a.jP);p=this.Xrb(a,b,d);l=p[0];n=h[0];r=this.bsa.i5a(b)||l.Wc||b[0];l=this.hIa.GAb(r.pk)||l.Bc||r.pk[0];D=this.IJa.Yrb(a.jP);B=a.kg;I=a.lta;C=a.Oya;K=a.Lk;Q=a.nT.findIndex(function(a){return a.Lp==r.cb;});z=a.jP.findIndex(function(a){return a.Lp==n.cb;});return{Sp:D,ij:c,Qn:b,kn:h,pk:d,Ou:g,kg:B,Fxb:I,Ow:C,Lk:K,yua:Q,Eua:z,DY:p,C7:n,y7:r,B7:l,tRb:a};};a.prototype.Xrb=function(a,d,g){var c,b;c=[];b=a.Dua[0];c.push({Wc:d.find(function(a){return a.Wz===b.BD;}),Bc:g.find(function(a){return a.Wz===b.VHa;}),nSb:0});return c;};d.wSa=a;},function(g,d,a){var f,h,l,b;function c(a,b,c,d,f){this.log=a;this.config=b;this.j=c;this.h6=d;this.vda=f;}Object.defineProperty(d,"__esModule",{value:!0});f=a(60);h=a(9);l=a(174);b=a(236);c.prototype.bsb=function(a){var b;b=this;a=a.map(function(a){var c,d,g;c=b.bBb(a);!1!==a.NW||c.length||b.log.error("track without downloadables",b.Qxa(a));!0!==a.JW||c.length||b.log.error("forced track without downloadables",b.Qxa(a));d={};g=[];if(0<c.length){d=c[0];g=d.profile;if(g==f.ll.$B||g==f.ll.qQ)d=b.fxb(c);g=b.h6.LDa(a.Ssa,void 0,!1);}a=b.vda(b.j,a.Lp,a.id,d.bd,d.ld||{},g,a.language,a.jF,l.C2[a.Ej.toLowerCase()]||l.rq.fC,a.OA.toUpperCase(),d.profile,b.Hhb(d)||{},a.NW,a.JW,a.aF);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};c.prototype.GAb=function(a){var b,c;b=this;c=this.config.f9;if(c){if(a=P(a.filter(function(a){return a.Hk==c||a.cb==c;})).next().value)return a;}else if(this.j.$U&&(a=P(a.filter(function(a){return a.cb==b.j.$U;})).next().value))return a;};c.prototype.bBb=function(a){var b,c,d;b=this;c=a.UIa;d=a.hva;a=Object.keys(c||{}).map(function(a){var f;f=c[a];return{bd:d[a],profile:a,size:f.size||0,he:b.Ggb(a,f),offset:f.LM||0,Hsb:f.width,ZDa:f.height,ld:f.Sq};});a.sort(function(a,b){return a.he-b.he;});return a;};c.prototype.Ggb=function(a,b){var c,d;c=this.config.Lu.indexOf(a);b=b.size;d=this.config.QG;return a===f.ll.l0&&0<d&&b>d?this.config.Lu.length+1:0<=c?c:this.config.Lu.length;};c.prototype.Hhb=function(a){if(a.profile===f.ll.$B||a.profile===f.ll.qQ)return{offset:a.offset,length:a.size,CSb:{width:a.Hsb,height:a.ZDa}};};c.prototype.fxb=function(a){var c,d;c=this.config.gaa||b.y2.f$();d=P(a.filter(function(a){return a.profile===f.ll.$B||a.profile===f.ll.qQ;}).filter(function(a){return a.ZDa===c;})).next().value;if(d)return d;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:h.hs.height,intendedResolution:c});return a[0];};c.prototype.Qxa=function(a){return{isNone:a.NW,isForced:a.JW,bcp47:a.language,id:a.Lp};};d.pXa=c;},function(g){g.P=function(d){return function(){return!d.apply(this,arguments);};};},function(g,d,a){var c,f;c=a(869);d=a(52);f=a(421);a=d(function(a,d){return f(c(a),d);});g.P=a;},function(g,d,a){d=a(176);a=a(238);a=d(a);g.P=a;},function(g,d,a){d=a(52)(function(a,d){for(var c=0;c<a.length;){if(null==d)return;d=d[a[c]];c+=1;}return d;});g.P=d;},function(g,d,a){var c;d=a(52);c=a(872);a=d(function(a,d){return c([a],d);});g.P=a;},function(g,d,a){var c,f;d=a(52);c=a(418);f=function(){function a(a,b){this.qP=b;this.hL=a;}a.prototype["@@transducer/init"]=c.Ub;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.qP["@@transducer/step"](a,this.hL(b));};return a;}();a=d(function(a,c){return new f(a,c);});g.P=a;},function(g,d,a){var c,f,h,l,b,k;d=a(52);c=a(420);f=a(416);h=a(238);l=a(874);b=a(415);k=a(417);a=d(c(["fantasy-land/map","map"],l,function(a,c){switch(Object.prototype.toString.call(c)){case"[object Function]":return b(c.length,function(){return a.call(this,c.apply(this,arguments));});case"[object Object]":return h(function(b,d){b[d]=a(c[d]);return b;},{},k(c));default:return f(a,c);}}));g.P=a;},function(g,d,a){var c,f;d=a(52);c=a(875);f=a(873);a=d(function(a,d){return c(f(a),d);});g.P=a;},function(g,d,a){d=a(52)(function(a,d){return d>a?d:a;});g.P=d;},function(g,d,a){var f,h;function c(a,b,d){return function(){var q;for(var g=[],k=0,m=a,l=0;l<b.length||k<arguments.length;){l<b.length&&(!h(b[l])||k>=arguments.length)?q=b[l]:(q=arguments[k],k+=1);g[l]=q;h(q)||--m;l+=1;}return 0>=m?d.apply(this,g):f(m,c(a,g,d));};}f=a(237);h=a(175);g.P=c;},function(g,d,a){var c,f,h,l,b;d=a(52);c=a(416);f=a(415);h=a(877);l=a(876);b=a(871);a=d(function(a,d){return f(b(h,0,l("length",d)),function(){var b,f;b=arguments;f=this;return a.apply(f,c(function(a){return a.apply(f,b);},d));});});g.P=a;},function(g,d,a){var c;d=a(116);c=a(879);a=d(function(a){return c(function(){return Array.prototype.slice.call(arguments,0);},a);});g.P=a;},function(g,d,a){var c,f;c=a(239);f=Object.prototype.toString;g.P=function(){return"[object Arguments]"===f.call(arguments)?function(a){return"[object Arguments]"===f.call(a);}:function(a){return c("callee",a);};};},function(g,d,a){var c,f;d=a(52);c=a(418);f=function(){function a(a,b){this.qP=b;this.hL=a;}a.prototype["@@transducer/init"]=c.Ub;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.hL(b)?this.qP["@@transducer/step"](a,b):a;};return a;}();a=d(function(a,c){return new f(a,c);});g.P=a;},function(g,d,a){var c;c=a(237);d=a(52)(function(a,d){return c(a.length,function(){return a.apply(d,arguments);});});g.P=d;},function(g){var d;d=function(){function a(a){this.hL=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,d){return this.hL(a,d);};return a;}();g.P=function(a){return new d(a);};},function(g){g.P=function(d){return"[object String]"===Object.prototype.toString.call(d);};},function(g,d,a){var c,f;d=a(116);c=a(419);f=a(885);a=d(function(a){return c(a)?!0:!a||"object"!==typeof a||f(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});g.P=a;},function(g){g.P=function(d,a){for(var c=0,f=a.length,g=[];c<f;)d(a[c])&&(g[g.length]=a[c]),c+=1;return g;};},function(g){g.P=function(d){return"function"===typeof d["@@transducer/step"];};},function(g,d,a){var c;d=a(421);c=a(880);a=a(870);a=c([d,a]);g.P=a;},function(g,d,a){var c;d=a(176);c=a(239);a=d(function(a,d,g){var b,f;b={};for(f in d)c(f,d)&&(b[f]=c(f,g)?a(f,d[f],g[f]):d[f]);for(f in g)c(f,g)&&!c(f,b)&&(b[f]=g[f]);return b;});g.P=a;},function(g,d,a){var c,f;d=a(176);c=a(422);f=a(890);a=d(function q(a,d,g){return f(function(b,d,f){return c(d)&&c(f)?q(a,d,f):a(b,d,f);},d,g);});g.P=a;},function(g,d,a){var c;d=a(176);c=a(891);a=d(function(a,d,g){return c(function(b,c,d){return a(c,d);},d,g);});g.P=a;},function(g,d,a){var f;function c(a,c){this.log=a;this.config=c;}Object.defineProperty(d,"__esModule",{value:!0});f=a(134);c.prototype.LDa=function(a,c,b){var d,g,h,m,l;d=this;g=this.config.g6;h=this.config.f6;a=P(f.uu(function(a){return(!g.length||0<=g.indexOf(a.id))&&0>h.indexOf(a.id);},a||[]));m=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Cdn is not allowed",{Id:a.id});});l=m.map(function(a){var b;b=(c?c.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,tf:a.tf,type:a.type,iba:a.key,xQb:a.nBa,location:{id:b.key,tf:b.tf,level:b.level,weight:b.weight,ij:[]}};});l.sort(function(a,b){return a.tf-b.tf;});l.forEach(function(a){return a.location.ij=l.filter(function(b){return b.iba===a.iba;});});this.log.trace("Transformed cdns",{Count:l.length});if(b&&!l.length)throw Error("no valid cdns");return l;};d.xMa=c;},function(g,d,a){var f,h,l,b,k,p,t,n,r,D,B,I,C;function c(a,b,c,d,f,g){this.$f=a;this.Gba=b;this.config=c;this.vda=d;this.Jga=f;this.i_=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);l=a(424);b=a(423);k=a(893);p=a(868);t=a(867);n=a(866);r=a(865);D=a(864);B=a(413);I=a(412);a=a(411);c.prototype.create=function(a){var b,c;b=this.$f.wb("ManifestParser",a);c=new k.xMa(b,this.config);return new t.wSa(this.Gba,c,new p.pXa(b,this.config,a,c,this.vda),new n.JXa(b,a,this.Jga),new r.dLa(b,this.config,a,this.i_),new D.fYa(b,this.i_));};C=c;C=g.__decorate([f.N(),g.__param(0,f.l(h.Db)),g.__param(1,f.l(l.Rka)),g.__param(2,f.l(b.Tka)),g.__param(3,f.l(B.Ama)),g.__param(4,f.l(a.Lna)),g.__param(5,f.l(I.Ina))],C);d.vSa=C;},function(g,d,a){var c,f,h,l,b,k,p,t,n,r,D,B;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(425);f=a(894);h=a(423);l=a(863);b=a(413);k=a(412);p=a(410);t=a(862);n=a(424);r=a(861);D=a(235);B=a(859);d.Ynb=new g.xc(function(d){d(h.Tka).to(l.uSa).Z();d(c.Uka).to(f.vSa).Z();d(b.Ama).ni(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(234).pI;return new(Function.prototype.bind.apply(d,[null].concat(ea(c))))();});d(k.Ina).ni(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(354).qMa;return new(Function.prototype.bind.apply(d,[null].concat(ea(c))))();});d(p.Vka).If(function(){return function(a){return new t.ySa(a);};});d(n.Rka).to(r.tSa).Z();d(D.D1).to(B.xSa).Z();});},function(g,d,a){var f,h,l,b,k,p,t,n,r,D,B,I;function c(a,b,c,d,f,g,h,k,m){this.nE=a;this.Gc=b;this.config=c;this.rA=f;this.profile=g;this.k_=h;this.FM=k;this.Rk=m;this.log=d.wb("CDMAttestedDescriptor");this.jxa();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(123);l=a(39);b=a(17);k=a(7);p=a(88);t=a(135);n=a(240);r=a(144);D=a(91);B=a(105);I=a(145);c.prototype.jxa=function(){var a;a=this;return this.k_.$ga?this.config().Bcb?this.ixa().then(function(b){if(b)return Promise.resolve(void 0);a.KAa||(a.KAa=a.thb());return a.KAa;}).then(function(b){return Promise.all([Promise.resolve(b),a.ixa()]);}).then(function(a){var b;a=P(a);b=a.next().value;if(!a.next().value)return b;}):this.rA().then(function(a){a.QM.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.thb=function(){var a;a=this;return Promise.all([this.nE(),this.ihb()]).then(function(b){var c;c=P(b);b=c.next().value;c=c.next().value;c={type:p.Jj.cv,qW:[c],context:{Xd:a.config().Xd}};return b.ufb(c,a.FM());}).then(function(b){var c;c=b.fba.data.map(function(b){return a.Gc.encode(b);});a.log.trace("Challenge generated",c);b.close().subscribe();return c&&c[0];})["catch"](function(b){a.log.error("Failed to generate challenge for CAD token",b);});};c.prototype.ixa=function(){var a;a=this;return this.rA().then(function(b){return(b=b.QM.getServiceTokens(a.profile))&&b.find(function(a){return"cad"===a.name;});});};c.prototype.ihb=function(){return this.Rk.wp().then(function(a){switch(a){case I.nn.Ez:return"c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV6SWZ5aFdkc0dObEdGaGllK1VhUXNYZVNQczJ1eDQ2Nm9JMVZGN2RqTVRPZXJOST0=";default:return"AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA==";}}).then(this.Gc.decode);};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(h.OP)),g.__param(1,f.l(l.Hj)),g.__param(2,f.l(b.xd)),g.__param(3,f.l(k.Db)),g.__param(4,f.l(t.YH)),g.__param(5,f.l(D.lI)),g.__param(6,f.l(n.QQ)),g.__param(7,f.l(r.UH)),g.__param(8,f.l(B.ev))],a);d.TLa=a;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(426);f=a(896);d.w6a=new g.xc(function(a){a(c.Uha).to(f.TLa).Z();});},function(g,d,a){var f,h,l;function c(a){this.Ea=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);l=a(4);c.prototype.Kzb=function(a,c){var b,d;b=parseFloat(a);d=0;"%"===a[a.length-1]&&this.Ea.Pg(b)?d=Math.round(b*c.ea(l.ja)/100):(a=parseInt(a),this.Ea.Hq(a)&&(d=a));return l.Eb(Math.min(d,c.ea(l.ja)));};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(h.Qe))],a);d.DLa=a;},function(g,d,a){var f,h;function c(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(17);c.prototype.N9=function(){return this.zw().U5a;};c.prototype.O9=function(){return this.zw().V5a;};c.prototype.hhb=function(){return this.zw().W5a;};c.prototype.w9=function(){return this.zw().rsa;};c.prototype.zw=function(){return this.config();};h=c;h=g.__decorate([f.N(),g.__param(0,f.l(a.xd))],h);d.CLa=h;},function(g,d,a){var f,h,l,b,k,p,t;function c(a,b,c,d,f){this.pT=b;this.Ea=c;this.T5a=d;this.config=f;this.ma=a.wb("Bookmark");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(428);l=a(427);b=a(7);k=a(23);p=a(4);a=a(17);c.prototype.sra=function(a){var b,c;b=a.Va.playbackState&&a.Va.playbackState.currentTime;c=this.jgb(a.u);b=this.Ea.vz(b)?p.Eb(b):c;if(this.Ea.Sd(b))this.ma.info("Overriding bookmark",{From:a.xB.ea(p.ja),To:b.ea(p.ja)}),a=Object.assign({},a,{xB:b});else if(this.xkb(a))return this.ma.trace("Ignoring bookmark because it's too close to beginning"),p.zh(0);return this.wkb(a)?(this.ma.trace("Ignoring bookmark because it's too close to end"),p.zh(0)):this.vkb(a)?(this.ma.trace("Ignoring bookmark because it's too close to the end to start decoding"),p.zh(0)):a.xB;};c.prototype.xkb=function(a){return 0>a.xB.Cl(this.N9(a));};c.prototype.N9=function(a){return this.ssa(this.pT.N9(),a.mN);};c.prototype.wkb=function(a){return 0<a.xB.Cl(this.O9(a));};c.prototype.O9=function(a){var b;b=a.Va.ci?this.pT.hhb():this.pT.O9();return a.mN.kd(this.ssa(b,a.mN));};c.prototype.vkb=function(a){return 0<a.xB.Cl(this.Mgb(a));};c.prototype.Mgb=function(a){var b;b=a.Va.ci?this.config().vDa:this.config().hY;return a.mN.kd(p.Eb(b));};c.prototype.jgb=function(a){var b;a=this.pT.w9()[a];b=-1;this.Ea.xm(a)?b=parseInt(a):this.Ea.Pg(a)&&(b=a);if(this.Ea.Hq(b))return p.Eb(b);};c.prototype.ssa=function(a,b){return this.T5a.Kzb(a,b);};t=c;t=g.__decorate([f.N(),g.__param(0,f.l(b.Db)),g.__param(1,f.l(h.Pha)),g.__param(2,f.l(k.Qe)),g.__param(3,f.l(l.Oha)),g.__param(4,f.l(a.xd))],t);d.ELa=t;},function(g,d,a){var c,f,h,l,b,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(241);f=a(428);h=a(427);l=a(900);b=a(899);k=a(898);d.dz=new g.xc(function(a){a(c.Y_).to(l.ELa).Z();a(f.Pha).to(b.CLa).Z();a(h.Oha).to(k.DLa).Z();});},function(g,d,a){var h,l,b;function c(a,b,c){var d;d=this;this.ma=a;this.valid=!0;this.lj=!1;this.context=c.context;this.size=c.size;this.Ok=b.create().then(function(a){d.storage=a;return a.qM("mediacache").then(function(a){d.keys=a;});});}function f(a,b){this.$f=a;this.Bj=b;this.kE={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(7);a=a(67);f.prototype.ST=function(a){this.kE[a.context]=new c(this.$f.wb("DiskStorageContext"),this.Bj,a);return this.kE[a.context];};f.prototype.Oua=function(a){delete this.kE[a.context];};b=f;b=g.__decorate([h.N(),g.__param(0,h.l(l.Db)),g.__param(1,h.l(a.Ur))],b);d.nOa=b;c.prototype.create=function(a,b,c,d){var f,g,h;f=this;g=this.getKey(a,b);h=Date.now();this.Ok.then(function(){f.keys[g]=void 0;return f.storage.save(g,c,!1).then(function(){f.ma.trace("create succeeded for "+g+", "+(Date.now()-h)+" ms");d(f.LV(a,b));});})["catch"](function(c){f.ma.trace("create failed",c);d(f.Bw(a,b,c));});};c.prototype.append=function(a,b,c,d){c=this.getKey(a,b);this.ma.trace("append "+c);d(this.Bw(a,b,"append is not supported"));};c.prototype.remove=function(a,b,c){var d,f,g;d=this;f=this.getKey(a,b);g=Date.now();this.Ok.then(function(){if(d.keys.hasOwnProperty(f))return delete d.keys[f],d.storage.remove(f).then(function(){d.ma.trace("remove succeeded for "+f+", "+(Date.now()-g)+" ms");c(d.LV(a,b));});c(d.LV(a,b));})["catch"](function(f){d.ma.trace("remove failed",f);c(d.Bw(a,b,f));});};c.prototype.read=function(a,b,c,d,f){var g,h,k;g=this;h=this.getKey(a,b);k=Date.now();0!==c||-1!=d?f(this.Bw(a,b,"byteStart/byteEnd combination is not supported")):this.Ok.then(function(){if(g.keys.hasOwnProperty(h))return g.storage.load(h).then(function(m){g.ma.trace("read succeeded for "+h+", "+(Date.now()-k)+" ms");f(Object.assign(g.LV(a,b),{value:m.value,eNb:c,end:d}));});f(g.Bw(a,b,"Item doesn't exist"));})["catch"](function(c){g.ma.trace("read failed",c);f(g.Bw(a,b,c));});};c.prototype.info=function(a){var b;b=this;this.ma.trace("info ");this.Ok.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.eda(c);a[c.HK]||(a[c.HK]={});a[c.HK][c.Pw]={size:0};return a;},{}),total:b.size,JTb:0};a(c);})["catch"](function(c){b.ma.trace("info failed",c);a(b.Bw(void 0,void 0,c));});};c.prototype.query=function(a,b,c){var d,f;d=this;f=this.getKey(a,b||"");this.Ok.then(function(){var a;a=Object.keys(d.keys).filter(function(a){return 0===a.indexOf(f);}).reduce(function(a,b){a[d.eda(b).Pw]={size:0};return a;},{});d.ma.trace("query succeeded for prefix "+b,a);c(a);})["catch"](function(a){d.ma.trace("query failed",a);c({});});};c.prototype.jq=function(a){var b;b=this;this.ma.trace("validate");this.Ok.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.eda(c).Pw]={size:0};return a;},{});a(c);})["catch"](function(c){b.ma.trace("validate failed",c);a(b.Bw(void 0,void 0,c));});};c.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};c.prototype.LV=function(a,b){return{$:!0,HK:void 0===a?"":a,key:void 0===b?"":b,CCb:0,nj:this.size};};c.prototype.Bw=function(a,b,c){return{$:!1,error:c,HK:void 0===a?"":a,key:void 0===b?"":b,CCb:0,nj:this.size};};c.prototype.eda=function(a){var b,c;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c+1);return{HK:a,Pw:b};};d.aGb=c;},function(g,d,a){var f,h,l;function c(a){this.$f=a;this.lu={};this.ma=this.$f.wb("MemoryStorage");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);a=a(7);c.prototype.load=function(a){var b;if(this.lu.hasOwnProperty(a)){b=this.lu[a];this.ma.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ma.debug("Storage entry not found",{key:a});return Promise.reject({ca:h.G.ov});};c.prototype.save=function(a,c,d){if(d&&this.lu.hasOwnProperty(a))return Promise.resolve(!1);this.lu[a]=c;return Promise.resolve(!0);};c.prototype.remove=function(a){delete this.lu[a];return Promise.resolve();};c.prototype.loadAll=function(){var a,c;a=this;c=Object.keys(this.lu).map(function(b){return{key:b,value:a.lu[b]};});return Promise.resolve(c);};c.prototype.qM=function(a){var b;b=Object.keys(this.lu).reduce(function(b,c){a&&0!==c.indexOf(a)||(b[c]=void 0);return b;},{});return Promise.resolve(b);};c.prototype.removeAll=function(){this.lu={};return Promise.resolve();};l=c;l=g.__decorate([f.N(),g.__param(0,f.l(a.Db))],l);d.SSa=l;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kNa="__default_rule_key__";},function(g,d,a){var h,l,b,k,p,n,u;function c(a,b,c,d){this.ma=a;this.config=b;this.tkb=c;this.ica=d;this.hw={mem:{storage:this.ica,key:"mem"}};this.xx=this.config.xx;}function f(a,b,c,d){this.$f=a;this.Bj=b;this.ica=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(2);b=a(177);k=a(7);p=a(430);n=a(904);a=a(40);f.prototype.create=function(){this.EK||(this.EK=this.TD());return this.EK;};f.prototype.TD=function(){this.m4a=new c(this.$f.wb("AppStorage"),this.config,this.Bj,this.ica);return this.m4a.create();};u=f;u=g.__decorate([h.N(),g.__param(0,h.l(k.Db)),g.__param(1,h.l(b.r1)),g.__param(2,h.l(p.dla)),g.__param(3,h.l(a.Uo))],u);d.IKa=u;c.prototype.create=function(){var a;a=this;return this.y$a().then(function(b){if(!a.N6a(b,a.config.mW))throw a.jqb(b);return a;});};c.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.B9(a).storage.load(a).then(function(a){c(a);})["catch"](function(a){d(a);});});};c.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.B9(a).storage.save(a,b,c).then(function(a){f(a);})["catch"](function(a){g(a);});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.B9(a).storage.remove(a).then(function(){c();})["catch"](function(a){d(a);});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.yFa("mem").then(function(){return a.yFa("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.ma.error("remove all failed");c(b);});});};c.prototype.loadAll=function(){var a,b;a=this;b=[];return this.SAa("mem").then(function(c){b=b.concat(c);return a.SAa("idb");})["catch"](function(b){a.Tlb(b)||a.ma.error("IndexedDb.LoadAll exception",b);return[];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.ma.error("load all failed",b);throw b;});};c.prototype.qM=function(a){var b;b=this;return new Promise(function(c,d){var f;f=b.hw.idb;f?f.storage.qM(a).then(function(a){c(a);})["catch"](function(a){b.ma.error("loadKeys failed",a);d(a);}):d("Storage is not available");});};c.prototype.y$a=function(){var a;a=this;return this.tkb.create().then(function(b){a.hw.idb={storage:b,key:"idb"};})["catch"](function(b){a.ma.error("idb failed to load",b);return b||{ca:l.G.xk};});};c.prototype.N6a=function(a,b){return!a||a&&b?!0:!1;};c.prototype.jqb=function(a){var b;b="";a&&(b+=a.ca);return{ca:b};};c.prototype.yFa=function(a){return(a=this.hw[a])?a.storage.removeAll():Promise.resolve();};c.prototype.SAa=function(a){return(a=this.hw[a])?a.storage.loadAll():Promise.resolve([]);};c.prototype.Eeb=function(a){for(var b in this.xx)if(a.startsWith(b))return this.xx[b];return this.xx[n.kNa];};c.prototype.B9=function(a){var b,c;b=this;this.Eeb(a).every(function(a){return b.hw[a]?(c=b.hw[a],!1):!0;});c||(this.ma.error("component not found for storageKey",{Bzb:a,WMb:Object.keys(this.hw),rules:this.xx}),c=this.hw.mem);this.ma.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};c.prototype.Tlb=function(a){return(a&&(a.ca||a.errorSubCode))===l.G.ov;};d.yha=c;},function(g,d,a){var f,h;function c(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(40);ra.Object.defineProperties(c.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.aga;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.gIa;}}});h=c;h=g.__decorate([f.N(),g.__param(0,f.l(a.Uo))],h);d.OMa=h;},function(g,d,a){var f,h,l,b,k;function c(a,b){a=l.le.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.xA="namedatapairs";return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(34);l=a(36);b=a(40);a=a(28);da(c,l.le);ra.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.Uq?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.aga;}},eT:{configurable:!0,enumerable:!0,get:function(){return this.config.eT;}},Kfa:{configurable:!0,enumerable:!0,get:function(){return 0;}},lO:{configurable:!0,enumerable:!0,get:function(){return 0;}},vwa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});k=c;g.__decorate([h.config(h.Kx,"simulateIdbOpenError")],k.prototype,"Kfa",null);g.__decorate([h.config(h.Kx,"simulateIdbLoadAllError")],k.prototype,"lO",null);g.__decorate([h.config(h.Qd,"fixInvalidDatabase")],k.prototype,"vwa",null);k=g.__decorate([f.N(),g.__param(0,f.l(a.aj)),g.__param(1,f.l(b.Uo))],k);d.aRa=k;},function(g,d,a){var h,l,b;function c(a,b,c){this.config=a;this.lk=b;this.wu=c;}function f(a,b){this.reason=a;this.cause=b;}Object.defineProperty(d,"__esModule",{value:!0});h=a(2);l=a(63);(function(a){a[a.Q1=0]="NoData";a[a.Error=1]="Error";a[a.vy=2]="Timeout";}(b=d.ZVa||(d.ZVa={})));c.prototype.load=function(a){var c;c=this;return new Promise(function(d,f){c.LU("get",!1,a).then(function(b){d({key:a,value:b});})["catch"](function(a){var c;c=h.G.ena;switch(a.reason){case b.Q1:c=h.G.ov;break;case b.vy:c=h.G.AWa;}f({ca:c,cause:a.cause});});});};c.prototype.save=function(a,c,d){var f;f=this;return new Promise(function(g,k){f.LU(d?"add":"put",!0,{name:a,data:c}).then(function(){g(!d);})["catch"](function(a){var c;c=h.G.fna;switch(a.reason){case b.vy:c=h.G.DWa;}k({ca:c,cause:a.cause});});});};c.prototype.remove=function(a){var c;c=this;return new Promise(function(d,f){c.LU("delete",!0,a).then(function(){d();})["catch"](function(a){var c;c=h.G.q2;switch(a.reason){case b.vy:c=h.G.dna;}f({ca:c,cause:a.cause});});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(c,d){a.LU("clear",!0,"").then(function(){c();})["catch"](function(a){var c;c=h.G.q2;switch(a.reason){case b.vy:c=h.G.dna;}d({ca:c,cause:a.cause});});});};c.prototype.loadAll=function(){var a;a=this;return this.lk.$l(this.config.timeout,new Promise(function(c,d){var g,h,k;if(a.config.lO)d(new f(a.config.lO));else{g=[];h=a.wu.transaction(a.config.xA,"readonly");k=h.objectStore(a.config.xA).openCursor();h.onerror=function(){d(new f(b.Error,k.error));};k.onsuccess=function(a){if(a=a.target.result)try{g.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(I){d(new f(b.Error,I));}else c(g);};k.onerror=function(){d(new f(b.Error,k.error));};}}))["catch"](function(a){return a instanceof l.zn?Promise.reject(new f(b.vy,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(b.Error,a));});};c.prototype.qM=function(a){var c;c=this;return this.lk.$l(this.config.timeout,new Promise(function(d,g){var h,k,m;if(c.config.lO)g(new f(c.config.lO));else{h={};k=c.wu.transaction(c.config.xA,"readonly");m=k.objectStore(c.config.xA).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);k.onerror=function(){g(new f(b.Error,m.error));};m.onsuccess=function(c){var k,m;try{k=c.target.result;if(k){m=k.key;a&&0!==m.indexOf(a)?d(h):(h[m]=void 0,k["continue"]());}else d(h);}catch(Q){g(new f(b.Error,Q));}};m.onerror=function(){g(new f(b.Error,m.error));};}}))["catch"](function(a){return a instanceof l.zn?Promise.reject(new f(b.vy,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(b.Error,a));});};c.prototype.LU=function(a,c,d){var g;g=this;return this.lk.$l(this.config.timeout,new Promise(function(h,k){var m,p;m=g.wu.transaction(g.config.xA,c?"readwrite":"readonly");p=m.objectStore(g.config.xA)[a](d);m.onerror=function(){k(new f(b.Error,p.error));};p.onsuccess=function(c){var d;if("get"==a)try{d=c.target.result;d?h(d.data):k(new f(b.Q1));}catch(Q){k(new f(b.Q1,Q));}else h();};p.onerror=function(){k(new f(b.Error,p.error));};}))["catch"](function(a){return a instanceof l.zn?Promise.reject(new f(b.vy,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(b.Error,a));});};d.$Qa=c;},function(g,d,a){var l,b,k,p,n,u,r,D,B,I,C,K;function c(a,b,c,d,f,g){this.config=b;this.IK=c;this.Bj=d;this.NCb=f;this.Ui=g;this.ma=a.wb(u.v2);}function f(a,b){this.config=a;this.Mu=b;}function h(a,b,c,d,f){this.config=b;this.Mu=c;this.Ui=f;this.ma=a.wb(u.v2);this.IK=new Promise(function(a,b){var c;try{c=d();c?a(c):b({ca:n.G.Kja});}catch(fa){b({ca:n.G.hQ,cause:fa});}});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);b=a(7);k=a(908);p=a(178);n=a(2);u=a(433);r=a(434);D=a(63);B=a(67);I=a(119);C=a(177);K=a(62);h.prototype.create=function(){this.n7||(this.n7=this.TD());return this.n7;};h.prototype.Jk=function(a){var b;b=this;this.n7=null;return this.Mu.$l(this.config.timeout,new Promise(function(c,d){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){d(a);});}))["catch"](function(a){return a instanceof D.zn?Promise.reject({ca:n.G.hQ}):a.ca?Promise.reject(a):Promise.reject({ca:n.G.hQ,cause:a});});};h.prototype["delete"]=function(a){var b;b=this;return this.Mu.$l(this.config.timeout,new Promise(function(c,d){b.IK.then(function(b){var f;f=b.deleteDatabase(a);f.onsuccess=function(){c();};f.onerror=function(){d({ca:n.G.hQ,cause:f.error});};})["catch"](function(a){d(a);});}));};h.prototype.TD=function(){var a,b;a=this;return this.Mu.$l(this.config.timeout,new Promise(function(c,d){if(a.config.Kfa)return d({ca:a.config.Kfa});a.IK.then(function(f){a.Ui.mark(K.$i.lQa);b=f.open(a.config.name,a.config.version);if(!b)return d({ca:n.G.Lja});b.onblocked=function(){a.Ui.mark(K.$i.iQa);d({ca:n.G.eQa});};b.onupgradeneeded=function(){var c;a.Ui.mark(K.$i.sQa);c=b.result;try{c.createObjectStore(a.config.xA,{keyPath:"name"});}catch(U){a.ma.error("Exception while creating object store",U);}};b.onsuccess=function(g){var h,k;a.Ui.mark(K.$i.rQa);try{h=g.target.result;k=h.objectStoreNames.length;a.ma.trace("objectstorenames length ",k);if(0===k){a.ma.error("invalid indexedDb state, deleting");a.Ui.mark(K.$i.kQa);try{h.close();}catch(fa){}f.deleteDatabase(a.config.name);setTimeout(function(){d({ca:n.G.dQa});},1);return;}}catch(fa){a.ma.error("Exception while inspecting indexedDb objectstorenames",fa);}c(b.result);};b.onerror=function(){a.Ui.mark(K.$i.jQa);a.ma.error("IndexedDB open error",b.error);d({ca:n.G.fQa,cause:b.error});};})["catch"](function(a){d(a);});}))["catch"](function(c){if(c instanceof D.zn){try{b&&b.readyState&&a.Ui.mark("readyState-"+b.readyState);}catch(R){}if(a.config.eT&&b&&"done"===b.readyState){if(a.JCb(b))return a.Ui.mark(K.$i.pQa),Promise.resolve(b.result);a.Ui.mark(K.$i.oQa);}a.Ui.mark(K.$i.nQa);return Promise.reject({ca:n.G.hQa});}if(c.ca)return Promise.reject(c);a.Ui.mark(K.$i.mQa);a.ma.error("IndexedDB open exception occurred",c);return Promise.reject({ca:n.G.gQa,cause:c});});};h.prototype.JCb=function(a){try{return 0<a.result.objectStoreNames.length;}catch(T){this.Ui.mark(K.$i.qQa);this.ma.error("failed to check open request state",T);}return!1;};a=h;a=g.__decorate([l.N(),g.__param(0,l.l(b.Db)),g.__param(1,l.l(r.iQ)),g.__param(2,l.l(D.py)),g.__param(3,l.l(p.Jja)),g.__param(4,l.l(I.wy))],a);d.bQa=a;f.prototype.create=function(a){return Promise.resolve(new k.$Qa(this.config,this.Mu,a));};a=f;a=g.__decorate([l.N(),g.__param(0,l.l(r.iQ)),g.__param(1,l.l(D.py))],a);d.bRa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.EK||(this.EK=this.TD(this.NCb));return this.EK;};c.prototype.TD=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(c,d){b.Ui.mark(K.$i.zWa);b.IK.create().then(function(f){b.Bj.create(f).then(function(g){Promise.all(a.map(function(a){return a.jq(g);})).then(function(){b.storage=g;c(b.storage);})["catch"](function(a){b.ma.debug("DB validation failed, cause: "+a);b.config.vwa?(b.ma.debug("Fixing corrupt DB"),b.IK.Jk(f).then(function(){b.ma.error("Invalid database deleted, creating new database.");b.TD().then(function(a){b.ma.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ma.error("Couldn't delete invalid database.");d(a);})):(b.ma.debug("Ignoring invalid DB due to config"),b.storage=g,c(b.storage));});})["catch"](function(a){d(a);});})["catch"](function(a){d(a);});});};a=c;a=g.__decorate([l.N(),g.__param(0,l.l(b.Db)),g.__param(1,l.l(r.iQ)),g.__param(2,l.l(C.Ija)),g.__param(3,l.l(C.hka)),g.__param(4,l.sA(B.qna)),g.__param(5,l.l(I.wy))],a);d.cRa=a;},function(g,d,a){var f,h,l;function c(a){this.wu=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);a=a(178);c.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var f,g;try{f=b.wu.getItem(a);if(f){g=f;if("{"===f[0])try{g=JSON.parse(f)||f;}catch(D){}c({key:a,value:g});}else d({ca:h.G.ov});}catch(D){d({ca:h.G.ena,cause:D});}});};c.prototype.save=function(a,c,d){var b;b=this;return new Promise(function(f,g){if(d&&b.wu.getItem(a))f(!1);else try{"string"===typeof c?b.wu.setItem(a,c):b.wu.setItem(a,JSON.stringify(c));f(!0);}catch(D){g({ca:h.G.fna,cause:D});}});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){try{b.wu.removeItem(a);c();}catch(u){d({ca:h.G.q2,cause:u});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.qM=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};l=c;l=g.__decorate([f.N(),g.__param(0,f.l(a.jTa))],l);d.zRa=l;},function(g,d,a){var f,h,l,b,k;function c(a,c,d){this.lk=c;this.config=d;this.ma=a.wb(b.v2);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);l=a(63);b=a(433);a=a(432);c.prototype.jq=function(a){return this.config.enabled?this.config.timeout?this.lk.$l(this.config.timeout,this.bva(a)):this.bva(a):Promise.resolve();};c.prototype.bva=function(a){var b;b=this;return new Promise(function(c,d){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(f){"true"!==f.value&&d();b.ma.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ma.error("Failed to remove testValue");c();});});})["catch"](function(a){return d(a);});});};k=c;k=g.__decorate([f.N(),g.__param(0,f.l(h.Db)),g.__param(1,f.l(l.py)),g.__param(2,f.l(a.lia))],k);d.NMa=k;},function(g,d,a){var c,f,h,l,b,k,p,n,u,r,D,B,I,C,K,z,T;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(434);f=a(67);h=a(178);l=a(911);b=a(431);k=a(910);p=a(432);n=a(177);u=a(909);r=a(907);D=a(906);B=a(905);I=a(67);C=a(430);K=a(903);z=a(429);T=a(902);d.storage=new g.xc(function(a){a(h.mla).If(function(){return function(){return M.localStorage;};});a(h.Jja).If(function(){return function(){return M.indexedDB;};});a(C.dla).to(K.SSa).Z();a(I.Ur).to(B.IKa).Z();a(b.xka).to(k.zRa).Z();a(c.iQ).to(r.aRa).Z();a(n.hka).to(u.bRa).Z();a(f.qna).to(l.NMa).Z();a(n.Ija).to(u.bQa).Z();a(n.r1).to(u.cRa).Z();a(p.lia).to(D.OMa).Z();a(z.Mia).to(T.nOa).Z();});},function(g,d,a){var f,h,l;function c(a){this.Dtb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(242);a=a(435);c.prototype.peb=function(){var a,c;a={gL:h.Zx.VXa};c=this.Dtb.PresentationRequest;c&&(new c("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var c;a.gL=b.value?h.Zx.Gma:h.Zx.wha;if(a.gL===h.Zx.wha){c=function(){b.value&&(a.gL=h.Zx.Gma);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.gL=h.Zx.Error;});return a;};l=c;l=g.__decorate([f.N(),g.__param(0,f.l(a.Hma))],l);d.jPa=l;},function(g,d,a){var f,h,l;function c(a,c){this.WBa=a;this.log=c.wb("MediaCapabilities");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(437);h=a(7);a=a(1);c.prototype.J8=function(a){var b,c,d;b=this;c={oc:void 0};if(this.WBa.XBa){d={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,R:1E3*a.R,fV:"24"};this.WBa.J8(d).then(function(a){return c.oc=Object.assign(Object.assign({},a),d);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};l=c;l=g.__decorate([a.N(),g.__param(0,a.l(f.Yka)),g.__param(1,a.l(h.Db))],l);d.ESa=l;},function(g,d,a){var f,h;function c(a){this.navigator=a;this.XBa="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(37);c.prototype.J8=function(a){return this.XBa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.R,framerate:a.fV}}).then(function(a){return{kTb:a.supported,Xyb:a.smooth,jtb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};h=c;h=g.__decorate([f.N(),g.__param(0,f.l(a.kv))],h);d.DSa=h;},function(g,d,a){var f,h,l;function c(a,c,d,g,m){a=f.gm.call(this,a,c,d)||this;a.ze=g;a.navigator=m;a.type=h.yk.hna;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(136);h=a(31);l=a(60);da(c,f.gm);c.prototype.EL=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.ze.li.toString()});};c.prototype.PU=function(a){var b,c;b=this;c=a.map(function(a){for(var c=P(b.Rp),d=c.next();!d.done;d=c.next())if(d.value.test(a))return Promise.resolve(!0);c=P(b.Yl);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return Promise.resolve(!1);return b.bca(a);});return Promise.all(c).then(function(b){return a.filter(function(a,c){return b[c];});});};c.prototype.bca=function(a){a=this.c8a(a);if(!a)return Promise.resolve(!1);a={type:"media-source",video:a};try{return this.navigator.mediaCapabilities.decodingInfo(a).then(function(a){return!0===a.supported&&!0===a.powerEfficient;})["catch"](function(){return!1;});}catch(k){return Promise.resolve(!1);}};c.prototype.c8a=function(a){var b,c,d,f,g,h,m;b={};c={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};d={contentType:'video/mp4; codecs="dvh1.05.04"'};f={width:1920,height:1080,bitrate:5939200,framerate:30};g={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};h={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};m=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),f);b[l.Y.TP]=m;b[l.Y.UP]=m;b[l.Y.VP]=m;m=Object.assign(Object.assign({},c),f);b[l.Y.bQ]=m;b[l.Y.cQ]=m;b[l.Y.dQ]=m;M.matchMedia("(dynamic-range: high)").matches&&(c=Object.assign(Object.assign(Object.assign({},c),f),g),b[l.Y.BH]=c,b[l.Y.CH]=c,b[l.Y.SB]=c,d=Object.assign(Object.assign(Object.assign({},d),f),h),b[l.Y.pH]=d,b[l.Y.qH]=d,b[l.Y.MB]=d);return b[a];};c.prototype.KG=function(){return this.config().h8?this.bca(l.Y.MB):Promise.resolve(!1);};c.prototype.LG=function(){return this.config().h8?this.bca(l.Y.SB):Promise.resolve(!1);};d.GWa=c;},function(g,d,a){var f,h,l;function c(a,c,d,g,m,l){a=f.gm.call(this,a,c,d)||this;a.Rk=g;a.ir=m;a.Ka=l;a.type=h.yk.e0;a.log=a.ir.wb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(136);h=a(31);l=a(4);da(c,f.gm);c.prototype.Kr=function(a){switch(a){case h.ti.nq:return this.gAb;default:return Promise.resolve(!1);}};c.prototype.NE=function(){var a;a=this;return this.Kr(h.ti.nq).then(function(a){return a?h.ti.nq:void 0;}).then(function(b){return a.DK(b);});};c.prototype.b5=function(a){return this.ix=a;};c.prototype.VO=function(){var a;if(this.ix){a=this.$ya&&this.aza&&this.$ya.kd(this.aza).ea(l.ja);this.ix.itshdcp=JSON.stringify({hdcp1:this.Tt,time1:a});}};ra.Object.defineProperties(c.prototype,{Sk:{configurable:!0,enumerable:!0,get:function(){this.ZBa||(this.ZBa=this.Rk.KE().then(function(a){return a.createMediaKeys();}));return this.ZBa;}},gAb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.jga||(this.config().Hcb?this.jga=this.Sk.then(function(b){if(b&&b.getStatusForPolicy)return a.aza=a.Ka.lf,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.$ya=a.Ka.lf;a.Tt=b;a.log.trace("hdcpStatus: "+a.Tt);return"usable"===a.Tt;});a.Tt="not available";a.log.trace("hdcpStatus: "+a.Tt);return!1;})["catch"](function(b){a.Tt="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.Tt},b);return!1;}).then(function(b){a.VO();return b;}):(this.Tt="not enabled",this.log.trace("hdcpStatus: "+this.Tt),this.VO(),this.jga=Promise.resolve(!1)));return this.jga;}}});d.AMa=c;},function(g,d,a){var f,h,l,b,k,p,n,u,r,D,B,I,C,K,z,T,G,R,S;function c(a,b,c,d,f,g,k){a=h.gm.call(this,a,b,c)||this;a.ha=d;a.Ka=f;a.ir=g;a.Gc=k;a.type=l.yk.ky;a.nH="hvc1";a.YLa="avc1";a.fEa={};a.log=a.ir.wb("MicrosoftVideoCapabilityDetector");a.izb();a.wO&&a.config().Xob?a.ccb=a.t$a():(a.ccb=Promise.resolve(""),a.config().Zob?a.x$a():a.config().Yob&&a.w$a());return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(60);h=a(136);l=a(31);g=a(100);b=a(146);k=a(142);p=a(4);n=a(252);u=a(137);r=a(243);D="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");B="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");I="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");C="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");K="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");z="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");T=["hdcp=1"];G=["hdcp=2"];R=new g.uy();S=new n.V_();da(c,h.gm);c.prototype.FE=function(a){return a===l.zd.Yr&&this.config().tCb?u.Kd.zH:h.gm.prototype.FE.call(this,a);};c.prototype.Kr=function(a){switch(a){case l.ti.nq:return this.YHa();case l.ti.fy:return this.vN;default:return Promise.resolve(!1);}};c.prototype.JE=function(){return this.wO?this.rkb?this.YHa().then(function(a){return Promise.resolve(a?b.lb.yd:b.lb.jI);}):Promise.resolve(b.lb.jI):this.hAb?Promise.resolve(b.lb.jI):Promise.resolve(b.lb.qq);};c.prototype.LG=function(){return Promise.resolve(this.fAb());};c.prototype.xO=function(){return this.wO&&this.$Ha()?this.vN:Promise.resolve(!1);};c.prototype.KG=function(){return Promise.resolve(this.eAb());};c.prototype.b5=function(a){this.ix=a;Object.assign(this.ix,this.fEa);a.itshwdrm=this.wO;a.itsqhd=this.ZHa();a.itshevc=this.$Ha();a.itshdr=this.LG();a.itsdv=this.KG();return a;};c.prototype.HJ=function(a,b){(this.ix?this.ix:this.fEa)[a]=b;};c.prototype.NE=function(){var a;a=this;return this.Kr(l.ti.fy).then(function(b){return b?a.DK(l.ti.fy):a.Kr(l.ti.nq).then(function(b){return b?a.DK(l.ti.nq):a.DK(void 0);});});};c.prototype.EL=function(){return this.JE().then(function(a){return a===b.lb.yd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.PU=function(a){var c;c=this;a=a.filter(function(a){var d,g;for(var d=P(c.Rp),f=d.next();!f.done;f=d.next())if(f.value.test(a))return!0;d=P(c.Yl);for(f=d.next();!f.done;f=d.next())if(f.value.test(a))return!1;a=c.Pda[a];d=[];g=b.lb.qq;if(a)return c.is.xm(a)?f=a:(d=a.qd,f=a.Ke,g=a.Ne),c.ew(g,f,d);});return Promise.resolve(a);};c.prototype.rz=function(){var a;a=h.gm.prototype.rz.call(this);a[f.Y.tI]="vp09.00.11.08.02";a[f.Y.uI]="vp09.00.11.08.02";a[f.Y.vI]="vp09.00.11.08.02";a[f.Y.bQ]={Ke:"hev1.2.6.L90.B0",Ne:b.lb.yd,qd:D};a[f.Y.cQ]={Ke:"hev1.2.6.L93.B0",Ne:b.lb.yd,qd:D};a[f.Y.dQ]={Ke:"hev1.2.6.L120.B0",Ne:b.lb.yd,qd:D};a[f.Y.X0]={Ke:"hev1.2.6.L123.B0",Ne:b.lb.yd,qd:D};a[f.Y.EH]={Ke:"hev1.2.6.L150.B0",Ne:b.lb.yd,qd:D};a[f.Y.FH]={Ke:"hev1.2.6.L153.B0",Ne:b.lb.yd,qd:D};a[f.Y.R0]={Ke:"hev1.2.6.L90.B0",Ne:b.lb.yd,qd:D};a[f.Y.T0]={Ke:"hev1.2.6.L93.B0",Ne:b.lb.yd,qd:D};a[f.Y.V0]={Ke:"hev1.2.6.L120.B0",Ne:b.lb.yd,qd:D};a[f.Y.Y0]={Ke:"hev1.2.6.L123.B0",Ne:b.lb.yd,qd:D};a[f.Y.Z0]={Ke:"hev1.2.6.L150.B0",Ne:b.lb.yd,qd:D};a[f.Y.$0]={Ke:"hev1.2.6.L153.B0",Ne:b.lb.yd,qd:D};a[f.Y.BH]={Ke:"hev1.2.6.L90.B0",Ne:b.lb.yd,qd:I};a[f.Y.CH]={Ke:"hev1.2.6.L93.B0",Ne:b.lb.yd,qd:I};a[f.Y.SB]={Ke:"hev1.2.6.L120.B0",Ne:b.lb.yd,qd:I};a[f.Y.YP]={Ke:"hev1.2.6.L123.B0",Ne:b.lb.yd,qd:C};a[f.Y.M0]={Ke:"hev1.2.6.L150.B0",Ne:b.lb.yd,qd:C};a[f.Y.O0]={Ke:"hev1.2.6.L153.B0",Ne:b.lb.yd,qd:C};a[f.Y.pH]={Ke:"hev1.2.6.L90.B0",Ne:b.lb.yd,qd:K};a[f.Y.qH]={Ke:"hev1.2.6.L93.B0",Ne:b.lb.yd,qd:K};a[f.Y.MB]={Ke:"hev1.2.6.L120.B0",Ne:b.lb.yd,qd:K};a[f.Y.JP]={Ke:"hev1.2.6.L123.B0",Ne:b.lb.yd,qd:z};a[f.Y.KP]={Ke:"hev1.2.6.L150.B0",Ne:b.lb.yd,qd:z};a[f.Y.n0]={Ke:"hev1.2.6.L153.B0",Ne:b.lb.yd,qd:z};return a;};c.prototype.ew=function(a,b,c){a=r.ly.TT(a,b,c);return this.ot(a);};c.prototype.ZHa=function(){return this.ew(b.lb.yd,this.nH,D);};c.prototype.fAb=function(){return this.ew(b.lb.yd,this.nH,I);};c.prototype.eAb=function(){return this.ew(b.lb.yd,this.nH,K);};c.prototype.$Ha=function(){return this.ew(b.lb.yd,this.nH,B);};c.prototype.YHa=function(){var a;a=this;return this.vN.then(function(b){return b?Promise.resolve(b):a.NEa;});};c.prototype.VO=function(){this.ix&&(this.ix.itshdcp=JSON.stringify({hdcp1:this.Yya,time1:this.pIa-this.GHa,hdcp2:this.Zya,time2:this.qIa-this.HHa}));};c.prototype.izb=function(){var a;a=this;this.wO?(this.yda=new k.Nj(),this.zda=new k.Nj(),this.NEa=k.Aa.from(this.yda).KO().then(function(a){return"probably"===a;}),this.vN=k.Aa.from(this.zda).KO().then(function(a){return"probably"===a;}),this.mHa(this.zda,this.config().apb),this.rEa(this.bhb.bind(this),this.zda),this.vN.then(function(b){b||(a.mHa(a.yda,a.config().$ob),a.rEa(a.ahb.bind(a),a.yda));})):(this.NEa=Promise.resolve(!0),this.vN=Promise.resolve(!1));};c.prototype.rEa=function(a,b){k.Aa.Mu(0,this.config().bpb).map(function(){return a();}).mO(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).FO(k.Aa.from(b)).KO();};c.prototype.mHa=function(a,b){this.ha.dh(p.Eb(b),function(){a.next("timeout");a.complete();});};c.prototype.ahb=function(){var a;a=r.ly.TT(b.lb.jI,this.YLa,T).split("|");this.Yya=r.ly.iga(a[0],a[1]);this.pIa=this.Ka.lf.ea(p.ja);this.GHa=this.GHa||this.pIa;this.VO();return this.Yya;};c.prototype.bhb=function(){var a;a=r.ly.TT(b.lb.yd,this.nH,G).split("|");this.Zya=r.ly.iga(a[0],a[1]);this.qIa=this.Ka.lf.ea(p.ja);this.HHa=this.HHa||this.qIa;this.VO();return this.Zya;};c.prototype.t$a=function(){var a;a=this;return this.Z6(b.lb.yd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.HJ("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};c.prototype.w$a=function(){var a;a=this;this.Z6(b.lb.qq,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.Gc.decode(b));a.HJ("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.HJ("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};c.prototype.x$a=function(){var a;a=this;this.Z6(b.lb.qq,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.Gc.decode(b));a.HJ("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.HJ("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};c.prototype.Z6=function(a,b){var c;c=this;return new Promise(function(d,f){var q,n,t;function g(a){try{m(a.target,"Unexpectedly got an mskeyerror event: 0x"+S.qL(a&&a.target&&a.target.error&&a.target.error.nTb||0,4));}catch(Ga){m(a.target,Ga);}}function h(a){m(a.target,"Unexpectedly got an mskeyadded event");}function k(a){var b;try{b=c.F8(a.message,"PlayReadyKeyMessage","Challenge");l(a.target);d(b);}catch(ka){m(a.target,ka);}}function m(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});l(a);f(d);}function l(a){a.removeEventListener("mskeymessage",k);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",g);q&&q.cancel();}try{n=new Uint8Array(R.Jzb(b));t=new M.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),n);t.addEventListener("mskeymessage",k);t.addEventListener("mskeyadded",h);t.addEventListener("mskeyerror",g);q=c.ha.dh(p.Eb(1E3),function(){m(t,Error("timeout"));});}catch(Fa){f(Fa);}});};c.prototype.F8=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return;g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}if(c=c.match(new RegExp(f)))return c[1];};ra.Object.defineProperties(c.prototype,{rkb:{configurable:!0,enumerable:!0,get:function(){return this.config().Gcb&&(!this.config().cpb||this.ZHa());}},wO:{configurable:!0,enumerable:!0,get:function(){try{return this.ot(b.lb.yd+'|video/mp4;codecs="'+u.Kd.QB+'"');}catch(N){return!1;}}},hAb:{configurable:!0,enumerable:!0,get:function(){try{return this.ot(b.lb.jI);}catch(N){return!1;}}}});d.pSa=c;c.XG='video/mp4;codecs="{0},mp4a";';},function(g,d,a){var f,h,l,b,k;function c(a,c,d,g){a=b.p0.call(this,a,c)||this;a.is=d;a.platform=g;a.type=f.Rx.ky;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(31);h=a(60);l=a(146);b=a(438);k=a(243);da(c,b.p0);c.prototype.vO=function(){return Promise.resolve(this.config().$K&&this.ew(l.lb.qq,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.rz=function(){var a;a={};a[h.Xi.ZP]="mp4a.40.2";a[h.Xi.P0]="mp4a.40.5";a[h.Xi.$P]="mp4a.40.2";"browser"===this.platform.Rua?this.config().$K&&(a[h.Xi.HP]={Ke:"avc1",Ne:l.lb.qq,qd:["audio-endpoint-codec=DD+JOC"]},a[h.Xi.IP]={Ke:"avc1",Ne:l.lb.qq,qd:["audio-endpoint-codec=DD+JOC"]}):(this.config().f8&&(a[h.Xi.HP]="ec-3"),this.config().e8&&(a[h.Xi.i0]="ec-3"),this.config().$K&&(a[h.Xi.IP]={Ke:"avc1",Ne:l.lb.qq,qd:["audio-endpoint-codec=DD+JOC"]}));return a;};c.prototype.PU=function(a){var b;b=this;a=a.filter(function(a){var c,f;for(var c=P(b.Rp),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=P(b.Yl);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.Pda[a];c=[];f=l.lb.qq;if(a)return b.is.xm(a)?d=a:(c=a.qd,d=a.Ke,f=a.Ne),b.ew(f,d,c);});return Promise.resolve(a);};c.prototype.ew=function(a,b,c){a=k.ly.TT(a,b,c);return this.ot(a);};d.USa=c;},function(g,d,a){var f,h,l,b,k,p,n,u,r,D,B,I,C,K,z,T,G,R,S,N;function c(a,b,c,d,f,g,h,k,m,l,p,q){this.nAa=a;this.cast=b;this.config=c;this.ha=d;this.Ka=f;this.is=g;this.Rk=h;this.ir=k;this.ze=m;this.platform=l;this.Gc=p;this.navigator=q;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(31);l=a(245);b=a(179);k=a(244);p=a(919);n=a(918);u=a(136);r=a(438);D=a(33);B=a(45);I=a(23);C=a(917);K=a(105);z=a(7);T=a(916);G=a(53);R=a(79);S=a(39);a=a(37);c.prototype.d$a=function(a){var b;b=this.nAa.Wta();switch(a){case h.Rx.ky:return new p.USa(this.config,b,this.is,this.platform);default:return new r.p0(this.config,b);}};c.prototype.W$a=function(a){var b;b=this.nAa.Wta();switch(a){case h.yk.c0:a=new k.bia(this.config,b,this.is,this.cast);break;case h.yk.e0:a=new C.AMa(this.config,b,this.is,this.Rk,this.ir,this.Ka);break;case h.yk.ky:a=new n.pSa(this.config,b,this.is,this.ha,this.Ka,this.ir,this.Gc);break;case h.yk.hna:a=new T.GWa(this.config,b,this.is,this.ze,this.navigator);break;default:a=new u.gm(this.config,b,this.is);}return a;};N=c;N=g.__decorate([f.N(),g.__param(0,f.l(l.mka)),g.__param(1,f.l(k.d0)),g.__param(2,f.l(b.MP)),g.__param(3,f.l(D.Kg)),g.__param(4,f.l(B.sk)),g.__param(5,f.l(I.Qe)),g.__param(6,f.l(K.ev)),g.__param(7,f.l(z.Db)),g.__param(8,f.l(G.hm)),g.__param(9,f.l(R.ms)),g.__param(10,f.l(S.Hj)),g.__param(11,f.l(a.kv))],N);d.rMa=N;},function(g,d,a){var f,h,l,b,k,p;function c(a,b,c){this.config=a;this.Aua=b;this.cast=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(245);l=a(179);b=a(31);k=a(244);p=a(243);c.prototype.Wta=function(){switch(this.config().C_){case b.yk.c0:return k.bia.U6(this.Aua,this.cast);case b.yk.ky:return p.ly.U6(this.config);default:return this.Aua;}};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(l.MP)),g.__param(1,f.l(h.oma)),g.__param(2,f.l(k.d0))],a);d.hRa=a;},function(g,d,a){var f,h,l,b,k,p,n,u;function c(a,c,d){this.oU=a;this.Ea=c;this.SHa=d;this.R2a="video/mp4;codecs={0}";this.NYa="audio/mp4;codecs={0}";a=this.oU.FE(h.zd.Yr);this.Q2a=b.Kd.$ta(a);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(31);l=a(1);b=a(137);k=a(23);p=a(463);n=a(441);u=a(11);c.prototype.FK=function(a){a=this.oU.ehb(a);a=this.Ea.vz(a)?a:h.zd.mI;return this.SHa.format(this.R2a,this.Q2a[a]);};c.prototype.zK=function(a){return 0===a.length?this.SHa.format(this.NYa,b.Kd.rP):n.Gha[a[0].Af]===f.pKa?u.hy:u.VRa;};a=f=c;a.pKa="AAC";a=f=g.__decorate([l.N(),g.__param(0,l.l(h.r0)),g.__param(1,l.l(k.Qe)),g.__param(2,l.l(p.rna))],a);d.VWa=a;},function(g,d,a){var f,h,l,b,k,p;function c(a,b,c){this.config=a;this.Psa=b;this.Ksb=c;this.Ytb=this.N$a();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(31);h=a(179);l=a(1);b=a(60);k=a(443);a=a(442);c.prototype.Nib=function(){return this.Zwa().wya();};c.prototype.Oib=function(){return this.br().wya();};c.prototype.Zwa=function(){this.z5&&this.z5.type==this.config().A5||(this.z5=this.Psa.d$a(this.config().A5));return this.z5;};c.prototype.br=function(){this.B_&&this.B_.type==this.config().C_||(this.B_=this.Psa.W$a(this.config().C_),this.B_.b5(this.Ksb.Rgb()));return this.B_;};c.prototype.ehb=function(a){var d;if(!a||!a.length)return f.zd.XP;a=this.Keb(a);for(var b=[f.zd.mI,f.zd.XP,f.zd.RQ,f.zd.as,f.zd.Yr,f.zd.CB,f.zd.pv,f.zd.oi],c=b.length;c--;){d=b[c];if((0,this.Ytb[d])(a))return d;}return f.zd.mI;};c.prototype.Kr=function(a){return this.br().Kr(a);};c.prototype.ot=function(a){return this.br().ot(a);};c.prototype.JE=function(){return this.br().JE();};c.prototype.LG=function(){return this.br().LG();};c.prototype.vO=function(){return this.Zwa().vO();};c.prototype.KG=function(){return this.br().KG();};c.prototype.xO=function(){return this.br().xO();};c.prototype.FE=function(a){return this.br().FE(a);};c.prototype.NE=function(){return this.br().NE();};c.prototype.EL=function(){return this.br().EL();};c.prototype.Keb=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.Af]="";});return Object.keys(b);};c.prototype.N$a=function(){var a;a={};a[f.zd.oi]=function(a){return a.some(function(a){return-1<a.indexOf("av1");});};a[f.zd.CB]=function(a){return a.some(function(a){return-1<a.indexOf("hpl");});};a[f.zd.pv]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[f.zd.Yr]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[f.zd.as]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[f.zd.RQ]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[f.zd.XP]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=P(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[b.Y.RB]);a[f.zd.mI]=function(){return!0;};return a;};p=c;p=g.__decorate([l.N(),g.__param(0,l.l(h.MP)),g.__param(1,l.l(a.aia)),g.__param(2,l.l(k.mja))],p);d.eOa=p;},function(g,d,a){var c,f,h,l,b,k,p,n,u,r,D,B,I,C,K,z,T,G,R,S;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(31);f=a(17);h=a(923);l=a(179);b=a(118);k=a(922);p=a(245);n=a(921);u=a(443);r=a(442);D=a(920);B=a(244);I=a(9);C=a(437);K=a(915);z=a(436);T=a(914);G=a(242);R=a(913);S=a(435);d.oU=new g.xc(function(a){a(b.kC).to(k.VWa).Z();a(c.r0).to(h.eOa).Z();a(p.mka).to(n.hRa).Z();a(r.aia).to(D.rMa).Z();a(p.oma).ni({isTypeSupported:I.$H&&I.$H.isTypeSupported});a(B.d0).ni("undefined"!==typeof cast?cast:null);a(u.mja).TG(function(){return{Rgb:function(){return M._cad_global.platformExtraInfo;}};});a(l.MP).TG(function(a){return a.ub.get(f.xd);});a(C.Yka).to(K.DSa).Z();a(z.Xka).to(T.ESa).Z();a(G.lja).to(R.jPa).Z();a(S.Hma).ni(M);});},function(g,d,a){function c(a){this.Wbb=void 0===a?10:a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c=g.__decorate([a.N()],c);d.rXa=c;},function(g,d,a){var f,h;function c(a){this.XAb=a;this.e_={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(246);c.prototype.egb=function(){var a,b,c;a=[];for(b in this.e_){c=this.e_[b];a.push({fw:Number(b),pB:c.Jl().pB,U7:c.Jl().U7});}return a;};c.prototype.US=function(a){var b,c;b=a.fw;c=this.e_[b];c||(c=this.XAb(),this.e_[b]=c);c.US(a);};h=c;h=g.__decorate([f.N(),g.__param(0,f.l(a.B2))],h);d.yMa=h;},function(g,d,a){var f,h,l,b;function c(a){this.config=a;this.Nfa=h.De;this.AG=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(47);l=a(4);a=a(445);c.prototype.Jl=function(){var b;for(var a;0<this.AG.length;)a=this.AG.shift(),this.era(a);a=void 0===this.TK||void 0===this.yz?l.De:this.yz.kd(this.TK);b=a.qAa()?0:this.Nfa.ea(h.JB)/a.ea(l.ja);return{pB:Math.floor(b),U7:a.ea(l.ja)};};c.prototype.US=function(a){this.Nfa=this.Nfa.add(a.size);this.AG.push(a.Vbb);for(this.AG.sort(function(a,b){return a.start.Cl(b.start);});this.AG.length>this.config.Wbb;)a=this.AG.shift(),this.era(a);};c.prototype.era=function(a){void 0===this.TK&&(this.TK=a.start);void 0!==this.yz&&0>this.yz.Cl(a.start)&&(this.TK=this.TK.add(a.start.kd(this.yz)));if(void 0===this.yz||0>this.yz.Cl(a.end))this.yz=a.end;};b=c;b=g.__decorate([f.N(),g.__param(0,f.l(a.Fna))],b);d.sXa=b;},function(g,d,a){var c,f,h,l,b,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(927);f=a(926);h=a(925);l=a(444);b=a(445);k=a(246);d.qB=new g.xc(function(a){a(k.Gna).to(c.sXa);a(l.cia).to(f.yMa).Z();a(b.Fna).ni(new h.rXa());a(k.B2).If(function(a){return function(){return a.ub.get(k.Gna);};});});},function(g,d,a){var f,h,l,b,k,p;function c(a,b,c,d,f,g,k,m,l,p,q,n){var t;t=this;this.Sc=a;this.Ea=b;this.Ob=d;this.Mp=g;this.rK=k;this.config=l;this.ge=q;this.la=n;this.j=p.create(n.u,n.Wl,m,n.bb,n.id);this.j.background=!0;this.j.ta=n.lX;this.log=c.wb("VideoPlayer",this.j);this.UDa=[];this.ended=!1;this.mP();this.j.state.addListener(function(a){a.newValue===h.mb.od&&t.Wd(h.rb.Caa,{movieId:n.u});});this.j.Va.ci&&(this.DD=f.f$a(this,this.j,this.ge),this.j.addEventListener(h.S.qZ,function(a){t.Wd(h.rb.dxb,{segmentId:a.segmentId});}));}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);h=a(14);l=a(4);b=a(9);k=a(75);p=a(19);c.prototype.isReady=function(){return this.j.state.value===h.mb.od;};c.prototype.Khb=function(){return this.j.u;};c.prototype.B$=function(){return this.j.ia;};c.prototype.gib=function(){return this.j.QEa;};c.prototype.xp=function(){return this.j.wf;};c.prototype.Pt=function(){return this.j;};c.prototype.Mw=function(){return this.j.Op.value;};c.prototype.Clb=function(){return this.j.paused.value;};c.prototype.plb=function(){return this.ended;};c.prototype.Yj=function(){var a;a=this.j.X5.value;return a?{networkStalled:!!a.OZ,stalled:!!a.OZ,progress:a.xj,progressRollback:!!a.aub}:null;};c.prototype.getError=function(){var a;a=this.j.Ii;return a?a.Cga():null;};c.prototype.Xfb=function(){var a;a=(this.sV()||0)+this.j.exa();return Math.min(a,this.nxa());};c.prototype.sV=function(){return this.j.Nz();};c.prototype.nxa=function(){return this.j.Rq.ea(l.ja);};c.prototype.kjb=function(){return this.j.dH?{width:this.j.dH.width,height:this.j.dH.height}:null;};c.prototype.C9=function(){var f;if(this.j.kn){for(var a,b=0;b<this.j.kn.length;b++)for(var c=this.j.kn[b],d=0;d<c.dc.length;d++){f=c.dc[d];this.Ea.Pg(f.f7)&&this.Ea.Pg(f.XT)&&this.Ea.Pg(f.WT)&&this.Ea.Pg(f.VT)&&0<f.XT&&(f=f.VT/f.WT,a=this.Ea.Pg(a)?Math.min(a,f):f);}return a;}};c.prototype.mgb=function(){return this.j.C9();};c.prototype.xgb=function(){return this.ygb(this.j.ybb);};c.prototype.Ifb=function(){var a;a=this;return this.j.Qn?this.j.Qn.map(function(b){return a.Oz(b);}).filter(function(a){return null!==a;}):[];};c.prototype.zya=function(a){var b,c;b=this;c=a&&this.j.Qn.find(function(c){return b.Oz(c)===a;})||this.j.Wc.value;return null===c?[]:c.pk.map(function(a){return b.Oz(a);}).filter(function(a){return null!==a;});};c.prototype.Alb=function(){return this.j.muted.value;};c.prototype.mjb=function(){return this.j.volume.value;};c.prototype.Hfb=function(){return this.Oz(this.j.Wc.value);};c.prototype.yya=function(){return this.Oz(this.j.Bc.value);};c.prototype.klb=function(){return!!this.j.background;};c.prototype.Xxb=function(a){this.j.muted.set(!!a);};c.prototype.oyb=function(a){this.j.volume.set(this.cDa(a,1));};c.prototype.ayb=function(a){this.j.playbackRate.set(this.cDa(a,2));};c.prototype.Ixb=function(a){var b,c;b=this;c=this.j.Qn.find(function(c){return b.Oz(c)===a;});c?this.j.Wc.set(c):this.log.error("Invalid setAudioTrack call");};c.prototype.dHa=function(a){var d;if(null!==this.j.Wc.value){for(var b=this.j.Wc.value.pk,c=0;c<b.length;c++){d=b[c];if(!a&&null===d){this.j.Bc.set(null);return;}if(this.Oz(d)===a){this.log.info("Setting Timed Text, profile: "+d.profile);this.j.Bc.set(d);return;}}this.log.error("Invalid setTimedTextTrack call");}};c.prototype.QGa=function(a){this.j.background=a;};c.prototype.oO=function(){this.j.oO();};c.prototype.addEventListener=function(a,b,c){this.Ob.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.Ob.removeListener(a,b);};c.prototype.zu=function(){};c.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.j.load(function(b,c){try{a.Wd(h.rb.tnb,void 0,!0);b.ta&&(b.ta.watermarkInfo&&a.Wd(h.rb.gDb,b.ta.watermarkInfo,!0),b.ta.choiceMap&&a.Wd(h.rb.cxb,{segmentMap:b.ta.choiceMap},!0));c({$:!0});}catch(D){c({ca:f.G.ih,kb:a.Sc.Ye(D)});}}));};c.prototype.close=function(a){var b;b=this;this.mta||(this.mta=new Promise(function(c){a?b.j.Rd(a,c):b.j.close(c);}));return this.mta;};c.prototype.play=function(){this.j.Uj?this.j.fireEvent(h.S.iGa):(this.load(),this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(h.S.CJa)));};c.prototype.pause=function(){this.load();this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(h.S.FCb));};c.prototype.seek=function(a,b,c,d){this.j.Mi?this.j.Mi.seek(a,b,c,d):this.j.ez=a;};c.prototype.Psb=function(a){return this.DD?(this.log.trace("Playing a segment",a),this.DD.play(a)):Promise.resolve();};c.prototype.tub=function(a){return this.DD?(this.log.trace("Queueing a segment",a),this.DD.xh(a)):Promise.resolve();};c.prototype.Mo=function(a,b){return this.DD?(this.log.trace("Updating next segment weights",a,b),this.DD.Mo(a,b)):Promise.resolve();};c.prototype.PO=function(){this.j.PO();};c.prototype.MV=function(){var a;a=this.j.Ko.MV();return{bounds:a.aK,margins:a.oo,size:a.size,visibility:a.visibility};};c.prototype.hO=function(a){var b,c,d;b=a.bounds;c=a.margins;d=a.size;a=a.visibility;this.j.JO&&(b&&this.j.JO.yfa(b),c&&this.j.JO.zfa(c),"boolean"===typeof a&&this.j.JO.Afa(a));this.j.Ko&&d&&this.j.Ko.hyb(d);};c.prototype.fHa=function(a){this.j.jn=a;};c.prototype.$ib=function(a){return this.j.Nu&&this.j.Nu.Ygb(a)||null;};c.prototype.Bfb=function(){return this.Sc.Wm({playerver:this.config.version,jssid:this.config.kmb,groupName:this.config.$gb(),xid:this.j.ia,pbi:this.j.index},this.config.Lsb,{prefix:"pi_"});};c.prototype.Mkb=function(a){this.j.Rd(this.ge(f.J.ROa,f.G.xk,a));};c.prototype.hnb=function(a,b,c,d){if(!this.Ea.Dra(a))throw Error("invalid url");this.UDa.push({url:a,name:b,p5a:c,options:d});this.JEa();};c.prototype.rya=function(){var a,b,c,d,f,g,h,k;a={};b=this.j.Yfa;try{if(this.j.Ii&&(a.errorCode=this.j.Ii.qU,a.errorType=b?"endplay":"startplay"),a.playdelay=p.Lm(this.j.Lsa()),a.xid=this.j.ia,this.j.ta&&this.Ea.xm(this.j.ta.packageId)&&(a.packageId=Number(this.j.ta.packageId)),a.auth=this.j.Kfb(),a.hdr=this.j.lhb(),b){a.totaltime=this.j.Vl?this.Hz(this.j.Vl.GL()):0;a.abrdel=this.j.Vl?this.j.Vl.$wa():0;c=this.j.Mi;d=c?c.Lz():null;this.Ea.Pg(d)&&(a.totdfr=d);d=c?c.vL():null;this.Ea.Pg(d)&&(a.totcfr=d);f=c?c.mhb():null;f&&(a.rbfrs_decoder=f.Oab,a.rbfrs_network=f.$pb);a.rbfrs_delay=this.j.Vl?this.j.Vl.yaa:0;a.init_vbr=this.j.wW;g=this.CV();this.Ea.vz(g)&&(a.pdltime=g);h=this.j.bf.value;k=h&&h.stream;k&&(a.vbr=k.R,a.vdlid=k.bd);a.bufferedTime=this.j.exa();}}catch(Q){this.log.error("error capturing session summary",Q);}return a;};c.prototype.dL=function(a){return this.Ea.Pg(this.j.ac.value)?(a=Object.assign(Object.assign({},this.Mp.create(this.j)),{action:a}),this.rK(k.im.dL).Km(this.log,this.j.ta.Zf,a).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.Rc,errorExternalCode:a.Vg,errorData:a.data,errorDetails:a.gE};})):Promise.resolve({success:!1});};c.prototype.ygb=function(a){return{register:a.register.bind(a),notifyUpdated:a.XCa.bind(a),getModel:a.Ihb.bind(a),getGroups:a.M9.bind(a),addEventListener:a.addEventListener.bind(a),removeEventListener:a.removeEventListener.bind(a),getTime:a.getTime.bind(a)};};c.prototype.Oz=function(a){var b;if(null!==a){b=a.iub=a.iub||{trackId:a.cb,bcp47:a.Hk,displayName:a.displayName,trackType:a.Ej,channels:a.Al};a.fr&&(b.isImageBased=!0);this.Flb(a)&&(b.isNative=a.isNative);this.Glb(a)&&(b.isNoneTrack=a.dM(),b.isForcedNarrative=a.IW());return b;}return null;};c.prototype.Flb=function(a){return"undefined"!==typeof a.isNative;};c.prototype.Glb=function(a){return"undefined"!==typeof a.dM&&"undefined"!==typeof a.IW;};c.prototype.cDa=function(a,b){return 0<=a?a<=b?a:b:0;};c.prototype.Hz=function(a){return this.Ea.Pg(a)?(a/1E3).toFixed(0):"";};c.prototype.Wd=function(a,b,c){b=b||{};b.target=this;this.Ob.Pb(a,b,!c);};c.prototype.mP=function(){var a;a=this;this.j.addEventListener(h.S.sga,function(){a.Wd(h.rb.Xn);});this.j.addEventListener(h.S.vX,function(){a.Wd(h.rb.Bsa);});this.j.addEventListener(h.S.yo,function(){a.Wd(h.rb.Bsa);});this.j.addEventListener(h.S.XE,function(b){a.Wd(h.rb.XE,{errorCode:b});});this.j.addEventListener(h.S.F5,function(b){a.Wd(h.rb.q5a,b.j);});this.j.addEventListener(h.S.Uj,function(b){a.Wd(h.rb.r5a,b);});this.j.Op.addListener(function(){a.Wd(h.rb.dtb);});this.j.paused.addListener(function(){a.Wd(h.rb.hsb);});this.j.muted.addListener(function(){a.Wd(h.rb.Spb);});this.j.volume.addListener(function(){a.Wd(h.rb.bDb);});this.j.Ib.addListener(function(){a.iJa();});this.j.state.addListener(function(){a.iJa();});this.j.X5.addListener(function(b){a.qnb||a.j.state.value!=h.mb.od||b.newValue||(a.qnb=!0,a.Wd(h.rb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.rya());}));a.Wd(h.rb.Y5);});this.j.Wc.addListener(function(b){a.Wd(h.rb.SJ);b.oldValue&&b.newValue&&b.oldValue.pk==b.newValue.pk||a.Wd(h.rb.sB);setTimeout(function(){var b;if(null!==a.j.Wc.value&&null!==a.j.Bc.value){b=a.j.Wc.value.pk;0<=b.indexOf(a.j.Bc.value)||(a.log.info("Changing timed text track to match audio track"),a.j.Bc.set(b[0]));}},0);});this.j.Bc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.cb==b.newValue.cb||a.Wd(h.rb.RG);});this.j.addEventListener(h.S.sB,function(){a.Wd(h.rb.sB);});this.j.addEventListener(h.S.NO,function(){a.Wd(h.rb.NO);});this.j.state.addListener(function(b){switch(b.newValue){case h.mb.od:a.Wd(h.rb.pcb);a.Wd(h.rb.XCb);a.Wd(h.rb.$ra);a.Wd(h.rb.sB);a.Wd(h.rb.snb);a.JEa();a.lDb();break;case h.mb.CLOSING:a.j.Ii&&a.Wd(h.rb.error,a.j.Ii.Cga());break;case h.mb.CLOSED:a.Wd(h.rb.closed),a.Ob.Uf();}});};c.prototype.lDb=function(){var a;a=this;this.j.Ko.addEventListener("showsubtitle",function(b){a.Wd(h.rb.Nyb,b,!0);});this.j.Ko.addEventListener("removesubtitle",function(b){a.Wd(h.rb.Dvb,b,!0);});};c.prototype.JEa=function(){if(this.j.state.value==h.mb.od){for(var a,b,c;b=this.UDa.shift();)a=this.j.Ko.a5(b.url,b.name,b.options),b.p5a&&(c=a);c&&this.j.Bc.set(c);}};c.prototype.iJa=function(){var a;a=this.j.state.value==h.mb.od&&this.j.Ib.value==h.hb.mq;this.ended!==a&&(this.ended=a,this.j.Nn("Ended changed: "+a),(a||this.j.state.value===h.mb.CLOSING)&&this.Wd(h.rb.Fdb));};c.prototype.CV=function(){var a,c;try{a=/playercore.*js/;c=b.gs.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(c&&0<c.length)return JSON.stringify(Math.round(c[0].duration));}catch(y){}};d.eRa=c;},function(g,d,a){var f,h,l,b,k,p,n,u,r,D,B;function c(a){this.ed=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(91);l=a(22);b=a(23);k=a(7);p=a(65);n=a(248);u=a(446);r=a(929);D=a(247);B=a(75);c.prototype.H$a=function(a,c,d,f){return new r.eRa(this.ed.get(l.ef),this.ed.get(b.Qe),this.ed.get(k.Db),this.ed.get(p.D0),this.ed.get(n.t2),this.ed.get(D.e2),this.ed.get(B.C0),this.ed.get(u.Lia),a,c,d,f);};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(h.ika))],a);d.bYa=a;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(448);f=a(930);d.VCb=new g.xc(function(a){a(c.Zna).to(f.bYa).Z();});},function(g,d,a){var f,h;function c(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(17);c.prototype.Xtb=function(a,b,c){var d,f;if(this.config().rxb){d=a.metrics;if(void 0!==d){f=a.playlistSegment||void 0;b.du.transition({isBranching:void 0===f||void 0,isPlaygraph:f,mid:b.u,xid:b.ia,srcxid:c.ia,srcmid:c.u,segment:a.segmentId,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard});}}};h=c;h=g.__decorate([f.N(),g.__param(0,f.l(a.xd))],h);d.FXa=h;},function(g,d,a){var h,l;function c(){}function f(a,c,d,f,g){this.debug=a;this.version=c;this.kmb=d;this.Lsb=f;this.config=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(4);f.prototype.$gb=function(){return this.config().Gw;};f.prototype.w9=function(){return this.config().rsa;};f.prototype.e$=function(){return l.Eb(this.config().etb);};f.prototype.Pxa=function(){return this.config().pnb;};f.prototype.Sxa=function(){return this.config().aob;};c.prototype.zw=function(a,c,d,g,h){return new f(a,c,d,g,h);};a=c;a=g.__decorate([h.N()],a);d.OWa=a;},function(g,d,a){var l,b,k,p;function c(a,b,c,d,f,g,h){var m;m=this;this.V=b;this.j=c;this.dx=d;this.ha=f;this.MJ=g;this.ge=h;this.JD=function(){m.gx&&(m.gx.cancel(),m.gx=void 0);};this.log=a.wb("SegmentManager",this.j);this.ab=new Map();this.j.Va.ci&&(this.j.addEventListener(k.S.qZ,function(a){return m.Yca(a);}),this.j.addEventListener(k.S.closed,this.JD));}function f(a,b){this.id=a;this.p6=b;}function h(a,c,d,f){return b.wc.call(this,a,d,void 0,void 0,void 0,c,void 0,f)||this;}Object.defineProperty(d,"__esModule",{value:!0});l=a(2);b=a(46);k=a(14);p=a(4);da(h,b.wc);h.prototype.toString=function(){return this.code+"-"+this.Rc+" : "+this.message+"\n"+JSON.stringify(this.data);};f.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.og,contentEndPts:this.qh};};ra.Object.defineProperties(f.prototype,{og:{configurable:!0,enumerable:!0,get:function(){return this.p6.startTimeMs;}},qh:{configurable:!0,enumerable:!0,get:function(){return this.p6.endTimeMs;}},SX:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.p6.next);}}});c.prototype.Yca=function(a){var b,c;b=this;if(0===this.ab.size){c=this.j.rV();Object.keys(c).forEach(function(a){b.ab.set(a,new f(a,c[a]));});}this.da=this.ab.get(a.segmentId);};c.prototype.play=function(a){this.eG&&(this.eG=void 0);this.JD();this.log.trace("Playing segment",a);return this.aAa(a)?this.Osb(a):this.tY(a);};c.prototype.xh=function(a){this.log.trace("Queueing segment",a);return this.aAa(a)?this.rub(a):this.uub(a);};c.prototype.Mo=function(a,b){var c,d;c=this;d=this.j.qb;if(!d)return Promise.reject(this.getError(l.J.Iha,"ASE session manager is not yet initialized",l.G.U_,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(f,g){try{d.o_(a,b);c.j.fireEvent(k.S.Mo,{$a:a,gCb:b});f();}catch(C){g(c.getError(l.J.Iha,"updateNextSegmentWeights threw an exception",l.G.rLa,{segmentId:a,updates:b,error:C}));}});};c.prototype.aAa=function(a){return this.da?void 0!==this.j.rV()[this.da.id].next[a]:!1;};c.prototype.iya=function(){if(this.j.qb)return this.j.qb.DV().te;};c.prototype.kib=function(){if(this.j.qb)return this.j.qb.DV().id;};c.prototype.ggb=function(a){if(this.j.qb)return(a=this.j.qb.qV(a))&&a.Ed;};c.prototype.Osb=function(a){var b,c,d;b=this;c=this.j.qb;if(!c)return Promise.reject(this.getError(l.J.lH,"ASE session manager is not yet initialized",l.G.U_,{id:a}));if(this.da&&1===this.da.SX.length)return this.tY(a);if(!this.j.Mi)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(l.J.lH,"MediaPresenter is not initialized",l.G.oLa,{id:a}));d=this.ggb(a);return void 0===d?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.tY(a)):new Promise(function(f,g){var t,r,u,y,D,B;function h(){!u&&r&&t&&(B.cancel(),u=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:r,repositioned:t,completed:u}),c.tt(a,!1,!0)?(f(),u=!0):(u=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.tY(a).then(f)["catch"](g)));}function m(){t=!0;b.log.trace("Player is repositioned",{id:a,stopped:r,repositioned:t,completed:u});b.j.removeEventListener(k.S.yo,m);h();}function q(){b.j.removeEventListener(k.S.RA,q);c.stop();}function n(){r=!0;b.log.trace("ASE is stopped",{id:a,stopped:r,repositioned:t,completed:u});c.removeEventListener("stop",n);h();}t=!1;r=!1;u=!1;y=b.ab.get(a);D=y.og+(d||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:D,currentSegment:b.da,nextSegment:y},null,"  "));b.j.fireEvent(k.S.RX,{Sg:b.da&&b.da.id,WM:a});c.addEventListener("stop",n);b.j.addEventListener(k.S.RA,q);b.j.addEventListener(k.S.yo,m);B=b.ha.dh(p.zh(10),function(){u=!0;B.cancel();g(b.getError(l.J.lH,"Timed out waiting for the player to be repositioned and ASE to be stopped",l.G.nLa,{id:a,stopped:r,repositioned:t,completed:u}));});b.V.seek(D,k.gg.iC);});};c.prototype.tY=function(a){var b;b=this.ab.get(a);return b?this.UN(b,l.J.lH):Promise.reject(this.getError(l.J.lH,"Unable to find the separated segment",l.G.Hha,{id:a}));};c.prototype.rub=function(a){var b;b=this.j.qb;if(!b)return Promise.reject(this.getError(l.J.IB,"ASE session manager is not yet initialized",l.G.U_,{id:a}));if(b.tt(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(l.J.IB,"ASE chooseNextSegment failed",l.G.lLa,{id:a}));};c.prototype.uub=function(a){var b,c;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.u,srcsegment:this.kib()});if(this.eG)return Promise.reject(this.getError(l.J.IB,"Unable to queue a non-next segment because there is currently already a segment queued",l.G.qLa,{currentSegment:this.da?this.da.id:void 0,queuedSegment:this.eG.id,failedSegment:a}));if(!this.da)return Promise.reject(this.getError(l.J.IB,"Unable to queue a non-next segment because there is no currently playing segment",l.G.mLa,{nextSegmentid:a}));c=this.ab.get(a);if(!c)return Promise.reject(this.getError(l.J.IB,"Unable to find the separated segment",l.G.Hha,{nextSegmentid:a,currentSegmentId:this.da.id}));this.eG={id:a,yr:new Promise(function(d,f){var g;b.gx=b.dx.Y6({e$:function(){return p.Eb(100);}},function(){return b.V.j.ac.value||0;});g=b.iya()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:g});b.gx.observe(g,function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.da.id,playerEndPts:b.iya(),pts:g});b.eG=void 0;b.JD();b.UN(c,l.J.IB).then(d)["catch"](f);});})};this.eG.yr["catch"](function(a){b.j.Rd(b.ge(a.code,a));});return Promise.resolve();};c.prototype.UN=function(a,b){var c;c=this;return new Promise(function(d,f){try{c.V.seek(a.og,k.gg.mv);d();}catch(I){f(c.getError(b,"Seek threw an exception",l.G.pLa,{id:a.id,error:I}));}});};c.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new h(a,b,c,d);};d.KLa=c;},function(g,d,a){var b,k,p,n;function c(a,c,d,f,g,h,m,l,p){var q;q=this;this.sa=a;this.dx=d;this.uda=f;this.config=g;this.ge=h;this.nN=m;this.vc=l;this.Sdb=Object.keys(k.rb).map(function(a){return{event:k.rb[a],WV:function(b){return q.Ob.Pb(k.rb[a],b);}};});this.Ob=p.create();this.ux=[];this.log=c.wb("SegmentManager");new b.Nj();this.Y8=!0;this.wf=this.vc.createElement("div",n.Rma);}function f(a,c,d,f,g,k,m,p,q){var n;n=this;this.log=a;this.config=c;this.Rqb=d;this.uda=f;this.ge=g;this.nN=k;this.Wp=m;this.la=p;this.wf=q;this.JD=function(){n.gx&&(n.gx.cancel(),n.gx=void 0);};this.H$=function(a){n.log.trace("Received the transition event",{movieId:a.u});n.Iub(l(n.la));};this.log.debug("Constructing session data",h(p));this.hba=new b.Nj();this.LAb=new Promise(function(a){n.Iub=a;});}function h(a){return{movieId:a.u};}function l(a){return JSON.stringify({movieId:a.u,startPts:a.T,logicalEnd:a.Um,params:a.bb?{trackingId:a.bb.Fh,authParams:a.bb.TJ,sessionParams:a.bb.en,disableTrackStickiness:a.bb.N7,uiPlayStartTime:a.bb.n_,loadImmediately:a.bb.dX,playbackState:a.bb.playbackState?{currentTime:a.bb.playbackState.currentTime,volume:a.bb.playbackState.volume,muted:a.bb.playbackState.muted}:void 0,pin:a.bb.XDa,heartbeatCooldown:a.bb.P$,uiLabel:a.bb.je}:void 0});}Object.defineProperty(d,"__esModule",{value:!0});b=a(142);k=a(14);p=a(4);n=a(11);f.prototype.load=function(a){var b,c;b=this;this.log.trace("Loading new segment",h(this.la));this.V=this.uda.H$a(this.config,this.nN,this.ge,this.la);this.V.addEventListener(k.rb.XE,function(a){b.log.trace("Segment is inactive",h(b.la));b.Wp.close(b.ge(a.errorCode));});this.V.addEventListener(k.rb.closed,this.JD);if(a)this.log.debug("Pausing background segment",h(this.la)),this.V.addEventListener(k.rb.Caa,this.H$),this.V.pause();else{this.wf.appendChild(this.V.xp());c=function(a){b.H$(a);b.V.removeEventListener(k.rb.loaded,c);};this.V.addEventListener(k.rb.loaded,c);}};f.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",l(this.la));if(this.gx)this.log.trace("Segment is currently observing",h(this.la));else if(this.la.bb&&this.la.bb.dX)this.hba.next(this);else{b=this.Rqb.Y6(this.config,function(){var b;if(a.V){b=a.V.j.ac.value;if(b)return b;}return 0;});c=this.D6a(this.la);this.log.trace("Adding a moment to watch",{time:c});b.observe(c,function(){a.log.trace("Segment has reached its loading point",h(a.la));a.hba.next(a);a.JD();});}};f.prototype.close=function(a){this.log.info("Closing segment",{segment:l(this.la),error:a});return this.V?(this.V.removeEventListener(k.rb.Caa,this.H$),this.V.close(a)):Promise.resolve();};f.prototype.D6a=function(a){var b,c;b=a.Um;a=a.bb?a.bb.dX:!1;c=0;b&&!a&&(c=b-this.config.Pxa(),c<this.config.Sxa()&&(a=b-this.config.Sxa(),c=b-a/2));return c;};c.prototype.EV=function(){return this.oe&&this.oe.V?this.oe.V.isReady():!1;};c.prototype.xp=function(){return this.wf;};c.prototype.pj=function(){if(!this.oe||!this.oe.V)throw Error("Player not ready");return this.oe.V;};c.prototype.hp=function(a){this.log.info("Adding segment",l(a));this.Y8?(this.log.trace("First segment, loading",h(a)),a=this.UAa(a),this.Y8=!1):(this.log.trace("Subsequent segment, caching",h(a)),a=this.ewb(a));return a?a.LAb:null;};c.prototype.transition=function(a){var b;if(this.nu&&this.nu.V){b=this.nu;this.nu=void 0;this.log.info("Transitioning segment",l(b.la));b&&b.V&&b.V.fHa(this.sa.pc().ea(p.ja));return this.KIa(b,a);}return Promise.resolve();};c.prototype.close=function(a){var b,c;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(h(this.oe.la)),nextSession:this.nu?JSON.stringify(h(this.nu.la)):void 0});c=[this.oe.close(a)];this.nu&&c.push(this.nu.close());return new Promise(function(a,d){Promise.all(c).then(function(){b.nu=void 0;b.ux=[];b.Y8=!0;a();})["catch"](d);});};c.prototype.addListener=function(a,b,c){this.Ob.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Ob.removeListener(a,b);};c.prototype.UAa=function(a){var b,c;b=this;this.log.info("Loading the next episode",h(a));this.oe&&(this.config.w9()[a.u]=a.T);c=this.Ieb(a);if(!c)return this.log.warn("Unable to find the session, make sure to add it before loading",h(a)),null;this.log.trace("Found the next session",h(a));c.hba.subscribe(function(a){b.CAb(a);});this.oe?(this.log.trace("Subsequent playback, caching player and pausing",h(a)),this.nu=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",h(a)),c.load(!1),this.KIa(c));return c;};c.prototype.KIa=function(a,b){var c,d;b=void 0===b?{}:b;this.log.trace("Playing episode",h(a.la));c=this.oe;this.oe=a;if(this.oe.V&&(this.oe.V.QGa(!1),this.mP(this.oe.V,c?c.V:void 0),c&&c.V)){d=c.V.xp();a=this.oe.V.xp();d.style.display="none";c=c.close();this.wf.appendChild(a);this.oe.V&&(a.style.display="block",this.oe.V.getError()?this.oe.V.close():(this.oe.V.Pt().SBb(b),this.oe.V.oO(),this.oe.V.play()));c.then(function(){d.parentElement&&d.parentElement.removeChild(d);});return c;}return Promise.resolve();};c.prototype.CAb=function(a){var b,c,d,f;if(this.ux.length&&a.V){a=a.V.j.ac.value;b=this.ux[0];c=this.oe.la.Um;d=this.oe.la.bb?this.oe.la.bb.dX:!1;if(c||d){d?f=0:c&&(f=c-this.config.Pxa());null!==a&&a>=f&&(this.log.info("Got a time change, loading the next player",h(b.la)),this.UAa(b.la),this.ux.splice(0,1));}}};c.prototype.Ieb=function(a){return this.oe?this.ux.find(function(b){return b.la.u===a.u;}):this.Gm(a);};c.prototype.ewb=function(a){var c;if(this.oe.la.u===a.u)return this.HDa(this.oe.la,a),this.log.trace("Overwrote the currently playing segment data",l(this.oe.la)),this.oe;for(var b=0;b<this.ux.length;++b){c=this.ux[b];if(c.la.u===a.u)return this.HDa(c.la,a),this.log.trace("Overwrote the currently playing segment data",l(c.la)),c;}a=this.Gm(a);this.ux.push(a);this.oe.observe();return a;};c.prototype.HDa=function(a,b){a.T=b.T||a.T;a.Um=b.Um||a.Um;a.bb=b.bb||a.bb;a.lX=b.lX||a.lX;};c.prototype.Gm=function(a){return new f(this.log,this.config,this.dx,this.uda,this.ge,this.nN,this,a,this.wf);};c.prototype.mP=function(a,b){this.Sdb.forEach(function(c){b&&b.removeEventListener(c.event,c.WV);a.addEventListener(c.event,c.WV);});this.Ob.Pb(k.gC.XN);};d.QWa=c;},function(g,d,a){var f,h,l,b,k,p,n,r,y,D,B,I,C;function c(a,b,c,d,f,g,h,k,m,l){this.sa=a;this.$f=b;this.dx=c;this.WCb=d;this.nN=f;this.ha=g;this.MJ=h;this.ge=k;this.z8=m;this.vc=l;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(25);l=a(7);b=a(249);k=a(59);p=a(449);n=a(448);r=a(935);y=a(934);D=a(87);B=a(33);I=a(453);a=a(22);c.prototype.C$a=function(a){return new r.QWa(this.sa,this.$f,this.dx,this.WCb,a,this.ge,this.nN,this.vc,this.z8);};c.prototype.f$a=function(a,b,c){c=void 0===c?this.ge:c;return new y.KLa(this.$f,a,b,this.dx,this.ha,this.MJ,c);};C=c;C=g.__decorate([f.N(),g.__param(0,f.l(h.xf)),g.__param(1,f.l(l.Db)),g.__param(2,f.l(b.G1)),g.__param(3,f.l(n.Zna)),g.__param(4,f.l(p.yma)),g.__param(5,f.l(B.Kg)),g.__param(6,f.l(D.uP)),g.__param(7,f.l(k.jl)),g.__param(8,f.l(I.RP)),g.__param(9,f.l(a.ef))],C);d.PWa=C;},function(g,d,a){var c,f,h,l,b,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(248);f=a(450);h=a(936);l=a(933);b=a(447);k=a(932);d.ab=new g.xc(function(a){a(c.t2).to(h.PWa).Z();a(f.jna).to(l.OWa).Z();a(b.Jna).to(k.FXa).Z();});},function(g,d){function a(a,d,g){this.ha=a;this.config=d;this.getTime=g;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.observe=function(a,d){var c;c=this;this.cancel();this.yh=this.ha.Mea(this.config.e$(),function(){c.getTime()>=a&&(c.cancel(),d());});};a.prototype.cancel=function(){this.yh&&(this.yh.cancel(),this.yh=void 0);};d.WSa=a;},function(g,d,a){var f,h,l;function c(a){this.ha=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(938);a=a(33);c.prototype.Y6=function(a,c){return new h.WSa(this.ha,a,c);};l=c;l=g.__decorate([f.N(),g.__param(0,f.l(a.Kg))],l);d.VSa=l;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(249);f=a(939);d.Fpb=new g.xc(function(a){a(c.G1).to(f.VSa).Z();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.reduce=function(a,c,d){for(;void 0!==a;a=a.cause)d=c(d,a);return d;};},function(g,d,a){var D,B,I,C;function c(a,b){this.Gc=a;this.Sc=b;this.rd=[];}function f(a){return y.call(this,a,function(a){return{Details:a};})||this;}function h(a){return y.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function l(a,b){b=y.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.Gc=a;return b;}function b(a,b){b=y.call(this,b,function(a){return a();})||this;b.Sc=a;return b;}function k(a,b){return n.call(this,a,b,function(a){var b;b=B.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;k.K7a(b,a,"stack","message");return a;},{});return Object.assign(Object.assign({},a),b);})||this;}function p(a){return y.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function n(a,b,c){b=y.call(this,b,c)||this;b.Sc=a;return b;}function r(a){return y.call(this,a,function(a){return{Details:a};})||this;}function y(a,b){this.Up=a;this.value=b?b(a):a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);D=a(1);B=a(941);I=a(22);a=a(39);y.prototype.fL=function(a){return this.Up===a;};da(r,y);r.prototype.tB=function(a,b){return b?"":"\r\n"+this.Up;};da(n,y);n.prototype.tB=function(){var a;a="";this.Sc.tw(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(ca){try{a+=", "+b+": "+JSON.stringify(c);}catch(R){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};da(p,y);p.prototype.tB=function(a){var b;b="\r\n"+this.Up.message;a||(b+="\r\n"+this.Up.stack);return b;};da(k,n);k.K7a=function(a,b,c){var g,h;for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];for(f=0;f<d.length;++f){g=a[d[f]];if(void 0!==g){h=""+d[f];b[h]=b[h]||[];b[h].push(g);}}};d.BGb=k;da(b,y);b.prototype.tB=function(){var a;a="";this.Sc.tw(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[\r\n]+ */g," ");};da(l,y);l.prototype.tB=function(a,b){return this.Up&&!b?"\r\n"+this.Gc.encode(this.Up):"";};da(h,y);h.prototype.tB=function(){return this.Up?this.Up.toJSON():"";};da(f,y);f.prototype.tB=function(){return", "+(this.Up.toString?""+this.Up.toString():"");};c.prototype.P3a=function(a){this.rd.push(new r(a));};c.prototype.C3a=function(a){this.rd.push(new n(this.Sc,a));};c.prototype.p3a=function(a){this.rd.push(new p(a));};c.prototype.n3a=function(a){this.rd.push(new k(this.Sc,a));};c.prototype.s3a=function(a){this.rd.push(new b(this.Sc,a));};c.prototype.Q3a=function(a){this.rd.push(new l(this.Gc,a));};c.prototype.A3a=function(a){this.rd.push(new h(a));};c.prototype.R3a=function(a){this.rd.push(new f(a));};c.prototype.Vj=function(){return this.rd;};C=c;C=g.__decorate([D.N(),g.__param(0,D.l(a.Hj)),g.__param(1,D.l(I.ef))],C);d.FRa=C;},function(g,d,a){var f,h,l,b;function c(a,b){this.Gc=a;this.Sc=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(942);l=a(39);a=a(22);c.prototype.vhb=function(){return new h.FRa(this.Gc,this.Sc);};b=c;b=g.__decorate([f.N(),g.__param(0,f.l(l.Hj)),g.__param(1,f.l(a.ef))],b);d.ERa=b;},function(g,d,a){var f,h;function c(a,b,c,d,f,g,h){this.level=a;this.zl=b;this.timestamp=c;this.message=d;this.rd=f;this.prefix=g;this.index=void 0===h?0:h;}Object.defineProperty(d,"__esModule",{value:!0});f=a(4);h={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.g_=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.Nzb(!!a));return(this.timestamp.ea(f.ja)/1E3).toFixed(3)+"|"+this.index+"|"+(h[this.level]||this.level)+"|"+this.zl+"| "+a;};c.prototype.Nzb=function(a){var f;for(var b=this.rd.length,c="",d=0;d<b;++d){f=this.rd[d].Up;d&&c.length&&(c+=" ");if("object"===typeof f)if(null===f)c+="null";else if(f instanceof Error)c+=this.Mzb(f,a);else try{c+=JSON.stringify(f);}catch(u){c+=this.Lzb(f);}else c+=f;}return c;};c.prototype.Mzb=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};c.prototype.Lzb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};d.TKa=c;},function(g,d,a){var f,h;function c(a,b,c,d,g,h){a=f.QH.call(this,a,b,c,d)||this;a.F$=g;Array.isArray(h)?a.prefix=h:h&&"string"===typeof h&&(a.prefix=[],a.prefix.push(h));return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(250);h=a(944);da(c,f.QH);c.prototype.Qv=function(a,b,c){a=new h.TKa(a,this.zl,this.sa.pc(),b,c,this.prefix);b=P(this.bl.bl);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};c.prototype.a7=function(a){return new c(this.sa,this.kt,this.bl,a,this.F$,this.prefix);};d.UKa=c;},function(g,d,a){var f,h,l;function c(a,c,d,g,h){a=l.QH.call(this,a,c,d,h)||this;a.j=g;f.Vm(a,"playback");return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(54);h=a(451);l=a(250);da(c,l.QH);c.prototype.a7=function(a){return new c(this.sa,this.kt,this.bl,this.j,a);};c.prototype.Qv=function(a,c,d){a=new h.Bka(a,this.zl,this.sa.pc(),c,d,this.j.index);c=P(this.bl.bl);for(d=c.next();!d.done;d=c.next())d=d.value,d(a,this.j);};d.lVa=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.EnumeratedErrorBase=function(a,c,d,g){this.type=a;this.name=a.name;this.number=c;"string"===typeof d?this.message=d:void 0!==d&&(this.cause=d);void 0!==g&&(this.message=g);};},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(947);d.GD=function(a,d){var b;a=a.vhb();for(var f=0;f<d.length;++f){b=d[f];void 0!=b&&null!=b&&(b.Bg&&(b=b.Bg),b.constructor===Uint8Array?a.Q3a(b):"MediaRequest"===b.constructor.name?a.A3a(b):"string"===typeof b?a.P3a(b):"function"===typeof b?a.s3a(b):b instanceof Error?a.p3a(b):b instanceof c.EnumeratedErrorBase?a.n3a(b):b instanceof Object?a.C3a(b):a.R3a(b));}return a.Vj();};},function(g,d,a){var f,h,l,b,k,p,n;function c(a,b,c){this.sa=a;this.bl=b;this.nba=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(250);h=a(1);l=a(946);b=a(25);k=a(98);p=a(7);n=a(945);c.prototype.wb=function(a,b,c,d,g){c=void 0===c?this.bl:c;return b?new l.lVa(this.sa,this.nba,c,b,a):g?new n.UKa(this.sa,this.nba,c,a,d||"",g):new f.QH(this.sa,this.nba,c,a);};a=c;a=g.__decorate([h.N(),g.__param(0,h.l(b.xf)),g.__param(1,h.l(k.XB)),g.__param(2,h.l(p.Cka))],a);d.MRa=a;},function(g,d,a){var f;function c(){this.Mfa={};this.bl=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c.prototype.VY=function(a,c){var b;b=this;c&&(this.Mfa[a]=c,this.bl=Object.keys(this.Mfa).map(function(a){return b.Mfa[a];}));};f=c;f=g.__decorate([a.N()],f);d.NRa=f;},function(g,d,a){var c,f,h,l,b;Object.defineProperty(d,"__esModule",{value:!0});c=a(950);f=a(949);g=a(1);h=a(98);l=a(7);b=a(943);d.Mnb=new g.xc(function(a){a(l.Db).to(f.MRa).Z();a(h.XB).to(c.NRa).Z();a(l.Cka).to(b.ERa).Z();});},function(g,d,a){var f,h;function c(a,b){this.ha=a;this.PT=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(33);c.prototype.Ab=function(a){this.Uf();this.yh=this.ha.dh(this.PT,a);};c.prototype.Uf=function(){this.yh&&this.yh.cancel();this.yh=void 0;};h=c;h=g.__decorate([f.N(),g.__param(0,f.l(a.Kg))],h);d.ZNa=h;},function(g,d,a){var f,h,l;function c(a,c,d){this.ha=a;this.KAb=c;this.WV=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(33);h=a(1);l=a(4);c.prototype.Ht=function(){this.yh||(this.yh=this.ha.dh(l.Eb(this.KAb),this.WV));};c.prototype.Bh=function(){this.yh&&this.yh.cancel();this.yh=void 0;};a=c;a=g.__decorate([h.N(),g.__param(0,h.l(f.Kg))],a);d.AXa=a;},function(g,d,a){var f,h,l;function c(a){this.vc=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);l=a(9);c.prototype.q4a=function(a){var b;b={enableVP9:!0};67<=this.hgb(l.wk)&&this.vc.Wm(a,b);};c.prototype.hgb=function(a){return(a=a.match(/Chrome\/(\d*)\./))&&Number(a[1])||0;};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(h.ef))],a);d.XXa=a;},function(g,d){function a(){this.searchParams={};}function c(c){this.zm=c;this.searchParams=new a();}Object.defineProperty(d,"__esModule",{value:!0});c.prototype.toString=function(){return this.href;};ra.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.zm+this.searchParams.toString();}}});d.WXa=c;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,c){this.searchParams[a]=c;};a.prototype.toString=function(){var a,c;a=this;c=Object.keys(this.searchParams);return 0<c.length?c.reduce(function(c,b,d){return""+c+(0==d?"?":"&")+b+"="+a.searchParams[b];},""):"";};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.l2="PrioritizedSetOfListsSymbol";d.JVa="PrioritizedSetOfListsFactorySymbol";d.KVa="PrioritizedSetOfSetsFactorySymbol";},function(g,d,a){var f,h,l,b;function c(a,b,c){var d;d=this;this.app=a;this.ha=b;this.PT=c;this.pu=function(a){d.yh=void 0;d.sBb(a||d.PT);};this.CAa=l.Eb(-this.PT.ea(l.ja));}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(25);l=a(4);a=a(33);c.prototype.Ab=function(a){this.Oea=a;this.yh=this.yh||this.Lb(this.pu);};c.prototype.Uf=function(){this.yh&&this.yh.cancel();this.yh=void 0;};c.prototype.sBb=function(a){var b,c;b=this.app.pc();if(this.Oea){c=a.kd(b.kd(this.CAa));0>=c.Cl(l.De)?(a=this.Oea,this.Oea=void 0,this.CAa=b,a()):this.yh=this.yh||this.ha.dh(c,this.pu.bind(this,a));}};c.prototype.Lb=function(a){return this.ha.dh(l.De,a);};b=c;b=g.__decorate([f.N(),g.__param(0,f.l(h.xf)),g.__param(1,f.l(a.Kg))],b);d.qXa=b;},function(g,d,a){var f,h,l,b,k,p,n,r,y;function c(a,b){this.sa=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(25);b=a(46);k=a(2);p=a(14);n=a(4);r=a(9);a=a(460);c.prototype.xbb=function(a){var c,d,g,h,m,l,q,t,r;c=this;m=a.ac.value;l=a.Rn.value;q=a.Ib.value;t=a.state.value;h={segmentId:a.c$(),mediaTime:m,segmentTime:a.Nz(),bufferingState:f.h6a[l],presentingState:f.Gtb[q],playbackState:f.Wsb[t],mseBuffersBusy:this.Gib(a),intBuffersBusy:this.khb(a),tabVisible:this.mAb(),decodedFrameCount:this.Nab(a),videoElementInDom:this.SCb(a),lastVideoSync:this.sa.pc().kd(n.Eb(a.AO)).ea(n.ja)};r=q===p.hb.Pf?a.Va.ci?this.config.xDa:this.config.wDa:this.config.lCa;l!==p.Mf.od?(d=k.G.XMa,this.xsa(h.mseBuffersBusy,h.intBuffersBusy)&&(g=f.Jha)):q!==p.hb.Ec&&(d=k.G.YMa,(a=a.Mi)&&a.zb.sourceBuffers.forEach(function(a){var b,d;b=f.IM[a.M];h[b+"Ranges"]=a.pV();a=a.buffered();if(0===a.length)h[b+"Undecoded"]=0,g=f.sLa;else{d=1E3*a.end(0)-m;h[b+"Undecoded"]=d;1<a.length&&(g=f.tLa);m<1E3*a.start(0)||m>1E3*a.end(0)?g=f.uLa:d<r.ea(n.ja)?g=f.vLa:c.xsa(h.mseBuffersBusy,h.intBuffersBusy)&&(g=f.Jha);}}));a="";try{a=JSON.stringify(h);}catch(N){a="Cannot stringify details: "+N;}return new b.wc(k.J.Kla,d,g,void 0,void 0,void 0,a,void 0);};c.prototype.Gib=function(a){var b;if(a.zb){b={};a.zb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};c.prototype.khb=function(a){var b;if(a.zb){b={};a.zb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.Yj()};});return b;}};c.prototype.mAb=function(){return!r.ke.hidden;};c.prototype.Nab=function(a){return(a=a.Mi)&&(a=a.zb.Ya)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};c.prototype.SCb=function(a){if(a=a.Mi)if(a=a.zb.Ya)return r.ke.body.contains(a);return!1;};c.prototype.xsa=function(a,b){var c,d,f,g;return!((null===(c=a.audio)||void 0===c?void 0:c.updating)===(null===(d=b.audio)||void 0===d?void 0:d.updating)&&(null===(f=a.video)||void 0===f?void 0:f.updating)===(null===(g=b.video)||void 0===g?void 0:g.updating));};y=f=c;y.sLa="1";y.tLa="2";y.uLa="3";y.Jha="4";y.vLa="5";y.IM=["Audio","Video"];y.h6a=["","NORMAL","BUFFERING","STALLED"];y.Gtb=["","WAITING","PLAYING ","PAUSED","ENDED"];y.Wsb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];y=f=g.__decorate([h.N(),g.__param(0,h.l(l.xf)),g.__param(1,h.l(a.ila))],y);d.cOa=y;},function(g,d,a){var f,h,l,b;function c(a,b){this.sa=a;this.entries=[];this.ma=b.wb("TimingApi");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(25);l=a(4);a=a(7);c.prototype.mark=function(a,b){a={name:a,ia:b,EAb:this.sa.pc()};this.entries.push(a);return a;};c.prototype.Bhb=function(){return this.entries.slice();};c.prototype.Rxa=function(){var a;a={};try{a=this.Bhb().filter(function(a){return!a.ia;}).reduce(function(a,b){a[b.name]=b.EAb.ea(l.ja);return a;},{});}catch(p){this.ma.error(" getMapOfCommonMarks exception",p);}return a;};b=c;b=g.__decorate([f.N(),g.__param(0,f.l(h.xf)),g.__param(1,f.l(a.Db))],b);d.CXa=b;},function(g,d,a){var f,h,l,b;function c(a){return h.yP.call(this,a,"ClockConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(34);h=a(36);l=a(1);a=a(28);da(c,h.yP);ra.Object.defineProperties(c.prototype,{zJa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=c;g.__decorate([f.config(f.Qd,"usePerformanceApi")],b.prototype,"zJa",null);b=g.__decorate([l.N(),g.__param(0,l.l(a.h0))],b);d.EMa=b;},function(g,d,a){var f,h,l,b;function c(a){a=h.yP.call(this,a,"DebugConfigImpl")||this;a.pOb=function(){debugger;};return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(34);h=a(36);l=a(1);a=a(28);da(c,h.yP);ra.Object.defineProperties(c.prototype,{b6a:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=c;g.__decorate([f.config(f.Qd,"breakOnError")],b.prototype,"b6a",null);b=g.__decorate([l.N(),g.__param(0,l.l(a.h0))],b);d.$Na=b;},function(g,d,a){var f,h,l,b;function c(a,b,c){this.config=a;this.Ea=b;this.ma=c.wb("General");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);l=a(89);a=a(7);c.prototype.assert=function(){};c.prototype.G4a=function(a,b){this.assert(this.Ea.vz(a),b);};c.prototype.H4a=function(a,b){this.assert(this.Ea.Sd(a),b);};c.prototype.M4a=function(a,b){this.assert(this.Ea.xm(a),b);};c.prototype.P4a=function(a,b){this.assert(this.Ea.ul(a),b);};c.prototype.N4a=function(a,b){this.assert(this.Ea.xm(a)||null===a||void 0===a,b);};c.prototype.K4a=function(a,b){this.assert(this.Ea.Pg(a),b);};c.prototype.J4a=function(a,b){this.assert(this.Ea.o5(a),b);};c.prototype.O4a=function(a,b){this.assert(this.Ea.Hq(a),b);};c.prototype.L4a=function(a,b){this.assert(this.Ea.BJ(a),b);};c.prototype.E4a=function(a,b){this.assert(this.Ea.AJ(a),b);};c.prototype.I4a=function(a,b){this.assert(this.Ea.SS(a),b);};c.prototype.glb=function(){this.assert(!1,"invalid operation, this method should not be called");};c.NPb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return"";}};a(d,c||b);return d.stack;}:function(){try{throw Error("capture stack");}catch(t){return t.stack;}};};b=c;b=g.__decorate([f.N(),g.__param(0,f.l(l.Dia)),g.__param(1,f.l(h.Qe)),g.__param(2,f.l(a.Db))],b);d.aOa=b;},function(g,d,a){var f,h,l,b;function c(a,b){this.is=a;this.Sc=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(23);a=a(22);c.prototype.encode=function(a){var b,c;b=this;c="";this.Sc.tw(a,function(a,d){a=b.Fva(a)+"="+b.Fva(d);c=c?c+(","+a):a;});return c;};c.prototype.Fva=function(a){return this.is.vz(a)?this.is.Pg(a)?""+a:this.is.xm(a)?(a=a.replace(f.vFa,this.Jba.bind(this)),!f.vub.test(a)&&f.Upb.test(a)&&(a='"'+a+'"'),a):this.is.AJ(a)?""+a:this.is.T4(a)?"NaN":"":"";};c.prototype.Jba=function(a){return f.map[a];};b=f=c;b.map={'"':'""',"\r":"","\n":" "};b.vFa=/(?!^.+)["\r\n](?=.+$)/g;b.vub=/["].*["]/g;b.Upb=/[", ]/;b=f=g.__decorate([h.N(),g.__param(0,h.l(l.Qe)),g.__param(1,h.l(a.ef))],b);d.QMa=b;},function(g,d,a){var f,h,l,b;function c(a,b){this.Ka=a;this.jV=this.Ka.lf.ea(l.ja)-1;this.Fnb=this.WW=0;this.id=""+b.qz();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(45);l=a(4);a=a(120);c.prototype.pc=function(){var a,b;a=this.Ka.lf.ea(l.ja)-this.jV;if(a<this.WW){b=this.WW+1;this.jV-=b-a;a=b;}this.WW=a;return l.Eb(this.WW);};c.prototype.whb=function(){return this.Fnb++;};ra.Object.defineProperties(c.prototype,{gA:{configurable:!0,enumerable:!0,get:function(){return l.Eb(this.jV);}}});b=c;b=g.__decorate([f.N(),g.__param(0,f.l(h.sk)),g.__param(1,f.l(a.WB))],b);d.JKa=b;},function(g){g.P="function"===typeof Object.create?function(d,a){d.bAb=a;d.prototype=Object.create(a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});}:function(d,a){function c(){}d.bAb=a;c.prototype=a.prototype;d.prototype=new c();d.prototype.constructor=d;};},function(g){g.P=function(d){return d&&"object"===typeof d&&"function"===typeof d.Vn&&"function"===typeof d.fill&&"function"===typeof d.ySb;};},function(g,d,a){var f;function c(a){this.Afb=a;this.ZV=!1;this.kW=this.Jf=this.NG=0;this.SL=!1;this.lW=0;}Object.defineProperty(d,"__esModule",{value:!0});f=a(464);c.prototype.D3a=function(a){a<this.NG&&(this.Jf+=this.NG);this.NG=a;this.ZV=!0;};c.prototype.lgb=function(){if(this.ZV)return this.SL?this.lW-this.kW:this.Jf+this.NG-this.kW;};c.prototype.refresh=function(){var a;a=this.Afb();f.ka(a)&&this.D3a(a);};c.prototype.dzb=function(){this.SL||(this.ZV&&(this.lW=this.Jf+this.NG),this.SL=!0);};c.prototype.tzb=function(){this.SL&&(this.ZV&&(this.kW+=this.Jf+this.NG-this.lW),this.lW=0,this.SL=!1);};d.zTa=c;},function(g,d,a){var f,h,l;function c(a){this.ha=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(33);l=a(63);c.prototype.$l=function(a,c){var b;b=this;return new Promise(function(d,f){var g;g=b.ha.dh(a,function(){f(new l.zn(a));});c.then(function(a){d(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(h.Kg))],a);d.NVa=a;},function(g,d,a){var f,h,l,b,k,p,n,r;function c(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);h=Array.prototype.slice;l=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");h=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");b={};k={};p={};n={};r=/\s+/g;[l,h].forEach(function(a){var d;for(var c=a.length;c--;){d=a[c];b[d]=c<<18;k[d]=c<<12;p[d]=c<<6;n[d]=c;}});c.prototype.encode=function(a){return f.k8(a,l,"=");};c.prototype.decode=function(a){return f.v7(a);};c.v7=function(a){var c,d,f;a=a.replace(r,"");c=a.length;d=a.charAt(c-1);"="!==d&&"."!==d||c--;d=a.charAt(c-1);"="!==d&&"."!==d||c--;d=3*(c>>2);f=0;switch(c%4){case 2:f=1;break;case 3:f=2;break;case 1:throw Error("bad base64");}for(var c=new Uint8Array(d+f),g=0,h=0,m;h<d;){m=b[a[g++]]+k[a[g++]]+p[a[g++]]+n[a[g++]];if(!(0<=m&&16777215>=m))throw Error("bad base64");c[h++]=m>>>16;c[h++]=m>>>8&255;c[h++]=m&255;}if(0<f&&(m=b[a[g++]]+k[a[g++]],c[h++]=m>>>16,1<f&&(m+=p[a[g++]],c[h++]=m>>>8&255),!(0<=m&&16776960>=m&&0===(m&(1<f?255:65535)))))throw Error("bad base64");return c;};c.k8=function(a,b,c){for(var d="",f=0,g=a.length,h=g-2,k;f<h;){k=(a[f++]<<16)+(a[f++]<<8)+a[f++];if(!(0<=k&&16777215>=k))throw Error("not bytes");d+=b[k>>>18]+b[k>>>12&63]+b[k>>>6&63]+b[k&63];}if(f==h){k=(a[f++]<<8)+a[f++];if(!(0<=k&&65535>=k))throw Error("not bytes");d+=b[k>>>10]+b[k>>>4&63]+b[k<<2&63]+c;}else if(f==g-1){k=a[f++];if(!(0<=k&&255>=k))throw Error("not bytes");d+=b[k>>>2]+b[k<<4&63]+c+c;}return d;};h=f=c;h=f=g.__decorate([a.N()],h);d.yLa=h;},function(g,d,a){var f,h;function c(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c.prototype.encode=function(a){return f.k8(a);};c.prototype.decode=function(a){return f.v7(a);};c.k8=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,d=a.length,f="";b<d;){c=a[b++];if(!(0<=c&&255>=c))throw Error("bad utf8");if(c&128)if(192===(c&224))c=((c&31)<<6)+(a[b++]&63);else if(224===(c&240))c=((c&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");f+=String.fromCharCode(c);}return f;};c.v7=function(a){var b,c,d,f,g;b=a.length;c=0;f=0;if(!(0<=b))throw Error("bad string");for(d=b;d--;)g=a.charCodeAt(d),128>g?c++:c=2048>g?c+2:c+3;c=new Uint8Array(c);for(d=0;d<b;d++)g=a.charCodeAt(d),128>g?c[f++]=g:(2048>g?c[f++]=192|g>>>6:(c[f++]=224|g>>>12,c[f++]=128|g>>>6&63),c[f++]=128|g&63);return c;};h=f=c;h=f=g.__decorate([a.N()],h);d.YXa=h;},function(g,d,a){var f,h,l,b,k,p,n;function c(a,b,c,d){var g;g=this;this.config=a;this.bab=b;this.Ob=c;this.performance=d;this.orb=function(a){g.JGa=a.kd(g.lf);};f.Vm(this,"date");f.Vm(this,"performance");this.j4a=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.JGa=h.De;this.Ob.addListener(n.lka.LGa,this.orb);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(54);h=a(4);l=a(1);b=a(37);k=a(468);p=a(65);n=a(14);ra.Object.defineProperties(c.prototype,{lf:{configurable:!0,enumerable:!0,get:function(){return this.pCa?h.timestamp(this.performance.timing.navigationStart+this.performance.now()):h.Eb(this.bab.now());}},mfa:{configurable:!0,enumerable:!0,get:function(){return this.lf.add(this.JGa);}},pCa:{configurable:!0,enumerable:!0,get:function(){return this.config.zJa&&this.j4a;}}});a=c;a=g.__decorate([l.N(),g.__param(0,l.l(k.fia)),g.__param(1,l.l(b.Bia)),g.__param(2,l.l(p.G0)),g.__param(3,l.l(b.g2)),g.__param(3,l.optional())],a);d.FMa=a;},function(g,d,a){var f,h;function c(a){this.lAb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(139);c.prototype.random=function(){return this.lAb.random();};c.prototype.WEa=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};h=c;h=g.__decorate([f.N(),g.__param(0,f.l(a.una))],h);d.YVa=h;},function(g,d,a){var f,h,l,b,k;function c(a,b){this.Ka=a;this.random=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(4);b=a(45);a=a(139);c.prototype.qz=function(){return this.Ka.lf.ea(l.xn)*f.Yha+Math.floor(this.random.random()*f.Yha);};k=f=c;k.Yha=1E4;k=f=g.__decorate([h.N(),g.__param(0,h.l(b.sk)),g.__param(1,h.l(a.EQ))],k);d.YQa=k;},function(g,d,a){var h,l,b,k;function c(a){this.SG=a;l.Vm(this,"timers");}function f(a,b){this.SG=a;this.P6a=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(54);b=a(37);k=a(4);f.prototype.cancel=function(){this.P6a(this.SG);};c.prototype.Ab=function(a){return this.dh(k.De,a);};c.prototype.dh=function(a,b){var c;c=this.SG.setTimeout(b,a.ea(k.ja));return new f(this.SG,function(a){a.clearTimeout(c);});};c.prototype.Mea=function(a,b){var c;c=this.SG.setInterval(b,a.ea(k.ja));return new f(this.SG,function(a){a.clearInterval(c);});};a=c;a=g.__decorate([h.N(),g.__param(0,h.l(b.boa))],a);d.JWa=a;},function(g,d,a){var c,f,h,l,b,k,p,n,r,y,D,B,I,C,K,z,G,ca,R,S,N,U,P,fa,V,ma,A,X,Z,O,da,ea,wa,Fa,Ga,ka,ga,ha,ja,la,na,pa,ra,qa,ta,ba,ua,va,ya,Da,Ha,Ja,La,Ma,Oa,Pa,Qa,Ra,Ta,Va,Xa;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(37);f=a(45);h=a(33);l=a(120);b=a(139);k=a(974);p=a(973);n=a(972);r=a(971);y=a(101);D=a(102);B=a(39);I=a(22);C=a(23);K=a(65);z=a(63);G=a(467);ca=a(970);R=a(252);S=a(969);N=a(466);U=a(968);P=a(149);fa=a(465);V=a(967);ma=a(463);A=a(100);X=a(964);Z=a(25);O=a(462);da=a(963);ea=a(962);wa=a(89);Fa=a(961);Ga=a(7);ka=a(468);ga=a(960);ha=a(119);ja=a(959);la=a(461);na=a(958);pa=a(957);ra=a(99);qa=a(9);ta=a(956);ba=a(459);ua=a(458);va=a(955);ya=a(457);Da=a(17);Ha=a(79);Ja=a(59);La=a(456);Ma=a(455);Oa=a(954);Pa=a(454);Qa=a(453);Ra=a(138);Ta=a(953);Va=a(452);Xa=a(952);d.ND=new g.xc(function(a){a(c.cy).ni(JSON);a(c.boa).ni(M);a(b.una).ni(Math);a(c.yka).ni(qa.O1);a(c.g2).ni(qa.gs);a(c.Bia).ni(Date);a(c.kv).ni(qa.gl);a(c.PSa).ni(qa.$H);a(ka.fia).to(ga.EMa).Z();a(Z.xf).to(X.JKa).Z();a(f.sk).to(r.FMa).Z();a(h.Kg).to(k.JWa).Z();a(l.WB).to(p.YQa).Z();a(z.py).to(U.NVa).Z();a(b.EQ).to(n.YVa).Z();a(wa.Zr).to(ea.aOa).Z();a(wa.Dia).to(Fa.$Na).Z();a(y.xy).to(ca.YXa).Z();a(D.Sx).to(R.V_).Z();a(B.Hj).to(S.yLa).Z();a(I.ef).to(N.Qna).Z();a(C.Qe).ni(P.bv);a(Pa.RP).to(Qa.hPa).Z();a(K.D0).to(fa.tk).iaa();a(K.sH).to(fa.tk).Z();a(K.Kia).to(fa.tk).Z();a(K.G0).to(fa.tk).Z();a(ma.rna).to(A.uy).Z();a(O.oia).to(da.QMa).Z();a(ha.wy).to(ja.CXa).Z();a("Factory<LoggerFactory>").NAb(Ga.Db);a(la.Gia).to(na.cOa).Z();a(ra.lC).If(function(a){return function(b){return new pa.qXa(a.ub.get(Z.xf),a.ub.get(h.Kg),b);};});a(Va.Cia).If(function(a){return function(b){return new Xa.ZNa(a.ub.get(h.Kg),b);};});a(ta.l2).PAb(ba.Ima);a(ta.JVa).If(function(a){var b;b=a.ub.get(ta.l2);return function(){return new b(!1);};});a(ta.KVa).If(function(a){var b;b=a.ub.get(ta.l2);return function(){return new b(!0);};});a(ua.Ona).If(function(){return function(a){return new va.WXa(a);};});a(Ja.jl).If(function(a){return function(b,c,d){var f,g,h;f=a.ub.get(wa.Zr);g=a.ub.get(Da.xd);h=a.ub.get(Ha.ms);return new ya.sVa(f,g,h,La.Zka,b,c,d);};});a(G.xla).If(function(){return function(a){return new V.zTa(a);};});a(Ma.Pna).to(Oa.XXa).Z();a(Ra.mC).If(function(a){return function(b,c){return new Ta.AXa(a.ub.get(h.Kg),b,c);};});});},function(g,d,a){var c,f,h,l,b,k,p,n,r,y,D,B,I,C,K,z,G,M,R,S,N,U,P,fa,V,ma,A,X,Z,O,da,ea;Object.defineProperty(d,"__esModule",{value:!0});c=a(975);f=a(951);h=a(940);l=a(937);b=a(931);k=a(928);p=a(924);n=a(912);r=a(901);y=a(897);D=a(895);B=a(696);I=a(694);C=a(690);K=a(678);z=a(671);G=a(664);M=a(661);R=a(655);S=a(265);N=a(647);U=a(645);P=a(638);fa=a(634);V=a(626);ma=a(624);A=a(617);X=a(595);Z=a(576);O=a(572);da=a(568);ea=a(556);d.fnb=function(a){a.load(c.ND,k.qB,f.Mnb,p.oU,h.Fpb,l.ab,b.VCb,n.storage,r.dz,y.w6a,D.Ynb,B.rA,I.Yh,C.Jnb,K.aqb,z.rfb,G.eub,M.UF,R.rcb,S.eme,N.crypto,U.Sc,P.Cc,fa.Jq,V.Jpb,ma.isb,A.j,X.M7a,Z.hBb,O.bk,da.mg,ea.S4a);};},function(g,d,a){var h,l;function c(a,c,d,f,g){this.sa=a;this.config=c;this.ha=d;this.pu=f;this.name=g;}function f(a,c,d,f){var b;b=this;this.sa=a;this.ha=c;this.timeout=d;this.JAb=f;this.Mjb=function(){b.kK=!0;b.cA.cancel();b.JAb();};this.startTime=this.sa.pc();this.cA=this.ha.dh(this.timeout,function(){b.Mjb();});this.kK=!1;}Object.defineProperty(d,"__esModule",{value:!0});h=a(2);l=a(90);f.prototype.stop=function(){this.kK||(this.TZ=this.sa.pc(),this.cA.cancel());};ra.Object.defineProperties(f.prototype,{BU:{configurable:!0,enumerable:!0,get:function(){if(this.TZ&&this.startTime)return this.TZ.kd(this.startTime);}}});c.prototype.V6a=function(){var a;a=this;this.KD=new f(this.sa,this.ha,this.config.haa,function(){a.pu(new l.Nf(h.J.Xma,h.G.MOa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.haa+"ms"));});};c.prototype.U6a=function(){this.KD&&this.KD.stop();};c.prototype.Axb=function(){this.dO=this.sa.pc();};c.prototype.W6a=function(){var a;a=this;this.t_=new f(this.sa,this.ha,this.config.Sea,function(){a.pu(new l.Nf(h.J.Xma,h.G.LOa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.Sea+"ms"));});};c.prototype.Qsa=function(){this.t_&&this.t_.stop();};ra.Object.defineProperties(c.prototype,{Jc:{configurable:!0,enumerable:!0,get:function(){var a,c;a={};if(this.KD){c=this.KD.BU;c&&(a.aCa=c);this.dO&&this.KD.TZ&&(a.dO=this.dO.kd(this.KD.TZ));}this.t_&&(c=this.t_.BU)&&(a.yta=c);return a;}}});d.VOa=c;},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.mva=function(a,d){for(var c=a.next(),f;c&&!c.done&&c.value;)f=c.value[0],c=c.value[1],d&&d(f,c),c=a.next();};d.YOa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.TOa="EmeApiSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.$r||(d.$r={});g[g.tJa=0]="usable";g[g.$db=1]="expired";g[g.tvb=2]="released";g[g.BDa=3]="outputRestricted";g[g.Crb=4]="outputDownscaled";g[g.pzb=5]="statusPending";g[g.dlb=6]="internalError";},function(g,d,a){var f,h,l,b,k,p,n,r,y,D,B,I,C,K,z,G,M,R,S,N,U,P;function c(a,c,d,f,g,k,m,p,n){var q;q=this;this.sa=c;this.et=d;this.config=f;this.Tf=g;this.Vi=k;this.rp=m;this.ha=p;this.lk=n;this.onMessage=function(a){var c,d,f,g;c=q.Vi.Q6(a);d=c.tj;f=c.xX;g=c.sessionId;q.iF=q.iF||c.iF;q.xZ(g);q.Lw=q.Vi.Lw(c);q.log.trace("Received "+a.type+" event",{sessionId:g,messageType:f,keyIds:q.iF,isIntermediateChallenge:q.Lw});"license-renewal"===f&&(q.log.trace("Received a renewal request"),q.ei=D.Jj.wn,q.rf=U.QA);q.rf!==U.sj||q.Lw||(q.fba={rp:q.rp,data:d},q.ym(B.lq.kFa));q.rf===U.QA&&q.ym(B.lq.lFa);if(q.mM){if(q.I$(d)){q.gr(new N.wc(b.J.IOa));return;}q.mM.next({Wh:d,Vsa:f,ei:q.ei});q.ei!==D.Jj.wn||q.Lw||(q.mM.complete(),q.mM=void 0);}q.rf===U.stop&&(q.Bh.U6a(),q.config.li&&q.TN&&(q.TN.next({Wh:d}),q.TN.complete(),q.TN=void 0));};this.oDa=function(a){var c,d;c=q.Vi.P6(a).Qaa;q.xZ(a.target.sessionId);q.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem});try{M.YOa.mva(c,function(a,b){q.log.trace("key status: "+b);b=P[b];q.zAa.next({Rw:new Uint8Array(a),value:b.status});q.Yz(b.error)&&(d=new G.Nf(b.error),q.Kaa(d));});}catch($a){d=new G.Nf(b.J.dUa);d.QK($a);}d?q.Laa(d):(q.Vi.KT()||q.tAa(),q.ei!==D.Jj.cv||q.Vi.E5()||(q.log.info("Kicking off license renewal",{timeout:q.config.Tw}),setTimeout(function(){q.JN();},q.config.Tw.ea(l.ja))));};this.LF=function(a){var b;b=q.Vi.np(a);q.log.error("Received event: "+a.type,b);q.gr(b);q.Laa(b);q.Ji||q.Nl||q.Kaa(b);};this.gr=function(a){q.Ji&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.Vi.np(b));q.Ji&&(q.Ji.error(a),q.Ji=void 0);},function(){q.log.trace("Issuing a generate challenge error");q.Ji&&(q.Ji.error(a),q.Ji=void 0);});};this.sAa=function(){q.Ji&&(q.Ji.complete(),q.Ji=void 0);};this.Laa=function(a){q.Nl&&(q.log.error("Failed to add license",a),q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.Vi.np(b));q.rf===U.QA&&q.ym(B.lq.kra);q.Ji=void 0;q.Nl&&(q.Nl.error(a),q.Nl=void 0);},function(){q.log.trace("Issuing a license error");q.Ji=void 0;q.Nl&&(q.Nl.error(a),q.Nl=void 0);}));};this.tAa=function(){q.Nl&&(q.log.info("Successfully added license"),q.rf===U.sj?q.ym(B.lq.hra):q.rf===U.QA&&q.ym(B.lq.jra),q.Nl.complete(),q.Nl=void 0);};this.Kaa=function(a){q.sp&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.Vi.np(b));q.Ji=void 0;q.Nl=void 0;q.sp&&(q.sp.next(a),q.sp.complete(),q.sp=void 0);},function(){q.log.trace("Issuing a CDM error");q.Ji=void 0;q.Nl=void 0;q.sp&&(q.sp.next(a),q.sp.complete(),q.sp=void 0);});};this.ym=function(a){q.Jc.push({time:q.sa.pc(),ipb:a});};this.log=a.wb("EmeSession");this.mM=new h.Nj();this.config.li&&(this.TN=new h.Nj());this.zAa=new h.FQ();this.sp=new h.Nj();this.rf=U.BBb;this.Jc=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(142);l=a(4);b=a(2);k=a(25);p=a(7);n=a(39);r=a(33);y=a(53);D=a(88);B=a(469);I=a(980);C=a(145);K=a(254);z=a(979);G=a(90);M=a(978);R=a(977);S=a(63);N=a(46);(function(a){a[a.BBb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.sj=3]="license";a[a.QA=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(U||(U={})));P={usable:{status:I.$r.tJa},expired:{status:I.$r.$db,error:b.J.Lla},released:{status:I.$r.tvb},"output-not-allowed":{status:I.$r.BDa,error:b.J.Mla},"output-restricted":{status:I.$r.BDa,error:b.J.V1},"output-downscaled":{status:I.$r.Crb},"status-pending":{status:I.$r.pzb},"internal-error":{status:I.$r.dlb,error:b.J.cUa}};c.prototype.JE=function(){return this.context.Xd;};c.prototype.Mz=function(){return this.sessionId;};c.prototype.close=function(){var a;a=this;this.rf=U.closed;this.Jc=[];return this.Tf.Qlb()?(this.log.trace("Closing the session"),this.Tf.Avb(this.onMessage),this.Tf.xvb(this.oDa),this.Tf.vvb(this.LF),this.Sk=void 0,h.Aa.create(function(c){a.lk.$l(a.config.Era,a.Tf.close()).then(function(){a.log.info("Closed the session");c.complete();})["catch"](function(d){a.log.error("Close failed",d);d=a.Vi.np(d);d.code=b.J.fUa;c.error(d);});})):h.Aa.empty();};c.prototype.nmb=function(){return this.zAa.v5();};c.prototype.xE=function(){return this.sp?this.sp.v5():void 0;};c.prototype.wp=function(){return this.rp;};c.prototype.dr=function(){return void 0!==this.Ol;};c.prototype.Gm=function(a,c,d,f){var g;g=this;this.ei=f;this.rf=U.create;this.context=a;this.ym(B.lq.MAa);return h.Aa.create(function(a){(d.Uya()?Promise.resolve():g.lk.$l(g.config.Fra,g.Tf.E$a(c)).then(function(a){g.log.trace("Created media keys");d.dB(a);return g.p4a(a);})).then(function(){g.Sk=d.Sk;try{g.Tf.Gm(g.Sk,g.Vi.n$(f));g.Tf.B3a(g.onMessage);g.Tf.u3a(g.oDa);g.Tf.o3a(g.LF);g.xZ(g.Tf.Mz());a.next(g);a.complete();}catch(O){a.error(new G.Nf(b.J.EOa,b.G.ih,void 0,"Unable to create a persisted key session",O));}})["catch"](function(c){c.code&&c.Rc?a.error(c):a.error(new G.Nf(b.J.w0,c instanceof S.zn?b.G.vH:b.G.ih,void 0,"Unable to create MediaKeys. "+c.message,c));});});};c.prototype.$xb=function(a){this.wh=a;this.log.dra("xid",a.ia);};c.prototype.onb=function(a){var b;b=this;this.rf=U.load;return h.Aa.Yq(this.Tf.load(a).then(function(){return b;}));};c.prototype.hV=function(a){var c;c=this;this.rf=U.sj;this.log.trace("Generating a license challenge");this.Ji=new h.Nj();if(!a)return this.IT(new G.Nf(b.J.Zia,b.G.y0));if(this.I$(a))return this.IT(new G.Nf(b.J.Zia,b.G.x0));this.lk.$l(this.config.Gra,this.Tf.r9("cenc",a)).then(function(){c.xZ(c.Tf.Mz());})["catch"](function(a){var d;d=new G.Nf(b.J.Yia,a instanceof S.zn?b.G.vH:b.G.ih);d.message="Unable to generate request.";d.QK(a);c.log.error("Unable to generate a license request",d);c.gr(d);});this.log.trace("Returning the challenge subject");return this.Ji;};c.prototype.w3a=function(a){var c;c=this;this.kc=a.kc;a=a.Ol.map(function(a){return a.data;});this.I$(a)?(this.log.error("The license buffer is empty"),this.gr(new G.Nf(b.J.$ia,b.G.x0))):this.Lw?this.lk.$l(this.config.q5,this.Tf.update(a,this.iF)).then(function(){c.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=c.Vi.np(a);a.code=b.J.QP;a.message="Unable to update the CDM intermediate challenge";c.log.error("Unable to update the CDM intermediate challenge",a);c.gr(a);}):(this.rf===U.sj&&(this.ym(B.lq.jFa),this.Ol=a,this.sAa()),this.rf===U.QA&&(this.ym(B.lq.mFa),this.Ol=a,this.t5()));};c.prototype.y3a=function(a){this.rf===U.QA?(this.ym(B.lq.nFa),this.Kaa(a)):this.gr(a);};c.prototype.t5=function(){var a,c;a=this;if(!this.Ol)return this.IT(new G.Nf(b.J.$ia,b.G.y0));this.Nl=new h.Nj();c=this.Ol;this.Ol=void 0;this.lk.$l(this.config.q5,this.Tf.update(c,this.iF)).then(function(){a.Vi.KT()&&a.tAa();})["catch"](function(c){c=a.Vi.np(c);c.code=b.J.Pla;c.message="Unable to update the EME";a.log.error(c.message,c);a.Laa(c);});return this.Nl;};c.prototype.nM=function(){return this.mM;};c.prototype.Swa=function(){var a;a=this;if(this.rf===U.sj&&this.ei===D.Jj.cv)return h.Aa.empty();this.rf=U.stop;this.log.trace("Generating a secure stop challenge");this.Ji=new h.Nj();this.Bh=new R.VOa(this.sa,this.config,this.ha,function(){a.log.error("got a timeout error");},"non-persisted");this.Bh.V6a();this.Tf.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(c){var d;d=a.Vi.np(c);d.code=b.J.bja;d.Rc=b.G.ih;d.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{error:c});a.gr(d);});return this.Ji;};c.prototype.lra=function(a){a&&a.constructor!==Uint8Array?this.gr(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.gr(new G.Nf(b.J.aja,b.G.x0))):(this.log.trace("Secure stop is ready to apply"),this.vGa=a,this.Bh.Axb(),this.sAa()):(this.log.error("The secure stop buffer is undefined"),this.gr(new G.Nf(b.J.aja,b.G.y0)));};c.prototype.r4a=function(){var a;a=this;if(!this.vGa)return h.Aa.from([this]);this.log.trace("Setting the secure stop data");return h.Aa.create(function(c){a.Bh.W6a();a.Tf.update([a.vGa]).then(function(){a.Bh.Qsa();a.log.info("Successfully released the license and securely removed the key session");c.next(a);c.complete();})["catch"](function(d){var f;a.Bh.Qsa();f=a.Vi.np(d);f.code=b.J.QP;f.Rc=b.G.ih;f.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:d});c.error(f);});});};c.prototype.p4a=function(a){var b,c;b=this;c=this.Vi.z9();return c?(c=this.et.decode(c),this.lk.$l(this.config.Hra,this.Tf.eyb(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};c.prototype.xZ=function(a){a&&a!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+a),this.sessionId=a,this.log.dra("sessionId",a));};c.prototype.Yz=function(a){return a===b.J.V1?this.config.kY:!!a;};c.prototype.JN=function(){var a;a=this;this.log.trace("Initiating a renewal request");this.ei=D.Jj.wn;this.rf=U.QA;this.Vi.vaa(this.Tf)["catch"](function(){return a.IT(new N.wc(b.J.PP));});};c.prototype.IT=function(a){var b;b=this;return h.Aa.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};c.prototype.I$=function(a){return 0===a.length||a.reduce(function(a,b){return a||0===b.length;},!1);};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(p.Db)),g.__param(1,f.l(k.xf)),g.__param(2,f.l(n.Hj)),g.__param(3,f.l(y.hm)),g.__param(4,f.l(z.TOa)),g.__param(5,f.l(K.xOa)),g.__param(6,f.l(C.zOa)),g.__param(7,f.l(r.Kg)),g.__param(8,f.l(S.py))],a);d.XOa=a;},function(g,d,a){var f,h,l,b,k,p,n,r,y;function c(a,b,c,d,f,g,h){this.ir=a;this.sa=b;this.Gc=c;this.config=d;this.ha=f;this.lk=g;this.Rk=h;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);l=a(25);b=a(39);k=a(53);p=a(33);n=a(63);r=a(981);a=a(105);c.prototype.create=function(){var a;a=this;return Promise.all([this.Rk.Kgb(),this.Rk.Jgb(),this.Rk.wp()]).then(function(b){var c,d;c=P(b);b=c.next().value;d=c.next().value;c=c.next().value;return new r.XOa(a.ir,a.sa,a.Gc,a.config,b,d,c,a.ha,a.lk);});};y=c;y=g.__decorate([f.N(),g.__param(0,f.l(h.Db)),g.__param(1,f.l(l.xf)),g.__param(2,f.l(b.Hj)),g.__param(3,f.l(k.hm)),g.__param(4,f.l(p.Kg)),g.__param(5,f.l(n.py)),g.__param(6,f.l(a.ev))],y);d.WOa=y;},function(g,d,a){var f,h,l,b,k,p,n,r,y,D;function c(a,b,c,d,f){this.Sc=a;this.Vh=b;this.Gc=c;this.Hh=d;this.ze=f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(22);b=a(102);k=a(101);p=a(90);n=a(63);r=a(53);y=a(39);D=a(470);c.prototype.KT=function(){return!1;};c.prototype.E5=function(){return!1;};c.prototype.n$=function(){return this.ze.li?"persistent-usage-record":"temporary";};c.prototype.z9=function(){return D.nja;};c.prototype.i$=function(){return[{initDataTypes:["cenc"],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary","persistent-usage-record"]}];};c.prototype.Lw=function(a){return this.Sc.gw(a.tj[0],this.Hh.decode("certificate"));};c.prototype.vaa=function(a){return a.JN();};c.prototype.Q6=function(a){var b,c,d;b=this;if("license-request"===a.messageType){c=this.Hh.encode(new Uint8Array(a.message));d=JSON.parse(c);c=d.map(function(a){return b.Gc.decode(a.payload);});d=d.map(function(a){return a.keyID;});return{type:a.type,sessionId:a.target.sessionId,iF:d,tj:c,xX:"license-request"};}return{type:a.type,sessionId:a.target.sessionId,tj:[new Uint8Array(a.message)],xX:a.messageType};};c.prototype.P6=function(a){return{type:a.type,sessionId:a.target.sessionId,Qaa:a.target.keyStatuses.entries()};};c.prototype.np=function(a){var b,c,d,f;c=null===(b=a.target)||void 0===b?void 0:b.error;c&&(d=c.systemCode,f=c.code);b=new p.Nf(h.J.xQ,a instanceof n.zn?h.G.vH:h.G.OB,d?this.Vh.qL(d,4):f,"",c);b.QK(a);return b;};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(l.ef)),g.__param(1,f.l(b.Sx)),g.__param(2,f.l(y.Hj)),g.__param(3,f.l(k.xy)),g.__param(4,f.l(r.hm))],a);d.FWa=a;},function(g,d){function a(a,d,g){var c;c=this;this.Gc=a;this.vc=d;this.Hh=g;this.rhb=function(a){var b;a=a.subarray(14,30);a=c.Gc.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.sPa={ULa:1667591779,pFb:1667392371};}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.k8a=function(a,d){var c;c=this.sPa.ULa;d=d?1:0;a=a.map(function(a){return{IQb:"",pmb:a,iT:a,$yb:a,PCb:[1]};});return this.Unb(c,d,a);};a.prototype.Tnb=function(a,d){var c;c=new Uint8Array(4);new DataView(c.buffer).setUint32(0,a);return this.Cba("fpsi",d,[c]);};a.prototype.Snb=function(a,d,g,h){a=[this.Cba("fkri",0,[a])];d.byteLength&&a.push(this.wM("fkai",[d]));g.byteLength&&a.push(this.wM("fkcx",[g]));h.length&&a.push(this.wM("fkvl",[new Uint8Array(new Uint32Array(h).buffer)]));return this.wM("fpsk",a);};a.prototype.Unb=function(a,d,g){var c;c=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);a=[this.Tnb(a,d)];for(var b in g)d=g[b],a.push(this.Snb(d.pmb,d.iT,d.$yb,d.PCb));g=this.wM("fpsd",a);b=new Uint8Array(4);new DataView(b.buffer).setUint32(0,g.byteLength);return this.Cba("pssh",0,[c,b,g]);};a.prototype.Cba=function(a,d,g){var c,b,f;c=0;for(b in g)c+=g[b].byteLength;c=new Uint8Array(12+c);f=new DataView(c.buffer);b=0;f.setUint32(b,c.byteLength);b+=4;c.set(this.Hh.decode(a),b);b+=4;f.setUint32(b,0|4095&d);b+=4;for(var h in g)a=g[h],c.set(a,b),b+=a.byteLength;return c;};a.prototype.wM=function(a,d){var c,f;c=0;for(f in d)c+=d[f].byteLength;c=new Uint8Array(8+c);f=0;new DataView(c.buffer).setUint32(f,c.byteLength);f+=4;c.set(this.Hh.decode(a),f);f+=4;for(var b in d)a=d[b],c.set(a,f),f+=a.byteLength;return c;};d.qPa=a;},function(g,d,a){var f,h,l,b,k,p,n,r,y;function c(a,b,c,d,f,g){a=h.ps.call(this,a,b,c,d,f,g)||this;a.Gc=c;a.vc=d;a.ze=f;a.Hh=g;a.hza=new l.qPa(a.Gc,a.vc,a.Hh);return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(253);l=a(984);b=a(37);k=a(23);p=a(39);n=a(22);r=a(53);a=a(101);da(c,h.ps);c.prototype.r9=function(a,b){var c,d,f;c=this;try{d=b.map(function(a){return c.hza.rhb(a);});this.yAa=d.map(function(a){return c.Gc.encode(a);});f=this.hza.k8a(d,this.ze.li);return h.ps.prototype.r9.call(this,a,[f]);}catch(Q){return Promise.reject(Q);}};c.prototype.update=function(a,b){var c,d,f,g;c=this;if(b)try{d=a.map(function(d,f){return{keyID:1===a.length?c.yAa[c.yAa.length-1]:b[f],payload:c.Gc.encode(d)};});f=JSON.stringify(d);g=this.Hh.decode(f);return h.ps.prototype.update.call(this,[g]);}catch(T){return Promise.reject(T);}return h.ps.prototype.update.call(this,a);};c.prototype.JN=function(){return h.ps.prototype.update.call(this,[this.Hh.decode("renew")]);};y=c;y=g.__decorate([f.N(),g.__param(0,f.l(b.kv)),g.__param(1,f.l(k.Qe)),g.__param(2,f.l(p.Hj)),g.__param(3,f.l(n.ef)),g.__param(4,f.l(r.hm)),g.__param(5,f.l(a.xy))],y);d.rPa=y;},function(g,d,a){var f,h,l,b,k,p,n,r,y,D;function c(a,b,c,d){this.Sc=a;this.Vh=b;this.ze=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(22);b=a(102);k=a(254);p=a(90);n=a(63);r=a(53);y=a(17);D=a(46);c.prototype.KT=function(){return!0;};c.prototype.E5=function(){return!0;};c.prototype.n$=function(){return"temporary";};c.prototype.z9=function(){return this.ze.cO?this.ze.cO:"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};c.prototype.i$=function(){var a,b;a=[{contentType:k.rn,robustness:"HW_SECURE_DECODE"},{contentType:k.rn,robustness:"SW_SECURE_DECODE"},{contentType:k.rn,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:k.rn,robustness:"SW_SECURE_CRYPTO"}];return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:k.hy,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().Bwa?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};c.prototype.Lw=function(a){return this.Sc.gw(a.tj[0],new Uint8Array([8,4]));};c.prototype.vaa=function(){return Promise.reject(new D.wc(h.J.PP));};c.prototype.Q6=function(a){return{type:a.type,sessionId:a.target.sessionId,tj:[new Uint8Array(a.message)],xX:a.messageType};};c.prototype.P6=function(a){return{type:a.type,sessionId:a.target.sessionId,Qaa:a.target.keyStatuses.entries()};};c.prototype.np=function(a){var b,c,d;b=new p.Nf(h.J.xQ);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.Rc=1<=c&&9>=c?h.G.OB+c:h.G.OB):b.Rc=a instanceof n.zn?h.G.vH:h.G.ih;try{d=a.message.match(/\((\d*)\)/)[1];b.Vg=this.Vh.qL(d,4);}catch(Q){}b.QK(a);return b;};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(l.ef)),g.__param(1,f.l(b.Sx)),g.__param(2,f.l(r.hm)),g.__param(3,f.l(y.xd))],a);d.zMa=a;},function(g,d,a){var f,h;function c(a){return h.ps.apply(this,arguments)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(253);da(c,h.ps);a=c;a=g.__decorate([f.N()],a);d.GVa=a;},function(g,d,a){var f,h,l,b,k,p,n,r,y,D;function c(a,b,c){this.Vh=a;this.Gc=b;this.ze=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(102);b=a(39);k=a(254);p=a(90);n=a(88);r=a(53);y=a(63);D=a(46);c.prototype.KT=function(){return!0;};c.prototype.E5=function(){return!1;};c.prototype.n$=function(a){return this.ze.li&&a===n.Jj.wn?"persistent-usage-record":"temporary";};c.prototype.z9=function(){if(this.ze.cO)return this.ze.cO;};c.prototype.i$=function(){return[{initDataTypes:["cenc"],audioCapabilities:[{contentType:k.hy}],videoCapabilities:[{contentType:k.rn}],sessionTypes:["temporary","persistent-usage-record"]}];};c.prototype.Lw=function(){return!1;};c.prototype.vaa=function(){return Promise.reject(new D.wc(h.J.PP));};c.prototype.Q6=function(a){var b;b=new Uint8Array(a.message);b=this.F8(b,"PlayReadyKeyMessage","Challenge");b=this.Gc.decode(b);return{type:a.type,sessionId:a.target.sessionId,tj:[b],xX:a.messageType};};c.prototype.P6=function(a){return{type:a.type,sessionId:a.target.sessionId,Qaa:a.target.keyStatuses.entries()};};c.prototype.np=function(a){var b,c;b=new p.Nf(h.J.xQ);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.Rc=1<=c&&9>=c?h.G.OB+c:h.G.OB):b.Rc=a instanceof y.zn?h.G.vH:h.G.ih;try{b.Vg=this.Vh.qL(a.target&&a.target.error&&a.target.error.systemCode,4);}catch(K){}b.QK(a);return b;};c.prototype.F8=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);for(c=1;c<arguments.length;c++);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return"";g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}return(c=c.match(new RegExp(f)))?c[1]:"";};a=c;a=g.__decorate([f.N(),g.__param(0,f.l(l.Sx)),g.__param(1,f.l(b.Hj)),g.__param(2,f.l(r.hm))],a);d.SOa=a;},function(g,d,a){var f,h,l,b,k,p,n,r,y,D,B,z,C,K,G,T,M,R,S,N;function c(a,b,c,d,f,g,h,k,m){this.ir=a;this.Sc=b;this.Hh=c;this.Vh=d;this.Gc=f;this.is=g;this.SM=h;this.config=k;this.ze=m;this.log=this.ir.wb("MediaKeySystemAccessServices");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(7);b=a(90);k=a(145);p=a(988);n=a(987);r=a(986);y=a(253);D=a(22);B=a(102);z=a(39);C=a(23);K=a(37);G=a(985);T=a(983);M=a(101);R=a(17);S=a(146);a=a(53);c.prototype.KE=function(){this.yr||(this.yr=this.uwb());return this.yr;};c.prototype.z$a=function(a){var c;c=this;return new Promise(function(d,f){var g,k;g=S.lb.F9(a);k=c.Bxa(g);g=c.xxa(g);k.Rvb(a,g.i$()).then(function(b){c.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:b.getConfiguration?JSON.stringify(b.getConfiguration()):void 0});d(b);})["catch"](function(d){c.log.error("Unable to create the media key system access object",{keySystem:a,error:d.message});f(new b.Nf(h.J.Xia,h.G.ih,void 0,"Unable to create media keys system access. "+d.message,d));});});};c.prototype.wp=function(){var a;a=this;return this.KE().then(function(b){return a.yxa(b);});};c.prototype.Igb=function(){var a,b;a=this;b=this.config().AAa||[this.config().Xd];if(1<b.length)return this.KE().then(function(b){return a.yxa(b);}).then(function(a){return S.lb.wxa(a);});b=S.lb.F9(b[0]);return Promise.resolve(S.lb.wxa(b));};c.prototype.Jgb=function(){var a;a=this;return this.wp().then(function(b){return a.xxa(b);});};c.prototype.Kgb=function(){var a;a=this;return this.wp().then(function(b){return a.Bxa(b);});};c.prototype.yxa=function(a){return S.lb.F9(a.keySystem);};c.prototype.xxa=function(a){switch(a){case k.nn.JA:return new p.SOa(this.Vh,this.Gc,this.ze);case k.nn.Ez:return new T.FWa(this.Sc,this.Vh,this.Gc,this.Hh,this.ze);default:return new r.zMa(this.Sc,this.Vh,this.ze,this.config);}};c.prototype.Bxa=function(a){switch(a){case k.nn.JA:return new n.GVa(this.SM,this.is,this.Gc,this.Sc,this.ze,this.Hh);case k.nn.Ez:return new G.rPa(this.SM,this.is,this.Gc,this.Sc,this.ze,this.Hh);default:return new y.ps(this.SM,this.is,this.Gc,this.Sc,this.ze,this.Hh);}};c.prototype.uwb=function(){var a,b;a=this;b=(this.config().AAa||[this.config().Xd]).map(function(b){return function(){return a.z$a(b);};});return this.vwb(b);};c.prototype.vwb=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};N=c;N=g.__decorate([f.N(),g.__param(0,f.l(l.Db)),g.__param(1,f.l(D.ef)),g.__param(2,f.l(M.xy)),g.__param(3,f.l(B.Sx)),g.__param(4,f.l(z.Hj)),g.__param(5,f.l(C.Qe)),g.__param(6,f.l(K.kv)),g.__param(7,f.l(R.xd)),g.__param(8,f.l(a.hm))],N);d.ISa=N;},function(g,d,a){var c,f,h;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);f=a(76);a=a(77);g=function(a){function b(b){a.call(this);this.Mqb=b;}c(b,a);b.create=function(a){return new b(a);};b.prototype.ug=function(a){return new h(a,this.Mqb);};return b;}(g.Aa);d.dOa=g;h=function(a){function b(b,c){a.call(this,b);this.ww=c;this.rBb();}c(b,a);b.prototype.rBb=function(){try{this.dZa();}catch(k){this.Md(k);}};b.prototype.dZa=function(){var a;a=this.ww();a&&this.add(f.Ku(this,a));};return b;}(a.ls);},function(g,d,a){g=a(990);d.defer=g.dOa.create;},function(g,d,a){g=a(10);a=a(991);g.Aa.defer=a.defer;},function(g,d,a){g=a(10);a=a(480);g.Aa.from=a.from;},function(g,d,a){var f,h,l,b,k,p,n,r,y,D,B;function c(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];"function"===typeof b&&a.pop();return new h.Ox(a).Ag(new n(b));}f=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(103);l=a(104);g=a(49);b=a(77);k=a(76);p=a(181);d.iha=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return function(b){return b.Ag.call(c.apply(void 0,[b].concat(a)));};};d.zDb=c;n=function(){function a(a){this.ah=a;}a.prototype.call=function(a,b){return b.subscribe(new r(a,this.ah));};return a;}();d.jMb=n;r=function(a){function b(b,c,d){void 0===d&&(d=Object.create(null));a.call(this,b);this.Naa=[];this.active=0;this.ah="function"===typeof c?c:null;this.values=d;}f(b,a);b.prototype.Ph=function(a){var b;b=this.Naa;l.isArray(a)?b.push(new D(a)):"function"===typeof a[p.iterator]?b.push(new y(a[p.iterator]())):b.push(new B(this.destination,this,a));};b.prototype.yc=function(){var a,b,d;a=this.Naa;b=a.length;if(0===b)this.destination.complete();else{this.active=b;for(var c=0;c<b;c++){d=a[c];d.qzb?this.add(d.subscribe(d,c)):this.active--;}}};b.prototype.rqb=function(){this.active--;0===this.active&&this.destination.complete();};b.prototype.i7a=function(){var f,k;for(var a=this.Naa,b=a.length,c=this.destination,d=0;d<b;d++){f=a[d];if("function"===typeof f.Ap&&!f.Ap())return;}for(var g=!1,h=[],d=0;d<b;d++){f=a[d];k=f.next();f.UE()&&(g=!0);if(k.done){c.complete();return;}h.push(k.value);}this.ah?this.K4(h):c.next(h);g&&c.complete();};b.prototype.K4=function(a){var b;try{b=this.ah.apply(this,a);}catch(T){this.destination.error(T);return;}this.destination.next(b);};return b;}(g.Zi);d.kMb=r;y=function(){function a(a){this.iterator=a;this.Cca=a.next();}a.prototype.Ap=function(){return!0;};a.prototype.next=function(){var a;a=this.Cca;this.Cca=this.iterator.next();return a;};a.prototype.UE=function(){var a;a=this.Cca;return a&&a.done;};return a;}();D=function(){function a(a){this.Sj=a;this.length=this.index=0;this.length=a.length;}a.prototype[p.iterator]=function(){return this;};a.prototype.next=function(){var a,b;a=this.index++;b=this.Sj;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0};};a.prototype.Ap=function(){return this.Sj.length>this.index;};a.prototype.UE=function(){return this.Sj.length===this.index;};return a;}();B=function(a){function b(b,c,d){a.call(this,b);this.parent=c;this.observable=d;this.qzb=!0;this.buffer=[];this.Ml=!1;}f(b,a);b.prototype[p.iterator]=function(){return this;};b.prototype.next=function(){var a;a=this.buffer;return 0===a.length&&this.Ml?{value:null,done:!0}:{value:a.shift(),done:!1};};b.prototype.Ap=function(){return 0<this.buffer.length;};b.prototype.UE=function(){return 0===this.buffer.length&&this.Ml;};b.prototype.Ul=function(){0<this.buffer.length?(this.Ml=!0,this.parent.rqb()):this.destination.complete();};b.prototype.wA=function(a,b){this.buffer.push(b);this.parent.i7a();};b.prototype.subscribe=function(a,b){return k.Ku(this,this.observable,this,b);};return b;}(b.ls);},function(g,d,a){g=a(994);d.iha=g.zDb;},function(g,d,a){g=a(10);a=a(995);g.Aa.iha=a.iha;},function(g,d,a){var c,f,h,l,b,k,p;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(103);h=a(104);g=a(77);l=a(76);b={};d.C6=function(){var c;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];c=null;"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0].slice());return function(b){return b.Ag.call(new f.Ox([b].concat(a)),new k(c));};};k=function(){function a(a){this.ah=a;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.ah));};return a;}();d.HMa=k;p=function(a){function d(b,c){a.call(this,b);this.ah=c;this.active=0;this.values=[];this.eDa=[];}c(d,a);d.prototype.Ph=function(a){this.values.push(b);this.eDa.push(a);};d.prototype.yc=function(){var a,b,d;a=this.eDa;b=a.length;if(0===b)this.destination.complete();else{this.Dga=this.active=b;for(var c=0;c<b;c++){d=a[c];this.add(l.Ku(this,d,d,c));}}};d.prototype.Ul=function(){0===--this.active&&this.destination.complete();};d.prototype.wA=function(a,c,d){var f;a=this.values;f=a[d];f=this.Dga?f===b?--this.Dga:this.Dga:0;a[d]=c;0===f&&(this.ah?this.K4(a):this.destination.next(a.slice()));};d.prototype.K4=function(a){var b;try{b=this.ah.apply(this,a);}catch(B){this.destination.error(B);return;}this.destination.next(b);};return d;}(g.ls);d.zFb=p;},function(g,d,a){var c,f,h,l;c=a(121);f=a(104);h=a(103);l=a(997);d.C6=function(){var g;for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];g=d=null;c.$z(a[a.length-1])&&(g=a.pop());"function"===typeof a[a.length-1]&&(d=a.pop());1===a.length&&f.isArray(a[0])&&(a=a[0]);return new h.Ox(a,g).Ag(new l.HMa(d));};},function(g,d,a){g=a(10);a=a(998);g.Aa.C6=a.C6;},function(g,d,a){var c,f,h,l,b;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(473);g=a(10);h=a(180);l=a(121);b=a(475);a=function(a){function d(c,d,g){void 0===c&&(c=0);a.call(this);this.vu=-1;this.kva=0;f.bAa(d)?this.vu=1>Number(d)&&1||Number(d):l.$z(d)&&(g=d);l.$z(g)||(g=h.async);this.ha=g;this.kva=b.aM(c)?+c-this.ha.now():c;}c(d,a);d.create=function(a,b,c){void 0===a&&(a=0);return new d(a,b,c);};d.Lb=function(a){var b,c,d;b=a.index;c=a.vu;d=a.cg;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.Ab(a,c);}};d.prototype.ug=function(a){return this.ha.Ab(d.Lb,this.kva,{index:0,vu:this.vu,cg:a});};return d;}(g.Aa);d.BXa=a;},function(g,d,a){g=a(1E3);d.Mu=g.BXa.create;},function(g,d,a){g=a(10);a=a(1001);g.Aa.Mu=a.Mu;},function(g,d,a){var c;c=this&&this.__extends||function(a,c){function d(){this.constructor=a;}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d());};g=function(a){function d(c,b){a.call(this);this.error=c;this.ha=b;}c(d,a);d.create=function(a,b){return new d(a,b);};d.Lb=function(a){a.cg.error(a.error);};d.prototype.ug=function(a){var b,c;b=this.error;c=this.ha;a.cl=!0;if(c)return c.Ab(d.Lb,0,{error:b,cg:a});a.error(b);};return d;}(a(10).Aa);d.ePa=g;},function(g,d,a){g=a(1003);d.u2a=g.ePa.create;},function(g,d,a){g=a(10);a=a(1004);g.Aa["throw"]=a.u2a;},function(g,d,a){g=a(474);d.yA=g.erb;},function(g,d,a){g=a(10);a=a(1006);g.Aa.yA=a.yA;},function(g,d,a){g=a(10);a=a(481);g.Aa.of=a.of;},function(g,d,a){var c,f,h,l;c=a(10);f=a(103);h=a(121);l=a(255);d.jca=function(){var d,g,m;for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];d=Number.POSITIVE_INFINITY;g=null;m=a[a.length-1];h.$z(m)?(g=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(d=a.pop())):"number"===typeof m&&(d=a.pop());return null===g&&1===a.length&&a[0]instanceof c.Aa?a[0]:l.bx(d)(new f.Ox(a,g));};},function(g,d,a){g=a(10);a=a(1009);g.Aa.jca=a.jca;},function(g,d,a){var c,f,h;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(473);g=a(10);h=a(180);a=function(a){function b(b,c){void 0===b&&(b=0);void 0===c&&(c=h.async);a.call(this);this.vu=b;this.ha=c;if(!f.bAa(b)||0>b)this.vu=0;c&&"function"===typeof c.Ab||(this.ha=h.async);}c(b,a);b.create=function(a,c){void 0===a&&(a=0);void 0===c&&(c=h.async);return new b(a,c);};b.Lb=function(a){var b,c;b=a.cg;c=a.vu;b.next(a.index);b.closed||(a.index+=1,this.Ab(a,c));};b.prototype.ug=function(a){var c;c=this.vu;a.add(this.ha.Ab(b.Lb,c,{index:0,cg:a,vu:c}));};return b;}(g.Aa);d.fRa=a;},function(g,d,a){g=a(1011);d.interval=g.fRa.create;},function(g,d,a){g=a(10);a=a(1012);g.Aa.interval=a.interval;},function(g,d,a){g=a(478);d.Yq=g.Kma.create;},function(g,d,a){g=a(10);a=a(1014);g.Aa.Yq=a.Yq;},function(g,d,a){g=a(140);d.empty=g.xH.create;},function(g,d,a){g=a(10);a=a(1016);g.Aa.empty=a.empty;},function(g,d,a){g=a(10);a=a(141);g.Aa.concat=a.concat;},function(g,d,a){var c,f,h,l;c=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=a(77);f=a(76);d.a_=function(a,c){return function(b){return b.Ag(new h(a,c));};};h=function(){function a(a,b){this.ah=a;this.$k=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.ah,this.$k));};return a;}();l=function(a){function b(b,c,d){a.call(this,b);this.ah=c;this.$k=d;this.index=0;}c(b,a);b.prototype.Ph=function(a){var b,c;c=this.index++;try{b=this.ah(a,c);}catch(y){this.destination.error(y);return;}this.F3(b,a,c);};b.prototype.F3=function(a,b,c){var d;d=this.zW;d&&d.unsubscribe();this.add(this.zW=f.Ku(this,a,b,c));};b.prototype.yc=function(){var b;b=this.zW;b&&!b.closed||a.prototype.yc.call(this);};b.prototype.Ss=function(){this.zW=null;};b.prototype.Ul=function(b){this.remove(b);this.zW=null;this.Ff&&a.prototype.yc.call(this);};b.prototype.wA=function(a,b,c,d){this.$k?this.D2a(a,b,c,d):this.destination.next(b);};b.prototype.D2a=function(a,b,c,d){var f;try{f=this.$k(a,b,c,d);}catch(B){this.destination.error(B);return;}this.destination.next(f);};return b;}(g.ls);},function(g,d,a){var c;c=a(1019);d.a_=function(a,d){return c.a_(a,d)(this);};},function(g,d,a){g=a(10);a=a(1020);g.Aa.prototype.a_=a.a_;},function(g,d,a){var c,f;c=a(487);d.Qpb=function(a,d){return function(b){var g,h;g="function"===typeof a?a:function(){return a;};if("function"===typeof d)return b.Ag(new f(g,d));h=Object.create(b,c.f8a);h.source=b;h.ZZ=g;return h;};};f=function(){function a(a,b){this.ZZ=a;this.ZN=b;}a.prototype.call=function(a,b){var c,d;c=this.ZN;d=this.ZZ();a=c(d).subscribe(a);a.add(b.subscribe(d));return a;};return a;}();d.AIb=f;},function(g,d,a){var c,f;c=a(489);f=a(1022);d.JY=function(a,d,b,g){var h,k;b&&"function"!==typeof b&&(g=b);h="function"===typeof b?b:void 0;k=new c.FQ(a,d,g);return function(a){return f.Qpb(function(){return k;},h)(a);};};},function(g,d,a){var c;c=a(1023);d.JY=function(a,d,g,b){return c.JY(a,d,g,b)(this);};},function(g,d,a){g=a(10);a=a(1024);g.Aa.prototype.JY=a.JY;},function(g,d,a){var c,f,h,l,b;c=a(103);f=a(256);h=a(140);l=a(141);b=a(121);d.QZ=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(d){var g,k;g=a[a.length-1];b.$z(g)?a.pop():g=null;k=a.length;return 1===k?l.concat(new f.s2(a[0],g),d):1<k?l.concat(new c.Ox(a,g),d):l.concat(new h.xH(g),d);};};},function(g,d,a){var c;c=a(1026);d.QZ=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return c.QZ.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(1027);g.Aa.prototype.QZ=a.QZ;},function(){},function(g,d,a){var c,f,h,l;c=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=a(77);f=a(76);d.FO=function(a){return function(b){return b.Ag(new h(a));};};h=function(){function a(a){this.Ra=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Ra));};return a;}();l=function(a){function b(b,c){a.call(this,b);this.Ra=c;this.add(f.Ku(this,c));}c(b,a);b.prototype.wA=function(){this.complete();};b.prototype.Ul=function(){};return b;}(g.ls);},function(g,d,a){var c;c=a(1030);d.FO=function(a){return c.FO(a)(this);};},function(g,d,a){g=a(10);a=a(1031);g.Aa.prototype.FO=a.FO;},function(g,d){var a;a=this&&this.__extends||function(a,d){function c(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c());};g=function(c){function d(){var a;a=c.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(d,c);return d;}(Error);d.KKa=g;},function(g,d,a){var c,f,h,l,b;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(49);f=a(1033);h=a(140);d.EO=function(a){return function(b){return 0===a?new h.xH():b.Ag(new l(a));};};l=function(){function a(a){this.total=a;if(0>this.total)throw new f.KKa();}a.prototype.call=function(a,c){return c.subscribe(new b(a,this.total));};return a;}();b=function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0;}c(b,a);b.prototype.Ph=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return b;}(g.Zi);},function(g,d,a){var c;c=a(1034);d.EO=function(a){return c.EO(a)(this);};},function(g,d,a){g=a(10);a=a(1035);g.Aa.prototype.EO=a.EO;},function(g,d,a){var c,f,h;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(49);d.mO=function(a){return function(b){return b.Ag(new f(a));};};f=function(){function a(a){this.nx=a;}a.prototype.call=function(a,c){return c.subscribe(new h(a,this.nx));};return a;}();h=function(a){function b(b,c){a.call(this,b);this.nx=c;this.Sfa=!0;this.index=0;}c(b,a);b.prototype.Ph=function(a){var b;b=this.destination;this.Sfa&&this.qBb(a);this.Sfa||b.next(a);};b.prototype.qBb=function(a){try{this.Sfa=!!this.nx(a,this.index++);}catch(p){this.destination.error(p);}};return b;}(g.Zi);},function(g,d,a){var c;c=a(1037);d.mO=function(a){return c.mO(a)(this);};},function(g,d,a){g=a(10);a=a(1038);g.Aa.prototype.mO=a.mO;},function(g,d,a){var c;c=a(474);d.yA=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return c.yA.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(1040);g.Aa.prototype.yA=a.yA;},function(g,d,a){var c;c=a(476);d.wF=function(a,d,g){void 0===g&&(g=Number.POSITIVE_INFINITY);return c.wF(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(1042);g.Aa.prototype.wF=a.wF;g.Aa.prototype.Xq=a.wF;},function(g,d,a){var c;c=a(255);d.bx=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return c.bx(a)(this);};},function(g,d,a){g=a(10);a=a(1044);g.Aa.prototype.bx=a.bx;},function(g,d,a){var c,f,h;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(49);d.map=function(a,b){return function(c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.Ag(new f(a,b));};};f=function(){function a(a,c){this.ah=a;this.qga=c;}a.prototype.call=function(a,c){return c.subscribe(new h(a,this.ah,this.qga));};return a;}();d.tIb=f;h=function(a){function b(b,c,d){a.call(this,b);this.ah=c;this.count=0;this.qga=d||this;}c(b,a);b.prototype.Ph=function(a){var b;try{b=this.ah.call(this.qga,a,this.count++);}catch(t){this.destination.error(t);return;}this.destination.next(b);};return b;}(g.Zi);},function(g,d,a){var c;c=a(1046);d.map=function(a,d){return c.map(a,d)(this);};},function(g,d,a){g=a(10);a=a(1047);g.Aa.prototype.map=a.map;},function(g,d){var a;a=this&&this.__extends||function(a,d){function c(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c());};g=function(c){function d(){var a;a=c.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(d,c);return d;}(Error);d.ZOa=g;},function(g,d,a){var c,f,h,l;c=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=a(49);f=a(1049);d.uh=function(a,c,d){return function(b){return b.Ag(new h(a,c,d,b));};};h=function(){function a(a,b,c,d){this.nx=a;this.$k=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.nx,this.$k,this.defaultValue,this.source));};return a;}();l=function(a){function b(b,c,d,f,g){a.call(this,b);this.nx=c;this.$k=d;this.defaultValue=f;this.source=g;this.Ap=!1;this.index=0;"undefined"!==typeof f&&(this.ZW=f,this.Ap=!0);}c(b,a);b.prototype.Ph=function(a){var b;b=this.index++;this.nx?this.E2a(a,b):this.$k?this.Rqa(a,b):(this.ZW=a,this.Ap=!0);};b.prototype.E2a=function(a,b){var c;try{c=this.nx(a,b,this.source);}catch(y){this.destination.error(y);return;}c&&(this.$k?this.Rqa(a,b):(this.ZW=a,this.Ap=!0));};b.prototype.Rqa=function(a,b){var c;try{c=this.$k(a,b);}catch(y){this.destination.error(y);return;}this.ZW=c;this.Ap=!0;};b.prototype.yc=function(){var a;a=this.destination;this.Ap?(a.next(this.ZW),a.complete()):a.error(new f.ZOa());};return b;}(g.Zi);},function(g,d,a){var c;c=a(1050);d.uh=function(a,d,g){return c.uh(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(1051);g.Aa.prototype.uh=a.uh;},function(g,d,a){var c,f,h,l;c=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=a(49);d.nAb=function(a,c,d){return function(b){return b.Ag(new h(a,c,d));};};h=function(){function a(a,b,c){this.cqb=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.cqb,this.error,this.complete));};return a;}();l=function(a){function b(b,c,d,g){a.call(this,b);b=new f.Zi(c,d,g);b.cl=!0;this.add(b);this.Hea=b;}c(b,a);b.prototype.Ph=function(a){var b;b=this.Hea;b.next(a);b.mB?this.destination.error(b.nB):this.destination.next(a);};b.prototype.Md=function(a){var b;b=this.Hea;b.error(a);b.mB?this.destination.error(b.nB):this.destination.error(a);};b.prototype.yc=function(){var a;a=this.Hea;a.complete();a.mB?this.destination.error(a.nB):this.destination.complete();};return b;}(f.Zi);},function(g,d,a){var c;c=a(1053);d.o3=function(a,d,g){return c.nAb(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(1054);g.Aa.prototype.RK=a.o3;g.Aa.prototype.o3=a.o3;},function(g,d,a){function c(){return function(){function a(){this.tl=[];}a.prototype.add=function(a){this.has(a)||this.tl.push(a);};a.prototype.has=function(a){return-1!==this.tl.indexOf(a);};Object.defineProperty(a.prototype,"size",{get:function(){return this.tl.length;},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.tl.length=0;};return a;}();}g=a(78);d.uRb=c;d.Set=g.root.Set||c();},function(g,d,a){var c,f,h,l,b;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(77);f=a(76);h=a(1056);d.tU=function(a,b){return function(c){return c.Ag(new l(a,b));};};l=function(){function a(a,b){this.SW=a;this.Zeb=b;}a.prototype.call=function(a,c){return c.subscribe(new b(a,this.SW,this.Zeb));};return a;}();b=function(a){function b(b,c,d){a.call(this,b);this.SW=c;this.values=new h.Set();d&&this.add(f.Ku(this,d));}c(b,a);b.prototype.wA=function(){this.values.clear();};b.prototype.Kca=function(a){this.Md(a);};b.prototype.Ph=function(a){this.SW?this.O2a(a):this.Yoa(a,a);};b.prototype.O2a=function(a){var b,c;c=this.destination;try{b=this.SW(a);}catch(D){c.error(D);return;}this.Yoa(b,a);};b.prototype.Yoa=function(a,b){var c;c=this.values;c.has(a)||(c.add(a),this.destination.next(b));};return b;}(g.ls);d.cGb=b;},function(g,d,a){var c;c=a(1057);d.tU=function(a,d){return c.tU(a,d)(this);};},function(g,d,a){g=a(10);a=a(1058);g.Aa.prototype.tU=a.tU;},function(g,d,a){var c,f,h,l,b,k,n;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(180);h=a(475);g=a(49);l=a(257);d.Td=function(a,c){var d;void 0===c&&(c=f.async);d=h.aM(a)?+a-c.now():Math.abs(a);return function(a){return a.Ag(new b(d,c));};};b=function(){function a(a,b){this.Td=a;this.ha=b;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Td,this.ha));};return a;}();k=function(a){function b(b,c,d){a.call(this,b);this.Td=c;this.ha=d;this.xh=[];this.Pva=this.active=!1;}c(b,a);b.Lb=function(a){for(var b=a.source,c=b.xh,d=a.ha,f=a.destination;0<c.length&&0>=c[0].time-d.now();)c.shift().notification.observe(f);0<c.length?(b=Math.max(0,c[0].time-d.now()),this.Ab(a,b)):(this.unsubscribe(),b.active=!1);};b.prototype.nS=function(a){this.active=!0;this.add(a.Ab(b.Lb,this.Td,{source:this,destination:this.destination,ha:a}));};b.prototype.pGa=function(a){var b;if(!0!==this.Pva){b=this.ha;a=new n(b.now()+this.Td,a);this.xh.push(a);!1===this.active&&this.nS(b);}};b.prototype.Ph=function(a){this.pGa(l.Notification.X6(a));};b.prototype.Md=function(a){this.Pva=!0;this.xh=[];this.destination.error(a);};b.prototype.yc=function(){this.pGa(l.Notification.T6());};return b;}(g.Zi);n=function(){return function(a,b){this.time=a;this.notification=b;};}();},function(g,d,a){var c,f;c=a(180);f=a(1060);d.Td=function(a,d){void 0===d&&(d=c.async);return f.Td(a,d)(this);};},function(g,d,a){g=a(10);a=a(1061);g.Aa.prototype.Td=a.Td;},function(g,d,a){var c;c=a(477);d.sK=function(){return c.sK()(this);};},function(g,d,a){g=a(10);a=a(1063);g.Aa.prototype.sK=a.sK;},function(g,d){d.ukb=function(a){return a;};},function(g,d,a){var c,f,h;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);f=a(256);h=a(140);a=function(a){function b(b,c){a.call(this);this.u5=b;(this.ha=c)||1!==b.length||(this.Cs=!0,this.value=b[0]);}c(b,a);b.create=function(a,c){var d;d=a.length;return 0===d?new h.xH():1===d?new f.s2(a[0],c):new b(a,c);};b.Lb=function(a){var b,c,d;b=a.u5;c=a.index;d=a.cg;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.Ab(a)));};b.prototype.ug=function(a){var c,d,f;c=this.u5;d=this.ha;f=c.length;if(d)return d.Ab(b.Lb,0,{u5:c,index:0,length:f,cg:a});for(d=0;d<f&&!a.closed;d++)a.next(c[d]);a.complete();};return b;}(g.Aa);d.MKa=a;},function(g,d,a){var c,f,h,l,b,k;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(78);g=a(10);h=a(181);a=function(a){function d(c,d){a.call(this);this.ha=d;if(null==c)throw Error("iterator cannot be null.");if((d=c[h.iterator])||"string"!==typeof c)if(d||void 0===c.length){if(!d)throw new TypeError("object is not iterable");c=c[h.iterator]();}else c=new b(c);else c=new l(c);this.iterator=c;}c(d,a);d.create=function(a,b){return new d(a,b);};d.Lb=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.cg;if(a.LL)d.error(a.error);else{f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.Ab(a));}};d.prototype.ug=function(a){var b,c;b=this.iterator;c=this.ha;if(c)return c.Ab(d.Lb,0,{index:0,iterator:b,cg:a});do{c=b.next();if(c.done){a.complete();break;}else a.next(c.value);if(a.closed){"function"===typeof b["return"]&&b["return"]();break;}}while(1);};return d;}(g.Aa);d.iRa=a;l=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.yx=a;this.RL=b;this.eba=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.RL<this.eba?{done:!1,value:this.yx.charAt(this.RL++)}:{done:!0,value:void 0};};return a;}();b=function(){function a(a,b,c){var d;void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&f.root.isFinite(c)){d=+c;c=(0===d||isNaN(d)?d:0>d?-1:1)*Math.floor(Math.abs(c));c=0>=c?0:c>k?k:c;}this.u4a=a;this.RL=b;this.eba=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.RL<this.eba?{done:!1,value:this.u4a[this.RL++]}:{done:!0,value:void 0};};return a;}();k=Math.pow(2,53)-1;},function(g,d,a){var c;c=a(141);g=a(141);d.$7a=g.concat;d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(d){return d.Ag.call(c.concat.apply(void 0,[d].concat(a)));};};},function(g,d,a){var c;c=a(1068);g=a(141);d.$7a=g.concat;d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return c.concat.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(1069);g.Aa.prototype.concat=a.concat;},function(g,d,a){var c;c=this&&this.__extends||function(a,c){function d(){this.constructor=a;}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d());};g=function(a){function d(c,b,d){a.call(this);this.parent=c;this.Brb=b;this.Arb=d;this.index=0;}c(d,a);d.prototype.Ph=function(a){this.parent.wA(this.Brb,a,this.Arb,this.index++,this);};d.prototype.Md=function(a){this.parent.Kca(a,this);this.unsubscribe();};d.prototype.yc=function(){this.parent.Ul(this);this.unsubscribe();};return d;}(a(49).Zi);d.jka=g;},function(g,d,a){var c,f,h,l;c=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=a(77);f=a(76);d.S6a=function(a){return function(b){var c;c=new h(a);b=b.Ag(c);return c.e6=b;};};h=function(){function a(a){this.ZN=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.ZN,this.e6));};return a;}();l=function(a){function b(b,c,d){a.call(this,b);this.ZN=c;this.e6=d;}c(b,a);b.prototype.error=function(b){var c;if(!this.Ff){c=void 0;try{c=this.ZN(b,this.e6);}catch(u){a.prototype.error.call(this,u);return;}this.H2a();this.add(f.Ku(this,c));}};return b;}(g.ls);},function(g,d,a){var c;c=a(1072);d.b3=function(a){return c.S6a(a)(this);};},function(g,d,a){g=a(10);a=a(1073);g.Aa.prototype["catch"]=a.b3;g.Aa.prototype.b3=a.b3;},function(g,d,a){var c,f;c=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=a(259);a=function(a){function d(b,c){var d;d=this;void 0===b&&(b=f);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this,b,function(){return d.frame;});this.sob=c;this.frame=0;this.index=-1;}c(d,a);d.prototype.flush=function(){for(var a=this.Gk,c=this.sob,d,f;(f=a.shift())&&(this.frame=f.Td)<=c&&!(d=f.Cf(f.state,f.Td)););if(d){for(;f=a.shift();)f.unsubscribe();throw d;}};d.l9=10;return d;}(a(258).S_);d.jYa=a;f=function(a){function d(b,c,d){void 0===d&&(d=b.index+=1);a.call(this,b,c);this.ha=b;this.nP=c;this.index=d;this.active=!0;this.index=b.index=d;}c(d,a);d.prototype.Ab=function(b,c){var f;void 0===c&&(c=0);if(!this.id)return a.prototype.Ab.call(this,b,c);this.active=!1;f=new d(this.ha,this.nP);this.add(f);return f.Ab(b,c);};d.prototype.aZ=function(a,c,f){void 0===f&&(f=0);this.Td=a.frame+f;a=a.Gk;a.push(this);a.sort(d.Yyb);return!0;};d.prototype.TY=function(){};d.prototype.DR=function(b,c){if(!0===this.active)return a.prototype.DR.call(this,b,c);};d.Yyb=function(a,c){return a.Td===c.Td?a.index===c.index?0:a.index>c.index?1:-1:a.Td>c.Td?1:-1;};return d;}(g.R_);d.iYa=f;},function(g,d,a){var c,f,h;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(182);h=a(66);g=a(486);a=a(484);f=function(a){function b(b,c){a.call(this);this.tj=b;this.uO=[];this.ha=c;}c(b,a);b.prototype.ug=function(b){var c,d;c=this;d=c.cBa();b.add(new h.kl(function(){c.dBa(d);}));return a.prototype.ug.call(this,b);};b.prototype.syb=function(){for(var a=this,b=a.tj.length,c=0;c<b;c++)(function(){var b;b=a.tj[c];a.ha.Ab(function(){b.notification.observe(a);},b.frame);}());};return b;}(f.Nj);d.sHb=f;a.Ora(f,[g.tna]);},function(g,d,a){var c,f,h;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(10);h=a(66);g=a(486);a=a(484);f=function(a){function b(b,c){a.call(this,function(a){var b,c;b=this;c=b.cBa();a.add(new h.kl(function(){b.dBa(c);}));b.Fwb(a);return a;});this.tj=b;this.uO=[];this.ha=c;}c(b,a);b.prototype.Fwb=function(a){var d;for(var b=this.tj.length,c=0;c<b;c++){d=this.tj[c];a.add(this.ha.Ab(function(a){a.message.notification.observe(a.cg);},d.frame,{message:d,cg:a}));}};return b;}(f.Aa);d.GMa=f;a.Ora(f,[g.tna]);},function(g,d,a){var c,f,h,l,b;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};a(10);f=a(257);h=a(1077);a(1076);l=a(485);b=a(1075);g=function(a){function d(c){a.call(this,b.iYa,750);this.F4a=c;this.kkb=[];this.Xeb=[];}c(d,a);d.prototype.flush=function(){var c;for(var b=this.kkb;0<b.length;)b.shift().syb();a.prototype.flush.call(this);for(b=this.Xeb.filter(function(a){return a.ready;});0<b.length;){c=b.shift();this.F4a(c.Xy,c.bo);}};d.aSb=function(a){var h,k;if("string"!==typeof a)return new l.oI(Number.POSITIVE_INFINITY);for(var b=a.length,c=-1,d=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=0;g<b;g++){h=g*this.l9;k=a[g];switch(k){case"-":case" ":break;case"(":c=h;break;case")":c=-1;break;case"^":if(d!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");d=-1<c?c:h;break;case"!":if(f!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");f=-1<c?c:h;break;default:throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+k+"'.");}}return 0>f?new l.oI(d):new l.oI(d,f);};d.$Rb=function(a,b,c,d){var q,r,t;void 0===d&&(d=!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var g=a.length,k=[],m=a.indexOf("^"),m=-1===m?0:m*-this.l9,l="object"!==typeof b?function(a){return a;}:function(a){return d&&b[a]instanceof h.GMa?b[a].tj:b[a];},n=-1,p=0;p<g;p++){q=p*this.l9+m;r=void 0;t=a[p];switch(t){case"-":case" ":break;case"(":n=q;break;case")":n=-1;break;case"|":r=f.Notification.T6();break;case"^":break;case"#":r=f.Notification.Rta(c||"error");break;default:r=f.Notification.X6(l(t));}r&&k.push({frame:-1<n?n:q,notification:r});}return k;};return d;}(b.jYa);d.Ena=g;},function(g,d,a){var c,f,h;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(49);d.UY=function(){return function(a){return a.Ag(new f(a));};};f=function(){function a(a){this.Em=a;}a.prototype.call=function(a,c){var b;b=this.Em;b.Jv++;a=new h(a,b);c=c.subscribe(a);a.closed||(a.mp=b.connect());return c;};return a;}();h=function(a){function b(b,c){a.call(this,b);this.Em=c;}c(b,a);b.prototype.Ss=function(){var a,b;a=this.Em;if(a){this.Em=null;b=a.Jv;0>=b?this.mp=null:(a.Jv=b-1,1<b?this.mp=null:(b=this.mp,a=a.vv,this.mp=null,!a||b&&a!==b||a.unsubscribe()));}else this.mp=null;};return b;}(g.Zi);},function(g,d){g=function(){function a(c,d){void 0===d&&(d=a.now);this.IWa=c;this.now=d;}a.prototype.Ab=function(a,d,g){void 0===d&&(d=0);return new this.IWa(this,a).Ab(g,d);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();d.HWa=g;},function(g,d,a){var c;c=this&&this.__extends||function(a,c){function d(){this.constructor=a;}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d());};g=function(a){function d(){a.apply(this,arguments);}c(d,a);return d;}(a(258).S_);d.RVa=g;},function(g,d,a){var c;c=this&&this.__extends||function(a,c){function d(){this.constructor=a;}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d());};g=function(a){function d(){a.call(this);}c(d,a);d.prototype.Ab=function(){return this;};return d;}(a(66).kl);d.AKa=g;},function(g,d,a){var c;c=this&&this.__extends||function(a,c){function d(){this.constructor=a;}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d());};g=function(a){function d(c,b){a.call(this,c,b);this.ha=c;this.nP=b;}c(d,a);d.prototype.Ab=function(c,b){void 0===b&&(b=0);if(0<b)return a.prototype.Ab.call(this,c,b);this.Td=b;this.state=c;this.ha.flush(this);return this;};d.prototype.Cf=function(c,b){return 0<b||this.closed?a.prototype.Cf.call(this,c,b):this.DR(c,b);};d.prototype.aZ=function(c,b,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.Td?a.prototype.aZ.call(this,c,b,d):c.flush(this);};return d;}(a(259).R_);d.QVa=g;},function(g,d,a){g=a(1083);a=a(1081);d.xh=new a.RVa(g.QVa);},function(g,d){d.hqb=function(){};},function(g,d,a){var f;function c(a){return a?1===a.length?a[0]:function(c){return a.reduce(function(a,c){return c(a);},c);}:f.hqb;}f=a(1085);d.Esb=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return c(a);};d.Fsb=c;},function(g,d,a){var c,f,h;c=a(49);f=a(261);h=a(262);d.RAb=function(a,b,d){if(a){if(a instanceof c.Zi)return a;if(a[f.ZA])return a[f.ZA]();}return a||b||d?new c.Zi(a,b,d):new c.Zi(h.empty);};},function(g,d){var a;a=this&&this.__extends||function(a,d){function c(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c());};g=function(c){function d(a){c.call(this);this.xE=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(d,c);return d;}(Error);d.TQ=g;},function(g,d,a){var f,h;function c(){try{return h.apply(this,arguments);}catch(q){return f.uw.e=q,f.uw;}}f=a(492);d.QIa=function(a){h=a;return c;};},function(g,d,a){var f,h,l,b,k,n,r,u,y,D,B,z,C;function c(a,b,c,d,f,g,k,l,m){var p;p=this;this.ha=b;this.Ar=c;this.config=d;this.sL=f;this.sva=g;this.HD=k;this.Rk=l;this.FM=m;this.Rzb=function(a,b){b.nM().EO(1).subscribe(function(a){p.LAa.next({rp:b.wp(),data:a.Wh});});b.nM().map(function(c){return p.AL(a,b,c);}).bx().RK(function(a){return b.w3a(a);}).subscribe(void 0,function(a){b.y3a(a);},function(){p.r6a(b);});};this.Szb=function(a){a.TN.map(function(b){return p.mya(a,b);}).bx().RK(function(b){return a.lra(b.response);}).subscribe(void 0,a.lra);};this.log=a.wb("DrmServices");this.LAa=new h.Nj();this.sL().iq&&this.HD.aFa().then(function(){p.szb();})["catch"](function(a){p.log.error("Unable to load the persisted DRM data",a);});this.config.yW&&this.Rk.KE().then(function(a){return p.Uta(a,{Xd:a.keySystem},n.Jj.wn,m()).Xq(function(a){return a.close();}).subscribe();});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(142);l=a(7);b=a(33);k=a(472);n=a(88);r=a(53);u=a(263);y=a(264);D=a(471);B=a(17);z=a(105);a=a(144);c.prototype.zu=function(a,b){var c;c=this;return new Promise(function(d,f){c.sj(a,b).subscribe(d,f);});};c.prototype.ufb=function(a,b){var c;c=this;return new Promise(function(d,f){c.hV(a,b).subscribe(d,f);});};c.prototype.sj=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.Oxa(a,a.type));return this.BK(a.context,a.type,b).Xq(function(b){b.$xb(a.wh);c.Rzb(a,b);return c.Dta(b.hV(a.qW),b);});};c.prototype.wzb=function(a,b){var c,d;c=this;this.config.li?(this.log.info("Releasing server license and EME license",this.p$(a)),this.Szb(a),d=a.Swa()):(this.log.info("Releasing server license",this.p$(a)),d=this.mya(a));return this.Dta(d,a).RK(function(){var d;d=Object.assign({Xd:a.context.Xd,kc:[]},a.wh);c.HD.nea(d);b.zvb();});};c.prototype.nM=function(){return this.LAa.v5();};c.prototype.Oxa=function(a,b){return{movieId:a.wh.u,xid:a.wh.ia,type:n.NAa(b)};};c.prototype.p$=function(a){return{movieId:a.wh?a.wh.u:void 0,xid:a.wh?a.wh.ia:void 0,keySessionId:a.Mz()};};c.prototype.Dta=function(a,b){return h.Aa.concat(a,h.Aa.of(b)).uh();};c.prototype.AL=function(a,b,c){this.log.info("Sending license request",this.Oxa(a,c.ei));return h.Aa.Yq(this.Ar.sj({ia:a.wh.ia,kg:a.wh.kg,wU:[a.wh.Lk],Wh:[{sessionId:b.Mz()||"session",data:c.Wh}],ei:c.ei,rp:b.wp(),Vsa:c.Vsa,DM:a.wh.DM,Zf:a.wh.Zf}));};c.prototype.mya=function(a,b){this.log.info("Sending release request",this.p$(a));return b?h.Aa.Yq(this.Ar.release({ia:a.wh.ia,kc:a.kc,Wh:b.Wh})):h.Aa.Yq(this.Ar.release({ia:a.wh.ia,kc:a.kc}));};c.prototype.hV=function(a,b){return this.BK(a.context,a.type,b).Xq(function(b){b.hV(a.qW);return b.nM().map(function(){return b;});});};c.prototype.BK=function(a,b,c){var d;d=this;return h.Aa.Yq(this.Rk.KE()).Xq(function(f){return d.Uta(f,a,b,c);});};c.prototype.Uta=function(a,b,c,d){return h.Aa.Yq(this.sva.create()).Xq(function(f){return f.Gm(b,a,d,c);});};c.prototype.rzb=function(a){var b;b=this;return this.config.li?h.Aa.Yq(this.dnb(a)):h.Aa.Yq(this.Ar.release({ia:a.ia,kc:a.kc}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return h.Aa.empty();}).map(function(){return a;});};c.prototype.dnb=function(a){var b;b=this;this.Rk.KE().then(function(c){b.sva.create().then(function(d){d.Gm({Xd:c.keySystem},c,b.FM(),n.Jj.wn).Xq(function(){return d.onb(a.kc[0].id);}).Xq(function(){return d.Swa();}).subscribe(void 0,function(a){b.log.error("SecureStop failed.",a);});});});return Promise.resolve(a);};c.prototype.szb=function(){var a;a=this;this.ha.dh(this.config.lda,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.HD.xU.length});b=a.HD.xU.filter(function(a){return!a.active;}).map(function(b){return a.rzb(b);});h.Aa.concat.apply(h.Aa,[].concat(ea(b))).subscribe(function(b){a.HD.nea(b);});});};c.prototype.r6a=function(a){var b;if(a.Mz()&&a.wh){b=new y.u0();b.Xd=a.context.Xd;b.kc=a.kc;b.ia=a.wh.ia;b.u=a.wh.u;this.HD.fra(b);}};C=c;C=g.__decorate([f.N(),g.__param(0,f.l(l.Db)),g.__param(1,f.l(b.Kg)),g.__param(2,f.l(k.Qia)),g.__param(3,f.l(r.hm)),g.__param(4,f.l(B.xd)),g.__param(5,f.l(D.gja)),g.__param(6,f.l(u.b0)),g.__param(7,f.l(z.ev)),g.__param(8,f.l(a.UH))],C);d.vOa=C;},function(g,d,a){var c,f,h,l,b,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(123);f=a(1090);h=a(105);l=a(989);b=a(471);k=a(982);d.wcb=new g.xc(function(a){a(c.Ria).to(f.vOa).Z();a(h.ev).to(l.ISa).Z();a(b.gja).to(k.WOa);});},function(g,d,a){var f,h,l,b,k;function c(a,b){return h.le.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);l=a(28);b=a(4);a=a(34);da(c,h.le);ra.Object.defineProperties(c.prototype,{yW:{configurable:!0,enumerable:!0,get:function(){return!1;}},li:{configurable:!0,enumerable:!0,get:function(){return!1;}},Tw:{configurable:!0,enumerable:!0,get:function(){return b.De;}},lda:{configurable:!0,enumerable:!0,get:function(){return b.zh(10);}},haa:{configurable:!0,enumerable:!0,get:function(){return b.Eb(2E3);}},Sea:{configurable:!0,enumerable:!0,get:function(){return b.Eb(1E3);}},Csb:{configurable:!0,enumerable:!0,get:function(){return b.Eb(2500);}},VK:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},nL:{configurable:!0,enumerable:!0,get:function(){return!1;}},xo:{configurable:!0,enumerable:!0,get:function(){return!0;}},Era:{configurable:!0,enumerable:!0,get:function(){return b.zh(30);}},Fra:{configurable:!0,enumerable:!0,get:function(){return b.zh(30);}},Hra:{configurable:!0,enumerable:!0,get:function(){return b.zh(30);}},Gra:{configurable:!0,enumerable:!0,get:function(){return b.zh(30);}},q5:{configurable:!0,enumerable:!0,get:function(){return b.zh(30);}},cO:{configurable:!0,enumerable:!0,get:function(){return"";}},kY:{configurable:!0,enumerable:!0,get:function(){return!1;}}});k=c;g.__decorate([a.config(a.Qd,"initializeKeySystemAtStartup")],k.prototype,"yW",null);g.__decorate([a.config(a.Qd,"secureStopEnabled")],k.prototype,"li",null);g.__decorate([a.config(a.Zg,"licenseRenewalRequestDelay")],k.prototype,"Tw",null);g.__decorate([a.config(a.Zg,"persistedReleaseDelay")],k.prototype,"lda",null);g.__decorate([a.config(a.Zg,"secureStopKeyMessageTimeoutMilliseconds")],k.prototype,"haa",null);g.__decorate([a.config(a.Zg,"secureStopKeyAddedTimeoutMilliseconds")],k.prototype,"Sea",null);g.__decorate([a.config(a.Zg,"secureStopPersistedKeyMessageTimeoutMilliseconds")],k.prototype,"Csb",null);g.__decorate([a.config(a.string,"drmPersistKey")],k.prototype,"VK",null);g.__decorate([a.config(a.Qd,"forceLimitedDurationLicense")],k.prototype,"nL",null);g.__decorate([a.config(a.Qd,"prepareCadmium")],k.prototype,"xo",null);g.__decorate([a.config(a.Zg,"apiCloseTimeout")],k.prototype,"Era",null);g.__decorate([a.config(a.Zg,"apiCreateMediaKeysTimeout")],k.prototype,"Fra",null);g.__decorate([a.config(a.Zg,"apiSetServerCertificateTimeout")],k.prototype,"Hra",null);g.__decorate([a.config(a.Zg,"apiGenerateRequestTimeout")],k.prototype,"Gra",null);g.__decorate([a.config(a.Zg,"apiUpdateTimeout")],k.prototype,"q5",null);g.__decorate([a.config(a.string,"serverCertificate")],k.prototype,"cO",null);g.__decorate([a.config(a.Qd,"outputRestrictedIsFatal")],k.prototype,"kY",null);k=g.__decorate([f.N(),g.__param(0,f.l(l.aj)),g.__param(1,f.l(l.LB)),g.__param(1,f.optional())],k);d.Lha=k;},function(g,d,a){var f,h,l,b;function c(a,c){return b.Lha.call(this,a,void 0===c?"ChromeEmeConfig":c)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(28);l=a(34);b=a(1092);da(c,b.Lha);ra.Object.defineProperties(c.prototype,{yW:{configurable:!0,enumerable:!0,get:function(){return!0;}},kY:{configurable:!0,enumerable:!0,get:function(){return!0;}}});a=c;g.__decorate([l.config(l.Qd,"initializeKeySystemAtStartup")],a.prototype,"yW",null);g.__decorate([l.config(l.Qd,"outputRestrictedIsFatal")],a.prototype,"kY",null);a=g.__decorate([f.N(),g.__param(0,f.l(h.aj)),g.__param(1,f.l(h.LB)),g.__param(1,f.optional())],a);d.UOa=a;},function(g,d,a){var f,h,l,b,k,n,r;function c(a,c,d,f){a=b.le.call(this,a,void 0===f?"FtlProbeConfigImpl":f)||this;a.Tf=c;a.Ka=d;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(45);h=a(1);l=a(4);b=a(36);k=a(122);n=a(34);a=a(28);da(c,b.le);ra.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.o9+(-1===this.o9.indexOf("?")?"?":"&")+"monotonic="+this.Ka.pCa+"&device=web";}},DHa:{configurable:!0,enumerable:!0,get:function(){return l.De;}},e9:{configurable:!0,enumerable:!0,get:function(){return"";}},o9:{configurable:!0,enumerable:!0,get:function(){return this.Tf.endpoint+"/ftl/probe"+(this.e9?"?force="+this.e9:"");}}});r=c;g.__decorate([n.config(n.Qd,"ftlEnabled")],r.prototype,"enabled",null);g.__decorate([n.config(n.Zg,"ftlStartDelay")],r.prototype,"DHa",null);g.__decorate([n.config(n.string,"ftlEndpointForceParam")],r.prototype,"e9",null);g.__decorate([n.config(n.url,"ftlEndpoint")],r.prototype,"o9",null);r=g.__decorate([h.N(),g.__param(0,h.l(a.aj)),g.__param(1,h.l(k.DB)),g.__param(2,h.l(f.sk)),g.__param(3,h.l(a.LB)),g.__param(3,h.optional())],r);d.uPa=r;},function(g,d,a){var f,h,l,b;function c(a,b){return l.le.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(34);l=a(36);a=a(28);da(c,l.le);ra.Object.defineProperties(c.prototype,{xJa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});b=c;g.__decorate([h.config(h.Qd,"useNetworkMonitor")],b.prototype,"xJa",null);b=g.__decorate([f.N(),g.__param(0,f.l(a.aj)),g.__param(1,f.l(a.LB)),g.__param(1,f.optional())],b);d.kTa=b;},function(g,d){function a(a){this.value=a;}Object.defineProperty(d,"__esModule",{value:!0});a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.yDa=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(c){return void 0===this.value?a.empty():a.of(c(this.value));};d.zla=a;},function(g,d,a){var f,h,l,b,k,n,r,u;function c(a,c,d){a=b.le.call(this,a,void 0===d?"GeneralConfigImpl":d)||this;a.Zn=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(4);h=a(1);l=a(34);b=a(36);k=a(40);n=a(28);a=a(147);r={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};d.eL=function(a,b){return a.bFa(r[b]||b,k.Xu);};da(c,b.le);ra.Object.defineProperties(c.prototype,{eL:{configurable:!0,enumerable:!0,get:function(){return k.Xu.MVa;}},aga:{configurable:!0,enumerable:!0,get:function(){return f.zh(8);}},Gw:{configurable:!0,enumerable:!0,get:function(){return"";}},ID:{configurable:!0,enumerable:!0,get:function(){return"";}},vB:{configurable:!0,enumerable:!0,get:function(){return"";}},gIa:{configurable:!0,enumerable:!0,get:function(){return!1;}},eT:{configurable:!0,enumerable:!0,get:function(){return!0;}},mW:{configurable:!0,enumerable:!0,get:function(){return this.Zn.mW;}},Wdb:{configurable:!0,enumerable:!0,get:function(){return!1;}},Mq:{configurable:!0,enumerable:!0,get:function(){return{};}},YFa:{configurable:!0,enumerable:!0,get:function(){return!1;}},Gaa:{configurable:!0,enumerable:!0,get:function(){return!1;}},F_:{configurable:!0,enumerable:!0,get:function(){return!1;}},No:{configurable:!0,enumerable:!0,get:function(){return!1;}},xx:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},Uq:{configurable:!0,enumerable:!0,get:function(){return 0<=[k.Xu.Dna,k.Xu.kka].indexOf(this.eL);}}});u=c;g.__decorate([l.config(d.eL,"environment")],u.prototype,"eL",null);g.__decorate([l.config(l.Zg,"storageTimeout")],u.prototype,"aga",null);g.__decorate([l.config(l.string,"groupName")],u.prototype,"Gw",null);g.__decorate([l.config(l.string,"canaryGroupName")],u.prototype,"ID",null);g.__decorate([l.config(l.string,"uiGroupName")],u.prototype,"vB",null);g.__decorate([l.config(l.Qd,"testIndexDBForCorruptedDatabase")],u.prototype,"gIa",null);g.__decorate([l.config(l.Qd,"applyIndexedDbOpenWorkaround")],u.prototype,"eT",null);g.__decorate([l.config(l.Qd,"ignoreIdbOpenError")],u.prototype,"mW",null);g.__decorate([l.config(l.Qd,"executeStorageMigration")],u.prototype,"Wdb",null);g.__decorate([l.config(l.object(),"browserInfo")],u.prototype,"Mq",null);g.__decorate([l.config(l.Qd,"retryAllMslRequestsOnError")],u.prototype,"YFa",null);g.__decorate([l.config(l.Qd,"isTestAccount")],u.prototype,"Gaa",null);g.__decorate([l.config(l.Qd,"vuiCommandLogging")],u.prototype,"F_",null);g.__decorate([l.config(l.Qd,"useRangeHeader")],u.prototype,"No",null);g.__decorate([l.config(l.object,"storageRules")],u.prototype,"xx",null);u=g.__decorate([h.N(),g.__param(0,h.l(n.aj)),g.__param(1,h.l(a.iI)),g.__param(2,h.l(n.LB)),g.__param(2,h.optional())],u);d.yPa=u;},function(g,d,a){var l,b,k,n,r;function c(){this.zt={};this.bGa=0;}function f(a,b,c,d,f){this.debug=a;this.Xt=b;this.ZM=c;this.$f=d;this.LY=f;}function h(a,b,c){this.Xt=a;this.ZM=b;this.LY=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);b=a(89);k=a(7);n=a(143);r=a(496);a=a(28);h=g.__decorate([l.N(),g.__param(0,l.l(a.jQ)),g.__param(1,l.l(n.x2)),g.__param(2,l.l(r.m2))],h);d.KMa=h;f=g.__decorate([l.N(),g.__param(0,l.l(b.Zr)),g.__param(1,l.l(a.jQ)),g.__param(2,l.l(n.x2)),g.__param(3,l.l(k.Db)),g.__param(4,l.l(r.m2))],f);d.$Xa=f;c.prototype.Tob=function(a){this.zt=Object.assign({},this.zt,a);this.bGa++;};ra.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.zt;}},aGa:{configurable:!0,enumerable:!0,get:function(){return this.bGa;}}});a=c;a=g.__decorate([l.N()],a);d.dRa=a;},function(g,d,a){var c,f,h,l,b,k,n,r,u,y,D;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(17);f=a(1098);h=a(28);l=a(40);b=a(1097);k=a(495);n=a(1095);r=a(183);u=a(1094);y=a(53);D=a(1093);d.config=new g.xc(function(a){a(c.xd).If(function(){return function(){return M._cad_global.config;};});a(h.h0).to(f.KMa).Z();a(h.aj).to(f.$Xa).Z();a(h.jQ).to(f.dRa).Z();a(l.Uo).to(b.yPa).Z();a(k.nla).to(n.kTa).Z();a(r.vja).to(u.uPa).Z();a(y.hm).to(D.UOa).Z();});},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Uya=function(){return void 0!==this.Sk;};a.prototype.dB=function(a){this.Sk=a;};a.prototype.zvb=function(){this.Uya()&&(this.Sk=void 0);};d.JSa=a;},function(g,d,a){var c,f,h,l,b;Object.defineProperty(d,"__esModule",{value:!0});c=a(2);f=a(90);h=a(123);l=a(265);d.cub=function(a){l.YK.parent=a.ub;return function(){b||(b=new Promise(function(a,b){try{a(l.YK.get(h.Ria));}catch(u){b(new f.Nf(c.J.xQa,c.G.QQa,void 0,"Unable to extract the DRM services from the dependency injector",u));}}));return b;};};},function(g,d,a){var l,b,k,n,r,u,y,D;function c(a,b,c){var d;d=this;this.is=a;this.Bj=b;this.config=c;this.Mr=function(){return{version:d.version,drmData:d.xU.map(function(a){return a.Mr();})};};this.n9=function(a){var b;d.is.ul(a)&&(a=f(a));1===a.version&&(a=h(d.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new D.u0(a);});}catch(ca){throw new r.wc(k.J.TB,k.G.Ru,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",ca);}}else{if(!a.version||!d.is.Pg(a.version))throw new r.wc(k.J.TB,k.G.Ru,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new r.wc(k.J.TB,k.G.Tha,void 0,void 0,void 0,"Version number is not supported. Version: "+d.getVersion);}return b;};this.Go=new u.gka(2,this.config.VK,this.is.ul(this.config.VK),this.Bj,this.Mr);}function f(a){a=JSON.parse(a);a={xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!a.licenseContextId||!a.xid||!a.movieId)throw new r.wc(k.J.TB,k.G.Ru);return{version:1,drmData:[a]};}function h(a,b){if(a.Ys(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new D.u0({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),xid:a.xid,movieId:a.movieId}).Mr();})};throw new r.wc(k.J.TB,k.G.Ru);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);b=a(53);k=a(2);n=a(23);r=a(46);u=a(497);y=a(67);D=a(264);c.prototype.aFa=function(){return this.kzb();};c.prototype.fra=function(a){return this.Go.add(a);};c.prototype.nea=function(a){return this.Go.remove(a,function(a,b){return a.ia===b.ia;});};c.prototype.toString=function(){return JSON.stringify(this.Mr(),null,"  ");};c.prototype.kzb=function(){var a;a=this;this.eFa||(this.eFa=new Promise(function(b,c){a.Go.load(a.n9).then(function(){b();})["catch"](function(a){a.ca&&a.cause?c(new r.wc(k.J.TB,a.ca,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.eFa;};ra.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Go.version;}},xU:{configurable:!0,enumerable:!0,get:function(){return this.Go.Nq;}}});a=c;a=g.__decorate([l.N(),g.__param(0,l.l(n.Qe)),g.__param(1,l.l(y.Ur)),g.__param(2,l.l(b.hm))],a);d.pMa=a;},function(g,d,a){var c,f,h,l,b;Object.defineProperty(d,"__esModule",{value:!0});c=a(4);f=a(47);h=a(499);l=a(60);b={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};d.nma=function(){this.n5a=this.UJ=h.xP.oka;this.jfa=!0;this.RJ=[];this.cH=[];this.hN=this.CU=!1;this.Lu=[l.ll.l0,l.ll.tWa,l.ll.$B];this.Xd=void 0;this.r8=!0;this.GU=!1;this.fT=f.ba(288E4);this.hT=f.ba(335544320);this.nX=c.Eb(15E3);this.tob=f.ba(6291456);this.oF=1E3;this.d6=!0;this.xga=b;this.QG=f.ba(0);this.h_=c.Eb(0);this.mW=!0;};},function(g,d,a){var h,l,b,k,n,r,u,y,f,D;function c(a){var b;b=r.nma.call(this)||this;a=/CrOS/.test(a.userAgent);b.RJ=[u.Xi.ZP,u.Xi.$P];b.cH=[u.Y.yH,u.Y.RB,u.Y.TP,u.Y.UP,u.Y.tI,u.Y.uI];a&&b.cH.push(u.Y.WP,u.Y.VP,u.Y.vI);b.CU=!0;b.hN=!0;b.Xd=y.lb.oYa;b.nX=k.Eb(15E3);return b;}function f(a){var b,c,d;a=a.userAgent;b=/CrOS/.test(a);c=/OPR/.test(a);d=/Tesla/.test(a);this.version="6.0022.359.011";this.sca=!0;this.Dz=d?"T":b?"C":c?"O":"M";this.It=d?"NFCDTS-01-":c?"NFCDOP-01-":/Windows NT/.test(a)?"NFCDCH-02-":/Intel Mac OS X/.test(a)?"NFCDCH-MC-":b?"NFCDCH-01-":/Android.*Chrome\/[.0-9]* Mobile/.test(a)?"NFCDCH-AP-":/Android.*Chrome\/[.0-9]* /.test(a)?"NFCDCH-AT-":"NFCDCH-LX-";this.q9=!0;this.pU=b?"chromeos-cadmium":c?"opera-cadmium":"chrome-cadmium";this.Rua="browser";this.eBa="";this.Uua="cadmium";this.omb=!0;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(37);b=a(79);k=a(4);n=a(147);r=a(1103);u=a(60);y=a(146);f=g.__decorate([h.N(),g.__param(0,h.l(l.kv))],f);d.wFb=f;da(c,r.nma);D=c;D=g.__decorate([h.N(),g.__param(0,h.l(l.kv))],D);d.xFb=D;d.platform=new h.xc(function(a){a(b.ms).to(f);a(n.iI).to(D);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vCa=function(a){return function(c){return function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return d.forEach(function(d){return a.bind(d).QAb(c);});};};};},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(55);f=a(35);h=a(64);d.tEa=function(){return function(a,b){b=new h.Metadata(f.fI,b);if(Reflect.J$(f.fI,a.constructor))throw Error(c.qSa);Reflect.D7(f.fI,b,a.constructor);};};},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(35);f=a(64);h=a(92);d.GO=function(a){return function(b,d,g){var k;k=new f.Metadata(c.nQ,a);h.oB(b,d,g,k);};};},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(35);f=a(64);h=a(92);d.sA=function(a){return function(b,d,g){var k;k=new f.Metadata(c.iy,a);"number"===typeof g?h.oB(b,d,g,k):h.DO(b,d,k);};};},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(35);f=a(64);h=a(92);d.Gh=function(){return function(a,b,d){var g;g=new f.Metadata(c.qI,!0);h.oB(a,b,d,g);};};},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(35);f=a(64);h=a(92);d.optional=function(){return function(a,b,d){var g;g=new f.Metadata(c.vla,!0);"number"===typeof d?h.oB(a,b,d,g):h.DO(a,b,g);};};},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(35);f=a(64);h=a(92);d.yCa=function(a){return function(b,d,g){var k;k=new f.Metadata(c.hv,a);"number"===typeof g?h.oB(b,d,g,k):h.DO(b,d,k);};};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(64);f=a(92);d.dIa=function(a,d){return function(b,g,h){var k;k=new c.Metadata(a,d);"number"===typeof h?f.oB(b,g,h,k):f.DO(b,g,k);};};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(55);f=a(35);d.N=function(){return function(a){var d;if(Reflect.J$(f.T1,a))throw Error(c.VNa);d=Reflect.getMetadata(f.nNa,a)||[];Reflect.D7(f.T1,d,a);return a;};};},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(106);d.xc=function(){return function(a){this.id=c.id();this.kea=a;};}();d.Fha=function(){return function(a){this.id=c.id();this.kea=a;};}();},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(55);g=function(){function a(){this.ej=new Map();}a.prototype.add=function(a,d){var b;if(null===a||void 0===a)throw Error(c.aI);if(null===d||void 0===d)throw Error(c.aI);b=this.ej.get(a);void 0!==b?(b.push(d),this.ej.set(a,b)):this.ej.set(a,[d]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(c.aI);a=this.ej.get(a);if(void 0!==a)return a;throw Error(c.pka);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(c.aI);if(!this.ej["delete"](a))throw Error(c.pka);};a.prototype.Sya=function(a){if(null===a||void 0===a)throw Error(c.aI);return this.ej.has(a);};a.prototype.clone=function(){var c;c=new a();this.ej.forEach(function(a,b){a.forEach(function(a){return c.add(b,a.clone());});});return c;};a.prototype.iBb=function(a){this.ej.forEach(function(c,b){a(b,c);});};return a;}();d.PRa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(){}a.of=function(c,d){var f;f=new a();f.ZJ=c;f.epb=d;return f;};return a;}();d.CFb=g;},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(80);f=a(502);g=function(){function a(a){this.Hb=a;}a.prototype.Z=function(){this.Hb.scope=c.Ro.u2;return new f.Tx(this.Hb);};a.prototype.iaa=function(){this.Hb.scope=c.Ro.PQ;return new f.Tx(this.Hb);};return a;}();d.ALa=g;},function(g,d,a){var c,f,h;Object.defineProperty(d,"__esModule",{value:!0});c=a(1117);f=a(267);h=a(266);g=function(){function a(a){this.Hb=a;this.CI=new h.X_(this.Hb);this.U2=new f.AP(this.Hb);this.roa=new c.ALa(a);}a.prototype.Z=function(){return this.roa.Z();};a.prototype.iaa=function(){return this.roa.iaa();};a.prototype.when=function(a){return this.CI.when(a);};a.prototype.lP=function(){return this.CI.lP();};a.prototype.ur=function(a){return this.U2.ur(a);};return a;}();d.Nha=g;},function(g,d,a){var c,f,h,l;Object.defineProperty(d,"__esModule",{value:!0});c=a(55);f=a(80);h=a(1118);l=a(502);g=function(){function a(a){this.Hb=a;}a.prototype.to=function(a){this.Hb.type=f.si.s1;this.Hb.ak=a;return new h.Nha(this.Hb);};a.prototype.BIa=function(){if("function"!==typeof this.Hb.cf)throw Error(""+c.TQa);this.to(this.Hb.cf);};a.prototype.ni=function(a){this.Hb.type=f.si.hia;this.Hb.cache=a;this.Hb.oE=null;this.Hb.ak=null;new l.Tx(this.Hb);};a.prototype.TG=function(a){this.Hb.type=f.si.Wia;this.Hb.cache=null;this.Hb.oE=a;this.Hb.ak=null;new h.Nha(this.Hb);};a.prototype.PAb=function(a){this.Hb.type=f.si.iia;this.Hb.ak=a;new l.Tx(this.Hb);};a.prototype.If=function(a){this.Hb.type=f.si.F0;this.Hb.ww=a;new l.Tx(this.Hb);};a.prototype.NAb=function(a){this.Hb.type=f.si.F0;this.Hb.ww=function(b){return function(){return b.ub.get(a);};};new l.Tx(this.Hb);};a.prototype.LO=function(a){this.Hb.type=f.si.Lma;this.Hb.Ar=a;new l.Tx(this.Hb);};a.prototype.QAb=function(a){this.TG(function(b){return b.ub.get(a);});};return a;}();d.BLa=g;},function(g,d,a){var h,l,b;function c(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===l.rs.eia;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function f(a,c){var d;if(Reflect.Sjb(b.fI,a)){d=Reflect.getMetadata(b.fI,a);try{c[d.value]();}catch(u){throw Error(h.tUa(a.name,u.message));}}}Object.defineProperty(d,"__esModule",{value:!0});h=a(55);l=a(80);b=a(35);d.bwb=function(a,b,d){var g;g=null;0<b.length?(g=b.filter(function(a){return null!==a.target&&a.target.type===l.rs.jia;}).map(d),g=new(a.bind.apply(a,[void 0].concat(g)))(),g=c(g,b,d)):g=new a();f(a,g);return g;};},function(g,d,a){var h,l,b,k,n;function c(a){return function(b){var d,g,m,p,q;d=b.ZJ;g=b.o6;m=b.target&&b.target.isArray();p=!b.su||!b.su.target||!b.target||!b.su.target.fob(b.target.cf);if(m&&p)return g.map(function(b){return c(a)(b);});m=null;if(!b.target.cAa()||0!==d.length){q=d[0];d=q.scope===l.Ro.u2;p=q.scope===l.Ro.Request;if(d&&q.Y4)return q.cache;if(p&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===l.si.hia)m=q.cache;else if(q.type===l.si.Function)m=q.cache;else if(q.type===l.si.iia)m=q.ak;else if(q.type===l.si.Wia&&null!==q.oE)m=f("toDynamicValue",q.cf,function(){return q.oE(b.PF);});else if(q.type===l.si.F0&&null!==q.ww)m=f("toFactory",q.cf,function(){return q.ww(b.PF);});else if(q.type===l.si.Lma&&null!==q.Ar)m=f("toProvider",q.cf,function(){return q.Ar(b.PF);});else if(q.type===l.si.s1&&null!==q.ak)m=n.bwb(q.ak,g,c(a));else throw g=k.PE(b.cf),Error(h.OQa+" "+g);"function"===typeof q.ur&&(m=q.ur(b.PF,m));d&&(q.cache=m,q.Y4=!0);p&&null!==a&&!a.has(q.id)&&a.set(q.id,m);return m;}};}function f(a,c,d){try{return d();}catch(D){if(b.kAa(D))throw Error(h.XLa(a,c.toString()));throw D;}}Object.defineProperty(d,"__esModule",{value:!0});h=a(55);l=a(80);b=a(505);k=a(148);n=a(1120);d.resolve=function(a){return c(a.TF.Gea.Uvb)(a.TF.Gea);};},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(106);g=function(){function a(a,d,b,f,g){this.id=c.id();this.cf=a;this.PF=d;this.su=b;this.target=g;this.o6=[];this.ZJ=Array.isArray(f)?f:[f];this.Uvb=null===b?new Map():null;}a.prototype.cra=function(c,d,b){c=new a(c,this.PF,this,d,b);this.o6.push(c);return c;};return a;}();d.Request=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.yx=a;}a.prototype.startsWith=function(a){return 0===this.yx.indexOf(a);};a.prototype.endsWith=function(a){var c;c=a.split("").reverse().join("");a=this.yx.split("").reverse().join("");return this.startsWith.call({yx:a},c);};a.prototype.contains=function(a){return-1!==this.yx.indexOf(a);};a.prototype.equals=function(a){return this.yx===a;};a.prototype.value=function(){return this.yx;};return a;}();d.PVa=g;},function(g,d,a){var b,k,n,r,u,y;function c(a,c,d,g){var h,m,t,u,C,B,D,z,G,A;h=a.lxa(d);m=h.wta;if(void 0===m)throw Error(k.bSa+" "+c+".");for(var h=h.DCb,p=Object.keys(h),q=0===d.length&&0<p.length?p.length:d.length,p=[],r=0;r<q;r++){u=r;C=g;B=c;D=m;t=h[u.toString()]||[];z=l(t);G=!0!==z.Gh;D=D[u];A=z.l||z.sA;D=A?A:D;D instanceof b.x1&&(D=D.DBb());if(G){G=D===Function;G=D===Object||G||void 0===D;if(!C&&G)throw Error(k.cSa+" argument "+u+" in class "+B+".");u=new y.NQ(n.rs.jia,z.GO,D);u.vd=t;t=u;}else t=null;null!==t&&p.push(t);}a=f(a,d);return p.concat(a);}function f(a,b){var k,m,p;for(var c=a.lib(b),d=[],g=0,h=Object.keys(c);g<h.length;g++){k=h[g];m=c[k];p=l(c[k]);k=new y.NQ(n.rs.eia,p.GO||k,p.l||p.sA);k.vd=m;d.push(k);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=f(a,b),d=d.concat(a));return d;}function h(a,b){var d,f;b=Object.getPrototypeOf(b.prototype).constructor;if(b!==Object){d=u.getFunctionName(b);d=c(a,d,b,!0);f=d.map(function(a){return a.vd.filter(function(a){return a.key===r.qI;});});f=[].concat.apply([],f).length;d=d.length-f;return 0<d?d:h(a,b);}return 0;}function l(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{l:b[r.MH],sA:b[r.iy],GO:b[r.nQ],Gh:b[r.qI]};}Object.defineProperty(d,"__esModule",{value:!0});b=a(504);k=a(55);n=a(80);r=a(35);u=a(148);d.getFunctionName=u.getFunctionName;y=a(503);d.vgb=function(a,b){var d;d=u.getFunctionName(b);return c(a,d,b,!1);};d.Qfb=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aVa=function(){return function(a,c){this.PF=a;this.Gea=c;};}();},function(g,d,a){var c;Object.defineProperty(d,"__esModule",{value:!0});c=a(106);g=function(){function a(a){this.id=c.id();this.ub=a;}a.prototype.E3a=function(a){this.TF=a;};return a;}();d.kia=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.W_={BIb:2,qla:0,ATa:1};},function(g,d,a){var b,k,n,r,u,y,D,B,z,C,G,M;function c(a,c,d,g,h){var k,m;k=l(d.ub,h.cf);m=[];k.length===b.W_.qla&&d.ub.options.WJ&&"function"===typeof h.cf&&a.lxa(h.cf).wta&&(d.ub.bind(h.cf).BIa(),k=l(d.ub,h.cf));m=c?k:k.filter(function(a){var b;b=new G.Request(a.cf,d,g,a,h);return a.oz(b);});f(h.cf,m,h,d.ub);return m;}function f(a,c,d,f){switch(c.length){case b.W_.qla:if(d.cAa())break;a=y.PE(a);c=k.fTa;c+=y.Nmb(a,d);c+=y.RAa(f,a,l);throw Error(c);case b.W_.ATa:if(!d.isArray())break;default:if(!d.isArray())throw a=y.PE(a),c=k.cKa+" "+a,c+=y.RAa(f,a,l),Error(c);}}function h(a,b,d,f,g,l){var m;null===g?(b=c(a,b,f,null,l),m=new G.Request(d,f,null,b,l),d=new z.aVa(f,m),f.E3a(d)):(b=c(a,b,f,g,l),m=g.cra(l.cf,b,l));b.forEach(function(b){var c,d,g;c=null;if(l.isArray())c=m.cra(b.cf,b,l);else{if(b.cache)return;c=m;}if(b.type===n.si.s1&&null!==b.ak){d=C.vgb(a,b.ak);if(!f.ub.options.hB){g=C.Qfb(a,b.ak);if(d.length<g)throw b=k.dKa(C.getFunctionName(b.ak)),Error(b);}d.forEach(function(b){h(a,!1,b.cf,f,c,b);});}});}function l(a,b){var c,d;c=[];d=a.vC;d.Sya(b)?c=d.get(b):null!==a.parent&&(c=l(a.parent,b));return c;}Object.defineProperty(d,"__esModule",{value:!0});b=a(1127);k=a(55);n=a(80);r=a(35);u=a(505);y=a(148);D=a(1126);B=a(64);z=a(1125);C=a(1124);G=a(1122);M=a(503);d.v9=function(a){return a.vC;};d.TF=function(a,b,c,d,f,g,k,l){void 0===l&&(l=!1);b=new D.kia(b);c=new B.Metadata(c?r.iy:r.MH,f);d=new M.NQ(d,"",f,c);void 0!==g&&(g=new B.Metadata(g,k),d.vd.push(g));try{return h(a,l,f,b,null,d),b;}catch(V){throw u.kAa(V)&&b.TF&&y.t7a(b.TF.Gea),V;}};d.ZNb=function(a,b,c,d){c=new M.NQ(n.rs.F2,"",b,new B.Metadata(c,d));a=new D.kia(a);return new G.Request(b,a,null,[],c);};},function(g,d,a){var c,f;Object.defineProperty(d,"__esModule",{value:!0});c=a(80);f=a(106);g=function(){function a(a,b){this.id=f.id();this.Y4=!1;this.cf=a;this.scope=b;this.type=c.si.gRa;this.oz=function(){return!0;};this.oE=this.ur=this.Ar=this.ww=this.cache=this.ak=null;}a.prototype.clone=function(){var c;c=new a(this.cf,this.scope);c.Y4=!1;c.ak=this.ak;c.oE=this.oE;c.scope=this.scope;c.type=this.type;c.ww=this.ww;c.Ar=this.Ar;c.oz=this.oz;c.ur=this.ur;c.cache=this.cache;return c;};return a;}();d.zLa=g;},function(g,d,a){var c,f,l,q,b,k,p,r,u,y,D,z;c=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(W){g(W);}}function k(a){try{l(d["throw"](a));}catch(W){g(W);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};f=this&&this.oMb||function(a,b){var f,g,k,l,m;function c(a){return function(b){return d([a,b]);};}function d(c){if(g)throw new TypeError("Generator is already executing.");for(;f;)try{if(g=1,k&&(l=k[c[0]&2?"return":c[0]?"throw":"next"])&&!(l=l.call(k,c[1])).done)return l;if(k=0,l)c=[0,l.value];switch(c[0]){case 0:case 1:l=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;k=c[1];c=[0];continue;case 7:c=f.AA.pop();f.uB.pop();continue;default:if(!(l=f.uB,l=0<l.length&&l[l.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!l||c[1]>l[0]&&c[1]<l[3]))f.label=c[1];else if(6===c[0]&&f.label<l[1])f.label=l[1],l=c;else if(l&&f.label<l[2])f.label=l[2],f.AA.push(c);else{l[2]&&f.AA.pop();f.uB.pop();continue;}}c=b.call(a,f);}catch(W){c=[6,W];k=0;}finally{g=l=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,vZ:function(){if(l[0]&1)throw l[1];return l[1];},uB:[],AA:[]};h();h();n();return m={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(m[Symbol.iterator]=function(){return this;}),m;};Object.defineProperty(d,"__esModule",{value:!0});l=a(1129);q=a(55);b=a(80);a(35);k=a(506);p=a(1128);r=a(1121);u=a(1119);y=a(106);D=a(148);a(1116);z=a(1115);g=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+q.kMa);if(void 0===a.uz)a.uz=b.Ro.PQ;else if(a.uz!==b.Ro.u2&&a.uz!==b.Ro.PQ&&a.uz!==b.Ro.Request)throw Error(""+q.iMa);if(void 0===a.WJ)a.WJ=!1;else if("boolean"!==typeof a.WJ)throw Error(""+q.hMa);if(void 0===a.hB)a.hB=!1;else if("boolean"!==typeof a.hB)throw Error(""+q.jMa);this.options={WJ:a.WJ,uz:a.uz,hB:a.hB};this.id=y.id();this.vC=new z.PRa();this.f2a=[];this.parent=this.Y3=null;this.$_a=new k.F1();}a.jca=function(b,c){var f,g;function d(a,b){a.iBb(function(a,c){c.forEach(function(a){b.add(a.cf,a.clone());});});}f=new a();g=p.v9(f);b=p.v9(b);c=p.v9(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.fpa(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.kea(f.msa,f.YIa,f.rAa,f.hFa);}};a.prototype.pM=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return c(this,void 0,void 0,function(){var b,c,d,g,h;return f(this,function(f){switch(f.label){case 0:b=this.fpa(),c=0,d=a,f.label=1;case 1:if(!(c<d.length))return[3,4];g=d[c];h=b(g.id);return[4,g.kea(h.msa,h.YIa,h.rAa,h.hFa)];case 2:f.vZ(),f.label=3;case 3:return c++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var c;c=new l.zLa(a,this.options.uz||b.Ro.PQ);this.vC.add(a,c);return new u.BLa(c);};a.prototype.Kub=function(a){this.XIa(a);return this.bind(a);};a.prototype.XIa=function(a){try{this.vC.remove(a);}catch(K){throw Error(q.SLa+" "+D.PE(a));}};a.prototype.Rza=function(a){var b;b=this.vC.Sya(a);!b&&this.parent&&(b=this.parent.Rza(a));return b;};a.prototype.restore=function(){var a;a=this.f2a.pop();if(void 0===a)throw Error(q.gTa);this.vC=a.ZJ;this.Y3=a.epb;};a.prototype.i$a=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.dpa(!1,!1,b.rs.F2,a);};a.prototype.getAll=function(a){return this.dpa(!0,!0,b.rs.F2,a);};a.prototype.resolve=function(a){var b;b=this.i$a();b.bind(a).BIa();return b.get(a);};a.prototype.fpa=function(){var f;function a(a){return function(b){b=f.Kub.bind(f)(b);b.Hb.Epb=a;return b;};}function b(){return function(a){return f.Rza.bind(f)(a);};}function c(){return function(a){f.XIa.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.Hb.Epb=a;return b;};}f=this;return function(f){return{msa:d(f),rAa:b(),hFa:a(f),YIa:c()};};};a.prototype.dpa=function(a,b,c,d){var f;f=null;a={y5a:a,r8a:function(a){return a;},zlb:b,key:void 0,cf:d,pAb:c,value:void 0};if(this.Y3){if(f=this.Y3(a),void 0===f||null===f)throw Error(q.RQa);}else f=this.m1a()(a);return f;};a.prototype.m1a=function(){var a;a=this;return function(b){var c;c=p.TF(a.$_a,a,b.zlb,b.pAb,b.cf,b.key,b.value,b.y5a);c=b.r8a(c);return r.resolve(c);};};return a;}();d.GP=g;},function(g,d,a){var c,f;c=a(508);f=a(511);g.P=function(){var a;a=c();f(Object,{values:a},{values:function(){return Object.values!==a;}});return a;};},function(g,d,a){var c,f,h;c=a(269);d=a(268)("%Function%");f=d.apply;h=d.call;g.P=function(){return c.apply(h,arguments);};g.P.apply=function(){return c.apply(f,arguments);};},function(g,d,a){var c,f,h;c=a(268);f=a(1132);h=f(c("String.prototype.indexOf"));g.P=function(a,b){b=c(a,!!b);return"function"===typeof b&&h(a,".prototype.")?f(b):b;};},function(g){g.P=function(){var d,a,c;h();if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;h();n();if("symbol"===typeof Symbol.iterator)return!0;d={};h();a=Symbol("test");c=Object(a);if("string"===typeof a||"[object Symbol]"!==Object.prototype.toString.call(a)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;d[a]=42;for(a in d)return!1;if("function"===typeof Object.keys&&0!==Object.keys(d).length||"function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(d).length)return!1;c=Object.getOwnPropertySymbols(d);return 1!==c.length||c[0]!==a||!Object.prototype.propertyIsEnumerable.call(d,a)||"function"===typeof Object.getOwnPropertyDescriptor&&(d=Object.getOwnPropertyDescriptor(d,a),42!==d.value||!0!==d.enumerable)?!1:!0;};},function(g,d,a){(function(c){var d,l;d=c.Symbol;l=a(1134);g.P=function(){if("function"!==typeof d)return!1;h();if("function"!==typeof Symbol||"symbol"!==typeof d("foo"))return!1;h();return"symbol"!==typeof Symbol("bar")?!1:l();};}.call(this,a(150)));},function(g,d,a){var c;c=a(268)("%TypeError%");g.P=function(a,d){if(null==a)throw new c(d||"Cannot call method on "+a);return a;};},function(g,d,a){g.P=a(1136);},function(g){var d,a;d=Array.prototype.slice;a=Object.prototype.toString;g.P=function(c){var f;f=this;if("function"!==typeof f||"[object Function]"!==a.call(f))throw new TypeError("Function.prototype.bind called on incompatible "+f);for(var g=d.call(arguments,1),h,b=Math.max(0,f.length-g.length),k=[],l=0;l<b;l++)k.push("$"+l);h=Function("binder","return function ("+k.join(",")+"){ return binder.apply(this,arguments); }")(function(){var a;if(this instanceof h){a=f.apply(this,g.concat(d.call(arguments)));return Object(a)===a?a:this;}return f.apply(c,g.concat(d.call(arguments)));});f.prototype&&(b=function(){},b.prototype=f.prototype,h.prototype=new b(),b.prototype=null);return h;};},function(g,d,a){d=a(269);g.P=d.call(Function.call,Object.prototype.hasOwnProperty);},function(g,d,a){var c,f,h,l,b,k,n,r,u,y;if(!Object.keys){f=Object.prototype.hasOwnProperty;h=Object.prototype.toString;l=a(510);d=Object.prototype.propertyIsEnumerable;b=!d.call({toString:null},"toString");k=d.call(function(){},"prototype");n="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" ");r=function(a){var b;b=a.constructor;return b&&b.prototype===a;};u={DDb:!0,EDb:!0,FDb:!0,GDb:!0,HDb:!0,IDb:!0,JDb:!0,KDb:!0,LDb:!0,MDb:!0,NDb:!0,ODb:!0,PDb:!0,QDb:!0,RDb:!0,SDb:!0,TDb:!0,UDb:!0,VDb:!0,WDb:!0,XDb:!0,YDb:!0,ZDb:!0};y=function(){if("undefined"===typeof M)return!1;for(var a in M)try{!u["$"+a]&&f.call(M,a);}catch(B){return!0;}return!1;}();c=function(a){var c,d,g,m,p,t;c=null!==a&&"object"===typeof a;d="[object Function]"===h.call(a);g=l(a);m=c&&"[object String]"===h.call(a);p=[];if(!c&&!d&&!g)throw new TypeError("Object.keys called on a non-object");c=k&&d;if(m&&0<a.length&&!f.call(a,0))for(m=0;m<a.length;++m)p.push(String(m));if(g&&0<a.length)for(g=0;g<a.length;++g)p.push(String(g));else for(var q in a)c&&"prototype"===q||!f.call(a,q)||p.push(String(q));if(b){if("undefined"!==typeof M&&y)try{t=r(a);}catch(R){t=!1;}else t=r(a);for(g=0;g<n.length;++g)t&&"constructor"===n[g]||!f.call(a,n[g])||p.push(n[g]);}return p;};}g.P=c;},function(g,d,a){var c,f,h,l,b;c=Array.prototype.slice;f=a(510);h=Object.keys;l=h?function(a){return h(a);}:a(1140);b=Object.keys;l.wx=function(){Object.keys?function(){var a;a=Object.keys(arguments);return a&&a.length===arguments.length;}(1,2)||(Object.keys=function(a){return f(a)?b(c.call(a)):b(a);}):Object.keys=l;return Object.keys||l;};g.P=l;},function(g,d,a){var c,f,h;d=a(511);c=a(509);f=a(508);a=a(1131);h=f();d(h,{IPb:f,implementation:c,wx:a});g.P=h;},function(g,d,a){(function(a){var c;(function(c){var Z,V,da,A,ea,ga,O,ia,ha;function d(a,b,c){var d;d=ha.get(a);if(!d){if(!c)return;d=new O();ha.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new O();d.set(b,a);}return a;}function b(a,c,d){if(f(a,c,d))return!0;c=G(c);return null!==c?b(a,c,d):!1;}function f(a,b,c){b=d(b,c,!1);return void 0!==b&&!!b.has(a);}function g(a,b,c){if(f(a,b,c))return h(a,b,c);b=G(b);return null!==b?g(a,b,c):void 0;}function h(a,b,c){b=d(b,c,!1);return void 0===b?void 0:b.get(a);}function l(a,b){var c,f;c=m(a,b);a=G(a);if(null===a)return c;b=l(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new ia();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return X(a);}function m(a,b){var c;a=d(a,b,!1);c=[];a&&T(a,function(a,b){return c.push(b);});return c;}function n(a){return void 0===a;}function r(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function z(a){return"object"===typeof a?null!==a:"function"===typeof a;}function C(a){return"symbol"===typeof a?a:String(a);}function G(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===ga||b!==ga)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function P(a){a=a.next();return a.done?void 0:a;}function T(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=P(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function X(a){var b;b=[];T(a,function(a,c){b.push(c);});return b;}function R(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function S(){var a;a={};return function(){function b(){this.cp=[];this.tl=[];this.gR=a;this.fR=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.cp.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.ER(a,!1);};b.prototype.get=function(a){a=this.ER(a,!1);return 0<=a?this.tl[a]:void 0;};b.prototype.set=function(a,b){a=this.ER(a,!0);this.tl[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.ER(b,!1);if(0<=c){b=this.cp.length;for(c+=1;c<b;c++)this.cp[c-1]=this.cp[c],this.tl[c-1]=this.tl[c];this.cp.length--;this.tl.length--;this.gR=a;this.fR=-2;return!0;}return!1;};b.prototype.clear=function(){this.cp.length=0;this.tl.length=0;this.gR=a;this.fR=-2;};b.prototype.keys=function(){return R(this.cp,void 0,"key");};b.prototype.values=function(){return R(void 0,this.tl,"value");};b.prototype.entries=function(){return R(this.cp,this.tl,"key+value");};b.prototype.ER=function(a,b){var c;if(this.gR===a)return this.fR;c=this.cp.indexOf(a);0>c&&b&&(c=this.cp.length,this.cp.push(a),this.tl.push(void 0));return this.gR=a,this.fR=c;};return b;}();}function N(){return function(){function a(){this.ej=new O();}Object.defineProperty(a.prototype,"size",{get:function(){return this.ej.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.ej.has(a);};a.prototype.add=function(a){return this.ej.set(a,a),this;};a.prototype["delete"]=function(a){return this.ej["delete"](a);};a.prototype.clear=function(){this.ej.clear();};a.prototype.keys=function(){return this.ej.keys();};a.prototype.values=function(){return this.ej.values();};a.prototype.entries=function(){return this.ej.entries();};return a;}();}function U(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(ea.has(d,b));d[b]=!0;return b;}function c(a,b){if(!Z.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:A()});}return a[f];}d=A();f=b();return function(){function a(){this.Gy=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?ea.has(a,this.Gy):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?ea.get(a,this.Gy):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.Gy]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.Gy]:!1;};a.prototype.clear=function(){this.Gy=b();};return a;}();}function W(a){a.mMb=1;delete a.nMb;return a;}Z=Object.prototype.hasOwnProperty;V="function"===typeof Object.create;da=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();A=V?function(){return W(Object.create(null));}:da?function(){return W({__proto__:null});}:function(){return W({});};(function(a){var b;b=!V&&!da;a.has=b?function(a,b){return Z.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return Z.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(ea||(ea={})));ga=Object.getPrototypeOf(Function);O="function"===typeof Map?Map:S();ia="function"===typeof Set?Set:N();ha=new("function"===typeof WeakMap?WeakMap:(U()))();c.lw=function(a,b,c,d){var g;if(n(d)){if(n(c)){if(!r(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!n(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!r(a))throw new TypeError();if(!z(b))throw new TypeError();c=C(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!r(a))throw new TypeError();if(!z(b))throw new TypeError();if(n(c))throw new TypeError();if(!z(d))throw new TypeError();c=C(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!n(g)){if(!z(g))throw new TypeError();d=g;}}return d;}};c.vd=function(a,b){return function(c,f){if(n(f)){if("function"!==typeof c)throw new TypeError();d(c,void 0,!0).set(a,b);}else{if(!z(c))throw new TypeError();f=C(f);d(c,f,!0).set(a,b);}};};c.D7=function(a,b,c){var f;if(!z(c))throw new TypeError();n(f)||(f=C(f));d(c,f,!0).set(a,b);};c.Sjb=function(a,c){var d;if(!z(c))throw new TypeError();n(d)||(d=C(d));return b(a,c,d);};c.J$=function(a,b){var c;if(!z(b))throw new TypeError();n(c)||(c=C(c));return f(a,b,c);};c.getMetadata=function(a,b,c){if(!z(b))throw new TypeError();n(c)||(c=C(c));return g(a,b,c);};c.FPb=function(a,b,c){if(!z(b))throw new TypeError();n(c)||(c=C(c));return h(a,b,c);};c.EPb=function(a,b){if(!z(a))throw new TypeError();n(b)||(b=C(b));return l(a,b);};c.GPb=function(a,b){if(!z(a))throw new TypeError();n(b)||(b=C(b));return m(a,b);};c.zOb=function(a,b,c){var f;if(!z(b))throw new TypeError();n(c)||(c=C(c));f=d(b,c,!1);if(n(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=ha.get(b);a["delete"](c);if(0<a.size)return!0;ha["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==c)for(var b in c)Z.call(c,b)&&(a.Reflect[b]=c[b]);}else a.Reflect=c;}("undefined"!==typeof M?M:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(c||(c={})));}.call(this,a(150)));},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(1143);a(1142);M._cad_global={};M.DEBUG=!1;a(11);a(9);a(15);a(19);a(44);a(38);a(94);a(546);a(275);a(51);a(30);a(18);a(72);a(56);a(545);a(189);a(457);a(544);a(543);a(187);a(542);a(273);a(206);a(357);a(294);a(288);a(290);a(289);a(272);a(302);a(301);a(299);a(153);a(194);a(541);a(12);a(283);a(540);a(107);a(73);a(293);a(127);a(356);a(355);a(205);a(539);a(538);a(330);a(537);a(536);a(336);a(192);a(339);a(193);a(303);a(535);a(152);a(286);a(156);a(298);a(126);a(93);a(534);a(533);a(532);a(531);a(530);a(287);a(57);a(529);a(284);a(291);a(354);a(292);a(282);a(528);a(527);a(276);a(124);a(526);a(525);a(524);a(523);a(522);a(515);a(512);a(296);},function(g,d,a){g.P=a(1144);}]));}.call(M));}(window));}.call(window));